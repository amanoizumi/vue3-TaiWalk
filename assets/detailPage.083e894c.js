import{_ as M,a as F,b as V}from"./NewTitle.89426e9c.js";import{c as q,_ as G}from"./cityData.1376b39e.js";import{M as K,v as H,u as J,m as D,E as Q,r as v,p as X,o as n,d as r,i as h,w as x,F as j,e,b as z,f,q as Y,n as Z,t as s,x as L,s as _}from"./vendor.63d2ad07.js";import{_ as $,n as W,g as tt,a as et,b as at,c as ot}from"./index.eeb7dcda.js";var st="/vue3-TaiWalk/assets/pin.9036c2c7.svg";const lt={setup(){const B=K(),I=H(),g=J(),t=D([{path:"/",text:"\u9996\u9801"}]),O=D("\u4ECB\u7D39"),C=D(""),a=D({}),y=D({}),o=D(""),w=D([]);let b=[120.2816791,22.624677];const P=D("EPSG:4326"),E=D(15),T=D(0),S=D(b),k=D(b),U=async l=>{if(l!==void 0){const i=q.filter(c=>c.cityTW===l),m=[];l=i[0].cityEN;let p=[];if(o.value==="ScenicSpot"){const{data:c}=await et(l,4);p=c}else if(o.value==="Activity"){const{data:c}=await at(l,4);p=c}else if(o.value==="Restaurant"){const{data:c}=await ot(l,4);p=c}p.forEach(c=>{var d;const u={id:c[o.value+"ID"],title:c[o.value+"Name"],imageUrl:((d=c.Picture)==null?void 0:d.PictureUrl1)||W,address:c.Address};m.push(u)}),w.value=m}},A=async l=>{var i,m,p;t.value=[{path:"/",text:"\u9996\u9801"}];try{const c=await tt(l,o.value);a.value=c.data[0];let u=a.value.City;U(u),C.value=a.value[o.value+"Name"],b=[Number(a.value.Position.PositionLon.toFixed(7)),Number(a.value.Position.PositionLat.toFixed(6))],S.value=b,k.value=b;const d={Name:a.value[o.value+"Name"],Picture:((i=a.value.Picture)==null?void 0:i.PictureUrl1)||W,Description:a.value.Description||"\u5C1A\u7121\u63CF\u8FF0",Phone:a.value.Phone||"\u5C1A\u7121\u96FB\u8A71\u8CC7\u8A0A",WebsiteUrl:a.value.WebsiteUrl||"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9",Class:N()};o.value==="Activity"?(d.StartTime=((m=a.value.StartTime)==null?void 0:m.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u958B\u59CB\u6642\u9593\u8CC7\u8A0A",d.EndTime=((p=a.value.EndTime)==null?void 0:p.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u7D50\u675F\u6642\u9593\u8CC7\u8A0A",d.Organizer=a.value.Organizer||"\u5C1A\u7121\u4E3B\u8FA6\u55AE\u4F4D\u8CC7\u8A0A",d.Address=a.value.Address||"\u5C1A\u7121\u6D3B\u52D5\u5730\u9EDE\u8CC7\u8A0A",d.Charge=a.value.Charge||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",d.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):o.value==="ScenicSpot"?(d.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u958B\u653E\u6642\u9593\u8CC7\u8A0A",d.Address=a.value.Address||"\u5C1A\u7121\u666F\u9EDE\u5730\u5740\u8CC7\u8A0A",d.TicketInfo=a.value.TicketInfo||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",d.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):o.value==="Restaurant"&&(d.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u71DF\u696D\u6642\u9593\u8CC7\u8A0A",d.Address=a.value.Address||"\u5C1A\u7121\u9910\u5EF3\u5730\u5740\u8CC7\u8A0A"),y.value=d,R(l)}catch{I.push("/")}},N=()=>Object.keys(a.value).filter(l=>l.match("Class")).map(l=>a.value[l]),R=l=>{const i={};o.value==="ScenicSpot"?(i.path="/scenicSpotSearch",i.text="\u63A2\u7D22\u666F\u9EDE"):o.value==="Activity"?(i.path="/activitySearch",i.text="\u7BC0\u6176\u6D3B\u52D5"):o.value==="Restaurant"&&(i.path="/restaurantSearch",i.text="\u54C1\u5690\u7F8E\u98DF"),t.value.push(i);const m=o.value+"Name",p=a.value[m];t.value.push({text:p,path:`/DetailPage/${l}`})};return Q(async()=>{let l=B.params.id,i=l.slice(0,2);i==="C1"?o.value="ScenicSpot":i==="C2"?o.value="Activity":i==="C3"&&(o.value="Restaurant");try{g.dispatch("loadingModules/updatePageLoading",!0),await A(l,o.value),g.dispatch("loadingModules/updatePageLoading",!1)}catch(m){g.dispatch("dialogModules/updateDialog",!0),console.error(m)}}),{title:O,callDetailByIDApi:A,breadcrumbItem:t,showDetailData:y,categoryStr:o,breadcrumbLastStr:C,center:k,rotation:T,zoom:E,projection:P,coordinate:S,popCardData:w,noImg:W,icon:st}}},nt={class:"mx-auto mt-[60px] mb-[120px] min-h-[80vh] max-w-[1110px] px-[15px]"},it={class:"mb-[30px]"},ct={class:"flex h-[250px] justify-center overflow-hidden rounded-3xl bg-[#CCD5CA] md:h-[400px]"},rt=["src","alt","title"],dt={class:"mb-[60px]"},_t={class:"mb-4 text-4xl font-thin text-[#1E1E1E]"},ht={key:0,class:"mb-8 flex"},mt={class:"mb-[10px] text-xl font-bold"},pt={class:"text-lg font-thin"},ut={class:"mb-[100px] grid grid-cols-1 gap-x-[30px] break-words md:grid-cols-2"},Dt={class:"mb-4 rounded-xl bg-[#f9f9f9] p-[30px] text-[#2f2f2f] md:mb-0"},vt={key:0},bt={class:"mb-[14px]"},xt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u6642\u9593\uFF1A",-1),ft={class:"mb-[14px]"},gt=e("span",{class:"font-bold"},"\u806F\u7D61\u96FB\u8A71\uFF1A",-1),yt={class:"mb-[14px]"},wt=e("span",{class:"font-bold"},"\u4E3B\u8FA6\u55AE\u4F4D\uFF1A",-1),St={class:"mb-[14px]"},kt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u5730\u9EDE\uFF1A",-1),At={class:"mb-[14px]"},Ct=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Pt=["href"],Et={key:1},Tt={class:"mb-[14px]"},Ut=e("span",{class:"font-bold"},"\u6D3B\u52D5\u8CBB\u7528\uFF1A",-1),Nt={class:"mb-[14px]"},Rt=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),jt={key:1},Wt={class:"mb-[14px]"},Bt=e("span",{class:"font-bold"},"\u71DF\u696D\u6642\u9593\uFF1A",-1),It={class:"mb-[14px]"},Ot=e("span",{class:"font-bold"},"\u9910\u5EF3\u96FB\u8A71\uFF1A",-1),zt={class:"mb-[14px]"},Lt=e("span",{class:"font-bold"},"\u9910\u5EF3\u5730\u5740\uFF1A",-1),Mt={class:"mb-[14px]"},Ft=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Vt=["href"],qt={key:1},Gt={key:2},Kt={class:"mb-[14px]"},Ht=e("span",{class:"font-bold"},"\u958B\u653E\u6642\u9593\uFF1A",-1),Jt={class:"mb-[14px]"},Qt=e("span",{class:"font-bold"},"\u670D\u52D9\u96FB\u8A71\uFF1A",-1),Xt={class:"mb-[14px]"},Yt=e("span",{class:"font-bold"},"\u666F\u9EDE\u5730\u5740\uFF1A",-1),Zt={class:"mb-[14px]"},$t=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),te=["href"],ee={key:1},ae={class:"mb-[14px]"},oe=e("span",{class:"font-bold"},"\u7968\u50F9\u8CC7\u8A0A\uFF1A",-1),se={class:"mb-[14px]"},le=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),ne={class:"overflow-hidden rounded-xl"},ie={key:1},ce={key:0,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},re={key:1,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},de={key:2,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},_e={class:"grid grid-cols-2 gap-x-[30px] md:grid-cols-4"};function he(B,I,g,t,O,C){const a=M,y=G,o=v("ol-view"),w=v("ol-zoom-control"),b=v("ol-source-osm"),P=v("ol-tile-layer"),E=v("ol-geom-point"),T=v("ol-style-icon"),S=v("ol-style"),k=v("ol-feature"),U=v("ol-source-vector"),A=v("ol-vector-layer"),N=v("ol-map"),R=V,l=F,i=X("real-img");return n(),r(j,null,[h(a,{titleContent:t.title},null,8,["titleContent"]),h(l,null,{default:x(()=>{var m,p,c;return[e("main",nt,[t.breadcrumbItem.length>0?(n(),z(y,{key:0,class:"mb-[30px]","breadcrumb-li":t.breadcrumbItem,"last-item":t.breadcrumbLastStr},null,8,["breadcrumb-li","last-item"])):f("",!0),e("section",it,[e("div",ct,[Y(e("img",{class:Z(["w-30 object-cover",{"w-full":((m=t.showDetailData.Picture)==null?void 0:m.split("/").pop())!=="no_image.png"}]),src:t.showDetailData.Picture,alt:t.showDetailData.Picture,title:t.showDetailData.Name},null,10,rt),[[i,t.showDetailData.Picture]])])]),e("section",dt,[e("h2",_t,s(t.showDetailData.Name),1),((p=t.showDetailData.Class)==null?void 0:p.length)!==0?(n(),r("ul",ht,[(n(!0),r(j,null,L(t.showDetailData.Class,u=>(n(),r("li",{key:u,class:"mr-2 rounded-full border py-1 pl-2 pr-[10px] text-[#BEA363]"},s(u),1))),128))])):f("",!0),e("h3",mt,s(t.categoryStr==="Activity"?"\u6D3B\u52D5\u4ECB\u7D39\uFF1A":t.categoryStr==="Restaurant"?"\u9910\u5EF3\u4ECB\u7D39":t.categoryStr==="ScenicSpot"?"\u666F\u9EDE\u4ECB\u7D39":"\u4ECB\u7D39"),1),e("article",pt,s(t.showDetailData.Description),1)]),e("section",ut,[e("div",Dt,[t.categoryStr==="Activity"?(n(),r("div",vt,[e("p",bt,[xt,_(s(`${t.showDetailData.StartTime} - ${t.showDetailData.EndTime}`),1)]),e("p",ft,[gt,_(s(t.showDetailData.Phone),1)]),e("p",yt,[wt,_(s(t.showDetailData.Organizer),1)]),e("p",St,[kt,_(s(t.showDetailData.Address),1)]),e("p",At,[Ct,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(n(),r("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},s(t.showDetailData.WebsiteUrl),9,Pt)):(n(),r("span",Et,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",Tt,[Ut,_(s(t.showDetailData.Charge),1)]),e("p",Nt,[Rt,_(s(t.showDetailData.Remarks),1)])])):t.categoryStr==="Restaurant"?(n(),r("div",jt,[e("p",Wt,[Bt,_(s(t.showDetailData.OpenTime),1)]),e("p",It,[Ot,_(s(t.showDetailData.Phone),1)]),e("p",zt,[Lt,_(s(t.showDetailData.Address),1)]),e("p",Mt,[Ft,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(n(),r("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},s(t.showDetailData.WebsiteUrl),9,Vt)):(n(),r("span",qt,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))])])):t.categoryStr==="ScenicSpot"?(n(),r("div",Gt,[e("p",Kt,[Ht,_(s(`${t.showDetailData.OpenTime}`),1)]),e("p",Jt,[Qt,_(s(t.showDetailData.Phone),1)]),e("p",Xt,[Yt,_(s(t.showDetailData.Address),1)]),e("p",Zt,[$t,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(n(),r("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},s(t.showDetailData.WebsiteUrl),9,te)):(n(),r("span",ee,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",ae,[oe,_(s(t.showDetailData.TicketInfo),1)]),e("p",se,[le,_(s(t.showDetailData.Remarks),1)])])):f("",!0)]),e("div",null,[e("div",ne,[h(N,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"250px",width:"540px"}},{default:x(()=>[h(o,{ref:"view",center:t.center,rotation:t.rotation,zoom:t.zoom,projection:t.projection,coordinate:t.coordinate},null,8,["center","rotation","zoom","projection","coordinate"]),h(w),h(P,null,{default:x(()=>[h(b)]),_:1}),e("template",null,[h(A,null,{default:x(()=>[h(U,null,{default:x(()=>[h(k,null,{default:x(()=>[h(E,{coordinates:t.coordinate},null,8,["coordinates"]),h(S,null,{default:x(()=>[h(T,{src:t.icon,scale:1},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),((c=t.popCardData)==null?void 0:c.length)!==0?(n(),r("section",ie,[t.categoryStr==="ScenicSpot"?(n(),r("h2",ce," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u666F\u9EDE ")):t.categoryStr==="Activity"?(n(),r("h2",re," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u6D3B\u52D5 ")):t.categoryStr==="Restaurant"?(n(),r("h2",de," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u7F8E\u98DF ")):f("",!0),e("ul",_e,[(n(!0),r(j,null,L(t.popCardData,u=>(n(),z(R,{key:u.id,id:u.id,title:u.title,imageUrl:u.imageUrl,address:u.address,onEmitUpdateDetailPage:t.callDetailByIDApi},null,8,["id","title","imageUrl","address","onEmitUpdateDetailPage"]))),128))])])):f("",!0)])]}),_:1})],64)}var ve=$(lt,[["render",he]]);export{ve as default};
