import{_ as H,a as J,b as Q}from"./NewTitle.576c26c5.js";import{c as X,_ as Y}from"./cityData.62873dd8.js";import{M as Z,v as $,u as tt,m as u,E as et,r as m,p as at,o as l,d as n,i as h,w as y,F as L,e,b as G,f as S,q as ot,n as st,t as o,x as K,s as d}from"./vendor.63d2ad07.js";import{_ as lt,n as C,g as nt,a as it,b as ct,c as rt}from"./index.3b56ad5f.js";var dt="/vue3-TaiWalk/assets/pin.9036c2c7.svg";const _t={setup(){const M=Z(),F=$(),P=tt(),t=u([{path:"/",text:"\u9996\u9801"}]),V=u("\u4ECB\u7D39"),j=u(""),a=u({}),A=u({}),s=u(""),k=u([]);let f=[120.2816791,22.624677];const I=u("EPSG:4326"),O=u(15),W=u(0),E=u(f),U=u(f),T=async i=>{var c,D,x;t.value=[{path:"/",text:"\u9996\u9801"}];try{const g=await nt(i,s.value);a.value=g.data[0];let v=a.value.City;const p=X.filter(R=>R.cityTW===v),N=[];v!==void 0&&(v=p[0].cityEN,s.value==="ScenicSpot"?(await it(v,4)).data.forEach(r=>{var b;const w={id:r.ScenicSpotID,title:r.ScenicSpotName,imageUrl:((b=r.Picture)==null?void 0:b.PictureUrl1)||C,address:r.Address};N.push(w)}):s.value==="Activity"?(await ct(v,4)).data.forEach(r=>{var b;const w={id:r.ActivityID,title:r.ActivityName,imageUrl:((b=r.Picture)==null?void 0:b.PictureUrl1)||C,address:r.Address};N.push(w)}):s.value==="Restaurant"&&(await rt(v,4)).data.forEach(r=>{var b;const w={id:r.RestaurantID,title:r.RestaurantName,imageUrl:((b=r.Picture)==null?void 0:b.PictureUrl1)||C,address:r.Address};N.push(w)})),k.value=N,j.value=a.value[s.value+"Name"],f=[Number(a.value.Position.PositionLon.toFixed(7)),Number(a.value.Position.PositionLat.toFixed(6))],E.value=f,U.value=f;const _={Name:a.value[s.value+"Name"],Picture:((c=a.value.Picture)==null?void 0:c.PictureUrl1)||C,Description:a.value.Description||"\u5C1A\u7121\u63CF\u8FF0",Phone:a.value.Phone||"\u5C1A\u7121\u96FB\u8A71\u8CC7\u8A0A",WebsiteUrl:a.value.WebsiteUrl||"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9",Class:B()};s.value==="Activity"?(_.StartTime=((D=a.value.StartTime)==null?void 0:D.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u958B\u59CB\u6642\u9593\u8CC7\u8A0A",_.EndTime=((x=a.value.EndTime)==null?void 0:x.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u7D50\u675F\u6642\u9593\u8CC7\u8A0A",_.Organizer=a.value.Organizer||"\u5C1A\u7121\u4E3B\u8FA6\u55AE\u4F4D\u8CC7\u8A0A",_.Address=a.value.Address||"\u5C1A\u7121\u6D3B\u52D5\u5730\u9EDE\u8CC7\u8A0A",_.Charge=a.value.Charge||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="ScenicSpot"?(_.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u958B\u653E\u6642\u9593\u8CC7\u8A0A",_.Address=a.value.Address||"\u5C1A\u7121\u666F\u9EDE\u5730\u5740\u8CC7\u8A0A",_.TicketInfo=a.value.TicketInfo||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="Restaurant"&&(_.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u71DF\u696D\u6642\u9593\u8CC7\u8A0A",_.Address=a.value.Address||"\u5C1A\u7121\u9910\u5EF3\u5730\u5740\u8CC7\u8A0A"),A.value=_,z(i)}catch(g){console.dir(g),console.dir("\u7121\u6B64\u9801\u9762\uFF0C\u5373\u5C07\u8DF3\u8F49\u56DE\u9996\u9801"),F.push("/")}},B=()=>{let i=[];return a.value.hasOwnProperty("Class")&&i.push(a.value.Class),a.value.hasOwnProperty("Class1")&&i.push(a.value.Class1),a.value.hasOwnProperty("Class2")&&i.push(a.value.Class2),a.value.hasOwnProperty("Class3")&&i.push(a.value.Class3),i=[...new Set(i)],i},z=i=>{const c={};s.value==="ScenicSpot"?(c.path="/scenicSpotSearch",c.text="\u63A2\u7D22\u666F\u9EDE"):s.value==="Activity"?(c.path="/activitySearch",c.text="\u7BC0\u6176\u6D3B\u52D5"):s.value==="Restaurant"&&(c.path="/restaurantSearch",c.text="\u54C1\u5690\u7F8E\u98DF"),t.value.push(c);const D=s.value+"Name",x=a.value[D];t.value.push({text:x,path:`/DetailPage/${i}`})};return et(async()=>{let i=M.params.id,c=i.slice(0,2);c==="C1"?s.value="ScenicSpot":c==="C2"?s.value="Activity":c==="C3"&&(s.value="Restaurant");try{P.dispatch("loadingModules/updatePageLoading",!0),await T(i,s.value),P.dispatch("loadingModules/updatePageLoading",!1)}catch(D){P.dispatch("dialogModules/updateDialog",!0),console.error(D)}}),{title:V,callDetailByIDApi:T,breadcrumbItem:t,showDetailData:A,categoryStr:s,breadcrumbLastStr:j,center:U,rotation:W,zoom:O,projection:I,coordinate:E,popCardData:k,noImg:C,icon:dt}}},ht={class:"mx-auto mt-[60px] mb-[120px] min-h-[80vh] max-w-[1110px] px-[15px]"},ut={class:"mb-[30px]"},mt={class:"flex h-[250px] justify-center overflow-hidden rounded-3xl bg-[#CCD5CA] md:h-[400px]"},pt=["src","alt","title"],vt={class:"mb-[60px]"},Dt={class:"mb-4 text-4xl font-thin text-[#1E1E1E]"},bt={key:0,class:"mb-8 flex"},ft={class:"mb-[10px] text-xl font-bold"},xt={class:"text-lg font-thin"},yt={class:"mb-[100px] grid grid-cols-1 gap-x-[30px] break-words md:grid-cols-2"},gt={class:"mb-4 rounded-xl bg-[#f9f9f9] p-[30px] text-[#2f2f2f] md:mb-0"},wt={key:0},St={class:"mb-[14px]"},Ct=e("span",{class:"font-bold"},"\u6D3B\u52D5\u6642\u9593\uFF1A",-1),Pt={class:"mb-[14px]"},At=e("span",{class:"font-bold"},"\u806F\u7D61\u96FB\u8A71\uFF1A",-1),kt={class:"mb-[14px]"},Et=e("span",{class:"font-bold"},"\u4E3B\u8FA6\u55AE\u4F4D\uFF1A",-1),Ut={class:"mb-[14px]"},Tt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u5730\u9EDE\uFF1A",-1),Nt={class:"mb-[14px]"},Rt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),jt=["href"],It={key:1},Ot={class:"mb-[14px]"},Wt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u8CBB\u7528\uFF1A",-1),Bt={class:"mb-[14px]"},zt=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),Lt={key:1},Mt={class:"mb-[14px]"},Ft=e("span",{class:"font-bold"},"\u71DF\u696D\u6642\u9593\uFF1A",-1),Vt={class:"mb-[14px]"},qt=e("span",{class:"font-bold"},"\u9910\u5EF3\u96FB\u8A71\uFF1A",-1),Gt={class:"mb-[14px]"},Kt=e("span",{class:"font-bold"},"\u9910\u5EF3\u5730\u5740\uFF1A",-1),Ht={class:"mb-[14px]"},Jt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Qt=["href"],Xt={key:1},Yt={key:2},Zt={class:"mb-[14px]"},$t=e("span",{class:"font-bold"},"\u958B\u653E\u6642\u9593\uFF1A",-1),te={class:"mb-[14px]"},ee=e("span",{class:"font-bold"},"\u670D\u52D9\u96FB\u8A71\uFF1A",-1),ae={class:"mb-[14px]"},oe=e("span",{class:"font-bold"},"\u666F\u9EDE\u5730\u5740\uFF1A",-1),se={class:"mb-[14px]"},le=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),ne=["href"],ie={key:1},ce={class:"mb-[14px]"},re=e("span",{class:"font-bold"},"\u7968\u50F9\u8CC7\u8A0A\uFF1A",-1),de={class:"mb-[14px]"},_e=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),he={class:"overflow-hidden rounded-xl"},ue={key:1},me={key:0,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},pe={key:1,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},ve={key:2,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},De={class:"grid grid-cols-2 gap-x-[30px] md:grid-cols-4"};function be(M,F,P,t,V,j){const a=H,A=Y,s=m("ol-view"),k=m("ol-zoom-control"),f=m("ol-source-osm"),I=m("ol-tile-layer"),O=m("ol-geom-point"),W=m("ol-style-icon"),E=m("ol-style"),U=m("ol-feature"),T=m("ol-source-vector"),B=m("ol-vector-layer"),z=m("ol-map"),i=Q,c=J,D=at("real-img");return l(),n(L,null,[h(a,{titleContent:t.title},null,8,["titleContent"]),h(c,null,{default:y(()=>{var x,g,v;return[e("main",ht,[t.breadcrumbItem.length>0?(l(),G(A,{key:0,class:"mb-[30px]","breadcrumb-li":t.breadcrumbItem,"last-item":t.breadcrumbLastStr},null,8,["breadcrumb-li","last-item"])):S("",!0),e("section",ut,[e("div",mt,[ot(e("img",{class:st(["w-30 object-cover",{"w-full":((x=t.showDetailData.Picture)==null?void 0:x.split("/").pop())!=="no_image.png"}]),src:t.showDetailData.Picture,alt:t.showDetailData.Picture,title:t.showDetailData.Name},null,10,pt),[[D,t.showDetailData.Picture]])])]),e("section",vt,[e("h2",Dt,o(t.showDetailData.Name),1),((g=t.showDetailData.Class)==null?void 0:g.length)!==0?(l(),n("ul",bt,[(l(!0),n(L,null,K(t.showDetailData.Class,p=>(l(),n("li",{key:p,class:"mr-2 rounded-full border py-1 pl-2 pr-[10px] text-[#BEA363]"},o(p),1))),128))])):S("",!0),e("h3",ft,o(t.categoryStr==="Activity"?"\u6D3B\u52D5\u4ECB\u7D39\uFF1A":t.categoryStr==="Restaurant"?"\u9910\u5EF3\u4ECB\u7D39":t.categoryStr==="ScenicSpot"?"\u666F\u9EDE\u4ECB\u7D39":"\u4ECB\u7D39"),1),e("article",xt,o(t.showDetailData.Description),1)]),e("section",yt,[e("div",gt,[t.categoryStr==="Activity"?(l(),n("div",wt,[e("p",St,[Ct,d(o(`${t.showDetailData.StartTime} - ${t.showDetailData.EndTime}`),1)]),e("p",Pt,[At,d(o(t.showDetailData.Phone),1)]),e("p",kt,[Et,d(o(t.showDetailData.Organizer),1)]),e("p",Ut,[Tt,d(o(t.showDetailData.Address),1)]),e("p",Nt,[Rt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,jt)):(l(),n("span",It,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",Ot,[Wt,d(o(t.showDetailData.Charge),1)]),e("p",Bt,[zt,d(o(t.showDetailData.Remarks),1)])])):t.categoryStr==="Restaurant"?(l(),n("div",Lt,[e("p",Mt,[Ft,d(o(t.showDetailData.OpenTime),1)]),e("p",Vt,[qt,d(o(t.showDetailData.Phone),1)]),e("p",Gt,[Kt,d(o(t.showDetailData.Address),1)]),e("p",Ht,[Jt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,Qt)):(l(),n("span",Xt,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))])])):t.categoryStr==="ScenicSpot"?(l(),n("div",Yt,[e("p",Zt,[$t,d(o(`${t.showDetailData.OpenTime}`),1)]),e("p",te,[ee,d(o(t.showDetailData.Phone),1)]),e("p",ae,[oe,d(o(t.showDetailData.Address),1)]),e("p",se,[le,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,ne)):(l(),n("span",ie,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",ce,[re,d(o(t.showDetailData.TicketInfo),1)]),e("p",de,[_e,d(o(t.showDetailData.Remarks),1)])])):S("",!0)]),e("div",null,[e("div",he,[h(z,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"250px",width:"540px"}},{default:y(()=>[h(s,{ref:"view",center:t.center,rotation:t.rotation,zoom:t.zoom,projection:t.projection,coordinate:t.coordinate},null,8,["center","rotation","zoom","projection","coordinate"]),h(k),h(I,null,{default:y(()=>[h(f)]),_:1}),e("template",null,[h(B,null,{default:y(()=>[h(T,null,{default:y(()=>[h(U,null,{default:y(()=>[h(O,{coordinates:t.coordinate},null,8,["coordinates"]),h(E,null,{default:y(()=>[h(W,{src:t.icon,scale:1},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),((v=t.popCardData)==null?void 0:v.length)!==0?(l(),n("section",ue,[t.categoryStr==="ScenicSpot"?(l(),n("h2",me," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u666F\u9EDE ")):t.categoryStr==="Activity"?(l(),n("h2",pe," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u6D3B\u52D5 ")):t.categoryStr==="Restaurant"?(l(),n("h2",ve," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u7F8E\u98DF ")):S("",!0),e("ul",De,[(l(!0),n(L,null,K(t.popCardData,p=>(l(),G(i,{key:p.id,id:p.id,title:p.title,imageUrl:p.imageUrl,address:p.address,onEmitUpdateDetailPage:t.callDetailByIDApi},null,8,["id","title","imageUrl","address","onEmitUpdateDetailPage"]))),128))])])):S("",!0)])]}),_:1})],64)}var we=lt(_t,[["render",be]]);export{we as default};
