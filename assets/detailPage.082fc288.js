import{e as G,g as K,f as M,i as q,_ as H,c as J}from"./axios.734a1862.js";import{c as Q,_ as X}from"./cityData.8ac85578.js";import{u as Y,e as h,A as Z,r as m,f as $,o,b as B,w as f,g as e,I as S,h as tt,t as a,l as n,F,m as V,j as r,i as u}from"./vendor.6d4f3637.js";import{_ as et,n as at}from"./index.96640f78.js";var ot="/vue3-TaiWalk/assets/pin.9036c2c7.svg";const st={setup(){const z=Y(),y=h([{path:"/",text:"\u9996\u9801"}]),T=h(""),t=h({}),N=h({}),s=h(""),A=h([]);let D=[120.2816791,22.624677];const j=h("EPSG:4326"),R=h(15),I=h(0),P=h(D),k=h(D),C=async l=>{var c,b,x;y.value=[{path:"/",text:"\u9996\u9801"}];try{const g=await G(l,s.value);t.value=g.data[0];let p=t.value.City;const E=Q.filter(U=>U.cityTW===p),d=[];p!==void 0&&(p=E[0].cityEN,s.value==="ScenicSpot"?(await K(p,4)).data.forEach(i=>{var v;const w={id:i.ScenicSpotID,title:i.ScenicSpotName,imageUrl:(v=i.Picture)==null?void 0:v.PictureUrl1,address:i.Address};d.push(w)}):s.value==="Activity"?(await M(p,4)).data.forEach(i=>{var v;const w={id:i.ActivityID,title:i.ActivityName,imageUrl:(v=i.Picture)==null?void 0:v.PictureUrl1,address:i.Address};d.push(w)}):s.value==="Restaurant"&&(await q(p,4)).data.forEach(i=>{var v;const w={id:i.RestaurantID,title:i.RestaurantName,imageUrl:(v=i.Picture)==null?void 0:v.PictureUrl1,address:i.Address};d.push(w)})),A.value=d,T.value=t.value[s.value+"Name"],D=[Number(t.value.Position.PositionLon.toFixed(7)),Number(t.value.Position.PositionLat.toFixed(6))],P.value=D,k.value=D;const _={Name:t.value[s.value+"Name"],Picture:(c=t.value.Picture)==null?void 0:c.PictureUrl1,Description:t.value.Description||"\u5C1A\u7121\u63CF\u8FF0",Phone:t.value.Phone||"\u5C1A\u7121\u96FB\u8A71\u8CC7\u8A0A",WebsiteUrl:t.value.WebsiteUrl||"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9",Class:O()};s.value==="Activity"?(_.StartTime=((b=t.value.StartTime)==null?void 0:b.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u958B\u59CB\u6642\u9593\u8CC7\u8A0A",_.EndTime=((x=t.value.EndTime)==null?void 0:x.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u7D50\u675F\u6642\u9593\u8CC7\u8A0A",_.Organizer=t.value.Organizer||"\u5C1A\u7121\u4E3B\u8FA6\u55AE\u4F4D\u8CC7\u8A0A",_.Address=t.value.Address||"\u5C1A\u7121\u6D3B\u52D5\u5730\u9EDE\u8CC7\u8A0A",_.Charge=t.value.Charge||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=t.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="ScenicSpot"?(_.OpenTime=t.value.OpenTime||"\u5C1A\u7121\u958B\u653E\u6642\u9593\u8CC7\u8A0A",_.Address=t.value.Address||"\u5C1A\u7121\u666F\u9EDE\u5730\u5740\u8CC7\u8A0A",_.TicketInfo=t.value.TicketInfo||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=t.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="Restaurant"&&(_.OpenTime=t.value.OpenTime||"\u5C1A\u7121\u71DF\u696D\u6642\u9593\u8CC7\u8A0A",_.Address=t.value.Address||"\u5C1A\u7121\u9910\u5EF3\u5730\u5740\u8CC7\u8A0A"),N.value=_,W(l)}catch(g){console.dir(g)}},O=()=>{let l=[];return t.value.hasOwnProperty("Class")&&l.push(t.value.Class),t.value.hasOwnProperty("Class1")&&l.push(t.value.Class1),t.value.hasOwnProperty("Class2")&&l.push(t.value.Class2),t.value.hasOwnProperty("Class3")&&l.push(t.value.Class3),l=[...new Set(l)],l},W=l=>{const c={};s.value==="ScenicSpot"?(c.path="/scenicSpotSearch",c.text="\u63A2\u7D22\u666F\u9EDE"):s.value==="Activity"?(c.path="/activitySearch",c.text="\u7BC0\u6176\u6D3B\u52D5"):s.value==="Restaurant"&&(c.path="/restaurantSearch",c.text="\u54C1\u5690\u7F8E\u98DF"),y.value.push(c);const b=s.value+"Name",x=t.value[b];y.value.push({text:x,path:`/DetailPage/${l}`})};return Z(()=>{let l=z.params.id,c=l.slice(0,2);c==="C1"?s.value="ScenicSpot":c==="C2"?s.value="Activity":c==="C3"&&(s.value="Restaurant"),C(l,s.value)}),{callDetailByIDApi:C,breadcrumbItem:y,showDetailData:N,categoryStr:s,breadcrumbLastStr:T,center:k,rotation:I,zoom:R,projection:j,coordinate:P,popCardData:A,noImg:at,icon:ot}}},lt={class:"mx-auto mt-[60px] mb-[120px] min-h-[80vh] max-w-[1110px] px-[15px]"},nt={class:"mb-[30px]"},ct={class:"h-[185px] md:h-[400px] overflow-hidden rounded-3xl"},it=["src","alt","title"],rt={class:"mb-[60px]"},dt={class:"mb-4 text-4xl font-thin text-[#1E1E1E]"},_t={key:0,class:"mb-8 flex"},ht={class:"mb-[10px] text-xl font-bold"},mt={class:"text-lg font-thin"},ut={class:"grid grid-cols-1 md:grid-cols-2 gap-x-[30px] mb-[100px]"},pt={class:"bg-[#f9f9f9] md:mb-0 mb-4 p-[30px] text-[#2f2f2f] rounded-xl"},vt={key:0},Dt={class:"mb-[14px]"},ft=e("span",{class:"font-bold"},"\u6D3B\u52D5\u6642\u9593\uFF1A",-1),bt={class:"mb-[14px]"},xt=e("span",{class:"font-bold"},"\u806F\u7D61\u96FB\u8A71\uFF1A",-1),yt={class:"mb-[14px]"},gt=e("span",{class:"font-bold"},"\u4E3B\u8FA6\u55AE\u4F4D\uFF1A",-1),wt={class:"mb-[14px]"},St=e("span",{class:"font-bold"},"\u6D3B\u52D5\u5730\u9EDE\uFF1A",-1),At={class:"mb-[14px]"},Pt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),kt=["href"],Ct={key:1},Et={class:"mb-[14px]"},Ut=e("span",{class:"font-bold"},"\u6D3B\u52D5\u8CBB\u7528\uFF1A",-1),Tt={class:"mb-[14px]"},Nt=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),jt={key:1},Rt={class:"mb-[14px]"},It=e("span",{class:"font-bold"},"\u71DF\u696D\u6642\u9593\uFF1A",-1),Ot={class:"mb-[14px]"},Wt=e("span",{class:"font-bold"},"\u9910\u5EF3\u96FB\u8A71\uFF1A",-1),Bt={class:"mb-[14px]"},zt=e("span",{class:"font-bold"},"\u9910\u5EF3\u5730\u5740\uFF1A",-1),Lt={class:"mb-[14px]"},Ft=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Vt=["href"],Gt={key:1},Kt={key:2},Mt={class:"mb-[14px]"},qt=e("span",{class:"font-bold"},"\u958B\u653E\u6642\u9593\uFF1A",-1),Ht={class:"mb-[14px]"},Jt=e("span",{class:"font-bold"},"\u670D\u52D9\u96FB\u8A71\uFF1A",-1),Qt={class:"mb-[14px]"},Xt=e("span",{class:"font-bold"},"\u666F\u9EDE\u5730\u5740\uFF1A",-1),Yt={class:"mb-[14px]"},Zt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),$t=["href"],te={key:1},ee={class:"mb-[14px]"},ae=e("span",{class:"font-bold"},"\u7968\u50F9\u8CC7\u8A0A\uFF1A",-1),oe={class:"mb-[14px]"},se=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),le={class:"rounded-xl overflow-hidden"},ne={key:1},ce={key:0,class:"mb-4 text-2xl md:text-4xl font-thin text-[#1E1E1E]"},ie={key:1,class:"mb-4 text-2xl md:text-4xl font-thin text-[#1E1E1E]"},re={key:2,class:"mb-4 text-2xl md:text-4xl font-thin text-[#1E1E1E]"},de={class:"grid grid-cols-2 md:grid-cols-4 gap-x-[30px]"};function _e(z,y,T,t,N,s){const A=X,D=m("ol-view"),j=m("ol-zoom-control"),R=m("ol-source-osm"),I=m("ol-tile-layer"),P=m("ol-geom-point"),k=m("ol-style-icon"),C=m("ol-style"),O=m("ol-feature"),W=m("ol-source-vector"),l=m("ol-vector-layer"),c=m("ol-map"),b=J,x=H,g=$("real-img");return o(),B(x,null,{default:f(()=>{var p,E;return[e("main",lt,[t.breadcrumbItem.length>0?(o(),B(A,{key:0,class:"mb-[30px]","breadcrumb-li":t.breadcrumbItem,"last-item":t.breadcrumbLastStr},null,8,["breadcrumb-li","last-item"])):S("",!0),e("section",nt,[e("div",ct,[tt(e("img",{class:"h-full w-full object-cover",src:t.showDetailData.Picture,alt:t.showDetailData.Picture,title:t.showDetailData.Name},null,8,it),[[g,t.showDetailData.Picture]])])]),e("section",rt,[e("h2",dt,a(t.showDetailData.Name),1),((p=t.showDetailData.Class)==null?void 0:p.length)!==0?(o(),n("ul",_t,[(o(!0),n(F,null,V(t.showDetailData.Class,d=>(o(),n("li",{key:d,class:"mr-2 rounded-full border py-1 pl-2 pr-[10px] text-[#BEA363]"},a(d),1))),128))])):S("",!0),e("h3",ht,a(t.categoryStr==="Activity"?"\u6D3B\u52D5\u4ECB\u7D39\uFF1A":t.categoryStr==="Restaurant"?"\u9910\u5EF3\u4ECB\u7D39":t.categoryStr==="ScenicSpot"?"\u666F\u9EDE\u4ECB\u7D39":"\u4ECB\u7D39"),1),e("article",mt,a(t.showDetailData.Description),1)]),e("section",ut,[e("div",pt,[t.categoryStr==="Activity"?(o(),n("div",vt,[e("p",Dt,[ft,r(a(`${t.showDetailData.StartTime} - ${t.showDetailData.EndTime}`),1)]),e("p",bt,[xt,r(a(t.showDetailData.Phone),1)]),e("p",yt,[gt,r(a(t.showDetailData.Organizer),1)]),e("p",wt,[St,r(a(t.showDetailData.Address),1)]),e("p",At,[Pt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(o(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},a(t.showDetailData.WebsiteUrl),9,kt)):(o(),n("span",Ct,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",Et,[Ut,r(a(t.showDetailData.Charge),1)]),e("p",Tt,[Nt,r(a(t.showDetailData.Remarks),1)])])):t.categoryStr==="Restaurant"?(o(),n("div",jt,[e("p",Rt,[It,r(a(`${t.showDetailData.OpenTime}`),1)]),e("p",Ot,[Wt,r(a(t.showDetailData.Phone),1)]),e("p",Bt,[zt,r(a(t.showDetailData.Address),1)]),e("p",Lt,[Ft,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(o(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},a(t.showDetailData.WebsiteUrl),9,Vt)):(o(),n("span",Gt,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))])])):t.categoryStr==="ScenicSpot"?(o(),n("div",Kt,[e("p",Mt,[qt,r(a(`${t.showDetailData.OpenTime}`),1)]),e("p",Ht,[Jt,r(a(t.showDetailData.Phone),1)]),e("p",Qt,[Xt,r(a(t.showDetailData.Address),1)]),e("p",Yt,[Zt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(o(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},a(t.showDetailData.WebsiteUrl),9,$t)):(o(),n("span",te,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",ee,[ae,r(a(t.showDetailData.TicketInfo),1)]),e("p",oe,[se,r(a(t.showDetailData.Remarks),1)])])):S("",!0)]),e("div",null,[e("div",le,[u(c,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"250px",width:"540px"}},{default:f(()=>[u(D,{ref:"view",center:t.center,rotation:t.rotation,zoom:t.zoom,projection:t.projection,coordinate:t.coordinate},null,8,["center","rotation","zoom","projection","coordinate"]),u(j),u(I,null,{default:f(()=>[u(R)]),_:1}),e("template",null,[u(l,null,{default:f(()=>[u(W,null,{default:f(()=>[u(O,null,{default:f(()=>[u(P,{coordinates:t.coordinate},null,8,["coordinates"]),u(C,null,{default:f(()=>[u(k,{src:t.icon,scale:1},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),((E=t.popCardData)==null?void 0:E.length)!==0?(o(),n("section",ne,[t.categoryStr==="ScenicSpot"?(o(),n("h2",ce,"\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u666F\u9EDE")):t.categoryStr==="Activity"?(o(),n("h2",ie,"\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u6D3B\u52D5")):t.categoryStr==="Restaurant"?(o(),n("h2",re,"\u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u7F8E\u98DF")):S("",!0),e("ul",de,[(o(!0),n(F,null,V(t.popCardData,d=>(o(),B(b,{key:d.id,id:d.id,title:d.title,imageUrl:d.imageUrl,address:d.address,onEmitUpdateDetailPage:t.callDetailByIDApi},null,8,["id","title","imageUrl","address","onEmitUpdateDetailPage"]))),128))])])):S("",!0)])]}),_:1})}var ve=et(st,[["render",_e]]);export{ve as default};
