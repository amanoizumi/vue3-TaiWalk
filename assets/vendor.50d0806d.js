function m0(c,f){const p=Object.create(null),u=c.split(",");for(let g=0;g<u.length;g++)p[u[g]]=!0;return f?g=>!!p[g.toLowerCase()]:g=>!!p[g]}const VU="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",WU=m0(VU),YU="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",HU=m0(YU);function fO(c){return!!c||c===""}function Gv(c){if(nn(c)){const f={};for(let p=0;p<c.length;p++){const u=c[p],g=Lo(u)?ZU(u):Gv(u);if(g)for(const m in g)f[m]=g[m]}return f}else{if(Lo(c))return c;if(Ao(c))return c}}const XU=/;(?![^(]*\))/g,KU=/:(.+)/;function ZU(c){const f={};return c.split(XU).forEach(p=>{if(p){const u=p.split(KU);u.length>1&&(f[u[0].trim()]=u[1].trim())}}),f}function Uv(c){let f="";if(Lo(c))f=c;else if(nn(c))for(let p=0;p<c.length;p++){const u=Uv(c[p]);u&&(f+=u+" ")}else if(Ao(c))for(const p in c)c[p]&&(f+=p+" ");return f.trim()}function $U(c){if(!c)return null;let{class:f,style:p}=c;return f&&!Lo(f)&&(c.class=Uv(f)),p&&(c.style=Gv(p)),c}function JU(c,f){if(c.length!==f.length)return!1;let p=!0;for(let u=0;p&&u<c.length;u++)p=af(c[u],f[u]);return p}function af(c,f){if(c===f)return!0;let p=dO(c),u=dO(f);if(p||u)return p&&u?c.getTime()===f.getTime():!1;if(p=nn(c),u=nn(f),p||u)return p&&u?JU(c,f):!1;if(p=Ao(c),u=Ao(f),p||u){if(!p||!u)return!1;const g=Object.keys(c).length,m=Object.keys(f).length;if(g!==m)return!1;for(const S in c){const A=c.hasOwnProperty(S),R=f.hasOwnProperty(S);if(A&&!R||!A&&R||!af(c[S],f[S]))return!1}}return String(c)===String(f)}function _0(c,f){return c.findIndex(p=>af(p,f))}const qU=c=>c==null?"":nn(c)||Ao(c)&&(c.toString===pO||!kn(c.toString))?JSON.stringify(c,hO,2):String(c),hO=(c,f)=>f&&f.__v_isRef?hO(c,f.value):Zd(f)?{[`Map(${f.size})`]:[...f.entries()].reduce((p,[u,g])=>(p[`${u} =>`]=g,p),{})}:vh(f)?{[`Set(${f.size})`]:[...f.values()]}:Ao(f)&&!nn(f)&&!vO(f)?String(f):f,Fi={},Kd=[],Ql=()=>{},QU=()=>!1,tk=/^on[^a-z]/,kv=c=>tk.test(c),F2=c=>c.startsWith("onUpdate:"),Co=Object.assign,j2=(c,f)=>{const p=c.indexOf(f);p>-1&&c.splice(p,1)},ek=Object.prototype.hasOwnProperty,Ti=(c,f)=>ek.call(c,f),nn=Array.isArray,Zd=c=>E0(c)==="[object Map]",vh=c=>E0(c)==="[object Set]",dO=c=>c instanceof Date,kn=c=>typeof c=="function",Lo=c=>typeof c=="string",D2=c=>typeof c=="symbol",Ao=c=>c!==null&&typeof c=="object",B2=c=>Ao(c)&&kn(c.then)&&kn(c.catch),pO=Object.prototype.toString,E0=c=>pO.call(c),rk=c=>E0(c).slice(8,-1),vO=c=>E0(c)==="[object Object]",G2=c=>Lo(c)&&c!=="NaN"&&c[0]!=="-"&&""+parseInt(c,10)===c,zv=m0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x0=c=>{const f=Object.create(null);return p=>f[p]||(f[p]=c(p))},nk=/-(\w)/g,Us=x0(c=>c.replace(nk,(f,p)=>p?p.toUpperCase():"")),ik=/\B([A-Z])/g,Cu=x0(c=>c.replace(ik,"-$1").toLowerCase()),Vv=x0(c=>c.charAt(0).toUpperCase()+c.slice(1)),Wv=x0(c=>c?`on${Vv(c)}`:""),Yv=(c,f)=>!Object.is(c,f),$d=(c,f)=>{for(let p=0;p<c.length;p++)c[p](f)},S0=(c,f,p)=>{Object.defineProperty(c,f,{configurable:!0,enumerable:!1,value:p})},sf=c=>{const f=parseFloat(c);return isNaN(f)?c:f};let gO;const ok=()=>gO||(gO=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Lu;const w0=[];class U2{constructor(f=!1){this.active=!0,this.effects=[],this.cleanups=[],!f&&Lu&&(this.parent=Lu,this.index=(Lu.scopes||(Lu.scopes=[])).push(this)-1)}run(f){if(this.active)try{return this.on(),f()}finally{this.off()}}on(){this.active&&(w0.push(this),Lu=this)}off(){this.active&&(w0.pop(),Lu=w0[w0.length-1])}stop(f){if(this.active){if(this.effects.forEach(p=>p.stop()),this.cleanups.forEach(p=>p()),this.scopes&&this.scopes.forEach(p=>p.stop(!0)),this.parent&&!f){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.active=!1}}}function ak(c){return new U2(c)}function yO(c,f){f=f||Lu,f&&f.active&&f.effects.push(c)}function sk(){return Lu}function lk(c){Lu&&Lu.cleanups.push(c)}const k2=c=>{const f=new Set(c);return f.w=0,f.n=0,f},mO=c=>(c.w&lf)>0,_O=c=>(c.n&lf)>0,uk=({deps:c})=>{if(c.length)for(let f=0;f<c.length;f++)c[f].w|=lf},ck=c=>{const{deps:f}=c;if(f.length){let p=0;for(let u=0;u<f.length;u++){const g=f[u];mO(g)&&!_O(g)?g.delete(c):f[p++]=g,g.w&=~lf,g.n&=~lf}f.length=p}},z2=new WeakMap;let Hv=0,lf=1;const V2=30,Xv=[];let gh;const yh=Symbol(""),W2=Symbol("");class Kv{constructor(f,p=null,u){this.fn=f,this.scheduler=p,this.active=!0,this.deps=[],yO(this,u)}run(){if(!this.active)return this.fn();if(!Xv.includes(this))try{return Xv.push(gh=this),dk(),lf=1<<++Hv,Hv<=V2?uk(this):EO(this),this.fn()}finally{Hv<=V2&&ck(this),lf=1<<--Hv,uf(),Xv.pop();const f=Xv.length;gh=f>0?Xv[f-1]:void 0}}stop(){this.active&&(EO(this),this.onStop&&this.onStop(),this.active=!1)}}function EO(c){const{deps:f}=c;if(f.length){for(let p=0;p<f.length;p++)f[p].delete(c);f.length=0}}function fk(c,f){c.effect&&(c=c.effect.fn);const p=new Kv(c);f&&(Co(p,f),f.scope&&yO(p,f.scope)),(!f||!f.lazy)&&p.run();const u=p.run.bind(p);return u.effect=p,u}function hk(c){c.effect.stop()}let Jd=!0;const Y2=[];function mh(){Y2.push(Jd),Jd=!1}function dk(){Y2.push(Jd),Jd=!0}function uf(){const c=Y2.pop();Jd=c===void 0?!0:c}function ks(c,f,p){if(!xO())return;let u=z2.get(c);u||z2.set(c,u=new Map);let g=u.get(p);g||u.set(p,g=k2()),SO(g)}function xO(){return Jd&&gh!==void 0}function SO(c,f){let p=!1;Hv<=V2?_O(c)||(c.n|=lf,p=!mO(c)):p=!c.has(gh),p&&(c.add(gh),gh.deps.push(c))}function ec(c,f,p,u,g,m){const S=z2.get(c);if(!S)return;let A=[];if(f==="clear")A=[...S.values()];else if(p==="length"&&nn(c))S.forEach((R,j)=>{(j==="length"||j>=u)&&A.push(R)});else switch(p!==void 0&&A.push(S.get(p)),f){case"add":nn(c)?G2(p)&&A.push(S.get("length")):(A.push(S.get(yh)),Zd(c)&&A.push(S.get(W2)));break;case"delete":nn(c)||(A.push(S.get(yh)),Zd(c)&&A.push(S.get(W2)));break;case"set":Zd(c)&&A.push(S.get(yh));break}if(A.length===1)A[0]&&H2(A[0]);else{const R=[];for(const j of A)j&&R.push(...j);H2(k2(R))}}function H2(c,f){for(const p of nn(c)?c:[...c])(p!==gh||p.allowRecurse)&&(p.scheduler?p.scheduler():p.run())}const pk=m0("__proto__,__v_isRef,__isVue"),wO=new Set(Object.getOwnPropertyNames(Symbol).map(c=>Symbol[c]).filter(D2)),vk=O0(),gk=O0(!1,!0),yk=O0(!0),mk=O0(!0,!0),OO=_k();function _k(){const c={};return["includes","indexOf","lastIndexOf"].forEach(f=>{c[f]=function(...p){const u=gi(this);for(let m=0,S=this.length;m<S;m++)ks(u,"get",m+"");const g=u[f](...p);return g===-1||g===!1?u[f](...p.map(gi)):g}}),["push","pop","shift","unshift","splice"].forEach(f=>{c[f]=function(...p){mh();const u=gi(this)[f].apply(this,p);return uf(),u}}),c}function O0(c=!1,f=!1){return function(u,g,m){if(g==="__v_isReactive")return!c;if(g==="__v_isReadonly")return c;if(g==="__v_raw"&&m===(c?f?FO:NO:f?IO:MO).get(u))return u;const S=nn(u);if(!c&&S&&Ti(OO,g))return Reflect.get(OO,g,m);const A=Reflect.get(u,g,m);return(D2(g)?wO.has(g):pk(g))||(c||ks(u,"get",g),f)?A:ca(A)?!S||!G2(g)?A.value:A:Ao(A)?c?K2(A):qd(A):A}}const Ek=TO(),xk=TO(!0);function TO(c=!1){return function(p,u,g,m){let S=p[u];if(!c&&!I0(g)&&(g=gi(g),S=gi(S),!nn(p)&&ca(S)&&!ca(g)))return S.value=g,!0;const A=nn(p)&&G2(u)?Number(u)<p.length:Ti(p,u),R=Reflect.set(p,u,g,m);return p===gi(m)&&(A?Yv(g,S)&&ec(p,"set",u,g):ec(p,"add",u,g)),R}}function Sk(c,f){const p=Ti(c,f);c[f];const u=Reflect.deleteProperty(c,f);return u&&p&&ec(c,"delete",f,void 0),u}function wk(c,f){const p=Reflect.has(c,f);return(!D2(f)||!wO.has(f))&&ks(c,"has",f),p}function Ok(c){return ks(c,"iterate",nn(c)?"length":yh),Reflect.ownKeys(c)}const bO={get:vk,set:Ek,deleteProperty:Sk,has:wk,ownKeys:Ok},CO={get:yk,set(c,f){return!0},deleteProperty(c,f){return!0}},Tk=Co({},bO,{get:gk,set:xk}),bk=Co({},CO,{get:mk}),X2=c=>c,T0=c=>Reflect.getPrototypeOf(c);function b0(c,f,p=!1,u=!1){c=c.__v_raw;const g=gi(c),m=gi(f);f!==m&&!p&&ks(g,"get",f),!p&&ks(g,"get",m);const{has:S}=T0(g),A=u?X2:p?J2:Zv;if(S.call(g,f))return A(c.get(f));if(S.call(g,m))return A(c.get(m));c!==g&&c.get(f)}function C0(c,f=!1){const p=this.__v_raw,u=gi(p),g=gi(c);return c!==g&&!f&&ks(u,"has",c),!f&&ks(u,"has",g),c===g?p.has(c):p.has(c)||p.has(g)}function L0(c,f=!1){return c=c.__v_raw,!f&&ks(gi(c),"iterate",yh),Reflect.get(c,"size",c)}function LO(c){c=gi(c);const f=gi(this);return T0(f).has.call(f,c)||(f.add(c),ec(f,"add",c,c)),this}function AO(c,f){f=gi(f);const p=gi(this),{has:u,get:g}=T0(p);let m=u.call(p,c);m||(c=gi(c),m=u.call(p,c));const S=g.call(p,c);return p.set(c,f),m?Yv(f,S)&&ec(p,"set",c,f):ec(p,"add",c,f),this}function RO(c){const f=gi(this),{has:p,get:u}=T0(f);let g=p.call(f,c);g||(c=gi(c),g=p.call(f,c)),u&&u.call(f,c);const m=f.delete(c);return g&&ec(f,"delete",c,void 0),m}function PO(){const c=gi(this),f=c.size!==0,p=c.clear();return f&&ec(c,"clear",void 0,void 0),p}function A0(c,f){return function(u,g){const m=this,S=m.__v_raw,A=gi(S),R=f?X2:c?J2:Zv;return!c&&ks(A,"iterate",yh),S.forEach((j,U)=>u.call(g,R(j),R(U),m))}}function R0(c,f,p){return function(...u){const g=this.__v_raw,m=gi(g),S=Zd(m),A=c==="entries"||c===Symbol.iterator&&S,R=c==="keys"&&S,j=g[c](...u),U=p?X2:f?J2:Zv;return!f&&ks(m,"iterate",R?W2:yh),{next(){const{value:P,done:B}=j.next();return B?{value:P,done:B}:{value:A?[U(P[0]),U(P[1])]:U(P),done:B}},[Symbol.iterator](){return this}}}}function cf(c){return function(...f){return c==="delete"?!1:this}}function Ck(){const c={get(m){return b0(this,m)},get size(){return L0(this)},has:C0,add:LO,set:AO,delete:RO,clear:PO,forEach:A0(!1,!1)},f={get(m){return b0(this,m,!1,!0)},get size(){return L0(this)},has:C0,add:LO,set:AO,delete:RO,clear:PO,forEach:A0(!1,!0)},p={get(m){return b0(this,m,!0)},get size(){return L0(this,!0)},has(m){return C0.call(this,m,!0)},add:cf("add"),set:cf("set"),delete:cf("delete"),clear:cf("clear"),forEach:A0(!0,!1)},u={get(m){return b0(this,m,!0,!0)},get size(){return L0(this,!0)},has(m){return C0.call(this,m,!0)},add:cf("add"),set:cf("set"),delete:cf("delete"),clear:cf("clear"),forEach:A0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(m=>{c[m]=R0(m,!1,!1),p[m]=R0(m,!0,!1),f[m]=R0(m,!1,!0),u[m]=R0(m,!0,!0)}),[c,p,f,u]}const[Lk,Ak,Rk,Pk]=Ck();function P0(c,f){const p=f?c?Pk:Rk:c?Ak:Lk;return(u,g,m)=>g==="__v_isReactive"?!c:g==="__v_isReadonly"?c:g==="__v_raw"?u:Reflect.get(Ti(p,g)&&g in u?p:u,g,m)}const Mk={get:P0(!1,!1)},Ik={get:P0(!1,!0)},Nk={get:P0(!0,!1)},Fk={get:P0(!0,!0)},MO=new WeakMap,IO=new WeakMap,NO=new WeakMap,FO=new WeakMap;function jk(c){switch(c){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dk(c){return c.__v_skip||!Object.isExtensible(c)?0:jk(rk(c))}function qd(c){return c&&c.__v_isReadonly?c:M0(c,!1,bO,Mk,MO)}function jO(c){return M0(c,!1,Tk,Ik,IO)}function K2(c){return M0(c,!0,CO,Nk,NO)}function Bk(c){return M0(c,!0,bk,Fk,FO)}function M0(c,f,p,u,g){if(!Ao(c)||c.__v_raw&&!(f&&c.__v_isReactive))return c;const m=g.get(c);if(m)return m;const S=Dk(c);if(S===0)return c;const A=new Proxy(c,S===2?u:p);return g.set(c,A),A}function _h(c){return I0(c)?_h(c.__v_raw):!!(c&&c.__v_isReactive)}function I0(c){return!!(c&&c.__v_isReadonly)}function Z2(c){return _h(c)||I0(c)}function gi(c){const f=c&&c.__v_raw;return f?gi(f):c}function $2(c){return S0(c,"__v_skip",!0),c}const Zv=c=>Ao(c)?qd(c):c,J2=c=>Ao(c)?K2(c):c;function q2(c){xO()&&(c=gi(c),c.dep||(c.dep=k2()),SO(c.dep))}function N0(c,f){c=gi(c),c.dep&&H2(c.dep)}function ca(c){return Boolean(c&&c.__v_isRef===!0)}function $v(c){return BO(c,!1)}function DO(c){return BO(c,!0)}function BO(c,f){return ca(c)?c:new Gk(c,f)}class Gk{constructor(f,p){this._shallow=p,this.dep=void 0,this.__v_isRef=!0,this._rawValue=p?f:gi(f),this._value=p?f:Zv(f)}get value(){return q2(this),this._value}set value(f){f=this._shallow?f:gi(f),Yv(f,this._rawValue)&&(this._rawValue=f,this._value=this._shallow?f:Zv(f),N0(this))}}function Uk(c){N0(c)}function Qd(c){return ca(c)?c.value:c}const kk={get:(c,f,p)=>Qd(Reflect.get(c,f,p)),set:(c,f,p,u)=>{const g=c[f];return ca(g)&&!ca(p)?(g.value=p,!0):Reflect.set(c,f,p,u)}};function Q2(c){return _h(c)?c:new Proxy(c,kk)}class zk{constructor(f){this.dep=void 0,this.__v_isRef=!0;const{get:p,set:u}=f(()=>q2(this),()=>N0(this));this._get=p,this._set=u}get value(){return this._get()}set value(f){this._set(f)}}function Vk(c){return new zk(c)}function Wk(c){const f=nn(c)?new Array(c.length):{};for(const p in c)f[p]=GO(c,p);return f}class Yk{constructor(f,p,u){this._object=f,this._key=p,this._defaultValue=u,this.__v_isRef=!0}get value(){const f=this._object[this._key];return f===void 0?this._defaultValue:f}set value(f){this._object[this._key]=f}}function GO(c,f,p){const u=c[f];return ca(u)?u:new Yk(c,f,p)}class Hk{constructor(f,p,u){this._setter=p,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Kv(f,()=>{this._dirty||(this._dirty=!0,N0(this))}),this.__v_isReadonly=u}get value(){const f=gi(this);return q2(f),f._dirty&&(f._dirty=!1,f._value=f.effect.run()),f._value}set value(f){this._setter(f)}}function tu(c,f){let p,u;const g=kn(c);return g?(p=c,u=Ql):(p=c.get,u=c.set),new Hk(p,u,g||!u)}Promise.resolve();let tp,F0=[];function UO(c,f){var p,u;tp=c,tp?(tp.enabled=!0,F0.forEach(({event:g,args:m})=>tp.emit(g,...m)),F0=[]):typeof window!="undefined"&&window.HTMLElement&&!((u=(p=window.navigator)===null||p===void 0?void 0:p.userAgent)===null||u===void 0?void 0:u.includes("jsdom"))?((f.__VUE_DEVTOOLS_HOOK_REPLAY__=f.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(m=>{UO(m,f)}),setTimeout(()=>{tp||(f.__VUE_DEVTOOLS_HOOK_REPLAY__=null,F0=[])},3e3)):F0=[]}function Xk(c,f,...p){const u=c.vnode.props||Fi;let g=p;const m=f.startsWith("update:"),S=m&&f.slice(7);if(S&&S in u){const U=`${S==="modelValue"?"model":S}Modifiers`,{number:P,trim:B}=u[U]||Fi;B?g=p.map(X=>X.trim()):P&&(g=p.map(sf))}let A,R=u[A=Wv(f)]||u[A=Wv(Us(f))];!R&&m&&(R=u[A=Wv(Cu(f))]),R&&Ws(R,c,6,g);const j=u[A+"Once"];if(j){if(!c.emitted)c.emitted={};else if(c.emitted[A])return;c.emitted[A]=!0,Ws(j,c,6,g)}}function kO(c,f,p=!1){const u=f.emitsCache,g=u.get(c);if(g!==void 0)return g;const m=c.emits;let S={},A=!1;if(!kn(c)){const R=j=>{const U=kO(j,f,!0);U&&(A=!0,Co(S,U))};!p&&f.mixins.length&&f.mixins.forEach(R),c.extends&&R(c.extends),c.mixins&&c.mixins.forEach(R)}return!m&&!A?(u.set(c,null),null):(nn(m)?m.forEach(R=>S[R]=null):Co(S,m),u.set(c,S),S)}function tE(c,f){return!c||!kv(f)?!1:(f=f.slice(2).replace(/Once$/,""),Ti(c,f[0].toLowerCase()+f.slice(1))||Ti(c,Cu(f))||Ti(c,f))}let zs=null,j0=null;function Jv(c){const f=zs;return zs=c,j0=c&&c.type.__scopeId||null,f}function Kk(c){j0=c}function Zk(){j0=null}const $k=c=>eE;function eE(c,f=zs,p){if(!f||c._n)return c;const u=(...g)=>{u._d&&_E(-1);const m=Jv(f),S=c(...g);return Jv(m),u._d&&_E(1),S};return u._n=!0,u._c=!0,u._d=!0,u}function D0(c){const{type:f,vnode:p,proxy:u,withProxy:g,props:m,propsOptions:[S],slots:A,attrs:R,emit:j,render:U,renderCache:P,data:B,setupState:X,ctx:W,inheritAttrs:$}=c;let J,nt;const Q=Jv(c);try{if(p.shapeFlag&4){const ot=g||u;J=Vs(U.call(ot,ot,P,m,X,B,W)),nt=R}else{const ot=f;J=Vs(ot.length>1?ot(m,{attrs:R,slots:A,emit:j}):ot(m,null)),nt=f.props?R:qk(R)}}catch(ot){ag.length=0,Oh(ot,c,1),J=eo(qa)}let St=J;if(nt&&$!==!1){const ot=Object.keys(nt),{shapeFlag:M}=St;ot.length&&M&(1|6)&&(S&&ot.some(F2)&&(nt=Qk(nt,S)),St=df(St,nt))}return p.dirs&&(St.dirs=St.dirs?St.dirs.concat(p.dirs):p.dirs),p.transition&&(St.transition=p.transition),J=St,Jv(Q),J}function Jk(c){let f;for(let p=0;p<c.length;p++){const u=c[p];if(hf(u)){if(u.type!==qa||u.children==="v-if"){if(f)return;f=u}}else return}return f}const qk=c=>{let f;for(const p in c)(p==="class"||p==="style"||kv(p))&&((f||(f={}))[p]=c[p]);return f},Qk=(c,f)=>{const p={};for(const u in c)(!F2(u)||!(u.slice(9)in f))&&(p[u]=c[u]);return p};function tz(c,f,p){const{props:u,children:g,component:m}=c,{props:S,children:A,patchFlag:R}=f,j=m.emitsOptions;if(f.dirs||f.transition)return!0;if(p&&R>=0){if(R&1024)return!0;if(R&16)return u?zO(u,S,j):!!S;if(R&8){const U=f.dynamicProps;for(let P=0;P<U.length;P++){const B=U[P];if(S[B]!==u[B]&&!tE(j,B))return!0}}}else return(g||A)&&(!A||!A.$stable)?!0:u===S?!1:u?S?zO(u,S,j):!0:!!S;return!1}function zO(c,f,p){const u=Object.keys(f);if(u.length!==Object.keys(c).length)return!0;for(let g=0;g<u.length;g++){const m=u[g];if(f[m]!==c[m]&&!tE(p,m))return!0}return!1}function rE({vnode:c,parent:f},p){for(;f&&f.subTree===c;)(c=f.vnode).el=p,f=f.parent}const ez=c=>c.__isSuspense,rz={name:"Suspense",__isSuspense:!0,process(c,f,p,u,g,m,S,A,R,j){c==null?iz(f,p,u,g,m,S,A,R,j):oz(c,f,p,u,g,S,A,R,j)},hydrate:az,create:nE,normalize:sz},nz=rz;function qv(c,f){const p=c.props&&c.props[f];kn(p)&&p()}function iz(c,f,p,u,g,m,S,A,R){const{p:j,o:{createElement:U}}=R,P=U("div"),B=c.suspense=nE(c,g,u,f,P,p,m,S,A,R);j(null,B.pendingBranch=c.ssContent,P,null,u,B,m,S),B.deps>0?(qv(c,"onPending"),qv(c,"onFallback"),j(null,c.ssFallback,f,p,u,null,m,S),ep(B,c.ssFallback)):B.resolve()}function oz(c,f,p,u,g,m,S,A,{p:R,um:j,o:{createElement:U}}){const P=f.suspense=c.suspense;P.vnode=f,f.el=c.el;const B=f.ssContent,X=f.ssFallback,{activeBranch:W,pendingBranch:$,isInFallback:J,isHydrating:nt}=P;if($)P.pendingBranch=B,Pu(B,$)?(R($,B,P.hiddenContainer,null,g,P,m,S,A),P.deps<=0?P.resolve():J&&(R(W,X,p,u,g,null,m,S,A),ep(P,X))):(P.pendingId++,nt?(P.isHydrating=!1,P.activeBranch=$):j($,g,P),P.deps=0,P.effects.length=0,P.hiddenContainer=U("div"),J?(R(null,B,P.hiddenContainer,null,g,P,m,S,A),P.deps<=0?P.resolve():(R(W,X,p,u,g,null,m,S,A),ep(P,X))):W&&Pu(B,W)?(R(W,B,p,u,g,P,m,S,A),P.resolve(!0)):(R(null,B,P.hiddenContainer,null,g,P,m,S,A),P.deps<=0&&P.resolve()));else if(W&&Pu(B,W))R(W,B,p,u,g,P,m,S,A),ep(P,B);else if(qv(f,"onPending"),P.pendingBranch=B,P.pendingId++,R(null,B,P.hiddenContainer,null,g,P,m,S,A),P.deps<=0)P.resolve();else{const{timeout:Q,pendingId:St}=P;Q>0?setTimeout(()=>{P.pendingId===St&&P.fallback(X)},Q):Q===0&&P.fallback(X)}}function nE(c,f,p,u,g,m,S,A,R,j,U=!1){const{p:P,m:B,um:X,n:W,o:{parentNode:$,remove:J}}=j,nt=sf(c.props&&c.props.timeout),Q={vnode:c,parent:f,parentComponent:p,isSVG:S,container:u,hiddenContainer:g,anchor:m,deps:0,pendingId:0,timeout:typeof nt=="number"?nt:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:U,isUnmounted:!1,effects:[],resolve(St=!1){const{vnode:ot,activeBranch:M,pendingBranch:_t,pendingId:Lt,effects:Nt,parentComponent:ct,container:Ut}=Q;if(Q.isHydrating)Q.isHydrating=!1;else if(!St){const Bt=M&&_t.transition&&_t.transition.mode==="out-in";Bt&&(M.transition.afterLeave=()=>{Lt===Q.pendingId&&B(_t,Ut,qt,0)});let{anchor:qt}=Q;M&&(qt=W(M),X(M,ct,Q,!0)),Bt||B(_t,Ut,qt,0)}ep(Q,_t),Q.pendingBranch=null,Q.isInFallback=!1;let mt=Q.parent,xt=!1;for(;mt;){if(mt.pendingBranch){mt.effects.push(...Nt),xt=!0;break}mt=mt.parent}xt||IE(Nt),Q.effects=[],qv(ot,"onResolve")},fallback(St){if(!Q.pendingBranch)return;const{vnode:ot,activeBranch:M,parentComponent:_t,container:Lt,isSVG:Nt}=Q;qv(ot,"onFallback");const ct=W(M),Ut=()=>{!Q.isInFallback||(P(null,St,Lt,ct,_t,null,Nt,A,R),ep(Q,St))},mt=St.transition&&St.transition.mode==="out-in";mt&&(M.transition.afterLeave=Ut),Q.isInFallback=!0,X(M,_t,null,!0),mt||Ut()},move(St,ot,M){Q.activeBranch&&B(Q.activeBranch,St,ot,M),Q.container=St},next(){return Q.activeBranch&&W(Q.activeBranch)},registerDep(St,ot){const M=!!Q.pendingBranch;M&&Q.deps++;const _t=St.vnode.el;St.asyncDep.catch(Lt=>{Oh(Lt,St,0)}).then(Lt=>{if(St.isUnmounted||Q.isUnmounted||Q.pendingId!==St.suspenseId)return;St.asyncResolved=!0;const{vnode:Nt}=St;bE(St,Lt,!1),_t&&(Nt.el=_t);const ct=!_t&&St.subTree.el;ot(St,Nt,$(_t||St.subTree.el),_t?null:W(St.subTree),Q,S,R),ct&&J(ct),rE(St,Nt.el),M&&--Q.deps==0&&Q.resolve()})},unmount(St,ot){Q.isUnmounted=!0,Q.activeBranch&&X(Q.activeBranch,p,St,ot),Q.pendingBranch&&X(Q.pendingBranch,p,St,ot)}};return Q}function az(c,f,p,u,g,m,S,A,R){const j=f.suspense=nE(f,u,p,c.parentNode,document.createElement("div"),null,g,m,S,A,!0),U=R(c,j.pendingBranch=f.ssContent,p,j,m,S);return j.deps===0&&j.resolve(),U}function sz(c){const{shapeFlag:f,children:p}=c,u=f&32;c.ssContent=VO(u?p.default:p),c.ssFallback=u?VO(p.fallback):eo(qa)}function VO(c){let f;if(kn(c)){const p=ip&&c._c;p&&(c._d=!1,X0()),c=c(),p&&(c._d=!0,f=Ru,ST())}return nn(c)&&(c=Jk(c)),c=Vs(c),f&&!c.dynamicChildren&&(c.dynamicChildren=f.filter(p=>p!==c)),c}function WO(c,f){f&&f.pendingBranch?nn(c)?f.effects.push(...c):f.effects.push(c):IE(c)}function ep(c,f){c.activeBranch=f;const{vnode:p,parentComponent:u}=c,g=p.el=f.el;u&&u.subTree===p&&(u.vnode.el=g,rE(u,g))}function Qv(c,f){if(qo){let p=qo.provides;const u=qo.parent&&qo.parent.provides;u===p&&(p=qo.provides=Object.create(u)),p[c]=f}}function xl(c,f,p=!1){const u=qo||zs;if(u){const g=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(g&&c in g)return g[c];if(arguments.length>1)return p&&kn(f)?f.call(u.proxy):f}}function iE(){const c={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ig(()=>{c.isMounted=!0}),k0(()=>{c.isUnmounting=!0}),c}const Sl=[Function,Array],lz={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sl,onEnter:Sl,onAfterEnter:Sl,onEnterCancelled:Sl,onBeforeLeave:Sl,onLeave:Sl,onAfterLeave:Sl,onLeaveCancelled:Sl,onBeforeAppear:Sl,onAppear:Sl,onAfterAppear:Sl,onAppearCancelled:Sl},setup(c,{slots:f}){const p=vf(),u=iE();let g;return()=>{const m=f.default&&B0(f.default(),!0);if(!m||!m.length)return;const S=gi(c),{mode:A}=S,R=m[0];if(u.isLeaving)return aE(R);const j=HO(R);if(!j)return aE(R);const U=rp(j,S,u,p);Eh(j,U);const P=p.subTree,B=P&&HO(P);let X=!1;const{getTransitionKey:W}=j.type;if(W){const $=W();g===void 0?g=$:$!==g&&(g=$,X=!0)}if(B&&B.type!==qa&&(!Pu(j,B)||X)){const $=rp(B,S,u,p);if(Eh(B,$),A==="out-in")return u.isLeaving=!0,$.afterLeave=()=>{u.isLeaving=!1,p.update()},aE(R);A==="in-out"&&j.type!==qa&&($.delayLeave=(J,nt,Q)=>{const St=YO(u,B);St[String(B.key)]=B,J._leaveCb=()=>{nt(),J._leaveCb=void 0,delete U.delayedLeave},U.delayedLeave=Q})}return R}}},oE=lz;function YO(c,f){const{leavingVNodes:p}=c;let u=p.get(f.type);return u||(u=Object.create(null),p.set(f.type,u)),u}function rp(c,f,p,u){const{appear:g,mode:m,persisted:S=!1,onBeforeEnter:A,onEnter:R,onAfterEnter:j,onEnterCancelled:U,onBeforeLeave:P,onLeave:B,onAfterLeave:X,onLeaveCancelled:W,onBeforeAppear:$,onAppear:J,onAfterAppear:nt,onAppearCancelled:Q}=f,St=String(c.key),ot=YO(p,c),M=(Lt,Nt)=>{Lt&&Ws(Lt,u,9,Nt)},_t={mode:m,persisted:S,beforeEnter(Lt){let Nt=A;if(!p.isMounted)if(g)Nt=$||A;else return;Lt._leaveCb&&Lt._leaveCb(!0);const ct=ot[St];ct&&Pu(c,ct)&&ct.el._leaveCb&&ct.el._leaveCb(),M(Nt,[Lt])},enter(Lt){let Nt=R,ct=j,Ut=U;if(!p.isMounted)if(g)Nt=J||R,ct=nt||j,Ut=Q||U;else return;let mt=!1;const xt=Lt._enterCb=Bt=>{mt||(mt=!0,Bt?M(Ut,[Lt]):M(ct,[Lt]),_t.delayedLeave&&_t.delayedLeave(),Lt._enterCb=void 0)};Nt?(Nt(Lt,xt),Nt.length<=1&&xt()):xt()},leave(Lt,Nt){const ct=String(c.key);if(Lt._enterCb&&Lt._enterCb(!0),p.isUnmounting)return Nt();M(P,[Lt]);let Ut=!1;const mt=Lt._leaveCb=xt=>{Ut||(Ut=!0,Nt(),xt?M(W,[Lt]):M(X,[Lt]),Lt._leaveCb=void 0,ot[ct]===c&&delete ot[ct])};ot[ct]=c,B?(B(Lt,mt),B.length<=1&&mt()):mt()},clone(Lt){return rp(Lt,f,p,u)}};return _t}function aE(c){if(rg(c))return c=df(c),c.children=null,c}function HO(c){return rg(c)?c.children?c.children[0]:void 0:c}function Eh(c,f){c.shapeFlag&6&&c.component?Eh(c.component.subTree,f):c.shapeFlag&128?(c.ssContent.transition=f.clone(c.ssContent),c.ssFallback.transition=f.clone(c.ssFallback)):c.transition=f}function B0(c,f=!1){let p=[],u=0;for(let g=0;g<c.length;g++){const m=c[g];m.type===_a?(m.patchFlag&128&&u++,p=p.concat(B0(m.children,f))):(f||m.type!==qa)&&p.push(m)}if(u>1)for(let g=0;g<p.length;g++)p[g].patchFlag=-2;return p}function tg(c){return kn(c)?{setup:c,name:c.name}:c}const eg=c=>!!c.type.__asyncLoader;function uz(c){kn(c)&&(c={loader:c});const{loader:f,loadingComponent:p,errorComponent:u,delay:g=200,timeout:m,suspensible:S=!0,onError:A}=c;let R=null,j,U=0;const P=()=>(U++,R=null,B()),B=()=>{let X;return R||(X=R=f().catch(W=>{if(W=W instanceof Error?W:new Error(String(W)),A)return new Promise(($,J)=>{A(W,()=>$(P()),()=>J(W),U+1)});throw W}).then(W=>X!==R&&R?R:(W&&(W.__esModule||W[Symbol.toStringTag]==="Module")&&(W=W.default),j=W,W)))};return tg({name:"AsyncComponentWrapper",__asyncLoader:B,get __asyncResolved(){return j},setup(){const X=qo;if(j)return()=>sE(j,X);const W=Q=>{R=null,Oh(Q,X,13,!u)};if(S&&X.suspense||sg)return B().then(Q=>()=>sE(Q,X)).catch(Q=>(W(Q),()=>u?eo(u,{error:Q}):null));const $=$v(!1),J=$v(),nt=$v(!!g);return g&&setTimeout(()=>{nt.value=!1},g),m!=null&&setTimeout(()=>{if(!$.value&&!J.value){const Q=new Error(`Async component timed out after ${m}ms.`);W(Q),J.value=Q}},m),B().then(()=>{$.value=!0,X.parent&&rg(X.parent.vnode)&&ME(X.parent.update)}).catch(Q=>{W(Q),J.value=Q}),()=>{if($.value&&j)return sE(j,X);if(J.value&&u)return eo(u,{error:J.value});if(p&&!nt.value)return eo(p)}}})}function sE(c,{vnode:{ref:f,props:p,children:u}}){const g=eo(c,p,u);return g.ref=f,g}const rg=c=>c.type.__isKeepAlive,cz={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(c,{slots:f}){const p=vf(),u=p.ctx;if(!u.renderer)return f.default;const g=new Map,m=new Set;let S=null;const A=p.suspense,{renderer:{p:R,m:j,um:U,o:{createElement:P}}}=u,B=P("div");u.activate=(Q,St,ot,M,_t)=>{const Lt=Q.component;j(Q,St,ot,0,A),R(Lt.vnode,Q,St,ot,Lt,A,M,Q.slotScopeIds,_t),ma(()=>{Lt.isDeactivated=!1,Lt.a&&$d(Lt.a);const Nt=Q.props&&Q.props.onVnodeMounted;Nt&&_s(Nt,Lt.parent,Q)},A)},u.deactivate=Q=>{const St=Q.component;j(Q,B,null,1,A),ma(()=>{St.da&&$d(St.da);const ot=Q.props&&Q.props.onVnodeUnmounted;ot&&_s(ot,St.parent,Q),St.isDeactivated=!0},A)};function X(Q){lE(Q),U(Q,p,A)}function W(Q){g.forEach((St,ot)=>{const M=q0(St.type);M&&(!Q||!Q(M))&&$(ot)})}function $(Q){const St=g.get(Q);!S||St.type!==S.type?X(St):S&&lE(S),g.delete(Q),m.delete(Q)}sp(()=>[c.include,c.exclude],([Q,St])=>{Q&&W(ot=>ng(Q,ot)),St&&W(ot=>!ng(St,ot))},{flush:"post",deep:!0});let J=null;const nt=()=>{J!=null&&g.set(J,uE(p.subTree))};return ig(nt),U0(nt),k0(()=>{g.forEach(Q=>{const{subTree:St,suspense:ot}=p,M=uE(St);if(Q.type===M.type){lE(M);const _t=M.component.da;_t&&ma(_t,ot);return}X(Q)})}),()=>{if(J=null,!f.default)return null;const Q=f.default(),St=Q[0];if(Q.length>1)return S=null,Q;if(!hf(St)||!(St.shapeFlag&4)&&!(St.shapeFlag&128))return S=null,St;let ot=uE(St);const M=ot.type,_t=q0(eg(ot)?ot.type.__asyncResolved||{}:M),{include:Lt,exclude:Nt,max:ct}=c;if(Lt&&(!_t||!ng(Lt,_t))||Nt&&_t&&ng(Nt,_t))return S=ot,St;const Ut=ot.key==null?M:ot.key,mt=g.get(Ut);return ot.el&&(ot=df(ot),St.shapeFlag&128&&(St.ssContent=ot)),J=Ut,mt?(ot.el=mt.el,ot.component=mt.component,ot.transition&&Eh(ot,ot.transition),ot.shapeFlag|=512,m.delete(Ut),m.add(Ut)):(m.add(Ut),ct&&m.size>parseInt(ct,10)&&$(m.values().next().value)),ot.shapeFlag|=256,S=ot,St}}},fz=cz;function ng(c,f){return nn(c)?c.some(p=>ng(p,f)):Lo(c)?c.split(",").indexOf(f)>-1:c.test?c.test(f):!1}function XO(c,f){ZO(c,"a",f)}function KO(c,f){ZO(c,"da",f)}function ZO(c,f,p=qo){const u=c.__wdc||(c.__wdc=()=>{let g=p;for(;g;){if(g.isDeactivated)return;g=g.parent}return c()});if(G0(f,u,p),p){let g=p.parent;for(;g&&g.parent;)rg(g.parent.vnode)&&hz(u,f,p,g),g=g.parent}}function hz(c,f,p,u){const g=G0(f,c,u,!0);z0(()=>{j2(u[f],g)},p)}function lE(c){let f=c.shapeFlag;f&256&&(f-=256),f&512&&(f-=512),c.shapeFlag=f}function uE(c){return c.shapeFlag&128?c.ssContent:c}function G0(c,f,p=qo,u=!1){if(p){const g=p[c]||(p[c]=[]),m=f.__weh||(f.__weh=(...S)=>{if(p.isUnmounted)return;mh(),gf(p);const A=Ws(f,p,c,S);return yf(),uf(),A});return u?g.unshift(m):g.push(m),m}}const rc=c=>(f,p=qo)=>(!sg||c==="sp")&&G0(c,f,p),$O=rc("bm"),ig=rc("m"),JO=rc("bu"),U0=rc("u"),k0=rc("bum"),z0=rc("um"),qO=rc("sp"),QO=rc("rtg"),tT=rc("rtc");function eT(c,f=qo){G0("ec",c,f)}let cE=!0;function dz(c){const f=iT(c),p=c.proxy,u=c.ctx;cE=!1,f.beforeCreate&&rT(f.beforeCreate,c,"bc");const{data:g,computed:m,methods:S,watch:A,provide:R,inject:j,created:U,beforeMount:P,mounted:B,beforeUpdate:X,updated:W,activated:$,deactivated:J,beforeDestroy:nt,beforeUnmount:Q,destroyed:St,unmounted:ot,render:M,renderTracked:_t,renderTriggered:Lt,errorCaptured:Nt,serverPrefetch:ct,expose:Ut,inheritAttrs:mt,components:xt,directives:Bt,filters:qt}=f;if(j&&pz(j,u,null,c.appContext.config.unwrapInjectedRef),S)for(const bt in S){const Vt=S[bt];kn(Vt)&&(u[bt]=Vt.bind(p))}if(g){const bt=g.call(p,p);Ao(bt)&&(c.data=qd(bt))}if(cE=!0,m)for(const bt in m){const Vt=m[bt],Xe=kn(Vt)?Vt.bind(p,p):kn(Vt.get)?Vt.get.bind(p,p):Ql,qe=!kn(Vt)&&kn(Vt.set)?Vt.set.bind(p):Ql,Ue=tu({get:Xe,set:qe});Object.defineProperty(u,bt,{enumerable:!0,configurable:!0,get:()=>Ue.value,set:yr=>Ue.value=yr})}if(A)for(const bt in A)nT(A[bt],u,p,bt);if(R){const bt=kn(R)?R.call(p):R;Reflect.ownKeys(bt).forEach(Vt=>{Qv(Vt,bt[Vt])})}U&&rT(U,c,"c");function q(bt,Vt){nn(Vt)?Vt.forEach(Xe=>bt(Xe.bind(p))):Vt&&bt(Vt.bind(p))}if(q($O,P),q(ig,B),q(JO,X),q(U0,W),q(XO,$),q(KO,J),q(eT,Nt),q(tT,_t),q(QO,Lt),q(k0,Q),q(z0,ot),q(qO,ct),nn(Ut))if(Ut.length){const bt=c.exposed||(c.exposed={});Ut.forEach(Vt=>{Object.defineProperty(bt,Vt,{get:()=>p[Vt],set:Xe=>p[Vt]=Xe})})}else c.exposed||(c.exposed={});M&&c.render===Ql&&(c.render=M),mt!=null&&(c.inheritAttrs=mt),xt&&(c.components=xt),Bt&&(c.directives=Bt)}function pz(c,f,p=Ql,u=!1){nn(c)&&(c=fE(c));for(const g in c){const m=c[g];let S;Ao(m)?"default"in m?S=xl(m.from||g,m.default,!0):S=xl(m.from||g):S=xl(m),ca(S)&&u?Object.defineProperty(f,g,{enumerable:!0,configurable:!0,get:()=>S.value,set:A=>S.value=A}):f[g]=S}}function rT(c,f,p){Ws(nn(c)?c.map(u=>u.bind(f.proxy)):c.bind(f.proxy),f,p)}function nT(c,f,p,u){const g=u.includes(".")?zT(p,u):()=>p[u];if(Lo(c)){const m=f[c];kn(m)&&sp(g,m)}else if(kn(c))sp(g,c.bind(p));else if(Ao(c))if(nn(c))c.forEach(m=>nT(m,f,p,u));else{const m=kn(c.handler)?c.handler.bind(p):f[c.handler];kn(m)&&sp(g,m,c)}}function iT(c){const f=c.type,{mixins:p,extends:u}=f,{mixins:g,optionsCache:m,config:{optionMergeStrategies:S}}=c.appContext,A=m.get(f);let R;return A?R=A:!g.length&&!p&&!u?R=f:(R={},g.length&&g.forEach(j=>V0(R,j,S,!0)),V0(R,f,S)),m.set(f,R),R}function V0(c,f,p,u=!1){const{mixins:g,extends:m}=f;m&&V0(c,m,p,!0),g&&g.forEach(S=>V0(c,S,p,!0));for(const S in f)if(!(u&&S==="expose")){const A=vz[S]||p&&p[S];c[S]=A?A(c[S],f[S]):f[S]}return c}const vz={data:oT,props:xh,emits:xh,methods:xh,computed:xh,beforeCreate:Ja,created:Ja,beforeMount:Ja,mounted:Ja,beforeUpdate:Ja,updated:Ja,beforeDestroy:Ja,beforeUnmount:Ja,destroyed:Ja,unmounted:Ja,activated:Ja,deactivated:Ja,errorCaptured:Ja,serverPrefetch:Ja,components:xh,directives:xh,watch:yz,provide:oT,inject:gz};function oT(c,f){return f?c?function(){return Co(kn(c)?c.call(this,this):c,kn(f)?f.call(this,this):f)}:f:c}function gz(c,f){return xh(fE(c),fE(f))}function fE(c){if(nn(c)){const f={};for(let p=0;p<c.length;p++)f[c[p]]=c[p];return f}return c}function Ja(c,f){return c?[...new Set([].concat(c,f))]:f}function xh(c,f){return c?Co(Co(Object.create(null),c),f):f}function yz(c,f){if(!c)return f;if(!f)return c;const p=Co(Object.create(null),c);for(const u in f)p[u]=Ja(c[u],f[u]);return p}function mz(c,f,p,u=!1){const g={},m={};S0(m,K0,1),c.propsDefaults=Object.create(null),aT(c,f,g,m);for(const S in c.propsOptions[0])S in g||(g[S]=void 0);p?c.props=u?g:jO(g):c.type.props?c.props=g:c.props=m,c.attrs=m}function _z(c,f,p,u){const{props:g,attrs:m,vnode:{patchFlag:S}}=c,A=gi(g),[R]=c.propsOptions;let j=!1;if((u||S>0)&&!(S&16)){if(S&8){const U=c.vnode.dynamicProps;for(let P=0;P<U.length;P++){let B=U[P];const X=f[B];if(R)if(Ti(m,B))X!==m[B]&&(m[B]=X,j=!0);else{const W=Us(B);g[W]=hE(R,A,W,X,c,!1)}else X!==m[B]&&(m[B]=X,j=!0)}}}else{aT(c,f,g,m)&&(j=!0);let U;for(const P in A)(!f||!Ti(f,P)&&((U=Cu(P))===P||!Ti(f,U)))&&(R?p&&(p[P]!==void 0||p[U]!==void 0)&&(g[P]=hE(R,A,P,void 0,c,!0)):delete g[P]);if(m!==A)for(const P in m)(!f||!Ti(f,P))&&(delete m[P],j=!0)}j&&ec(c,"set","$attrs")}function aT(c,f,p,u){const[g,m]=c.propsOptions;let S=!1,A;if(f)for(let R in f){if(zv(R))continue;const j=f[R];let U;g&&Ti(g,U=Us(R))?!m||!m.includes(U)?p[U]=j:(A||(A={}))[U]=j:tE(c.emitsOptions,R)||(!(R in u)||j!==u[R])&&(u[R]=j,S=!0)}if(m){const R=gi(p),j=A||Fi;for(let U=0;U<m.length;U++){const P=m[U];p[P]=hE(g,R,P,j[P],c,!Ti(j,P))}}return S}function hE(c,f,p,u,g,m){const S=c[p];if(S!=null){const A=Ti(S,"default");if(A&&u===void 0){const R=S.default;if(S.type!==Function&&kn(R)){const{propsDefaults:j}=g;p in j?u=j[p]:(gf(g),u=j[p]=R.call(null,f),yf())}else u=R}S[0]&&(m&&!A?u=!1:S[1]&&(u===""||u===Cu(p))&&(u=!0))}return u}function sT(c,f,p=!1){const u=f.propsCache,g=u.get(c);if(g)return g;const m=c.props,S={},A=[];let R=!1;if(!kn(c)){const U=P=>{R=!0;const[B,X]=sT(P,f,!0);Co(S,B),X&&A.push(...X)};!p&&f.mixins.length&&f.mixins.forEach(U),c.extends&&U(c.extends),c.mixins&&c.mixins.forEach(U)}if(!m&&!R)return u.set(c,Kd),Kd;if(nn(m))for(let U=0;U<m.length;U++){const P=Us(m[U]);lT(P)&&(S[P]=Fi)}else if(m)for(const U in m){const P=Us(U);if(lT(P)){const B=m[U],X=S[P]=nn(B)||kn(B)?{type:B}:B;if(X){const W=fT(Boolean,X.type),$=fT(String,X.type);X[0]=W>-1,X[1]=$<0||W<$,(W>-1||Ti(X,"default"))&&A.push(P)}}}const j=[S,A];return u.set(c,j),j}function lT(c){return c[0]!=="$"}function uT(c){const f=c&&c.toString().match(/^\s*function (\w+)/);return f?f[1]:c===null?"null":""}function cT(c,f){return uT(c)===uT(f)}function fT(c,f){return nn(f)?f.findIndex(p=>cT(p,c)):kn(f)&&cT(f,c)?0:-1}const hT=c=>c[0]==="_"||c==="$stable",dE=c=>nn(c)?c.map(Vs):[Vs(c)],Ez=(c,f,p)=>{const u=eE((...g)=>dE(f(...g)),p);return u._c=!1,u},dT=(c,f,p)=>{const u=c._ctx;for(const g in c){if(hT(g))continue;const m=c[g];if(kn(m))f[g]=Ez(g,m,u);else if(m!=null){const S=dE(m);f[g]=()=>S}}},pT=(c,f)=>{const p=dE(f);c.slots.default=()=>p},xz=(c,f)=>{if(c.vnode.shapeFlag&32){const p=f._;p?(c.slots=gi(f),S0(f,"_",p)):dT(f,c.slots={})}else c.slots={},f&&pT(c,f);S0(c.slots,K0,1)},Sz=(c,f,p)=>{const{vnode:u,slots:g}=c;let m=!0,S=Fi;if(u.shapeFlag&32){const A=f._;A?p&&A===1?m=!1:(Co(g,f),!p&&A===1&&delete g._):(m=!f.$stable,dT(f,g)),S=f}else f&&(pT(c,f),S={default:1});if(m)for(const A in g)!hT(A)&&!(A in S)&&delete g[A]};function wz(c,f){const p=zs;if(p===null)return c;const u=p.proxy,g=c.dirs||(c.dirs=[]);for(let m=0;m<f.length;m++){let[S,A,R,j=Fi]=f[m];kn(S)&&(S={mounted:S,updated:S}),S.deep&&Th(A),g.push({dir:S,instance:u,value:A,oldValue:void 0,arg:R,modifiers:j})}return c}function Au(c,f,p,u){const g=c.dirs,m=f&&f.dirs;for(let S=0;S<g.length;S++){const A=g[S];m&&(A.oldValue=m[S].value);let R=A.dir[u];R&&(mh(),Ws(R,p,8,[c.el,A,c,f]),uf())}}function vT(){return{app:null,config:{isNativeTag:QU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Oz=0;function Tz(c,f){return function(u,g=null){g!=null&&!Ao(g)&&(g=null);const m=vT(),S=new Set;let A=!1;const R=m.app={_uid:Oz++,_component:u,_props:g,_container:null,_context:m,_instance:null,version:HT,get config(){return m.config},set config(j){},use(j,...U){return S.has(j)||(j&&kn(j.install)?(S.add(j),j.install(R,...U)):kn(j)&&(S.add(j),j(R,...U))),R},mixin(j){return m.mixins.includes(j)||m.mixins.push(j),R},component(j,U){return U?(m.components[j]=U,R):m.components[j]},directive(j,U){return U?(m.directives[j]=U,R):m.directives[j]},mount(j,U,P){if(!A){const B=eo(u,g);return B.appContext=m,U&&f?f(B,j):c(B,j,P),A=!0,R._container=j,j.__vue_app__=R,LE(B.component)||B.component.proxy}},unmount(){A&&(c(null,R._container),delete R._container.__vue_app__)},provide(j,U){return m.provides[j]=U,R}};return R}}function W0(c,f,p,u,g=!1){if(nn(c)){c.forEach((B,X)=>W0(B,f&&(nn(f)?f[X]:f),p,u,g));return}if(eg(u)&&!g)return;const m=u.shapeFlag&4?LE(u.component)||u.component.proxy:u.el,S=g?null:m,{i:A,r:R}=c,j=f&&f.r,U=A.refs===Fi?A.refs={}:A.refs,P=A.setupState;if(j!=null&&j!==R&&(Lo(j)?(U[j]=null,Ti(P,j)&&(P[j]=null)):ca(j)&&(j.value=null)),kn(R))Mu(R,A,12,[S,U]);else{const B=Lo(R),X=ca(R);if(B||X){const W=()=>{if(c.f){const $=B?U[R]:R.value;g?nn($)&&j2($,m):nn($)?$.includes(m)||$.push(m):B?U[R]=[m]:(R.value=[m],c.k&&(U[c.k]=R.value))}else B?(U[R]=S,Ti(P,R)&&(P[R]=S)):ca(R)&&(R.value=S,c.k&&(U[c.k]=S))};S?(W.id=-1,ma(W,p)):W()}}}let ff=!1;const Y0=c=>/svg/.test(c.namespaceURI)&&c.tagName!=="foreignObject",pE=c=>c.nodeType===8;function bz(c){const{mt:f,p,o:{patchProp:u,nextSibling:g,parentNode:m,remove:S,insert:A,createComment:R}}=c,j=(J,nt)=>{if(!nt.hasChildNodes()){p(null,J,nt),em();return}ff=!1,U(nt.firstChild,J,null,null,null),em(),ff&&console.error("Hydration completed but contains mismatches.")},U=(J,nt,Q,St,ot,M=!1)=>{const _t=pE(J)&&J.data==="[",Lt=()=>W(J,nt,Q,St,ot,_t),{type:Nt,ref:ct,shapeFlag:Ut}=nt,mt=J.nodeType;nt.el=J;let xt=null;switch(Nt){case np:mt!==3?xt=Lt():(J.data!==nt.children&&(ff=!0,J.data=nt.children),xt=g(J));break;case qa:mt!==8||_t?xt=Lt():xt=g(J);break;case wh:if(mt!==1)xt=Lt();else{xt=J;const Bt=!nt.children.length;for(let qt=0;qt<nt.staticCount;qt++)Bt&&(nt.children+=xt.outerHTML),qt===nt.staticCount-1&&(nt.anchor=xt),xt=g(xt);return xt}break;case _a:_t?xt=X(J,nt,Q,St,ot,M):xt=Lt();break;default:if(Ut&1)mt!==1||nt.type.toLowerCase()!==J.tagName.toLowerCase()?xt=Lt():xt=P(J,nt,Q,St,ot,M);else if(Ut&6){nt.slotScopeIds=ot;const Bt=m(J);if(f(nt,Bt,null,Q,St,Y0(Bt),M),xt=_t?$(J):g(J),eg(nt)){let qt;_t?(qt=eo(_a),qt.anchor=xt?xt.previousSibling:Bt.lastChild):qt=J.nodeType===3?SE(""):eo("div"),qt.el=J,nt.component.subTree=qt}}else Ut&64?mt!==8?xt=Lt():xt=nt.type.hydrate(J,nt,Q,St,ot,M,c,B):Ut&128&&(xt=nt.type.hydrate(J,nt,Q,St,Y0(m(J)),ot,M,c,U))}return ct!=null&&W0(ct,null,St,nt),xt},P=(J,nt,Q,St,ot,M)=>{M=M||!!nt.dynamicChildren;const{type:_t,props:Lt,patchFlag:Nt,shapeFlag:ct,dirs:Ut}=nt,mt=_t==="input"&&Ut||_t==="option";if(mt||Nt!==-1){if(Ut&&Au(nt,null,Q,"created"),Lt)if(mt||!M||Nt&(16|32))for(const Bt in Lt)(mt&&Bt.endsWith("value")||kv(Bt)&&!zv(Bt))&&u(J,Bt,null,Lt[Bt],!1,void 0,Q);else Lt.onClick&&u(J,"onClick",null,Lt.onClick,!1,void 0,Q);let xt;if((xt=Lt&&Lt.onVnodeBeforeMount)&&_s(xt,Q,nt),Ut&&Au(nt,null,Q,"beforeMount"),((xt=Lt&&Lt.onVnodeMounted)||Ut)&&WO(()=>{xt&&_s(xt,Q,nt),Ut&&Au(nt,null,Q,"mounted")},St),ct&16&&!(Lt&&(Lt.innerHTML||Lt.textContent))){let Bt=B(J.firstChild,nt,J,Q,St,ot,M);for(;Bt;){ff=!0;const qt=Bt;Bt=Bt.nextSibling,S(qt)}}else ct&8&&J.textContent!==nt.children&&(ff=!0,J.textContent=nt.children)}return J.nextSibling},B=(J,nt,Q,St,ot,M,_t)=>{_t=_t||!!nt.dynamicChildren;const Lt=nt.children,Nt=Lt.length;for(let ct=0;ct<Nt;ct++){const Ut=_t?Lt[ct]:Lt[ct]=Vs(Lt[ct]);if(J)J=U(J,Ut,St,ot,M,_t);else{if(Ut.type===np&&!Ut.children)continue;ff=!0,p(null,Ut,Q,null,St,ot,Y0(Q),M)}}return J},X=(J,nt,Q,St,ot,M)=>{const{slotScopeIds:_t}=nt;_t&&(ot=ot?ot.concat(_t):_t);const Lt=m(J),Nt=B(g(J),nt,Lt,Q,St,ot,M);return Nt&&pE(Nt)&&Nt.data==="]"?g(nt.anchor=Nt):(ff=!0,A(nt.anchor=R("]"),Lt,Nt),Nt)},W=(J,nt,Q,St,ot,M)=>{if(ff=!0,nt.el=null,M){const Nt=$(J);for(;;){const ct=g(J);if(ct&&ct!==Nt)S(ct);else break}}const _t=g(J),Lt=m(J);return S(J),p(null,nt,Lt,_t,Q,St,Y0(Lt),ot),_t},$=J=>{let nt=0;for(;J;)if(J=g(J),J&&pE(J)&&(J.data==="["&&nt++,J.data==="]")){if(nt===0)return g(J);nt--}return J};return[j,U]}const ma=WO;function gT(c){return mT(c)}function yT(c){return mT(c,bz)}function mT(c,f){const p=ok();p.__VUE__=!0;const{insert:u,remove:g,patchProp:m,createElement:S,createText:A,createComment:R,setText:j,setElementText:U,parentNode:P,nextSibling:B,setScopeId:X=Ql,cloneNode:W,insertStaticContent:$}=c,J=(Rt,ne,Ct,Wt=null,jt=null,Jt=null,he=!1,ge=null,Ve=!!ne.dynamicChildren)=>{if(Rt===ne)return;Rt&&!Pu(Rt,ne)&&(Wt=dr(Rt),Ar(Rt,jt,Jt,!0),Rt=null),ne.patchFlag===-2&&(Ve=!1,ne.dynamicChildren=null);const{type:tt,ref:z,shapeFlag:V}=ne;switch(tt){case np:nt(Rt,ne,Ct,Wt);break;case qa:Q(Rt,ne,Ct,Wt);break;case wh:Rt==null&&St(ne,Ct,Wt,he);break;case _a:Bt(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve);break;default:V&1?_t(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve):V&6?qt(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve):(V&64||V&128)&&tt.process(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve,mr)}z!=null&&jt&&W0(z,Rt&&Rt.ref,Jt,ne||Rt,!ne)},nt=(Rt,ne,Ct,Wt)=>{if(Rt==null)u(ne.el=A(ne.children),Ct,Wt);else{const jt=ne.el=Rt.el;ne.children!==Rt.children&&j(jt,ne.children)}},Q=(Rt,ne,Ct,Wt)=>{Rt==null?u(ne.el=R(ne.children||""),Ct,Wt):ne.el=Rt.el},St=(Rt,ne,Ct,Wt)=>{[Rt.el,Rt.anchor]=$(Rt.children,ne,Ct,Wt)},ot=({el:Rt,anchor:ne},Ct,Wt)=>{let jt;for(;Rt&&Rt!==ne;)jt=B(Rt),u(Rt,Ct,Wt),Rt=jt;u(ne,Ct,Wt)},M=({el:Rt,anchor:ne})=>{let Ct;for(;Rt&&Rt!==ne;)Ct=B(Rt),g(Rt),Rt=Ct;g(ne)},_t=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve)=>{he=he||ne.type==="svg",Rt==null?Lt(ne,Ct,Wt,jt,Jt,he,ge,Ve):Ut(Rt,ne,jt,Jt,he,ge,Ve)},Lt=(Rt,ne,Ct,Wt,jt,Jt,he,ge)=>{let Ve,tt;const{type:z,props:V,shapeFlag:at,transition:Ht,patchFlag:ye,dirs:Se}=Rt;if(Rt.el&&W!==void 0&&ye===-1)Ve=Rt.el=W(Rt.el);else{if(Ve=Rt.el=S(Rt.type,Jt,V&&V.is,V),at&8?U(Ve,Rt.children):at&16&&ct(Rt.children,Ve,null,Wt,jt,Jt&&z!=="foreignObject",he,ge),Se&&Au(Rt,null,Wt,"created"),V){for(const wr in V)wr!=="value"&&!zv(wr)&&m(Ve,wr,null,V[wr],Jt,Rt.children,Wt,jt,Je);"value"in V&&m(Ve,"value",null,V.value),(tt=V.onVnodeBeforeMount)&&_s(tt,Wt,Rt)}Nt(Ve,Rt,Rt.scopeId,he,Wt)}Se&&Au(Rt,null,Wt,"beforeMount");const cr=(!jt||jt&&!jt.pendingBranch)&&Ht&&!Ht.persisted;cr&&Ht.beforeEnter(Ve),u(Ve,ne,Ct),((tt=V&&V.onVnodeMounted)||cr||Se)&&ma(()=>{tt&&_s(tt,Wt,Rt),cr&&Ht.enter(Ve),Se&&Au(Rt,null,Wt,"mounted")},jt)},Nt=(Rt,ne,Ct,Wt,jt)=>{if(Ct&&X(Rt,Ct),Wt)for(let Jt=0;Jt<Wt.length;Jt++)X(Rt,Wt[Jt]);if(jt){let Jt=jt.subTree;if(ne===Jt){const he=jt.vnode;Nt(Rt,he,he.scopeId,he.slotScopeIds,jt.parent)}}},ct=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve=0)=>{for(let tt=Ve;tt<Rt.length;tt++){const z=Rt[tt]=ge?pf(Rt[tt]):Vs(Rt[tt]);J(null,z,ne,Ct,Wt,jt,Jt,he,ge)}},Ut=(Rt,ne,Ct,Wt,jt,Jt,he)=>{const ge=ne.el=Rt.el;let{patchFlag:Ve,dynamicChildren:tt,dirs:z}=ne;Ve|=Rt.patchFlag&16;const V=Rt.props||Fi,at=ne.props||Fi;let Ht;Ct&&Sh(Ct,!1),(Ht=at.onVnodeBeforeUpdate)&&_s(Ht,Ct,ne,Rt),z&&Au(ne,Rt,Ct,"beforeUpdate"),Ct&&Sh(Ct,!0);const ye=jt&&ne.type!=="foreignObject";if(tt?mt(Rt.dynamicChildren,tt,ge,Ct,Wt,ye,Jt):he||Xe(Rt,ne,ge,null,Ct,Wt,ye,Jt,!1),Ve>0){if(Ve&16)xt(ge,ne,V,at,Ct,Wt,jt);else if(Ve&2&&V.class!==at.class&&m(ge,"class",null,at.class,jt),Ve&4&&m(ge,"style",V.style,at.style,jt),Ve&8){const Se=ne.dynamicProps;for(let cr=0;cr<Se.length;cr++){const wr=Se[cr],br=V[wr],Ln=at[wr];(Ln!==br||wr==="value")&&m(ge,wr,br,Ln,jt,Rt.children,Ct,Wt,Je)}}Ve&1&&Rt.children!==ne.children&&U(ge,ne.children)}else!he&&tt==null&&xt(ge,ne,V,at,Ct,Wt,jt);((Ht=at.onVnodeUpdated)||z)&&ma(()=>{Ht&&_s(Ht,Ct,ne,Rt),z&&Au(ne,Rt,Ct,"updated")},Wt)},mt=(Rt,ne,Ct,Wt,jt,Jt,he)=>{for(let ge=0;ge<ne.length;ge++){const Ve=Rt[ge],tt=ne[ge],z=Ve.el&&(Ve.type===_a||!Pu(Ve,tt)||Ve.shapeFlag&(6|64))?P(Ve.el):Ct;J(Ve,tt,z,null,Wt,jt,Jt,he,!0)}},xt=(Rt,ne,Ct,Wt,jt,Jt,he)=>{if(Ct!==Wt){for(const ge in Wt){if(zv(ge))continue;const Ve=Wt[ge],tt=Ct[ge];Ve!==tt&&ge!=="value"&&m(Rt,ge,tt,Ve,he,ne.children,jt,Jt,Je)}if(Ct!==Fi)for(const ge in Ct)!zv(ge)&&!(ge in Wt)&&m(Rt,ge,Ct[ge],null,he,ne.children,jt,Jt,Je);"value"in Wt&&m(Rt,"value",Ct.value,Wt.value)}},Bt=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve)=>{const tt=ne.el=Rt?Rt.el:A(""),z=ne.anchor=Rt?Rt.anchor:A("");let{patchFlag:V,dynamicChildren:at,slotScopeIds:Ht}=ne;Ht&&(ge=ge?ge.concat(Ht):Ht),Rt==null?(u(tt,Ct,Wt),u(z,Ct,Wt),ct(ne.children,Ct,z,jt,Jt,he,ge,Ve)):V>0&&V&64&&at&&Rt.dynamicChildren?(mt(Rt.dynamicChildren,at,Ct,jt,Jt,he,ge),(ne.key!=null||jt&&ne===jt.subTree)&&vE(Rt,ne,!0)):Xe(Rt,ne,Ct,z,jt,Jt,he,ge,Ve)},qt=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve)=>{ne.slotScopeIds=ge,Rt==null?ne.shapeFlag&512?jt.ctx.activate(ne,Ct,Wt,he,Ve):Pe(ne,Ct,Wt,jt,Jt,he,Ve):q(Rt,ne,Ve)},Pe=(Rt,ne,Ct,Wt,jt,Jt,he)=>{const ge=Rt.component=LT(Rt,Wt,jt);if(rg(Rt)&&(ge.ctx.renderer=mr),RT(ge),ge.asyncDep){if(jt&&jt.registerDep(ge,bt),!Rt.el){const Ve=ge.subTree=eo(qa);Q(null,Ve,ne,Ct)}return}bt(ge,Rt,ne,Ct,jt,Jt,he)},q=(Rt,ne,Ct)=>{const Wt=ne.component=Rt.component;if(tz(Rt,ne,Ct))if(Wt.asyncDep&&!Wt.asyncResolved){Vt(Wt,ne,Ct);return}else Wt.next=ne,sV(Wt.update),Wt.update();else ne.component=Rt.component,ne.el=Rt.el,Wt.vnode=ne},bt=(Rt,ne,Ct,Wt,jt,Jt,he)=>{const ge=()=>{if(Rt.isMounted){let{next:z,bu:V,u:at,parent:Ht,vnode:ye}=Rt,Se=z,cr;Sh(Rt,!1),z?(z.el=ye.el,Vt(Rt,z,he)):z=ye,V&&$d(V),(cr=z.props&&z.props.onVnodeBeforeUpdate)&&_s(cr,Ht,z,ye),Sh(Rt,!0);const wr=D0(Rt),br=Rt.subTree;Rt.subTree=wr,J(br,wr,P(br.el),dr(br),Rt,jt,Jt),z.el=wr.el,Se===null&&rE(Rt,wr.el),at&&ma(at,jt),(cr=z.props&&z.props.onVnodeUpdated)&&ma(()=>_s(cr,Ht,z,ye),jt)}else{let z;const{el:V,props:at}=ne,{bm:Ht,m:ye,parent:Se}=Rt,cr=eg(ne);if(Sh(Rt,!1),Ht&&$d(Ht),!cr&&(z=at&&at.onVnodeBeforeMount)&&_s(z,Se,ne),Sh(Rt,!0),V&&_r){const wr=()=>{Rt.subTree=D0(Rt),_r(V,Rt.subTree,Rt,jt,null)};cr?ne.type.__asyncLoader().then(()=>!Rt.isUnmounted&&wr()):wr()}else{const wr=Rt.subTree=D0(Rt);J(null,wr,Ct,Wt,Rt,jt,Jt),ne.el=wr.el}if(ye&&ma(ye,jt),!cr&&(z=at&&at.onVnodeMounted)){const wr=ne;ma(()=>_s(z,Se,wr),jt)}ne.shapeFlag&256&&Rt.a&&ma(Rt.a,jt),Rt.isMounted=!0,ne=Ct=Wt=null}},Ve=Rt.effect=new Kv(ge,()=>ME(Rt.update),Rt.scope),tt=Rt.update=Ve.run.bind(Ve);tt.id=Rt.uid,Sh(Rt,!0),tt()},Vt=(Rt,ne,Ct)=>{ne.component=Rt;const Wt=Rt.vnode.props;Rt.vnode=ne,Rt.next=null,_z(Rt,ne.props,Wt,Ct),Sz(Rt,ne.children,Ct),mh(),NE(void 0,Rt.update),uf()},Xe=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve=!1)=>{const tt=Rt&&Rt.children,z=Rt?Rt.shapeFlag:0,V=ne.children,{patchFlag:at,shapeFlag:Ht}=ne;if(at>0){if(at&128){Ue(tt,V,Ct,Wt,jt,Jt,he,ge,Ve);return}else if(at&256){qe(tt,V,Ct,Wt,jt,Jt,he,ge,Ve);return}}Ht&8?(z&16&&Je(tt,jt,Jt),V!==tt&&U(Ct,V)):z&16?Ht&16?Ue(tt,V,Ct,Wt,jt,Jt,he,ge,Ve):Je(tt,jt,Jt,!0):(z&8&&U(Ct,""),Ht&16&&ct(V,Ct,Wt,jt,Jt,he,ge,Ve))},qe=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve)=>{Rt=Rt||Kd,ne=ne||Kd;const tt=Rt.length,z=ne.length,V=Math.min(tt,z);let at;for(at=0;at<V;at++){const Ht=ne[at]=Ve?pf(ne[at]):Vs(ne[at]);J(Rt[at],Ht,Ct,null,jt,Jt,he,ge,Ve)}tt>z?Je(Rt,jt,Jt,!0,!1,V):ct(ne,Ct,Wt,jt,Jt,he,ge,Ve,V)},Ue=(Rt,ne,Ct,Wt,jt,Jt,he,ge,Ve)=>{let tt=0;const z=ne.length;let V=Rt.length-1,at=z-1;for(;tt<=V&&tt<=at;){const Ht=Rt[tt],ye=ne[tt]=Ve?pf(ne[tt]):Vs(ne[tt]);if(Pu(Ht,ye))J(Ht,ye,Ct,null,jt,Jt,he,ge,Ve);else break;tt++}for(;tt<=V&&tt<=at;){const Ht=Rt[V],ye=ne[at]=Ve?pf(ne[at]):Vs(ne[at]);if(Pu(Ht,ye))J(Ht,ye,Ct,null,jt,Jt,he,ge,Ve);else break;V--,at--}if(tt>V){if(tt<=at){const Ht=at+1,ye=Ht<z?ne[Ht].el:Wt;for(;tt<=at;)J(null,ne[tt]=Ve?pf(ne[tt]):Vs(ne[tt]),Ct,ye,jt,Jt,he,ge,Ve),tt++}}else if(tt>at)for(;tt<=V;)Ar(Rt[tt],jt,Jt,!0),tt++;else{const Ht=tt,ye=tt,Se=new Map;for(tt=ye;tt<=at;tt++){const Rn=ne[tt]=Ve?pf(ne[tt]):Vs(ne[tt]);Rn.key!=null&&Se.set(Rn.key,tt)}let cr,wr=0;const br=at-ye+1;let Ln=!1,yn=0;const Hn=new Array(br);for(tt=0;tt<br;tt++)Hn[tt]=0;for(tt=Ht;tt<=V;tt++){const Rn=Rt[tt];if(wr>=br){Ar(Rn,jt,Jt,!0);continue}let Dn;if(Rn.key!=null)Dn=Se.get(Rn.key);else for(cr=ye;cr<=at;cr++)if(Hn[cr-ye]===0&&Pu(Rn,ne[cr])){Dn=cr;break}Dn===void 0?Ar(Rn,jt,Jt,!0):(Hn[Dn-ye]=tt+1,Dn>=yn?yn=Dn:Ln=!0,J(Rn,ne[Dn],Ct,null,jt,Jt,he,ge,Ve),wr++)}const bi=Ln?Cz(Hn):Kd;for(cr=bi.length-1,tt=br-1;tt>=0;tt--){const Rn=ye+tt,Dn=ne[Rn],fi=Rn+1<z?ne[Rn+1].el:Wt;Hn[tt]===0?J(null,Dn,Ct,fi,jt,Jt,he,ge,Ve):Ln&&(cr<0||tt!==bi[cr]?yr(Dn,Ct,fi,2):cr--)}}},yr=(Rt,ne,Ct,Wt,jt=null)=>{const{el:Jt,type:he,transition:ge,children:Ve,shapeFlag:tt}=Rt;if(tt&6){yr(Rt.component.subTree,ne,Ct,Wt);return}if(tt&128){Rt.suspense.move(ne,Ct,Wt);return}if(tt&64){he.move(Rt,ne,Ct,mr);return}if(he===_a){u(Jt,ne,Ct);for(let V=0;V<Ve.length;V++)yr(Ve[V],ne,Ct,Wt);u(Rt.anchor,ne,Ct);return}if(he===wh){ot(Rt,ne,Ct);return}if(Wt!==2&&tt&1&&ge)if(Wt===0)ge.beforeEnter(Jt),u(Jt,ne,Ct),ma(()=>ge.enter(Jt),jt);else{const{leave:V,delayLeave:at,afterLeave:Ht}=ge,ye=()=>u(Jt,ne,Ct),Se=()=>{V(Jt,()=>{ye(),Ht&&Ht()})};at?at(Jt,ye,Se):Se()}else u(Jt,ne,Ct)},Ar=(Rt,ne,Ct,Wt=!1,jt=!1)=>{const{type:Jt,props:he,ref:ge,children:Ve,dynamicChildren:tt,shapeFlag:z,patchFlag:V,dirs:at}=Rt;if(ge!=null&&W0(ge,null,Ct,Rt,!0),z&256){ne.ctx.deactivate(Rt);return}const Ht=z&1&&at,ye=!eg(Rt);let Se;if(ye&&(Se=he&&he.onVnodeBeforeUnmount)&&_s(Se,ne,Rt),z&6)Ie(Rt.component,Ct,Wt);else{if(z&128){Rt.suspense.unmount(Ct,Wt);return}Ht&&Au(Rt,null,ne,"beforeUnmount"),z&64?Rt.type.remove(Rt,ne,Ct,jt,mr,Wt):tt&&(Jt!==_a||V>0&&V&64)?Je(tt,ne,Ct,!1,!0):(Jt===_a&&V&(128|256)||!jt&&z&16)&&Je(Ve,ne,Ct),Wt&&Jr(Rt)}(ye&&(Se=he&&he.onVnodeUnmounted)||Ht)&&ma(()=>{Se&&_s(Se,ne,Rt),Ht&&Au(Rt,null,ne,"unmounted")},Ct)},Jr=Rt=>{const{type:ne,el:Ct,anchor:Wt,transition:jt}=Rt;if(ne===_a){ee(Ct,Wt);return}if(ne===wh){M(Rt);return}const Jt=()=>{g(Ct),jt&&!jt.persisted&&jt.afterLeave&&jt.afterLeave()};if(Rt.shapeFlag&1&&jt&&!jt.persisted){const{leave:he,delayLeave:ge}=jt,Ve=()=>he(Ct,Jt);ge?ge(Rt.el,Jt,Ve):Ve()}else Jt()},ee=(Rt,ne)=>{let Ct;for(;Rt!==ne;)Ct=B(Rt),g(Rt),Rt=Ct;g(ne)},Ie=(Rt,ne,Ct)=>{const{bum:Wt,scope:jt,update:Jt,subTree:he,um:ge}=Rt;Wt&&$d(Wt),jt.stop(),Jt&&(Jt.active=!1,Ar(he,Rt,ne,Ct)),ge&&ma(ge,ne),ma(()=>{Rt.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&Rt.asyncDep&&!Rt.asyncResolved&&Rt.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Je=(Rt,ne,Ct,Wt=!1,jt=!1,Jt=0)=>{for(let he=Jt;he<Rt.length;he++)Ar(Rt[he],ne,Ct,Wt,jt)},dr=Rt=>Rt.shapeFlag&6?dr(Rt.component.subTree):Rt.shapeFlag&128?Rt.suspense.next():B(Rt.anchor||Rt.el),En=(Rt,ne,Ct)=>{Rt==null?ne._vnode&&Ar(ne._vnode,null,null,!0):J(ne._vnode||null,Rt,ne,null,null,null,Ct),em(),ne._vnode=Rt},mr={p:J,um:Ar,m:yr,r:Jr,mt:Pe,mc:ct,pc:Xe,pbc:mt,n:dr,o:c};let Ir,_r;return f&&([Ir,_r]=f(mr)),{render:En,hydrate:Ir,createApp:Tz(En,Ir)}}function Sh({effect:c,update:f},p){c.allowRecurse=f.allowRecurse=p}function vE(c,f,p=!1){const u=c.children,g=f.children;if(nn(u)&&nn(g))for(let m=0;m<u.length;m++){const S=u[m];let A=g[m];A.shapeFlag&1&&!A.dynamicChildren&&((A.patchFlag<=0||A.patchFlag===32)&&(A=g[m]=pf(g[m]),A.el=S.el),p||vE(S,A))}}function Cz(c){const f=c.slice(),p=[0];let u,g,m,S,A;const R=c.length;for(u=0;u<R;u++){const j=c[u];if(j!==0){if(g=p[p.length-1],c[g]<j){f[u]=g,p.push(u);continue}for(m=0,S=p.length-1;m<S;)A=m+S>>1,c[p[A]]<j?m=A+1:S=A;j<c[p[m]]&&(m>0&&(f[u]=p[m-1]),p[m]=u)}}for(m=p.length,S=p[m-1];m-- >0;)p[m]=S,S=f[S];return p}const Lz=c=>c.__isTeleport,og=c=>c&&(c.disabled||c.disabled===""),_T=c=>typeof SVGElement!="undefined"&&c instanceof SVGElement,gE=(c,f)=>{const p=c&&c.to;return Lo(p)?f?f(p):null:p},Az={__isTeleport:!0,process(c,f,p,u,g,m,S,A,R,j){const{mc:U,pc:P,pbc:B,o:{insert:X,querySelector:W,createText:$,createComment:J}}=j,nt=og(f.props);let{shapeFlag:Q,children:St,dynamicChildren:ot}=f;if(c==null){const M=f.el=$(""),_t=f.anchor=$("");X(M,p,u),X(_t,p,u);const Lt=f.target=gE(f.props,W),Nt=f.targetAnchor=$("");Lt&&(X(Nt,Lt),S=S||_T(Lt));const ct=(Ut,mt)=>{Q&16&&U(St,Ut,mt,g,m,S,A,R)};nt?ct(p,_t):Lt&&ct(Lt,Nt)}else{f.el=c.el;const M=f.anchor=c.anchor,_t=f.target=c.target,Lt=f.targetAnchor=c.targetAnchor,Nt=og(c.props),ct=Nt?p:_t,Ut=Nt?M:Lt;if(S=S||_T(_t),ot?(B(c.dynamicChildren,ot,ct,g,m,S,A),vE(c,f,!0)):R||P(c,f,ct,Ut,g,m,S,A,!1),nt)Nt||H0(f,p,M,j,1);else if((f.props&&f.props.to)!==(c.props&&c.props.to)){const mt=f.target=gE(f.props,W);mt&&H0(f,mt,null,j,0)}else Nt&&H0(f,_t,Lt,j,1)}},remove(c,f,p,u,{um:g,o:{remove:m}},S){const{shapeFlag:A,children:R,anchor:j,targetAnchor:U,target:P,props:B}=c;if(P&&m(U),(S||!og(B))&&(m(j),A&16))for(let X=0;X<R.length;X++){const W=R[X];g(W,f,p,!0,!!W.dynamicChildren)}},move:H0,hydrate:Rz};function H0(c,f,p,{o:{insert:u},m:g},m=2){m===0&&u(c.targetAnchor,f,p);const{el:S,anchor:A,shapeFlag:R,children:j,props:U}=c,P=m===2;if(P&&u(S,f,p),(!P||og(U))&&R&16)for(let B=0;B<j.length;B++)g(j[B],f,p,2);P&&u(A,f,p)}function Rz(c,f,p,u,g,m,{o:{nextSibling:S,parentNode:A,querySelector:R}},j){const U=f.target=gE(f.props,R);if(U){const P=U._lpa||U.firstChild;f.shapeFlag&16&&(og(f.props)?(f.anchor=j(S(c),f,A(c),p,u,g,m),f.targetAnchor=P):(f.anchor=S(c),f.targetAnchor=j(P,f,U,p,u,g,m)),U._lpa=f.targetAnchor&&S(f.targetAnchor))}return f.anchor&&S(f.anchor)}const Pz=Az,yE="components",Mz="directives";function Iz(c,f){return mE(yE,c,!0,f)||c}const ET=Symbol();function Nz(c){return Lo(c)?mE(yE,c,!1)||c:c||ET}function Fz(c){return mE(Mz,c)}function mE(c,f,p=!0,u=!1){const g=zs||qo;if(g){const m=g.type;if(c===yE){const A=q0(m);if(A&&(A===f||A===Us(f)||A===Vv(Us(f))))return m}const S=xT(g[c]||m[c],f)||xT(g.appContext[c],f);return!S&&u?m:S}}function xT(c,f){return c&&(c[f]||c[Us(f)]||c[Vv(Us(f))])}const _a=Symbol(void 0),np=Symbol(void 0),qa=Symbol(void 0),wh=Symbol(void 0),ag=[];let Ru=null;function X0(c=!1){ag.push(Ru=c?null:[])}function ST(){ag.pop(),Ru=ag[ag.length-1]||null}let ip=1;function _E(c){ip+=c}function wT(c){return c.dynamicChildren=ip>0?Ru||Kd:null,ST(),ip>0&&Ru&&Ru.push(c),c}function jz(c,f,p,u,g,m){return wT(xE(c,f,p,u,g,m,!0))}function EE(c,f,p,u,g){return wT(eo(c,f,p,u,g,!0))}function hf(c){return c?c.__v_isVNode===!0:!1}function Pu(c,f){return c.type===f.type&&c.key===f.key}function Dz(c){}const K0="__vInternal",OT=({key:c})=>c!=null?c:null,Z0=({ref:c,ref_key:f,ref_for:p})=>c!=null?Lo(c)||ca(c)||kn(c)?{i:zs,r:c,k:f,f:!!p}:c:null;function xE(c,f=null,p=null,u=0,g=null,m=c===_a?0:1,S=!1,A=!1){const R={__v_isVNode:!0,__v_skip:!0,type:c,props:f,key:f&&OT(f),ref:f&&Z0(f),scopeId:j0,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:m,patchFlag:u,dynamicProps:g,dynamicChildren:null,appContext:null};return A?(wE(R,p),m&128&&c.normalize(R)):p&&(R.shapeFlag|=Lo(p)?8:16),ip>0&&!S&&Ru&&(R.patchFlag>0||m&6)&&R.patchFlag!==32&&Ru.push(R),R}const eo=Bz;function Bz(c,f=null,p=null,u=0,g=null,m=!1){if((!c||c===ET)&&(c=qa),hf(c)){const A=df(c,f,!0);return p&&wE(A,p),A}if(tV(c)&&(c=c.__vccOpts),f){f=TT(f);let{class:A,style:R}=f;A&&!Lo(A)&&(f.class=Uv(A)),Ao(R)&&(Z2(R)&&!nn(R)&&(R=Co({},R)),f.style=Gv(R))}const S=Lo(c)?1:ez(c)?128:Lz(c)?64:Ao(c)?4:kn(c)?2:0;return xE(c,f,p,u,g,S,m,!0)}function TT(c){return c?Z2(c)||K0 in c?Co({},c):c:null}function df(c,f,p=!1){const{props:u,ref:g,patchFlag:m,children:S}=c,A=f?bT(u||{},f):u;return{__v_isVNode:!0,__v_skip:!0,type:c.type,props:A,key:A&&OT(A),ref:f&&f.ref?p&&g?nn(g)?g.concat(Z0(f)):[g,Z0(f)]:Z0(f):g,scopeId:c.scopeId,slotScopeIds:c.slotScopeIds,children:S,target:c.target,targetAnchor:c.targetAnchor,staticCount:c.staticCount,shapeFlag:c.shapeFlag,patchFlag:f&&c.type!==_a?m===-1?16:m|16:m,dynamicProps:c.dynamicProps,dynamicChildren:c.dynamicChildren,appContext:c.appContext,dirs:c.dirs,transition:c.transition,component:c.component,suspense:c.suspense,ssContent:c.ssContent&&df(c.ssContent),ssFallback:c.ssFallback&&df(c.ssFallback),el:c.el,anchor:c.anchor}}function SE(c=" ",f=0){return eo(np,null,c,f)}function Gz(c,f){const p=eo(wh,null,c);return p.staticCount=f,p}function Uz(c="",f=!1){return f?(X0(),EE(qa,null,c)):eo(qa,null,c)}function Vs(c){return c==null||typeof c=="boolean"?eo(qa):nn(c)?eo(_a,null,c.slice()):typeof c=="object"?pf(c):eo(np,null,String(c))}function pf(c){return c.el===null||c.memo?c:df(c)}function wE(c,f){let p=0;const{shapeFlag:u}=c;if(f==null)f=null;else if(nn(f))p=16;else if(typeof f=="object")if(u&(1|64)){const g=f.default;g&&(g._c&&(g._d=!1),wE(c,g()),g._c&&(g._d=!0));return}else{p=32;const g=f._;!g&&!(K0 in f)?f._ctx=zs:g===3&&zs&&(zs.slots._===1?f._=1:(f._=2,c.patchFlag|=1024))}else kn(f)?(f={default:f,_ctx:zs},p=32):(f=String(f),u&64?(p=16,f=[SE(f)]):p=8);c.children=f,c.shapeFlag|=p}function bT(...c){const f={};for(let p=0;p<c.length;p++){const u=c[p];for(const g in u)if(g==="class")f.class!==u.class&&(f.class=Uv([f.class,u.class]));else if(g==="style")f.style=Gv([f.style,u.style]);else if(kv(g)){const m=f[g],S=u[g];m!==S&&!(nn(m)&&m.includes(S))&&(f[g]=m?[].concat(m,S):S)}else g!==""&&(f[g]=u[g])}return f}function _s(c,f,p,u=null){Ws(c,f,7,[p,u])}function kz(c,f,p,u){let g;const m=p&&p[u];if(nn(c)||Lo(c)){g=new Array(c.length);for(let S=0,A=c.length;S<A;S++)g[S]=f(c[S],S,void 0,m&&m[S])}else if(typeof c=="number"){g=new Array(c);for(let S=0;S<c;S++)g[S]=f(S+1,S,void 0,m&&m[S])}else if(Ao(c))if(c[Symbol.iterator])g=Array.from(c,(S,A)=>f(S,A,void 0,m&&m[A]));else{const S=Object.keys(c);g=new Array(S.length);for(let A=0,R=S.length;A<R;A++){const j=S[A];g[A]=f(c[j],j,A,m&&m[A])}}else g=[];return p&&(p[u]=g),g}function zz(c,f){for(let p=0;p<f.length;p++){const u=f[p];if(nn(u))for(let g=0;g<u.length;g++)c[u[g].name]=u[g].fn;else u&&(c[u.name]=u.fn)}return c}function Vz(c,f,p={},u,g){if(zs.isCE)return eo("slot",f==="default"?null:{name:f},u&&u());let m=c[f];m&&m._c&&(m._d=!1),X0();const S=m&&CT(m(p)),A=EE(_a,{key:p.key||`_${f}`},S||(u?u():[]),S&&c._===1?64:-2);return!g&&A.scopeId&&(A.slotScopeIds=[A.scopeId+"-s"]),m&&m._c&&(m._d=!0),A}function CT(c){return c.some(f=>hf(f)?!(f.type===qa||f.type===_a&&!CT(f.children)):!0)?c:null}function Wz(c){const f={};for(const p in c)f[Wv(p)]=c[p];return f}const OE=c=>c?AT(c)?LE(c)||c.proxy:OE(c.parent):null,$0=Co(Object.create(null),{$:c=>c,$el:c=>c.vnode.el,$data:c=>c.data,$props:c=>c.props,$attrs:c=>c.attrs,$slots:c=>c.slots,$refs:c=>c.refs,$parent:c=>OE(c.parent),$root:c=>OE(c.root),$emit:c=>c.emit,$options:c=>iT(c),$forceUpdate:c=>()=>ME(c.update),$nextTick:c=>tm.bind(c.proxy),$watch:c=>fV.bind(c)}),TE={get({_:c},f){const{ctx:p,setupState:u,data:g,props:m,accessCache:S,type:A,appContext:R}=c;let j;if(f[0]!=="$"){const X=S[f];if(X!==void 0)switch(X){case 1:return u[f];case 2:return g[f];case 4:return p[f];case 3:return m[f]}else{if(u!==Fi&&Ti(u,f))return S[f]=1,u[f];if(g!==Fi&&Ti(g,f))return S[f]=2,g[f];if((j=c.propsOptions[0])&&Ti(j,f))return S[f]=3,m[f];if(p!==Fi&&Ti(p,f))return S[f]=4,p[f];cE&&(S[f]=0)}}const U=$0[f];let P,B;if(U)return f==="$attrs"&&ks(c,"get",f),U(c);if((P=A.__cssModules)&&(P=P[f]))return P;if(p!==Fi&&Ti(p,f))return S[f]=4,p[f];if(B=R.config.globalProperties,Ti(B,f))return B[f]},set({_:c},f,p){const{data:u,setupState:g,ctx:m}=c;if(g!==Fi&&Ti(g,f))g[f]=p;else if(u!==Fi&&Ti(u,f))u[f]=p;else if(Ti(c.props,f))return!1;return f[0]==="$"&&f.slice(1)in c?!1:(m[f]=p,!0)},has({_:{data:c,setupState:f,accessCache:p,ctx:u,appContext:g,propsOptions:m}},S){let A;return!!p[S]||c!==Fi&&Ti(c,S)||f!==Fi&&Ti(f,S)||(A=m[0])&&Ti(A,S)||Ti(u,S)||Ti($0,S)||Ti(g.config.globalProperties,S)}},Yz=Co({},TE,{get(c,f){if(f!==Symbol.unscopables)return TE.get(c,f,c)},has(c,f){return f[0]!=="_"&&!WU(f)}}),Hz=vT();let Xz=0;function LT(c,f,p){const u=c.type,g=(f?f.appContext:c.appContext)||Hz,m={uid:Xz++,vnode:c,type:u,parent:f,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,scope:new U2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:f?f.provides:Object.create(g.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sT(u,g),emitsOptions:kO(u,g),emit:null,emitted:null,propsDefaults:Fi,inheritAttrs:u.inheritAttrs,ctx:Fi,data:Fi,props:Fi,attrs:Fi,slots:Fi,refs:Fi,setupState:Fi,setupContext:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return m.ctx={_:m},m.root=f?f.root:m,m.emit=Xk.bind(null,m),c.ce&&c.ce(m),m}let qo=null;const vf=()=>qo||zs,gf=c=>{qo=c,c.scope.on()},yf=()=>{qo&&qo.scope.off(),qo=null};function AT(c){return c.vnode.shapeFlag&4}let sg=!1;function RT(c,f=!1){sg=f;const{props:p,children:u}=c.vnode,g=AT(c);mz(c,p,g,f),xz(c,u);const m=g?Kz(c,f):void 0;return sg=!1,m}function Kz(c,f){const p=c.type;c.accessCache=Object.create(null),c.proxy=$2(new Proxy(c.ctx,TE));const{setup:u}=p;if(u){const g=c.setupContext=u.length>1?MT(c):null;gf(c),mh();const m=Mu(u,c,0,[c.props,g]);if(uf(),yf(),B2(m)){if(m.then(yf,yf),f)return m.then(S=>{bE(c,S,f)}).catch(S=>{Oh(S,c,0)});c.asyncDep=m}else bE(c,m,f)}else PT(c,f)}function bE(c,f,p){kn(f)?c.type.__ssrInlineRender?c.ssrRender=f:c.render=f:Ao(f)&&(c.setupState=Q2(f)),PT(c,p)}let J0,CE;function Zz(c){J0=c,CE=f=>{f.render._rc&&(f.withProxy=new Proxy(f.ctx,Yz))}}const $z=()=>!J0;function PT(c,f,p){const u=c.type;if(!c.render){if(!f&&J0&&!u.render){const g=u.template;if(g){const{isCustomElement:m,compilerOptions:S}=c.appContext.config,{delimiters:A,compilerOptions:R}=u,j=Co(Co({isCustomElement:m,delimiters:A},S),R);u.render=J0(g,j)}}c.render=u.render||Ql,CE&&CE(c)}gf(c),mh(),dz(c),uf(),yf()}function Jz(c){return new Proxy(c.attrs,{get(f,p){return ks(c,"get","$attrs"),f[p]}})}function MT(c){const f=u=>{c.exposed=u||{}};let p;return{get attrs(){return p||(p=Jz(c))},slots:c.slots,emit:c.emit,expose:f}}function LE(c){if(c.exposed)return c.exposeProxy||(c.exposeProxy=new Proxy(Q2($2(c.exposed)),{get(f,p){if(p in f)return f[p];if(p in $0)return $0[p](c)}}))}const qz=/(?:^|[-_])(\w)/g,Qz=c=>c.replace(qz,f=>f.toUpperCase()).replace(/[-_]/g,"");function q0(c){return kn(c)&&c.displayName||c.name}function IT(c,f,p=!1){let u=q0(f);if(!u&&f.__file){const g=f.__file.match(/([^/\\]+)\.\w+$/);g&&(u=g[1])}if(!u&&c&&c.parent){const g=m=>{for(const S in m)if(m[S]===f)return S};u=g(c.components||c.parent.type.components)||g(c.appContext.components)}return u?Qz(u):p?"App":"Anonymous"}function tV(c){return kn(c)&&"__vccOpts"in c}const lg=[];function NT(c,...f){mh();const p=lg.length?lg[lg.length-1].component:null,u=p&&p.appContext.config.warnHandler,g=eV();if(u)Mu(u,p,11,[c+f.join(""),p&&p.proxy,g.map(({vnode:m})=>`at <${IT(p,m.type)}>`).join(`
`),g]);else{const m=[`[Vue warn]: ${c}`,...f];g.length&&m.push(`
`,...rV(g)),console.warn(...m)}uf()}function eV(){let c=lg[lg.length-1];if(!c)return[];const f=[];for(;c;){const p=f[0];p&&p.vnode===c?p.recurseCount++:f.push({vnode:c,recurseCount:0});const u=c.component&&c.component.parent;c=u&&u.vnode}return f}function rV(c){const f=[];return c.forEach((p,u)=>{f.push(...u===0?[]:[`
`],...nV(p))}),f}function nV({vnode:c,recurseCount:f}){const p=f>0?`... (${f} recursive calls)`:"",u=c.component?c.component.parent==null:!1,g=` at <${IT(c.component,c.type,u)}`,m=">"+p;return c.props?[g,...iV(c.props),m]:[g+m]}function iV(c){const f=[],p=Object.keys(c);return p.slice(0,3).forEach(u=>{f.push(...FT(u,c[u]))}),p.length>3&&f.push(" ..."),f}function FT(c,f,p){return Lo(f)?(f=JSON.stringify(f),p?f:[`${c}=${f}`]):typeof f=="number"||typeof f=="boolean"||f==null?p?f:[`${c}=${f}`]:ca(f)?(f=FT(c,gi(f.value),!0),p?f:[`${c}=Ref<`,f,">"]):kn(f)?[`${c}=fn${f.name?`<${f.name}>`:""}`]:(f=gi(f),p?f:[`${c}=`,f])}function Mu(c,f,p,u){let g;try{g=u?c(...u):c()}catch(m){Oh(m,f,p)}return g}function Ws(c,f,p,u){if(kn(c)){const m=Mu(c,f,p,u);return m&&B2(m)&&m.catch(S=>{Oh(S,f,p)}),m}const g=[];for(let m=0;m<c.length;m++)g.push(Ws(c[m],f,p,u));return g}function Oh(c,f,p,u=!0){const g=f?f.vnode:null;if(f){let m=f.parent;const S=f.proxy,A=p;for(;m;){const j=m.ec;if(j){for(let U=0;U<j.length;U++)if(j[U](c,S,A)===!1)return}m=m.parent}const R=f.appContext.config.errorHandler;if(R){Mu(R,null,10,[c,S,A]);return}}oV(c,p,g,u)}function oV(c,f,p,u=!0){console.error(c)}let Q0=!1,AE=!1;const Ys=[];let nc=0;const ug=[];let cg=null,op=0;const fg=[];let mf=null,ap=0;const jT=Promise.resolve();let RE=null,PE=null;function tm(c){const f=RE||jT;return c?f.then(this?c.bind(this):c):f}function aV(c){let f=nc+1,p=Ys.length;for(;f<p;){const u=f+p>>>1;hg(Ys[u])<c?f=u+1:p=u}return f}function ME(c){(!Ys.length||!Ys.includes(c,Q0&&c.allowRecurse?nc+1:nc))&&c!==PE&&(c.id==null?Ys.push(c):Ys.splice(aV(c.id),0,c),DT())}function DT(){!Q0&&!AE&&(AE=!0,RE=jT.then(GT))}function sV(c){const f=Ys.indexOf(c);f>nc&&Ys.splice(f,1)}function BT(c,f,p,u){nn(c)?p.push(...c):(!f||!f.includes(c,c.allowRecurse?u+1:u))&&p.push(c),DT()}function lV(c){BT(c,cg,ug,op)}function IE(c){BT(c,mf,fg,ap)}function NE(c,f=null){if(ug.length){for(PE=f,cg=[...new Set(ug)],ug.length=0,op=0;op<cg.length;op++)cg[op]();cg=null,op=0,PE=null,NE(c,f)}}function em(c){if(fg.length){const f=[...new Set(fg)];if(fg.length=0,mf){mf.push(...f);return}for(mf=f,mf.sort((p,u)=>hg(p)-hg(u)),ap=0;ap<mf.length;ap++)mf[ap]();mf=null,ap=0}}const hg=c=>c.id==null?1/0:c.id;function GT(c){AE=!1,Q0=!0,NE(c),Ys.sort((p,u)=>hg(p)-hg(u));const f=Ql;try{for(nc=0;nc<Ys.length;nc++){const p=Ys[nc];p&&p.active!==!1&&Mu(p,null,14)}}finally{nc=0,Ys.length=0,em(),Q0=!1,RE=null,(Ys.length||ug.length||fg.length)&&GT(c)}}function uV(c,f){return dg(c,null,f)}function UT(c,f){return dg(c,null,{flush:"post"})}function cV(c,f){return dg(c,null,{flush:"sync"})}const kT={};function sp(c,f,p){return dg(c,f,p)}function dg(c,f,{immediate:p,deep:u,flush:g,onTrack:m,onTrigger:S}=Fi){const A=qo;let R,j=!1,U=!1;if(ca(c)?(R=()=>c.value,j=!!c._shallow):_h(c)?(R=()=>c,u=!0):nn(c)?(U=!0,j=c.some(_h),R=()=>c.map(nt=>{if(ca(nt))return nt.value;if(_h(nt))return Th(nt);if(kn(nt))return Mu(nt,A,2)})):kn(c)?f?R=()=>Mu(c,A,2):R=()=>{if(!(A&&A.isUnmounted))return P&&P(),Ws(c,A,3,[B])}:R=Ql,f&&u){const nt=R;R=()=>Th(nt())}let P,B=nt=>{P=J.onStop=()=>{Mu(nt,A,4)}};if(sg)return B=Ql,f?p&&Ws(f,A,3,[R(),U?[]:void 0,B]):R(),Ql;let X=U?[]:kT;const W=()=>{if(!!J.active)if(f){const nt=J.run();(u||j||(U?nt.some((Q,St)=>Yv(Q,X[St])):Yv(nt,X)))&&(P&&P(),Ws(f,A,3,[nt,X===kT?void 0:X,B]),X=nt)}else J.run()};W.allowRecurse=!!f;let $;g==="sync"?$=W:g==="post"?$=()=>ma(W,A&&A.suspense):$=()=>{!A||A.isMounted?lV(W):W()};const J=new Kv(R,$);return f?p?W():X=J.run():g==="post"?ma(J.run.bind(J),A&&A.suspense):J.run(),()=>{J.stop(),A&&A.scope&&j2(A.scope.effects,J)}}function fV(c,f,p){const u=this.proxy,g=Lo(c)?c.includes(".")?zT(u,c):()=>u[c]:c.bind(u,u);let m;kn(f)?m=f:(m=f.handler,p=f);const S=qo;gf(this);const A=dg(g,m.bind(u),p);return S?gf(S):yf(),A}function zT(c,f){const p=f.split(".");return()=>{let u=c;for(let g=0;g<p.length&&u;g++)u=u[p[g]];return u}}function Th(c,f){if(!Ao(c)||c.__v_skip||(f=f||new Set,f.has(c)))return c;if(f.add(c),ca(c))Th(c.value,f);else if(nn(c))for(let p=0;p<c.length;p++)Th(c[p],f);else if(vh(c)||Zd(c))c.forEach(p=>{Th(p,f)});else if(vO(c))for(const p in c)Th(c[p],f);return c}function hV(){return null}function dV(){return null}function pV(c){}function vV(c,f){return null}function gV(){return VT().slots}function yV(){return VT().attrs}function VT(){const c=vf();return c.setupContext||(c.setupContext=MT(c))}function mV(c,f){const p=nn(c)?c.reduce((u,g)=>(u[g]={},u),{}):c;for(const u in f){const g=p[u];g?nn(g)||kn(g)?p[u]={type:g,default:f[u]}:g.default=f[u]:g===null&&(p[u]={default:f[u]})}return p}function _V(c,f){const p={};for(const u in c)f.includes(u)||Object.defineProperty(p,u,{enumerable:!0,get:()=>c[u]});return p}function EV(c){const f=vf();let p=c();return yf(),B2(p)&&(p=p.catch(u=>{throw gf(f),u})),[p,()=>gf(f)]}function rm(c,f,p){const u=arguments.length;return u===2?Ao(f)&&!nn(f)?hf(f)?eo(c,null,[f]):eo(c,f):eo(c,null,f):(u>3?p=Array.prototype.slice.call(arguments,2):u===3&&hf(p)&&(p=[p]),eo(c,f,p))}const WT=Symbol(""),xV=()=>{{const c=xl(WT);return c||NT("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),c}};function SV(){}function wV(c,f,p,u){const g=p[u];if(g&&YT(g,c))return g;const m=f();return m.memo=c.slice(),p[u]=m}function YT(c,f){const p=c.memo;if(p.length!=f.length)return!1;for(let u=0;u<p.length;u++)if(p[u]!==f[u])return!1;return ip>0&&Ru&&Ru.push(c),!0}const HT="3.2.26",OV={createComponentInstance:LT,setupComponent:RT,renderComponentRoot:D0,setCurrentRenderingInstance:Jv,isVNode:hf,normalizeVNode:Vs},TV=OV,bV=null,CV=null,LV="http://www.w3.org/2000/svg",lp=typeof document!="undefined"?document:null,XT=new Map,AV={insert:(c,f,p)=>{f.insertBefore(c,p||null)},remove:c=>{const f=c.parentNode;f&&f.removeChild(c)},createElement:(c,f,p,u)=>{const g=f?lp.createElementNS(LV,c):lp.createElement(c,p?{is:p}:void 0);return c==="select"&&u&&u.multiple!=null&&g.setAttribute("multiple",u.multiple),g},createText:c=>lp.createTextNode(c),createComment:c=>lp.createComment(c),setText:(c,f)=>{c.nodeValue=f},setElementText:(c,f)=>{c.textContent=f},parentNode:c=>c.parentNode,nextSibling:c=>c.nextSibling,querySelector:c=>lp.querySelector(c),setScopeId(c,f){c.setAttribute(f,"")},cloneNode(c){const f=c.cloneNode(!0);return"_value"in c&&(f._value=c._value),f},insertStaticContent(c,f,p,u){const g=p?p.previousSibling:f.lastChild;let m=XT.get(c);if(!m){const S=lp.createElement("template");if(S.innerHTML=u?`<svg>${c}</svg>`:c,m=S.content,u){const A=m.firstChild;for(;A.firstChild;)m.appendChild(A.firstChild);m.removeChild(A)}XT.set(c,m)}return f.insertBefore(m.cloneNode(!0),p),[g?g.nextSibling:f.firstChild,p?p.previousSibling:f.lastChild]}};function RV(c,f,p){const u=c._vtc;u&&(f=(f?[f,...u]:[...u]).join(" ")),f==null?c.removeAttribute("class"):p?c.setAttribute("class",f):c.className=f}function PV(c,f,p){const u=c.style,g=Lo(p);if(p&&!g){for(const m in p)FE(u,m,p[m]);if(f&&!Lo(f))for(const m in f)p[m]==null&&FE(u,m,"")}else{const m=u.display;g?f!==p&&(u.cssText=p):f&&c.removeAttribute("style"),"_vod"in c&&(u.display=m)}}const KT=/\s*!important$/;function FE(c,f,p){if(nn(p))p.forEach(u=>FE(c,f,u));else if(f.startsWith("--"))c.setProperty(f,p);else{const u=MV(c,f);KT.test(p)?c.setProperty(Cu(u),p.replace(KT,""),"important"):c[u]=p}}const ZT=["Webkit","Moz","ms"],jE={};function MV(c,f){const p=jE[f];if(p)return p;let u=Us(f);if(u!=="filter"&&u in c)return jE[f]=u;u=Vv(u);for(let g=0;g<ZT.length;g++){const m=ZT[g]+u;if(m in c)return jE[f]=m}return f}const $T="http://www.w3.org/1999/xlink";function IV(c,f,p,u,g){if(u&&f.startsWith("xlink:"))p==null?c.removeAttributeNS($T,f.slice(6,f.length)):c.setAttributeNS($T,f,p);else{const m=HU(f);p==null||m&&!fO(p)?c.removeAttribute(f):c.setAttribute(f,m?"":p)}}function NV(c,f,p,u,g,m,S){if(f==="innerHTML"||f==="textContent"){u&&S(u,g,m),c[f]=p==null?"":p;return}if(f==="value"&&c.tagName!=="PROGRESS"&&!c.tagName.includes("-")){c._value=p;const A=p==null?"":p;(c.value!==A||c.tagName==="OPTION")&&(c.value=A),p==null&&c.removeAttribute(f);return}if(p===""||p==null){const A=typeof c[f];if(A==="boolean"){c[f]=fO(p);return}else if(p==null&&A==="string"){c[f]="",c.removeAttribute(f);return}else if(A==="number"){try{c[f]=0}catch{}c.removeAttribute(f);return}}try{c[f]=p}catch{}}let nm=Date.now,JT=!1;if(typeof window!="undefined"){nm()>document.createEvent("Event").timeStamp&&(nm=()=>performance.now());const c=navigator.userAgent.match(/firefox\/(\d+)/i);JT=!!(c&&Number(c[1])<=53)}let DE=0;const FV=Promise.resolve(),jV=()=>{DE=0},DV=()=>DE||(FV.then(jV),DE=nm());function ic(c,f,p,u){c.addEventListener(f,p,u)}function BV(c,f,p,u){c.removeEventListener(f,p,u)}function GV(c,f,p,u,g=null){const m=c._vei||(c._vei={}),S=m[f];if(u&&S)S.value=u;else{const[A,R]=UV(f);if(u){const j=m[f]=kV(u,g);ic(c,A,j,R)}else S&&(BV(c,A,S,R),m[f]=void 0)}}const qT=/(?:Once|Passive|Capture)$/;function UV(c){let f;if(qT.test(c)){f={};let p;for(;p=c.match(qT);)c=c.slice(0,c.length-p[0].length),f[p[0].toLowerCase()]=!0}return[Cu(c.slice(2)),f]}function kV(c,f){const p=u=>{const g=u.timeStamp||nm();(JT||g>=p.attached-1)&&Ws(zV(u,p.value),f,5,[u])};return p.value=c,p.attached=DV(),p}function zV(c,f){if(nn(f)){const p=c.stopImmediatePropagation;return c.stopImmediatePropagation=()=>{p.call(c),c._stopped=!0},f.map(u=>g=>!g._stopped&&u(g))}else return f}const QT=/^on[a-z]/,VV=(c,f,p,u,g=!1,m,S,A,R)=>{f==="class"?RV(c,u,g):f==="style"?PV(c,p,u):kv(f)?F2(f)||GV(c,f,p,u,S):(f[0]==="."?(f=f.slice(1),!0):f[0]==="^"?(f=f.slice(1),!1):WV(c,f,u,g))?NV(c,f,u,m,S,A,R):(f==="true-value"?c._trueValue=u:f==="false-value"&&(c._falseValue=u),IV(c,f,u,g))};function WV(c,f,p,u){return u?!!(f==="innerHTML"||f==="textContent"||f in c&&QT.test(f)&&kn(p)):f==="spellcheck"||f==="draggable"||f==="form"||f==="list"&&c.tagName==="INPUT"||f==="type"&&c.tagName==="TEXTAREA"||QT.test(f)&&Lo(p)?!1:f in c}function tb(c,f){const p=tg(c);class u extends im{constructor(m){super(p,m,f)}}return u.def=p,u}const YV=c=>tb(c,wb),HV=typeof HTMLElement!="undefined"?HTMLElement:class{};class im extends HV{constructor(f,p={},u){super();this._def=f,this._props=p,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&u?u(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,tm(()=>{this._connected||(VE(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let u=0;u<this.attributes.length;u++)this._setAttr(this.attributes[u].name);new MutationObserver(u=>{for(const g of u)this._setAttr(g.attributeName)}).observe(this,{attributes:!0});const f=u=>{const{props:g,styles:m}=u,S=!nn(g),A=g?S?Object.keys(g):g:[];let R;if(S)for(const j in this._props){const U=g[j];(U===Number||U&&U.type===Number)&&(this._props[j]=sf(this._props[j]),(R||(R=Object.create(null)))[j]=!0)}this._numberProps=R;for(const j of Object.keys(this))j[0]!=="_"&&this._setProp(j,this[j],!0,!1);for(const j of A.map(Us))Object.defineProperty(this,j,{get(){return this._getProp(j)},set(U){this._setProp(j,U)}});this._applyStyles(m),this._update()},p=this._def.__asyncLoader;p?p().then(f):f(this._def)}_setAttr(f){let p=this.getAttribute(f);this._numberProps&&this._numberProps[f]&&(p=sf(p)),this._setProp(Us(f),p,!1)}_getProp(f){return this._props[f]}_setProp(f,p,u=!0,g=!0){p!==this._props[f]&&(this._props[f]=p,g&&this._instance&&this._update(),u&&(p===!0?this.setAttribute(Cu(f),""):typeof p=="string"||typeof p=="number"?this.setAttribute(Cu(f),p+""):p||this.removeAttribute(Cu(f))))}_update(){VE(this._createVNode(),this.shadowRoot)}_createVNode(){const f=eo(this._def,Co({},this._props));return this._instance||(f.ce=p=>{this._instance=p,p.isCE=!0,p.emit=(g,...m)=>{this.dispatchEvent(new CustomEvent(g,{detail:m}))};let u=this;for(;u=u&&(u.parentNode||u.host);)if(u instanceof im){p.parent=u._instance;break}}),f}_applyStyles(f){f&&f.forEach(p=>{const u=document.createElement("style");u.textContent=p,this.shadowRoot.appendChild(u)})}}function XV(c="$style"){{const f=vf();if(!f)return Fi;const p=f.type.__cssModules;if(!p)return Fi;const u=p[c];return u||Fi}}function KV(c){const f=vf();if(!f)return;const p=()=>BE(f.subTree,c(f.proxy));UT(p),ig(()=>{const u=new MutationObserver(p);u.observe(f.subTree.el.parentNode,{childList:!0}),z0(()=>u.disconnect())})}function BE(c,f){if(c.shapeFlag&128){const p=c.suspense;c=p.activeBranch,p.pendingBranch&&!p.isHydrating&&p.effects.push(()=>{BE(p.activeBranch,f)})}for(;c.component;)c=c.component.subTree;if(c.shapeFlag&1&&c.el)eb(c.el,f);else if(c.type===_a)c.children.forEach(p=>BE(p,f));else if(c.type===wh){let{el:p,anchor:u}=c;for(;p&&(eb(p,f),p!==u);)p=p.nextSibling}}function eb(c,f){if(c.nodeType===1){const p=c.style;for(const u in f)p.setProperty(`--${u}`,f[u])}}const _f="transition",pg="animation",GE=(c,{slots:f})=>rm(oE,ib(c),f);GE.displayName="Transition";const rb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZV=GE.props=Co({},oE.props,rb),bh=(c,f=[])=>{nn(c)?c.forEach(p=>p(...f)):c&&c(...f)},nb=c=>c?nn(c)?c.some(f=>f.length>1):c.length>1:!1;function ib(c){const f={};for(const xt in c)xt in rb||(f[xt]=c[xt]);if(c.css===!1)return f;const{name:p="v",type:u,duration:g,enterFromClass:m=`${p}-enter-from`,enterActiveClass:S=`${p}-enter-active`,enterToClass:A=`${p}-enter-to`,appearFromClass:R=m,appearActiveClass:j=S,appearToClass:U=A,leaveFromClass:P=`${p}-leave-from`,leaveActiveClass:B=`${p}-leave-active`,leaveToClass:X=`${p}-leave-to`}=c,W=$V(g),$=W&&W[0],J=W&&W[1],{onBeforeEnter:nt,onEnter:Q,onEnterCancelled:St,onLeave:ot,onLeaveCancelled:M,onBeforeAppear:_t=nt,onAppear:Lt=Q,onAppearCancelled:Nt=St}=f,ct=(xt,Bt,qt)=>{Ch(xt,Bt?U:A),Ch(xt,Bt?j:S),qt&&qt()},Ut=(xt,Bt)=>{Ch(xt,X),Ch(xt,B),Bt&&Bt()},mt=xt=>(Bt,qt)=>{const Pe=xt?Lt:Q,q=()=>ct(Bt,xt,qt);bh(Pe,[Bt,q]),ob(()=>{Ch(Bt,xt?R:m),oc(Bt,xt?U:A),nb(Pe)||ab(Bt,u,$,q)})};return Co(f,{onBeforeEnter(xt){bh(nt,[xt]),oc(xt,m),oc(xt,S)},onBeforeAppear(xt){bh(_t,[xt]),oc(xt,R),oc(xt,j)},onEnter:mt(!1),onAppear:mt(!0),onLeave(xt,Bt){const qt=()=>Ut(xt,Bt);oc(xt,P),cb(),oc(xt,B),ob(()=>{Ch(xt,P),oc(xt,X),nb(ot)||ab(xt,u,J,qt)}),bh(ot,[xt,qt])},onEnterCancelled(xt){ct(xt,!1),bh(St,[xt])},onAppearCancelled(xt){ct(xt,!0),bh(Nt,[xt])},onLeaveCancelled(xt){Ut(xt),bh(M,[xt])}})}function $V(c){if(c==null)return null;if(Ao(c))return[UE(c.enter),UE(c.leave)];{const f=UE(c);return[f,f]}}function UE(c){return sf(c)}function oc(c,f){f.split(/\s+/).forEach(p=>p&&c.classList.add(p)),(c._vtc||(c._vtc=new Set)).add(f)}function Ch(c,f){f.split(/\s+/).forEach(u=>u&&c.classList.remove(u));const{_vtc:p}=c;p&&(p.delete(f),p.size||(c._vtc=void 0))}function ob(c){requestAnimationFrame(()=>{requestAnimationFrame(c)})}let JV=0;function ab(c,f,p,u){const g=c._endId=++JV,m=()=>{g===c._endId&&u()};if(p)return setTimeout(m,p);const{type:S,timeout:A,propCount:R}=sb(c,f);if(!S)return u();const j=S+"end";let U=0;const P=()=>{c.removeEventListener(j,B),m()},B=X=>{X.target===c&&++U>=R&&P()};setTimeout(()=>{U<R&&P()},A+1),c.addEventListener(j,B)}function sb(c,f){const p=window.getComputedStyle(c),u=W=>(p[W]||"").split(", "),g=u(_f+"Delay"),m=u(_f+"Duration"),S=lb(g,m),A=u(pg+"Delay"),R=u(pg+"Duration"),j=lb(A,R);let U=null,P=0,B=0;f===_f?S>0&&(U=_f,P=S,B=m.length):f===pg?j>0&&(U=pg,P=j,B=R.length):(P=Math.max(S,j),U=P>0?S>j?_f:pg:null,B=U?U===_f?m.length:R.length:0);const X=U===_f&&/\b(transform|all)(,|$)/.test(p[_f+"Property"]);return{type:U,timeout:P,propCount:B,hasTransform:X}}function lb(c,f){for(;c.length<f.length;)c=c.concat(c);return Math.max(...f.map((p,u)=>ub(p)+ub(c[u])))}function ub(c){return Number(c.slice(0,-1).replace(",","."))*1e3}function cb(){return document.body.offsetHeight}const fb=new WeakMap,hb=new WeakMap,qV={name:"TransitionGroup",props:Co({},ZV,{tag:String,moveClass:String}),setup(c,{slots:f}){const p=vf(),u=iE();let g,m;return U0(()=>{if(!g.length)return;const S=c.moveClass||`${c.name||"v"}-move`;if(!nW(g[0].el,p.vnode.el,S))return;g.forEach(tW),g.forEach(eW);const A=g.filter(rW);cb(),A.forEach(R=>{const j=R.el,U=j.style;oc(j,S),U.transform=U.webkitTransform=U.transitionDuration="";const P=j._moveCb=B=>{B&&B.target!==j||(!B||/transform$/.test(B.propertyName))&&(j.removeEventListener("transitionend",P),j._moveCb=null,Ch(j,S))};j.addEventListener("transitionend",P)})}),()=>{const S=gi(c),A=ib(S);let R=S.tag||_a;g=m,m=f.default?B0(f.default()):[];for(let j=0;j<m.length;j++){const U=m[j];U.key!=null&&Eh(U,rp(U,A,u,p))}if(g)for(let j=0;j<g.length;j++){const U=g[j];Eh(U,rp(U,A,u,p)),fb.set(U,U.el.getBoundingClientRect())}return eo(R,null,m)}}},QV=qV;function tW(c){const f=c.el;f._moveCb&&f._moveCb(),f._enterCb&&f._enterCb()}function eW(c){hb.set(c,c.el.getBoundingClientRect())}function rW(c){const f=fb.get(c),p=hb.get(c),u=f.left-p.left,g=f.top-p.top;if(u||g){const m=c.el.style;return m.transform=m.webkitTransform=`translate(${u}px,${g}px)`,m.transitionDuration="0s",c}}function nW(c,f,p){const u=c.cloneNode();c._vtc&&c._vtc.forEach(S=>{S.split(/\s+/).forEach(A=>A&&u.classList.remove(A))}),p.split(/\s+/).forEach(S=>S&&u.classList.add(S)),u.style.display="none";const g=f.nodeType===1?f:f.parentNode;g.appendChild(u);const{hasTransform:m}=sb(u);return g.removeChild(u),m}const Ef=c=>{const f=c.props["onUpdate:modelValue"];return nn(f)?p=>$d(f,p):f};function iW(c){c.target.composing=!0}function db(c){const f=c.target;f.composing&&(f.composing=!1,oW(f,"input"))}function oW(c,f){const p=document.createEvent("HTMLEvents");p.initEvent(f,!0,!0),c.dispatchEvent(p)}const om={created(c,{modifiers:{lazy:f,trim:p,number:u}},g){c._assign=Ef(g);const m=u||g.props&&g.props.type==="number";ic(c,f?"change":"input",S=>{if(S.target.composing)return;let A=c.value;p?A=A.trim():m&&(A=sf(A)),c._assign(A)}),p&&ic(c,"change",()=>{c.value=c.value.trim()}),f||(ic(c,"compositionstart",iW),ic(c,"compositionend",db),ic(c,"change",db))},mounted(c,{value:f}){c.value=f==null?"":f},beforeUpdate(c,{value:f,modifiers:{lazy:p,trim:u,number:g}},m){if(c._assign=Ef(m),c.composing||document.activeElement===c&&(p||u&&c.value.trim()===f||(g||c.type==="number")&&sf(c.value)===f))return;const S=f==null?"":f;c.value!==S&&(c.value=S)}},kE={deep:!0,created(c,f,p){c._assign=Ef(p),ic(c,"change",()=>{const u=c._modelValue,g=up(c),m=c.checked,S=c._assign;if(nn(u)){const A=_0(u,g),R=A!==-1;if(m&&!R)S(u.concat(g));else if(!m&&R){const j=[...u];j.splice(A,1),S(j)}}else if(vh(u)){const A=new Set(u);m?A.add(g):A.delete(g),S(A)}else S(yb(c,m))})},mounted:pb,beforeUpdate(c,f,p){c._assign=Ef(p),pb(c,f,p)}};function pb(c,{value:f,oldValue:p},u){c._modelValue=f,nn(f)?c.checked=_0(f,u.props.value)>-1:vh(f)?c.checked=f.has(u.props.value):f!==p&&(c.checked=af(f,yb(c,!0)))}const zE={created(c,{value:f},p){c.checked=af(f,p.props.value),c._assign=Ef(p),ic(c,"change",()=>{c._assign(up(c))})},beforeUpdate(c,{value:f,oldValue:p},u){c._assign=Ef(u),f!==p&&(c.checked=af(f,u.props.value))}},vb={deep:!0,created(c,{value:f,modifiers:{number:p}},u){const g=vh(f);ic(c,"change",()=>{const m=Array.prototype.filter.call(c.options,S=>S.selected).map(S=>p?sf(up(S)):up(S));c._assign(c.multiple?g?new Set(m):m:m[0])}),c._assign=Ef(u)},mounted(c,{value:f}){gb(c,f)},beforeUpdate(c,f,p){c._assign=Ef(p)},updated(c,{value:f}){gb(c,f)}};function gb(c,f){const p=c.multiple;if(!(p&&!nn(f)&&!vh(f))){for(let u=0,g=c.options.length;u<g;u++){const m=c.options[u],S=up(m);if(p)nn(f)?m.selected=_0(f,S)>-1:m.selected=f.has(S);else if(af(up(m),f)){c.selectedIndex!==u&&(c.selectedIndex=u);return}}!p&&c.selectedIndex!==-1&&(c.selectedIndex=-1)}}function up(c){return"_value"in c?c._value:c.value}function yb(c,f){const p=f?"_trueValue":"_falseValue";return p in c?c[p]:f}const aW={created(c,f,p){am(c,f,p,null,"created")},mounted(c,f,p){am(c,f,p,null,"mounted")},beforeUpdate(c,f,p,u){am(c,f,p,u,"beforeUpdate")},updated(c,f,p,u){am(c,f,p,u,"updated")}};function am(c,f,p,u,g){let m;switch(c.tagName){case"SELECT":m=vb;break;case"TEXTAREA":m=om;break;default:switch(p.props&&p.props.type){case"checkbox":m=kE;break;case"radio":m=zE;break;default:m=om}}const S=m[g];S&&S(c,f,p,u)}function sW(){om.getSSRProps=({value:c})=>({value:c}),zE.getSSRProps=({value:c},f)=>{if(f.props&&af(f.props.value,c))return{checked:!0}},kE.getSSRProps=({value:c},f)=>{if(nn(c)){if(f.props&&_0(c,f.props.value)>-1)return{checked:!0}}else if(vh(c)){if(f.props&&c.has(f.props.value))return{checked:!0}}else if(c)return{checked:!0}}}const lW=["ctrl","shift","alt","meta"],uW={stop:c=>c.stopPropagation(),prevent:c=>c.preventDefault(),self:c=>c.target!==c.currentTarget,ctrl:c=>!c.ctrlKey,shift:c=>!c.shiftKey,alt:c=>!c.altKey,meta:c=>!c.metaKey,left:c=>"button"in c&&c.button!==0,middle:c=>"button"in c&&c.button!==1,right:c=>"button"in c&&c.button!==2,exact:(c,f)=>lW.some(p=>c[`${p}Key`]&&!f.includes(p))},cW=(c,f)=>(p,...u)=>{for(let g=0;g<f.length;g++){const m=uW[f[g]];if(m&&m(p,f))return}return c(p,...u)},fW={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hW=(c,f)=>p=>{if(!("key"in p))return;const u=Cu(p.key);if(f.some(g=>g===u||fW[g]===u))return c(p)},mb={beforeMount(c,{value:f},{transition:p}){c._vod=c.style.display==="none"?"":c.style.display,p&&f?p.beforeEnter(c):vg(c,f)},mounted(c,{value:f},{transition:p}){p&&f&&p.enter(c)},updated(c,{value:f,oldValue:p},{transition:u}){!f!=!p&&(u?f?(u.beforeEnter(c),vg(c,!0),u.enter(c)):u.leave(c,()=>{vg(c,!1)}):vg(c,f))},beforeUnmount(c,{value:f}){vg(c,f)}};function vg(c,f){c.style.display=f?c._vod:"none"}function dW(){mb.getSSRProps=({value:c})=>{if(!c)return{style:{display:"none"}}}}const _b=Co({patchProp:VV},AV);let gg,Eb=!1;function xb(){return gg||(gg=gT(_b))}function Sb(){return gg=Eb?gg:yT(_b),Eb=!0,gg}const VE=(...c)=>{xb().render(...c)},wb=(...c)=>{Sb().hydrate(...c)},pW=(...c)=>{const f=xb().createApp(...c),{mount:p}=f;return f.mount=u=>{const g=Ob(u);if(!g)return;const m=f._component;!kn(m)&&!m.render&&!m.template&&(m.template=g.innerHTML),g.innerHTML="";const S=p(g,!1,g instanceof SVGElement);return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),S},f},vW=(...c)=>{const f=Sb().createApp(...c),{mount:p}=f;return f.mount=u=>{const g=Ob(u);if(g)return p(g,!0,g instanceof SVGElement)},f};function Ob(c){return Lo(c)?document.querySelector(c):c}let Tb=!1;const gW=()=>{Tb||(Tb=!0,sW(),dW())},yW=()=>{};var mW=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:yW,EffectScope:U2,ReactiveEffect:Kv,computed:tu,customRef:Vk,effect:fk,effectScope:ak,getCurrentScope:sk,isProxy:Z2,isReactive:_h,isReadonly:I0,isRef:ca,markRaw:$2,onScopeDispose:lk,proxyRefs:Q2,reactive:qd,readonly:K2,ref:$v,shallowReactive:jO,shallowReadonly:Bk,shallowRef:DO,stop:hk,toRaw:gi,toRef:GO,toRefs:Wk,triggerRef:Uk,unref:Qd,camelize:Us,capitalize:Vv,normalizeClass:Uv,normalizeProps:$U,normalizeStyle:Gv,toDisplayString:qU,toHandlerKey:Wv,BaseTransition:oE,Comment:qa,Fragment:_a,KeepAlive:fz,Static:wh,Suspense:nz,Teleport:Pz,Text:np,callWithAsyncErrorHandling:Ws,callWithErrorHandling:Mu,cloneVNode:df,compatUtils:CV,createBlock:EE,createCommentVNode:Uz,createElementBlock:jz,createElementVNode:xE,createHydrationRenderer:yT,createPropsRestProxy:_V,createRenderer:gT,createSlots:zz,createStaticVNode:Gz,createTextVNode:SE,createVNode:eo,defineAsyncComponent:uz,defineComponent:tg,defineEmits:dV,defineExpose:pV,defineProps:hV,get devtools(){return tp},getCurrentInstance:vf,getTransitionRawChildren:B0,guardReactiveProps:TT,h:rm,handleError:Oh,initCustomFormatter:SV,inject:xl,isMemoSame:YT,isRuntimeOnly:$z,isVNode:hf,mergeDefaults:mV,mergeProps:bT,nextTick:tm,onActivated:XO,onBeforeMount:$O,onBeforeUnmount:k0,onBeforeUpdate:JO,onDeactivated:KO,onErrorCaptured:eT,onMounted:ig,onRenderTracked:tT,onRenderTriggered:QO,onServerPrefetch:qO,onUnmounted:z0,onUpdated:U0,openBlock:X0,popScopeId:Zk,provide:Qv,pushScopeId:Kk,queuePostFlushCb:IE,registerRuntimeCompiler:Zz,renderList:kz,renderSlot:Vz,resolveComponent:Iz,resolveDirective:Fz,resolveDynamicComponent:Nz,resolveFilter:bV,resolveTransitionHooks:rp,setBlockTracking:_E,setDevtoolsHook:UO,setTransitionHooks:Eh,ssrContextKey:WT,ssrUtils:TV,toHandlers:Wz,transformVNodeArgs:Dz,useAttrs:yV,useSSRContext:xV,useSlots:gV,useTransitionState:iE,version:HT,warn:NT,watch:sp,watchEffect:uV,watchPostEffect:UT,watchSyncEffect:cV,withAsyncContext:EV,withCtx:eE,withDefaults:vV,withDirectives:wz,withMemo:wV,withScopeId:$k,Transition:GE,TransitionGroup:QV,VueElement:im,createApp:pW,createSSRApp:vW,defineCustomElement:tb,defineSSRCustomElement:YV,hydrate:wb,initDirectivesForSSR:gW,render:VE,useCssModule:XV,useCssVars:KV,vModelCheckbox:kE,vModelDynamic:aW,vModelRadio:zE,vModelSelect:vb,vModelText:om,vShow:mb,withKeys:hW,withModifiers:cW});/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const bb=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",cp=c=>bb?Symbol(c):"_vr_"+c,_W=cp("rvlm"),Cb=cp("rvd"),sm=cp("r"),WE=cp("rl"),YE=cp("rvl"),fp=typeof window!="undefined";function EW(c){return c.__esModule||bb&&c[Symbol.toStringTag]==="Module"}const Hi=Object.assign;function HE(c,f){const p={};for(const u in f){const g=f[u];p[u]=Array.isArray(g)?g.map(c):c(g)}return p}const yg=()=>{},xW=/\/$/,SW=c=>c.replace(xW,"");function XE(c,f,p="/"){let u,g={},m="",S="";const A=f.indexOf("?"),R=f.indexOf("#",A>-1?A:0);return A>-1&&(u=f.slice(0,A),m=f.slice(A+1,R>-1?R:f.length),g=c(m)),R>-1&&(u=u||f.slice(0,R),S=f.slice(R,f.length)),u=bW(u!=null?u:f,p),{fullPath:u+(m&&"?")+m+S,path:u,query:g,hash:S}}function wW(c,f){const p=f.query?c(f.query):"";return f.path+(p&&"?")+p+(f.hash||"")}function Lb(c,f){return!f||!c.toLowerCase().startsWith(f.toLowerCase())?c:c.slice(f.length)||"/"}function OW(c,f,p){const u=f.matched.length-1,g=p.matched.length-1;return u>-1&&u===g&&hp(f.matched[u],p.matched[g])&&Ab(f.params,p.params)&&c(f.query)===c(p.query)&&f.hash===p.hash}function hp(c,f){return(c.aliasOf||c)===(f.aliasOf||f)}function Ab(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(const p in c)if(!TW(c[p],f[p]))return!1;return!0}function TW(c,f){return Array.isArray(c)?Rb(c,f):Array.isArray(f)?Rb(f,c):c===f}function Rb(c,f){return Array.isArray(f)?c.length===f.length&&c.every((p,u)=>p===f[u]):c.length===1&&c[0]===f}function bW(c,f){if(c.startsWith("/"))return c;if(!c)return f;const p=f.split("/"),u=c.split("/");let g=p.length-1,m,S;for(m=0;m<u.length;m++)if(S=u[m],!(g===1||S==="."))if(S==="..")g--;else break;return p.slice(0,g).join("/")+"/"+u.slice(m-(m===u.length?1:0)).join("/")}var mg;(function(c){c.pop="pop",c.push="push"})(mg||(mg={}));var _g;(function(c){c.back="back",c.forward="forward",c.unknown=""})(_g||(_g={}));function CW(c){if(!c)if(fp){const f=document.querySelector("base");c=f&&f.getAttribute("href")||"/",c=c.replace(/^\w+:\/\/[^\/]+/,"")}else c="/";return c[0]!=="/"&&c[0]!=="#"&&(c="/"+c),SW(c)}const LW=/^[^#]+#/;function AW(c,f){return c.replace(LW,"#")+f}function RW(c,f){const p=document.documentElement.getBoundingClientRect(),u=c.getBoundingClientRect();return{behavior:f.behavior,left:u.left-p.left-(f.left||0),top:u.top-p.top-(f.top||0)}}const lm=()=>({left:window.pageXOffset,top:window.pageYOffset});function PW(c){let f;if("el"in c){const p=c.el,u=typeof p=="string"&&p.startsWith("#"),g=typeof p=="string"?u?document.getElementById(p.slice(1)):document.querySelector(p):p;if(!g)return;f=RW(g,c)}else f=c;"scrollBehavior"in document.documentElement.style?window.scrollTo(f):window.scrollTo(f.left!=null?f.left:window.pageXOffset,f.top!=null?f.top:window.pageYOffset)}function Pb(c,f){return(history.state?history.state.position-f:-1)+c}const KE=new Map;function MW(c,f){KE.set(c,f)}function IW(c){const f=KE.get(c);return KE.delete(c),f}let NW=()=>location.protocol+"//"+location.host;function Mb(c,f){const{pathname:p,search:u,hash:g}=f,m=c.indexOf("#");if(m>-1){let A=g.includes(c.slice(m))?c.slice(m).length:1,R=g.slice(A);return R[0]!=="/"&&(R="/"+R),Lb(R,"")}return Lb(p,c)+u+g}function FW(c,f,p,u){let g=[],m=[],S=null;const A=({state:B})=>{const X=Mb(c,location),W=p.value,$=f.value;let J=0;if(B){if(p.value=X,f.value=B,S&&S===W){S=null;return}J=$?B.position-$.position:0}else u(X);g.forEach(nt=>{nt(p.value,W,{delta:J,type:mg.pop,direction:J?J>0?_g.forward:_g.back:_g.unknown})})};function R(){S=p.value}function j(B){g.push(B);const X=()=>{const W=g.indexOf(B);W>-1&&g.splice(W,1)};return m.push(X),X}function U(){const{history:B}=window;!B.state||B.replaceState(Hi({},B.state,{scroll:lm()}),"")}function P(){for(const B of m)B();m=[],window.removeEventListener("popstate",A),window.removeEventListener("beforeunload",U)}return window.addEventListener("popstate",A),window.addEventListener("beforeunload",U),{pauseListeners:R,listen:j,destroy:P}}function Ib(c,f,p,u=!1,g=!1){return{back:c,current:f,forward:p,replaced:u,position:window.history.length,scroll:g?lm():null}}function jW(c){const{history:f,location:p}=window,u={value:Mb(c,p)},g={value:f.state};g.value||m(u.value,{back:null,current:u.value,forward:null,position:f.length-1,replaced:!0,scroll:null},!0);function m(R,j,U){const P=c.indexOf("#"),B=P>-1?(p.host&&document.querySelector("base")?c:c.slice(P))+R:NW()+c+R;try{f[U?"replaceState":"pushState"](j,"",B),g.value=j}catch(X){console.error(X),p[U?"replace":"assign"](B)}}function S(R,j){const U=Hi({},f.state,Ib(g.value.back,R,g.value.forward,!0),j,{position:g.value.position});m(R,U,!0),u.value=R}function A(R,j){const U=Hi({},g.value,f.state,{forward:R,scroll:lm()});m(U.current,U,!0);const P=Hi({},Ib(u.value,R,null),{position:U.position+1},j);m(R,P,!1),u.value=R}return{location:u,state:g,push:A,replace:S}}function DW(c){c=CW(c);const f=jW(c),p=FW(c,f.state,f.location,f.replace);function u(m,S=!0){S||p.pauseListeners(),history.go(m)}const g=Hi({location:"",base:c,go:u,createHref:AW.bind(null,c)},f,p);return Object.defineProperty(g,"location",{enumerable:!0,get:()=>f.location.value}),Object.defineProperty(g,"state",{enumerable:!0,get:()=>f.state.value}),g}function jH(c){return c=location.host?c||location.pathname+location.search:"",c.includes("#")||(c+="#"),DW(c)}function BW(c){return typeof c=="string"||c&&typeof c=="object"}function Nb(c){return typeof c=="string"||typeof c=="symbol"}const xf={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fb=cp("nf");var jb;(function(c){c[c.aborted=4]="aborted",c[c.cancelled=8]="cancelled",c[c.duplicated=16]="duplicated"})(jb||(jb={}));function dp(c,f){return Hi(new Error,{type:c,[Fb]:!0},f)}function Lh(c,f){return c instanceof Error&&Fb in c&&(f==null||!!(c.type&f))}const Db="[^/]+?",GW={sensitive:!1,strict:!1,start:!0,end:!0},UW=/[.+*?^${}()[\]/\\]/g;function kW(c,f){const p=Hi({},GW,f),u=[];let g=p.start?"^":"";const m=[];for(const j of c){const U=j.length?[]:[90];p.strict&&!j.length&&(g+="/");for(let P=0;P<j.length;P++){const B=j[P];let X=40+(p.sensitive?.25:0);if(B.type===0)P||(g+="/"),g+=B.value.replace(UW,"\\$&"),X+=40;else if(B.type===1){const{value:W,repeatable:$,optional:J,regexp:nt}=B;m.push({name:W,repeatable:$,optional:J});const Q=nt||Db;if(Q!==Db){X+=10;try{new RegExp(`(${Q})`)}catch(ot){throw new Error(`Invalid custom RegExp for param "${W}" (${Q}): `+ot.message)}}let St=$?`((?:${Q})(?:/(?:${Q}))*)`:`(${Q})`;P||(St=J&&j.length<2?`(?:/${St})`:"/"+St),J&&(St+="?"),g+=St,X+=20,J&&(X+=-8),$&&(X+=-20),Q===".*"&&(X+=-50)}U.push(X)}u.push(U)}if(p.strict&&p.end){const j=u.length-1;u[j][u[j].length-1]+=.7000000000000001}p.strict||(g+="/?"),p.end?g+="$":p.strict&&(g+="(?:/|$)");const S=new RegExp(g,p.sensitive?"":"i");function A(j){const U=j.match(S),P={};if(!U)return null;for(let B=1;B<U.length;B++){const X=U[B]||"",W=m[B-1];P[W.name]=X&&W.repeatable?X.split("/"):X}return P}function R(j){let U="",P=!1;for(const B of c){(!P||!U.endsWith("/"))&&(U+="/"),P=!1;for(const X of B)if(X.type===0)U+=X.value;else if(X.type===1){const{value:W,repeatable:$,optional:J}=X,nt=W in j?j[W]:"";if(Array.isArray(nt)&&!$)throw new Error(`Provided param "${W}" is an array but it is not repeatable (* or + modifiers)`);const Q=Array.isArray(nt)?nt.join("/"):nt;if(!Q)if(J)B.length<2&&(U.endsWith("/")?U=U.slice(0,-1):P=!0);else throw new Error(`Missing required param "${W}"`);U+=Q}}return U}return{re:S,score:u,keys:m,parse:A,stringify:R}}function zW(c,f){let p=0;for(;p<c.length&&p<f.length;){const u=f[p]-c[p];if(u)return u;p++}return c.length<f.length?c.length===1&&c[0]===40+40?-1:1:c.length>f.length?f.length===1&&f[0]===40+40?1:-1:0}function VW(c,f){let p=0;const u=c.score,g=f.score;for(;p<u.length&&p<g.length;){const m=zW(u[p],g[p]);if(m)return m;p++}return g.length-u.length}const WW={type:0,value:""},YW=/[a-zA-Z0-9_]/;function HW(c){if(!c)return[[]];if(c==="/")return[[WW]];if(!c.startsWith("/"))throw new Error(`Invalid path "${c}"`);function f(X){throw new Error(`ERR (${p})/"${j}": ${X}`)}let p=0,u=p;const g=[];let m;function S(){m&&g.push(m),m=[]}let A=0,R,j="",U="";function P(){!j||(p===0?m.push({type:0,value:j}):p===1||p===2||p===3?(m.length>1&&(R==="*"||R==="+")&&f(`A repeatable param (${j}) must be alone in its segment. eg: '/:ids+.`),m.push({type:1,value:j,regexp:U,repeatable:R==="*"||R==="+",optional:R==="*"||R==="?"})):f("Invalid state to consume buffer"),j="")}function B(){j+=R}for(;A<c.length;){if(R=c[A++],R==="\\"&&p!==2){u=p,p=4;continue}switch(p){case 0:R==="/"?(j&&P(),S()):R===":"?(P(),p=1):B();break;case 4:B(),p=u;break;case 1:R==="("?p=2:YW.test(R)?B():(P(),p=0,R!=="*"&&R!=="?"&&R!=="+"&&A--);break;case 2:R===")"?U[U.length-1]=="\\"?U=U.slice(0,-1)+R:p=3:U+=R;break;case 3:P(),p=0,R!=="*"&&R!=="?"&&R!=="+"&&A--,U="";break;default:f("Unknown state");break}}return p===2&&f(`Unfinished custom RegExp for param "${j}"`),P(),S(),g}function XW(c,f,p){const u=kW(HW(c.path),p),g=Hi(u,{record:c,parent:f,children:[],alias:[]});return f&&!g.record.aliasOf==!f.record.aliasOf&&f.children.push(g),g}function KW(c,f){const p=[],u=new Map;f=Gb({strict:!1,end:!0,sensitive:!1},f);function g(U){return u.get(U)}function m(U,P,B){const X=!B,W=$W(U);W.aliasOf=B&&B.record;const $=Gb(f,U),J=[W];if("alias"in U){const St=typeof U.alias=="string"?[U.alias]:U.alias;for(const ot of St)J.push(Hi({},W,{components:B?B.record.components:W.components,path:ot,aliasOf:B?B.record:W}))}let nt,Q;for(const St of J){const{path:ot}=St;if(P&&ot[0]!=="/"){const M=P.record.path,_t=M[M.length-1]==="/"?"":"/";St.path=P.record.path+(ot&&_t+ot)}if(nt=XW(St,P,$),B?B.alias.push(nt):(Q=Q||nt,Q!==nt&&Q.alias.push(nt),X&&U.name&&!Bb(nt)&&S(U.name)),"children"in W){const M=W.children;for(let _t=0;_t<M.length;_t++)m(M[_t],nt,B&&B.children[_t])}B=B||nt,R(nt)}return Q?()=>{S(Q)}:yg}function S(U){if(Nb(U)){const P=u.get(U);P&&(u.delete(U),p.splice(p.indexOf(P),1),P.children.forEach(S),P.alias.forEach(S))}else{const P=p.indexOf(U);P>-1&&(p.splice(P,1),U.record.name&&u.delete(U.record.name),U.children.forEach(S),U.alias.forEach(S))}}function A(){return p}function R(U){let P=0;for(;P<p.length&&VW(U,p[P])>=0;)P++;p.splice(P,0,U),U.record.name&&!Bb(U)&&u.set(U.record.name,U)}function j(U,P){let B,X={},W,$;if("name"in U&&U.name){if(B=u.get(U.name),!B)throw dp(1,{location:U});$=B.record.name,X=Hi(ZW(P.params,B.keys.filter(Q=>!Q.optional).map(Q=>Q.name)),U.params),W=B.stringify(X)}else if("path"in U)W=U.path,B=p.find(Q=>Q.re.test(W)),B&&(X=B.parse(W),$=B.record.name);else{if(B=P.name?u.get(P.name):p.find(Q=>Q.re.test(P.path)),!B)throw dp(1,{location:U,currentLocation:P});$=B.record.name,X=Hi({},P.params,U.params),W=B.stringify(X)}const J=[];let nt=B;for(;nt;)J.unshift(nt.record),nt=nt.parent;return{name:$,path:W,params:X,matched:J,meta:qW(J)}}return c.forEach(U=>m(U)),{addRoute:m,resolve:j,removeRoute:S,getRoutes:A,getRecordMatcher:g}}function ZW(c,f){const p={};for(const u of f)u in c&&(p[u]=c[u]);return p}function $W(c){return{path:c.path,redirect:c.redirect,name:c.name,meta:c.meta||{},aliasOf:void 0,beforeEnter:c.beforeEnter,props:JW(c),children:c.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in c?c.components||{}:{default:c.component}}}function JW(c){const f={},p=c.props||!1;if("component"in c)f.default=p;else for(const u in c.components)f[u]=typeof p=="boolean"?p:p[u];return f}function Bb(c){for(;c;){if(c.record.aliasOf)return!0;c=c.parent}return!1}function qW(c){return c.reduce((f,p)=>Hi(f,p.meta),{})}function Gb(c,f){const p={};for(const u in c)p[u]=u in f?f[u]:c[u];return p}const Ub=/#/g,QW=/&/g,tY=/\//g,eY=/=/g,rY=/\?/g,kb=/\+/g,nY=/%5B/g,iY=/%5D/g,zb=/%5E/g,oY=/%60/g,Vb=/%7B/g,aY=/%7C/g,Wb=/%7D/g,sY=/%20/g;function ZE(c){return encodeURI(""+c).replace(aY,"|").replace(nY,"[").replace(iY,"]")}function lY(c){return ZE(c).replace(Vb,"{").replace(Wb,"}").replace(zb,"^")}function $E(c){return ZE(c).replace(kb,"%2B").replace(sY,"+").replace(Ub,"%23").replace(QW,"%26").replace(oY,"`").replace(Vb,"{").replace(Wb,"}").replace(zb,"^")}function uY(c){return $E(c).replace(eY,"%3D")}function cY(c){return ZE(c).replace(Ub,"%23").replace(rY,"%3F")}function fY(c){return c==null?"":cY(c).replace(tY,"%2F")}function um(c){try{return decodeURIComponent(""+c)}catch{}return""+c}function hY(c){const f={};if(c===""||c==="?")return f;const u=(c[0]==="?"?c.slice(1):c).split("&");for(let g=0;g<u.length;++g){const m=u[g].replace(kb," "),S=m.indexOf("="),A=um(S<0?m:m.slice(0,S)),R=S<0?null:um(m.slice(S+1));if(A in f){let j=f[A];Array.isArray(j)||(j=f[A]=[j]),j.push(R)}else f[A]=R}return f}function Yb(c){let f="";for(let p in c){const u=c[p];if(p=uY(p),u==null){u!==void 0&&(f+=(f.length?"&":"")+p);continue}(Array.isArray(u)?u.map(m=>m&&$E(m)):[u&&$E(u)]).forEach(m=>{m!==void 0&&(f+=(f.length?"&":"")+p,m!=null&&(f+="="+m))})}return f}function dY(c){const f={};for(const p in c){const u=c[p];u!==void 0&&(f[p]=Array.isArray(u)?u.map(g=>g==null?null:""+g):u==null?u:""+u)}return f}function Eg(){let c=[];function f(u){return c.push(u),()=>{const g=c.indexOf(u);g>-1&&c.splice(g,1)}}function p(){c=[]}return{add:f,list:()=>c,reset:p}}function Sf(c,f,p,u,g){const m=u&&(u.enterCallbacks[g]=u.enterCallbacks[g]||[]);return()=>new Promise((S,A)=>{const R=P=>{P===!1?A(dp(4,{from:p,to:f})):P instanceof Error?A(P):BW(P)?A(dp(2,{from:f,to:P})):(m&&u.enterCallbacks[g]===m&&typeof P=="function"&&m.push(P),S())},j=c.call(u&&u.instances[g],f,p,R);let U=Promise.resolve(j);c.length<3&&(U=U.then(R)),U.catch(P=>A(P))})}function JE(c,f,p,u){const g=[];for(const m of c)for(const S in m.components){let A=m.components[S];if(!(f!=="beforeRouteEnter"&&!m.instances[S]))if(pY(A)){const j=(A.__vccOpts||A)[f];j&&g.push(Sf(j,p,u,m,S))}else{let R=A();g.push(()=>R.then(j=>{if(!j)return Promise.reject(new Error(`Couldn't resolve component "${S}" at "${m.path}"`));const U=EW(j)?j.default:j;m.components[S]=U;const B=(U.__vccOpts||U)[f];return B&&Sf(B,p,u,m,S)()}))}}return g}function pY(c){return typeof c=="object"||"displayName"in c||"props"in c||"__vccOpts"in c}function Hb(c){const f=xl(sm),p=xl(WE),u=tu(()=>f.resolve(Qd(c.to))),g=tu(()=>{const{matched:R}=u.value,{length:j}=R,U=R[j-1],P=p.matched;if(!U||!P.length)return-1;const B=P.findIndex(hp.bind(null,U));if(B>-1)return B;const X=Xb(R[j-2]);return j>1&&Xb(U)===X&&P[P.length-1].path!==X?P.findIndex(hp.bind(null,R[j-2])):B}),m=tu(()=>g.value>-1&&mY(p.params,u.value.params)),S=tu(()=>g.value>-1&&g.value===p.matched.length-1&&Ab(p.params,u.value.params));function A(R={}){return yY(R)?f[Qd(c.replace)?"replace":"push"](Qd(c.to)).catch(yg):Promise.resolve()}return{route:u,href:tu(()=>u.value.href),isActive:m,isExactActive:S,navigate:A}}const vY=tg({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hb,setup(c,{slots:f}){const p=qd(Hb(c)),{options:u}=xl(sm),g=tu(()=>({[Kb(c.activeClass,u.linkActiveClass,"router-link-active")]:p.isActive,[Kb(c.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:p.isExactActive}));return()=>{const m=f.default&&f.default(p);return c.custom?m:rm("a",{"aria-current":p.isExactActive?c.ariaCurrentValue:null,href:p.href,onClick:p.navigate,class:g.value},m)}}}),gY=vY;function yY(c){if(!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)&&!c.defaultPrevented&&!(c.button!==void 0&&c.button!==0)){if(c.currentTarget&&c.currentTarget.getAttribute){const f=c.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(f))return}return c.preventDefault&&c.preventDefault(),!0}}function mY(c,f){for(const p in f){const u=f[p],g=c[p];if(typeof u=="string"){if(u!==g)return!1}else if(!Array.isArray(g)||g.length!==u.length||u.some((m,S)=>m!==g[S]))return!1}return!0}function Xb(c){return c?c.aliasOf?c.aliasOf.path:c.path:""}const Kb=(c,f,p)=>c!=null?c:f!=null?f:p,_Y=tg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(c,{attrs:f,slots:p}){const u=xl(YE),g=tu(()=>c.route||u.value),m=xl(Cb,0),S=tu(()=>g.value.matched[m]);Qv(Cb,m+1),Qv(_W,S),Qv(YE,g);const A=$v();return sp(()=>[A.value,S.value,c.name],([R,j,U],[P,B,X])=>{j&&(j.instances[U]=R,B&&B!==j&&R&&R===P&&(j.leaveGuards.size||(j.leaveGuards=B.leaveGuards),j.updateGuards.size||(j.updateGuards=B.updateGuards))),R&&j&&(!B||!hp(j,B)||!P)&&(j.enterCallbacks[U]||[]).forEach(W=>W(R))},{flush:"post"}),()=>{const R=g.value,j=S.value,U=j&&j.components[c.name],P=c.name;if(!U)return Zb(p.default,{Component:U,route:R});const B=j.props[c.name],X=B?B===!0?R.params:typeof B=="function"?B(R):B:null,$=rm(U,Hi({},X,f,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(j.instances[P]=null)},ref:A}));return Zb(p.default,{Component:$,route:R})||$}}});function Zb(c,f){if(!c)return null;const p=c(f);return p.length===1?p[0]:p}const EY=_Y;function DH(c){const f=KW(c.routes,c),p=c.parseQuery||hY,u=c.stringifyQuery||Yb,g=c.history,m=Eg(),S=Eg(),A=Eg(),R=DO(xf);let j=xf;fp&&c.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const U=HE.bind(null,ee=>""+ee),P=HE.bind(null,fY),B=HE.bind(null,um);function X(ee,Ie){let Je,dr;return Nb(ee)?(Je=f.getRecordMatcher(ee),dr=Ie):dr=ee,f.addRoute(dr,Je)}function W(ee){const Ie=f.getRecordMatcher(ee);Ie&&f.removeRoute(Ie)}function $(){return f.getRoutes().map(ee=>ee.record)}function J(ee){return!!f.getRecordMatcher(ee)}function nt(ee,Ie){if(Ie=Hi({},Ie||R.value),typeof ee=="string"){const _r=XE(p,ee,Ie.path),Rt=f.resolve({path:_r.path},Ie),ne=g.createHref(_r.fullPath);return Hi(_r,Rt,{params:B(Rt.params),hash:um(_r.hash),redirectedFrom:void 0,href:ne})}let Je;if("path"in ee)Je=Hi({},ee,{path:XE(p,ee.path,Ie.path).path});else{const _r=Hi({},ee.params);for(const Rt in _r)_r[Rt]==null&&delete _r[Rt];Je=Hi({},ee,{params:P(ee.params)}),Ie.params=P(Ie.params)}const dr=f.resolve(Je,Ie),En=ee.hash||"";dr.params=U(B(dr.params));const mr=wW(u,Hi({},ee,{hash:lY(En),path:dr.path})),Ir=g.createHref(mr);return Hi({fullPath:mr,hash:En,query:u===Yb?dY(ee.query):ee.query||{}},dr,{redirectedFrom:void 0,href:Ir})}function Q(ee){return typeof ee=="string"?XE(p,ee,R.value.path):Hi({},ee)}function St(ee,Ie){if(j!==ee)return dp(8,{from:Ie,to:ee})}function ot(ee){return Lt(ee)}function M(ee){return ot(Hi(Q(ee),{replace:!0}))}function _t(ee){const Ie=ee.matched[ee.matched.length-1];if(Ie&&Ie.redirect){const{redirect:Je}=Ie;let dr=typeof Je=="function"?Je(ee):Je;return typeof dr=="string"&&(dr=dr.includes("?")||dr.includes("#")?dr=Q(dr):{path:dr},dr.params={}),Hi({query:ee.query,hash:ee.hash,params:ee.params},dr)}}function Lt(ee,Ie){const Je=j=nt(ee),dr=R.value,En=ee.state,mr=ee.force,Ir=ee.replace===!0,_r=_t(Je);if(_r)return Lt(Hi(Q(_r),{state:En,force:mr,replace:Ir}),Ie||Je);const Rt=Je;Rt.redirectedFrom=Ie;let ne;return!mr&&OW(u,dr,Je)&&(ne=dp(16,{to:Rt,from:dr}),qe(dr,dr,!0,!1)),(ne?Promise.resolve(ne):ct(Rt,dr)).catch(Ct=>Lh(Ct)?Ct:bt(Ct,Rt,dr)).then(Ct=>{if(Ct){if(Lh(Ct,2))return Lt(Hi(Q(Ct.to),{state:En,force:mr,replace:Ir}),Ie||Rt)}else Ct=mt(Rt,dr,!0,Ir,En);return Ut(Rt,dr,Ct),Ct})}function Nt(ee,Ie){const Je=St(ee,Ie);return Je?Promise.reject(Je):Promise.resolve()}function ct(ee,Ie){let Je;const[dr,En,mr]=xY(ee,Ie);Je=JE(dr.reverse(),"beforeRouteLeave",ee,Ie);for(const _r of dr)_r.leaveGuards.forEach(Rt=>{Je.push(Sf(Rt,ee,Ie))});const Ir=Nt.bind(null,ee,Ie);return Je.push(Ir),pp(Je).then(()=>{Je=[];for(const _r of m.list())Je.push(Sf(_r,ee,Ie));return Je.push(Ir),pp(Je)}).then(()=>{Je=JE(En,"beforeRouteUpdate",ee,Ie);for(const _r of En)_r.updateGuards.forEach(Rt=>{Je.push(Sf(Rt,ee,Ie))});return Je.push(Ir),pp(Je)}).then(()=>{Je=[];for(const _r of ee.matched)if(_r.beforeEnter&&!Ie.matched.includes(_r))if(Array.isArray(_r.beforeEnter))for(const Rt of _r.beforeEnter)Je.push(Sf(Rt,ee,Ie));else Je.push(Sf(_r.beforeEnter,ee,Ie));return Je.push(Ir),pp(Je)}).then(()=>(ee.matched.forEach(_r=>_r.enterCallbacks={}),Je=JE(mr,"beforeRouteEnter",ee,Ie),Je.push(Ir),pp(Je))).then(()=>{Je=[];for(const _r of S.list())Je.push(Sf(_r,ee,Ie));return Je.push(Ir),pp(Je)}).catch(_r=>Lh(_r,8)?_r:Promise.reject(_r))}function Ut(ee,Ie,Je){for(const dr of A.list())dr(ee,Ie,Je)}function mt(ee,Ie,Je,dr,En){const mr=St(ee,Ie);if(mr)return mr;const Ir=Ie===xf,_r=fp?history.state:{};Je&&(dr||Ir?g.replace(ee.fullPath,Hi({scroll:Ir&&_r&&_r.scroll},En)):g.push(ee.fullPath,En)),R.value=ee,qe(ee,Ie,Je,Ir),Xe()}let xt;function Bt(){xt=g.listen((ee,Ie,Je)=>{const dr=nt(ee),En=_t(dr);if(En){Lt(Hi(En,{replace:!0}),dr).catch(yg);return}j=dr;const mr=R.value;fp&&MW(Pb(mr.fullPath,Je.delta),lm()),ct(dr,mr).catch(Ir=>Lh(Ir,4|8)?Ir:Lh(Ir,2)?(Lt(Ir.to,dr).then(_r=>{Lh(_r,4|16)&&!Je.delta&&Je.type===mg.pop&&g.go(-1,!1)}).catch(yg),Promise.reject()):(Je.delta&&g.go(-Je.delta,!1),bt(Ir,dr,mr))).then(Ir=>{Ir=Ir||mt(dr,mr,!1),Ir&&(Je.delta?g.go(-Je.delta,!1):Je.type===mg.pop&&Lh(Ir,4|16)&&g.go(-1,!1)),Ut(dr,mr,Ir)}).catch(yg)})}let qt=Eg(),Pe=Eg(),q;function bt(ee,Ie,Je){Xe(ee);const dr=Pe.list();return dr.length?dr.forEach(En=>En(ee,Ie,Je)):console.error(ee),Promise.reject(ee)}function Vt(){return q&&R.value!==xf?Promise.resolve():new Promise((ee,Ie)=>{qt.add([ee,Ie])})}function Xe(ee){q||(q=!0,Bt(),qt.list().forEach(([Ie,Je])=>ee?Je(ee):Ie()),qt.reset())}function qe(ee,Ie,Je,dr){const{scrollBehavior:En}=c;if(!fp||!En)return Promise.resolve();const mr=!Je&&IW(Pb(ee.fullPath,0))||(dr||!Je)&&history.state&&history.state.scroll||null;return tm().then(()=>En(ee,Ie,mr)).then(Ir=>Ir&&PW(Ir)).catch(Ir=>bt(Ir,ee,Ie))}const Ue=ee=>g.go(ee);let yr;const Ar=new Set;return{currentRoute:R,addRoute:X,removeRoute:W,hasRoute:J,getRoutes:$,resolve:nt,options:c,push:ot,replace:M,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:m.add,beforeResolve:S.add,afterEach:A.add,onError:Pe.add,isReady:Vt,install(ee){const Ie=this;ee.component("RouterLink",gY),ee.component("RouterView",EY),ee.config.globalProperties.$router=Ie,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>Qd(R)}),fp&&!yr&&R.value===xf&&(yr=!0,ot(g.location).catch(En=>{}));const Je={};for(const En in xf)Je[En]=tu(()=>R.value[En]);ee.provide(sm,Ie),ee.provide(WE,qd(Je)),ee.provide(YE,R);const dr=ee.unmount;Ar.add(ee),ee.unmount=function(){Ar.delete(ee),Ar.size<1&&(j=xf,xt&&xt(),R.value=xf,yr=!1,q=!1),dr()}}}}function pp(c){return c.reduce((f,p)=>f.then(()=>p()),Promise.resolve())}function xY(c,f){const p=[],u=[],g=[],m=Math.max(f.matched.length,c.matched.length);for(let S=0;S<m;S++){const A=f.matched[S];A&&(c.matched.find(j=>hp(j,A))?u.push(A):p.push(A));const R=c.matched[S];R&&(f.matched.find(j=>hp(j,R))||g.push(R))}return[p,u,g]}function BH(){return xl(sm)}function GH(){return xl(WE)}var UH=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function SY(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function wY(c){if(c.__esModule)return c;var f=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(c).forEach(function(p){var u=Object.getOwnPropertyDescriptor(c,p);Object.defineProperty(f,p,u.get?u:{enumerable:!0,get:function(){return c[p]}})}),f}var $b={exports:{}},OY=wY(mW);(function(c){c.exports=function(f){function p(P){for(var B=P[0],X=P[1],W,$,J=0,nt=[];J<B.length;J++)$=B[J],Object.prototype.hasOwnProperty.call(g,$)&&g[$]&&nt.push(g[$][0]),g[$]=0;for(W in X)Object.prototype.hasOwnProperty.call(X,W)&&(f[W]=X[W]);for(U&&U(P);nt.length;)nt.shift()()}var u={},g={0:0};function m(P){return S.p+"vue3-openlayers.common."+({}[P]||P)+".js"}function S(P){if(u[P])return u[P].exports;var B=u[P]={i:P,l:!1,exports:{}};return f[P].call(B.exports,B,B.exports,S),B.l=!0,B.exports}S.e=function(B){var X=[],W=g[B];if(W!==0)if(W)X.push(W[2]);else{var $=new Promise(function(ot,M){W=g[B]=[ot,M]});X.push(W[2]=$);var J=document.createElement("script"),nt;J.charset="utf-8",J.timeout=120,S.nc&&J.setAttribute("nonce",S.nc),J.src=m(B);var Q=new Error;nt=function(ot){J.onerror=J.onload=null,clearTimeout(St);var M=g[B];if(M!==0){if(M){var _t=ot&&(ot.type==="load"?"missing":ot.type),Lt=ot&&ot.target&&ot.target.src;Q.message="Loading chunk "+B+` failed.
(`+_t+": "+Lt+")",Q.name="ChunkLoadError",Q.type=_t,Q.request=Lt,M[1](Q)}g[B]=void 0}};var St=setTimeout(function(){nt({type:"timeout",target:J})},12e4);J.onerror=J.onload=nt,document.head.appendChild(J)}return Promise.all(X)},S.m=f,S.c=u,S.d=function(P,B,X){S.o(P,B)||Object.defineProperty(P,B,{enumerable:!0,get:X})},S.r=function(P){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},S.t=function(P,B){if(B&1&&(P=S(P)),B&8||B&4&&typeof P=="object"&&P&&P.__esModule)return P;var X=Object.create(null);if(S.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:P}),B&2&&typeof P!="string")for(var W in P)S.d(X,W,function($){return P[$]}.bind(null,W));return X},S.n=function(P){var B=P&&P.__esModule?function(){return P.default}:function(){return P};return S.d(B,"a",B),B},S.o=function(P,B){return Object.prototype.hasOwnProperty.call(P,B)},S.p="",S.oe=function(P){throw console.error(P),P};var A=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers||[],R=A.push.bind(A);A.push=p,A=A.slice();for(var j=0;j<A.length;j++)p(A[j]);var U=R;return S(S.s="fb15")}({"00b4":function(f,p,u){u("ac1f");var g=u("23e7"),m=u("da84"),S=u("c65b"),A=u("e330"),R=u("1626"),j=u("861d"),U=function(){var X=!1,W=/[ac]/;return W.exec=function(){return X=!0,/./.exec.apply(this,arguments)},W.test("abc")===!0&&X}(),P=m.Error,B=A(/./.test);g({target:"RegExp",proto:!0,forced:!U},{test:function(X){var W=this.exec;if(!R(W))return B(this,X);var $=S(W,this,X);if($!==null&&!j($))throw new P("RegExp exec method returned something other than an Object or null");return!!$}})},"00ee":function(f,p,u){var g=u("b622"),m=g("toStringTag"),S={};S[m]="z",f.exports=String(S)==="[object z]"},"01d4":function(f,p,u){p.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0366":function(f,p,u){var g=u("e330"),m=u("59ed"),S=u("40d5"),A=g(g.bind);f.exports=function(R,j){return m(R),j===void 0?R:S?A(R,j):function(){return R.apply(j,arguments)}}},"04d1":function(f,p,u){var g=u("342f"),m=g.match(/firefox\/(\d+)/i);f.exports=!!m&&+m[1]},"0538":function(f,p,u){var g=u("da84"),m=u("e330"),S=u("59ed"),A=u("861d"),R=u("1a2d"),j=u("f36a"),U=u("40d5"),P=g.Function,B=m([].concat),X=m([].join),W={},$=function(J,nt,Q){if(!R(W,nt)){for(var St=[],ot=0;ot<nt;ot++)St[ot]="a["+ot+"]";W[nt]=P("C,a","return new C("+X(St,",")+")")}return W[nt](J,Q)};f.exports=U?P.bind:function(nt){var Q=S(this),St=Q.prototype,ot=j(arguments,1),M=function(){var Lt=B(ot,j(arguments));return this instanceof M?$(Q,Lt.length,Lt):Q.apply(nt,Lt)};return A(St)&&(M.prototype=St),M}},"057f":function(f,p,u){var g=u("c6b6"),m=u("fc6a"),S=u("241c").f,A=u("4dae"),R=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],j=function(U){try{return S(U)}catch{return A(R)}};f.exports.f=function(P){return R&&g(P)=="Window"?j(P):S(m(P))}},"06cf":function(f,p,u){var g=u("83ab"),m=u("c65b"),S=u("d1e7"),A=u("5c6c"),R=u("fc6a"),j=u("a04b"),U=u("1a2d"),P=u("0cfb"),B=Object.getOwnPropertyDescriptor;p.f=g?B:function(W,$){if(W=R(W),$=j($),P)try{return B(W,$)}catch{}if(U(W,$))return A(!m(S.f,W,$),W[$])}},"07ac":function(f,p,u){var g=u("23e7"),m=u("6f53").values;g({target:"Object",stat:!0},{values:function(A){return m(A)}})},"07fa":function(f,p,u){var g=u("50c4");f.exports=function(m){return g(m.length)}},"0999":function(f,p,u){u.d(p,"a",function(){return m}),u.d(p,"c",function(){return S}),u.d(p,"b",function(){return A}),u.d(p,"g",function(){return R}),u.d(p,"e",function(){return j}),u.d(p,"d",function(){return U}),u.d(p,"f",function(){return P});var g=u("617d");function m(B,X,W,$){var J;return W&&W.length?J=W.shift():g.g?J=new OffscreenCanvas(B||300,X||300):J=document.createElement("canvas"),B&&(J.width=B),X&&(J.height=X),J.getContext("2d",$)}function S(B){var X=B.offsetWidth,W=getComputedStyle(B);return X+=parseInt(W.marginLeft,10)+parseInt(W.marginRight,10),X}function A(B){var X=B.offsetHeight,W=getComputedStyle(B);return X+=parseInt(W.marginTop,10)+parseInt(W.marginBottom,10),X}function R(B,X){var W=X.parentNode;W&&W.replaceChild(B,X)}function j(B){return B&&B.parentNode?B.parentNode.removeChild(B):null}function U(B){for(;B.lastChild;)B.removeChild(B.lastChild)}function P(B,X){for(var W=B.childNodes,$=0;;++$){var J=W[$],nt=X[$];if(!J&&!nt)break;if(J!==nt){if(!J){B.appendChild(nt);continue}if(!nt){B.removeChild(J),--$;continue}B.insertBefore(nt,J)}}}},"0b42":function(f,p,u){var g=u("da84"),m=u("e8b5"),S=u("68ee"),A=u("861d"),R=u("b622"),j=R("species"),U=g.Array;f.exports=function(P){var B;return m(P)&&(B=P.constructor,S(B)&&(B===U||m(B.prototype))?B=void 0:A(B)&&(B=B[j],B===null&&(B=void 0))),B===void 0?U:B}},"0cb2":function(f,p,u){var g=u("e330"),m=u("7b0b"),S=Math.floor,A=g("".charAt),R=g("".replace),j=g("".slice),U=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;f.exports=function(B,X,W,$,J,nt){var Q=W+B.length,St=$.length,ot=P;return J!==void 0&&(J=m(J),ot=U),R(nt,ot,function(M,_t){var Lt;switch(A(_t,0)){case"$":return"$";case"&":return B;case"`":return j(X,0,W);case"'":return j(X,Q);case"<":Lt=J[j(_t,1,-1)];break;default:var Nt=+_t;if(Nt===0)return M;if(Nt>St){var ct=S(Nt/10);return ct===0?M:ct<=St?$[ct-1]===void 0?A(_t,1):$[ct-1]+A(_t,1):M}Lt=$[Nt-1]}return Lt===void 0?"":Lt})}},"0cfb":function(f,p,u){var g=u("83ab"),m=u("d039"),S=u("cc12");f.exports=!g&&!m(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7})},"0d51":function(f,p,u){var g=u("da84"),m=g.String;f.exports=function(S){try{return m(S)}catch{return"Object"}}},"0ec0":function(f,p,u){var g=u("da5c"),m=u("cef7"),S=u("57cb"),A=u("38f3"),R=function(){var U=function(P,B){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,W){X.__proto__=W}||function(X,W){for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(X[$]=W[$])},U(P,B)};return function(P,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");U(P,B);function X(){this.constructor=P}P.prototype=B===null?Object.create(B):(X.prototype=B.prototype,new X)}}(),j=function(U){R(P,U);function P(B){var X=U.call(this)||this;return X.eventTarget_=B,X.pendingRemovals_=null,X.dispatching_=null,X.listeners_=null,X}return P.prototype.addEventListener=function(B,X){if(!(!B||!X)){var W=this.listeners_||(this.listeners_={}),$=W[B]||(W[B]=[]);$.indexOf(X)===-1&&$.push(X)}},P.prototype.dispatchEvent=function(B){var X=typeof B=="string"?new m.a(B):B,W=X.type;X.target||(X.target=this.eventTarget_||this);var $=this.listeners_&&this.listeners_[W],J;if($){var nt=this.dispatching_||(this.dispatching_={}),Q=this.pendingRemovals_||(this.pendingRemovals_={});W in nt||(nt[W]=0,Q[W]=0),++nt[W];for(var St=0,ot=$.length;St<ot;++St)if("handleEvent"in $[St]?J=$[St].handleEvent(X):J=$[St].call(this,X),J===!1||X.propagationStopped){J=!1;break}if(--nt[W],nt[W]===0){var M=Q[W];for(delete Q[W];M--;)this.removeEventListener(W,S.c);delete nt[W]}return J}},P.prototype.disposeInternal=function(){this.listeners_&&Object(A.b)(this.listeners_)},P.prototype.getListeners=function(B){return this.listeners_&&this.listeners_[B]||void 0},P.prototype.hasListener=function(B){return this.listeners_?B?B in this.listeners_:Object.keys(this.listeners_).length>0:!1},P.prototype.removeEventListener=function(B,X){var W=this.listeners_&&this.listeners_[B];if(W){var $=W.indexOf(X);$!==-1&&(this.pendingRemovals_&&B in this.pendingRemovals_?(W[$]=S.c,++this.pendingRemovals_[B]):(W.splice($,1),W.length===0&&delete this.listeners_[B]))}},P}(g.a);p.a=j},"107c":function(f,p,u){var g=u("d039"),m=u("da84"),S=m.RegExp;f.exports=g(function(){var A=S("(?<a>b)","g");return A.exec("b").groups.a!=="b"||"b".replace(A,"$<a>c")!=="bc"})},"1300":function(f,p,u){u.d(p,"b",function(){return g}),u.d(p,"c",function(){return S}),u.d(p,"a",function(){return A});function g(){return function(){throw new Error("Unimplemented abstract method.")}()}var m=0;function S(R){return R.ol_uid||(R.ol_uid=String(++m))}var A="6.12.0"},"14c3":function(f,p,u){var g=u("da84"),m=u("c65b"),S=u("825a"),A=u("1626"),R=u("c6b6"),j=u("9263"),U=g.TypeError;f.exports=function(P,B){var X=P.exec;if(A(X)){var W=m(X,P,B);return W!==null&&S(W),W}if(R(P)==="RegExp")return m(j,P,B);throw U("RegExp#exec called on incompatible receiver")}},"159b":function(f,p,u){var g=u("da84"),m=u("fdbc"),S=u("785a"),A=u("17c2"),R=u("9112"),j=function(P){if(P&&P.forEach!==A)try{R(P,"forEach",A)}catch{P.forEach=A}};for(var U in m)m[U]&&j(g[U]&&g[U].prototype);j(S)},"1626":function(f,p){f.exports=function(u){return typeof u=="function"}},"17c2":function(f,p,u){var g=u("b727").forEach,m=u("a640"),S=m("forEach");f.exports=S?[].forEach:function(R){return g(this,R,arguments.length>1?arguments[1]:void 0)}},"1a2d":function(f,p,u){var g=u("e330"),m=u("7b0b"),S=g({}.hasOwnProperty);f.exports=Object.hasOwn||function(R,j){return S(m(R),j)}},"1be4":function(f,p,u){var g=u("d066");f.exports=g("document","documentElement")},"1c7e":function(f,p,u){var g=u("b622"),m=g("iterator"),S=!1;try{var A=0,R={next:function(){return{done:!!A++}},return:function(){S=!0}};R[m]=function(){return this},Array.from(R,function(){throw 2})}catch{}f.exports=function(j,U){if(!U&&!S)return!1;var P=!1;try{var B={};B[m]=function(){return{next:function(){return{done:P=!0}}}},j(B)}catch{}return P}},"1d80":function(f,p,u){var g=u("da84"),m=g.TypeError;f.exports=function(S){if(S==null)throw m("Can't call method on "+S);return S}},"1dde":function(f,p,u){var g=u("d039"),m=u("b622"),S=u("2d00"),A=m("species");f.exports=function(R){return S>=51||!g(function(){var j=[],U=j.constructor={};return U[A]=function(){return{foo:1}},j[R](Boolean).foo!==1})}},"1e8d":function(f,p,u){u.d(p,"a",function(){return m}),u.d(p,"b",function(){return S}),u.d(p,"c",function(){return A});var g=u("38f3");function m(R,j,U,P,B){if(P&&P!==R&&(U=U.bind(P)),B){var X=U;U=function(){R.removeEventListener(j,U),X.apply(this,arguments)}}var W={target:R,type:j,listener:U};return R.addEventListener(j,U),W}function S(R,j,U,P){return m(R,j,U,P,!0)}function A(R){R&&R.target&&(R.target.removeEventListener(R.type,R.listener),Object(g.b)(R))}},"1fb5":function(f,p,u){p.byteLength=P,p.toByteArray=X,p.fromByteArray=J;for(var g=[],m=[],S=typeof Uint8Array!="undefined"?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0,j=A.length;R<j;++R)g[R]=A[R],m[A.charCodeAt(R)]=R;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63;function U(nt){var Q=nt.length;if(Q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var St=nt.indexOf("=");St===-1&&(St=Q);var ot=St===Q?0:4-St%4;return[St,ot]}function P(nt){var Q=U(nt),St=Q[0],ot=Q[1];return(St+ot)*3/4-ot}function B(nt,Q,St){return(Q+St)*3/4-St}function X(nt){var Q,St=U(nt),ot=St[0],M=St[1],_t=new S(B(nt,ot,M)),Lt=0,Nt=M>0?ot-4:ot,ct;for(ct=0;ct<Nt;ct+=4)Q=m[nt.charCodeAt(ct)]<<18|m[nt.charCodeAt(ct+1)]<<12|m[nt.charCodeAt(ct+2)]<<6|m[nt.charCodeAt(ct+3)],_t[Lt++]=Q>>16&255,_t[Lt++]=Q>>8&255,_t[Lt++]=Q&255;return M===2&&(Q=m[nt.charCodeAt(ct)]<<2|m[nt.charCodeAt(ct+1)]>>4,_t[Lt++]=Q&255),M===1&&(Q=m[nt.charCodeAt(ct)]<<10|m[nt.charCodeAt(ct+1)]<<4|m[nt.charCodeAt(ct+2)]>>2,_t[Lt++]=Q>>8&255,_t[Lt++]=Q&255),_t}function W(nt){return g[nt>>18&63]+g[nt>>12&63]+g[nt>>6&63]+g[nt&63]}function $(nt,Q,St){for(var ot,M=[],_t=Q;_t<St;_t+=3)ot=(nt[_t]<<16&16711680)+(nt[_t+1]<<8&65280)+(nt[_t+2]&255),M.push(W(ot));return M.join("")}function J(nt){for(var Q,St=nt.length,ot=St%3,M=[],_t=16383,Lt=0,Nt=St-ot;Lt<Nt;Lt+=_t)M.push($(nt,Lt,Lt+_t>Nt?Nt:Lt+_t));return ot===1?(Q=nt[St-1],M.push(g[Q>>2]+g[Q<<4&63]+"==")):ot===2&&(Q=(nt[St-2]<<8)+nt[St-1],M.push(g[Q>>10]+g[Q>>4&63]+g[Q<<2&63]+"=")),M.join("")}},"21a6":function(f,p,u){(function(g){var m,S,A;(function(R,j){S=[],m=j,A=typeof m=="function"?m.apply(p,S):m,A!==void 0&&(f.exports=A)})(this,function(){function R($,J){return typeof J=="undefined"?J={autoBom:!1}:typeof J!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),J={autoBom:!J}),J.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test($.type)?new Blob(["\uFEFF",$],{type:$.type}):$}function j($,J,nt){var Q=new XMLHttpRequest;Q.open("GET",$),Q.responseType="blob",Q.onload=function(){W(Q.response,J,nt)},Q.onerror=function(){console.error("could not download file")},Q.send()}function U($){var J=new XMLHttpRequest;J.open("HEAD",$,!1);try{J.send()}catch{}return 200<=J.status&&299>=J.status}function P($){try{$.dispatchEvent(new MouseEvent("click"))}catch{var J=document.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),$.dispatchEvent(J)}}var B=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof g=="object"&&g.global===g?g:void 0,X=B.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),W=B.saveAs||(typeof window!="object"||window!==B?function(){}:"download"in HTMLAnchorElement.prototype&&!X?function($,J,nt){var Q=B.URL||B.webkitURL,St=document.createElement("a");J=J||$.name||"download",St.download=J,St.rel="noopener",typeof $=="string"?(St.href=$,St.origin===location.origin?P(St):U(St.href)?j($,J,nt):P(St,St.target="_blank")):(St.href=Q.createObjectURL($),setTimeout(function(){Q.revokeObjectURL(St.href)},4e4),setTimeout(function(){P(St)},0))}:"msSaveOrOpenBlob"in navigator?function($,J,nt){if(J=J||$.name||"download",typeof $!="string")navigator.msSaveOrOpenBlob(R($,nt),J);else if(U($))j($,J,nt);else{var Q=document.createElement("a");Q.href=$,Q.target="_blank",setTimeout(function(){P(Q)})}}:function($,J,nt,Q){if(Q=Q||open("","_blank"),Q&&(Q.document.title=Q.document.body.innerText="downloading..."),typeof $=="string")return j($,J,nt);var St=$.type==="application/octet-stream",ot=/constructor/i.test(B.HTMLElement)||B.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||St&&ot||X)&&typeof FileReader!="undefined"){var _t=new FileReader;_t.onloadend=function(){var ct=_t.result;ct=M?ct:ct.replace(/^data:[^;]*;/,"data:attachment/file;"),Q?Q.location.href=ct:location=ct,Q=null},_t.readAsDataURL($)}else{var Lt=B.URL||B.webkitURL,Nt=Lt.createObjectURL($);Q?Q.location=Nt:location.href=Nt,Q=null,setTimeout(function(){Lt.revokeObjectURL(Nt)},4e4)}});B.saveAs=W.saveAs=W,f.exports=W})}).call(this,u("c8ba"))},"23cb":function(f,p,u){var g=u("5926"),m=Math.max,S=Math.min;f.exports=function(A,R){var j=g(A);return j<0?m(j+R,0):S(j,R)}},"23e7":function(f,p,u){var g=u("da84"),m=u("06cf").f,S=u("9112"),A=u("6eeb"),R=u("ce4e"),j=u("e893"),U=u("94ca");f.exports=function(P,B){var X=P.target,W=P.global,$=P.stat,J,nt,Q,St,ot,M;if(W?nt=g:$?nt=g[X]||R(X,{}):nt=(g[X]||{}).prototype,nt)for(Q in B){if(ot=B[Q],P.noTargetGet?(M=m(nt,Q),St=M&&M.value):St=nt[Q],J=U(W?Q:X+($?".":"#")+Q,P.forced),!J&&St!==void 0){if(typeof ot==typeof St)continue;j(ot,St)}(P.sham||St&&St.sham)&&S(ot,"sham",!0),A(nt,Q,ot,P)}}},"241c":function(f,p,u){var g=u("ca84"),m=u("7839"),S=m.concat("length","prototype");p.f=Object.getOwnPropertyNames||function(R){return g(R,S)}},"2532":function(f,p,u){var g=u("23e7"),m=u("e330"),S=u("5a34"),A=u("1d80"),R=u("577e"),j=u("ab13"),U=m("".indexOf);g({target:"String",proto:!0,forced:!j("includes")},{includes:function(B){return!!~U(R(A(this)),R(S(B)),arguments.length>1?arguments[1]:void 0)}})},"25a5":function(f,p,u){(function(g,m){f.exports=m()})(this,function(){function g(ot,M,_t,Lt,Nt){(function ct(Ut,mt,xt,Bt,qt){for(;Bt>xt;){if(Bt-xt>600){var Pe=Bt-xt+1,q=mt-xt+1,bt=Math.log(Pe),Vt=.5*Math.exp(2*bt/3),Xe=.5*Math.sqrt(bt*Vt*(Pe-Vt)/Pe)*(q-Pe/2<0?-1:1),qe=Math.max(xt,Math.floor(mt-q*Vt/Pe+Xe)),Ue=Math.min(Bt,Math.floor(mt+(Pe-q)*Vt/Pe+Xe));ct(Ut,mt,qe,Ue,qt)}var yr=Ut[mt],Ar=xt,Jr=Bt;for(m(Ut,xt,mt),qt(Ut[Bt],yr)>0&&m(Ut,xt,Bt);Ar<Jr;){for(m(Ut,Ar,Jr),Ar++,Jr--;qt(Ut[Ar],yr)<0;)Ar++;for(;qt(Ut[Jr],yr)>0;)Jr--}qt(Ut[xt],yr)===0?m(Ut,xt,Jr):m(Ut,++Jr,Bt),Jr<=mt&&(xt=Jr+1),mt<=Jr&&(Bt=Jr-1)}})(ot,M,_t||0,Lt||ot.length-1,Nt||S)}function m(ot,M,_t){var Lt=ot[M];ot[M]=ot[_t],ot[_t]=Lt}function S(ot,M){return ot<M?-1:ot>M?1:0}var A=function(ot){ot===void 0&&(ot=9),this._maxEntries=Math.max(4,ot),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function R(ot,M,_t){if(!_t)return M.indexOf(ot);for(var Lt=0;Lt<M.length;Lt++)if(_t(ot,M[Lt]))return Lt;return-1}function j(ot,M){U(ot,0,ot.children.length,M,ot)}function U(ot,M,_t,Lt,Nt){Nt||(Nt=Q(null)),Nt.minX=1/0,Nt.minY=1/0,Nt.maxX=-1/0,Nt.maxY=-1/0;for(var ct=M;ct<_t;ct++){var Ut=ot.children[ct];P(Nt,ot.leaf?Lt(Ut):Ut)}return Nt}function P(ot,M){return ot.minX=Math.min(ot.minX,M.minX),ot.minY=Math.min(ot.minY,M.minY),ot.maxX=Math.max(ot.maxX,M.maxX),ot.maxY=Math.max(ot.maxY,M.maxY),ot}function B(ot,M){return ot.minX-M.minX}function X(ot,M){return ot.minY-M.minY}function W(ot){return(ot.maxX-ot.minX)*(ot.maxY-ot.minY)}function $(ot){return ot.maxX-ot.minX+(ot.maxY-ot.minY)}function J(ot,M){return ot.minX<=M.minX&&ot.minY<=M.minY&&M.maxX<=ot.maxX&&M.maxY<=ot.maxY}function nt(ot,M){return M.minX<=ot.maxX&&M.minY<=ot.maxY&&M.maxX>=ot.minX&&M.maxY>=ot.minY}function Q(ot){return{children:ot,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function St(ot,M,_t,Lt,Nt){for(var ct=[M,_t];ct.length;)if(!((_t=ct.pop())-(M=ct.pop())<=Lt)){var Ut=M+Math.ceil((_t-M)/Lt/2)*Lt;g(ot,Ut,M,_t,Nt),ct.push(M,Ut,Ut,_t)}}return A.prototype.all=function(){return this._all(this.data,[])},A.prototype.search=function(ot){var M=this.data,_t=[];if(!nt(ot,M))return _t;for(var Lt=this.toBBox,Nt=[];M;){for(var ct=0;ct<M.children.length;ct++){var Ut=M.children[ct],mt=M.leaf?Lt(Ut):Ut;nt(ot,mt)&&(M.leaf?_t.push(Ut):J(ot,mt)?this._all(Ut,_t):Nt.push(Ut))}M=Nt.pop()}return _t},A.prototype.collides=function(ot){var M=this.data;if(!nt(ot,M))return!1;for(var _t=[];M;){for(var Lt=0;Lt<M.children.length;Lt++){var Nt=M.children[Lt],ct=M.leaf?this.toBBox(Nt):Nt;if(nt(ot,ct)){if(M.leaf||J(ot,ct))return!0;_t.push(Nt)}}M=_t.pop()}return!1},A.prototype.load=function(ot){if(!ot||!ot.length)return this;if(ot.length<this._minEntries){for(var M=0;M<ot.length;M++)this.insert(ot[M]);return this}var _t=this._build(ot.slice(),0,ot.length-1,0);if(this.data.children.length)if(this.data.height===_t.height)this._splitRoot(this.data,_t);else{if(this.data.height<_t.height){var Lt=this.data;this.data=_t,_t=Lt}this._insert(_t,this.data.height-_t.height-1,!0)}else this.data=_t;return this},A.prototype.insert=function(ot){return ot&&this._insert(ot,this.data.height-1),this},A.prototype.clear=function(){return this.data=Q([]),this},A.prototype.remove=function(ot,M){if(!ot)return this;for(var _t,Lt,Nt,ct=this.data,Ut=this.toBBox(ot),mt=[],xt=[];ct||mt.length;){if(ct||(ct=mt.pop(),Lt=mt[mt.length-1],_t=xt.pop(),Nt=!0),ct.leaf){var Bt=R(ot,ct.children,M);if(Bt!==-1)return ct.children.splice(Bt,1),mt.push(ct),this._condense(mt),this}Nt||ct.leaf||!J(ct,Ut)?Lt?(_t++,ct=Lt.children[_t],Nt=!1):ct=null:(mt.push(ct),xt.push(_t),_t=0,Lt=ct,ct=ct.children[0])}return this},A.prototype.toBBox=function(ot){return ot},A.prototype.compareMinX=function(ot,M){return ot.minX-M.minX},A.prototype.compareMinY=function(ot,M){return ot.minY-M.minY},A.prototype.toJSON=function(){return this.data},A.prototype.fromJSON=function(ot){return this.data=ot,this},A.prototype._all=function(ot,M){for(var _t=[];ot;)ot.leaf?M.push.apply(M,ot.children):_t.push.apply(_t,ot.children),ot=_t.pop();return M},A.prototype._build=function(ot,M,_t,Lt){var Nt,ct=_t-M+1,Ut=this._maxEntries;if(ct<=Ut)return j(Nt=Q(ot.slice(M,_t+1)),this.toBBox),Nt;Lt||(Lt=Math.ceil(Math.log(ct)/Math.log(Ut)),Ut=Math.ceil(ct/Math.pow(Ut,Lt-1))),(Nt=Q([])).leaf=!1,Nt.height=Lt;var mt=Math.ceil(ct/Ut),xt=mt*Math.ceil(Math.sqrt(Ut));St(ot,M,_t,xt,this.compareMinX);for(var Bt=M;Bt<=_t;Bt+=xt){var qt=Math.min(Bt+xt-1,_t);St(ot,Bt,qt,mt,this.compareMinY);for(var Pe=Bt;Pe<=qt;Pe+=mt){var q=Math.min(Pe+mt-1,qt);Nt.children.push(this._build(ot,Pe,q,Lt-1))}}return j(Nt,this.toBBox),Nt},A.prototype._chooseSubtree=function(ot,M,_t,Lt){for(;Lt.push(M),!M.leaf&&Lt.length-1!==_t;){for(var Nt=1/0,ct=1/0,Ut=void 0,mt=0;mt<M.children.length;mt++){var xt=M.children[mt],Bt=W(xt),qt=(Pe=ot,q=xt,(Math.max(q.maxX,Pe.maxX)-Math.min(q.minX,Pe.minX))*(Math.max(q.maxY,Pe.maxY)-Math.min(q.minY,Pe.minY))-Bt);qt<ct?(ct=qt,Nt=Bt<Nt?Bt:Nt,Ut=xt):qt===ct&&Bt<Nt&&(Nt=Bt,Ut=xt)}M=Ut||M.children[0]}var Pe,q;return M},A.prototype._insert=function(ot,M,_t){var Lt=_t?ot:this.toBBox(ot),Nt=[],ct=this._chooseSubtree(Lt,this.data,M,Nt);for(ct.children.push(ot),P(ct,Lt);M>=0&&Nt[M].children.length>this._maxEntries;)this._split(Nt,M),M--;this._adjustParentBBoxes(Lt,Nt,M)},A.prototype._split=function(ot,M){var _t=ot[M],Lt=_t.children.length,Nt=this._minEntries;this._chooseSplitAxis(_t,Nt,Lt);var ct=this._chooseSplitIndex(_t,Nt,Lt),Ut=Q(_t.children.splice(ct,_t.children.length-ct));Ut.height=_t.height,Ut.leaf=_t.leaf,j(_t,this.toBBox),j(Ut,this.toBBox),M?ot[M-1].children.push(Ut):this._splitRoot(_t,Ut)},A.prototype._splitRoot=function(ot,M){this.data=Q([ot,M]),this.data.height=ot.height+1,this.data.leaf=!1,j(this.data,this.toBBox)},A.prototype._chooseSplitIndex=function(ot,M,_t){for(var Lt,Nt,ct,Ut,mt,xt,Bt,qt=1/0,Pe=1/0,q=M;q<=_t-M;q++){var bt=U(ot,0,q,this.toBBox),Vt=U(ot,q,_t,this.toBBox),Xe=(Nt=bt,ct=Vt,Ut=void 0,mt=void 0,xt=void 0,Bt=void 0,Ut=Math.max(Nt.minX,ct.minX),mt=Math.max(Nt.minY,ct.minY),xt=Math.min(Nt.maxX,ct.maxX),Bt=Math.min(Nt.maxY,ct.maxY),Math.max(0,xt-Ut)*Math.max(0,Bt-mt)),qe=W(bt)+W(Vt);Xe<qt?(qt=Xe,Lt=q,Pe=qe<Pe?qe:Pe):Xe===qt&&qe<Pe&&(Pe=qe,Lt=q)}return Lt||_t-M},A.prototype._chooseSplitAxis=function(ot,M,_t){var Lt=ot.leaf?this.compareMinX:B,Nt=ot.leaf?this.compareMinY:X;this._allDistMargin(ot,M,_t,Lt)<this._allDistMargin(ot,M,_t,Nt)&&ot.children.sort(Lt)},A.prototype._allDistMargin=function(ot,M,_t,Lt){ot.children.sort(Lt);for(var Nt=this.toBBox,ct=U(ot,0,M,Nt),Ut=U(ot,_t-M,_t,Nt),mt=$(ct)+$(Ut),xt=M;xt<_t-M;xt++){var Bt=ot.children[xt];P(ct,ot.leaf?Nt(Bt):Bt),mt+=$(ct)}for(var qt=_t-M-1;qt>=M;qt--){var Pe=ot.children[qt];P(Ut,ot.leaf?Nt(Pe):Pe),mt+=$(Ut)}return mt},A.prototype._adjustParentBBoxes=function(ot,M,_t){for(var Lt=_t;Lt>=0;Lt--)P(M[Lt],ot)},A.prototype._condense=function(ot){for(var M=ot.length-1,_t=void 0;M>=0;M--)ot[M].children.length===0?M>0?(_t=ot[M-1].children).splice(_t.indexOf(ot[M]),1):this.clear():j(ot[M],this.toBBox)},A})},"2a62":function(f,p,u){var g=u("c65b"),m=u("825a"),S=u("dc4a");f.exports=function(A,R,j){var U,P;m(A);try{if(U=S(A,"return"),!U){if(R==="throw")throw j;return j}U=g(U,A)}catch(B){P=!0,U=B}if(R==="throw")throw j;if(P)throw U;return m(U),j}},"2ba4":function(f,p,u){var g=u("40d5"),m=Function.prototype,S=m.apply,A=m.call;f.exports=typeof Reflect=="object"&&Reflect.apply||(g?A.bind(S):function(){return A.apply(S,arguments)})},"2d00":function(f,p,u){var g=u("da84"),m=u("342f"),S=g.process,A=g.Deno,R=S&&S.versions||A&&A.version,j=R&&R.v8,U,P;j&&(U=j.split("."),P=U[0]>0&&U[0]<4?1:+(U[0]+U[1])),!P&&m&&(U=m.match(/Edge\/(\d+)/),(!U||U[1]>=74)&&(U=m.match(/Chrome\/(\d+)/),U&&(P=+U[1]))),f.exports=P},"3410":function(f,p,u){var g=u("23e7"),m=u("d039"),S=u("7b0b"),A=u("e163"),R=u("e177"),j=m(function(){A(1)});g({target:"Object",stat:!0,forced:j,sham:!R},{getPrototypeOf:function(P){return A(S(P))}})},"342f":function(f,p,u){var g=u("d066");f.exports=g("navigator","userAgent")||""},"35a1":function(f,p,u){var g=u("f5df"),m=u("dc4a"),S=u("3f8c"),A=u("b622"),R=A("iterator");f.exports=function(j){if(j!=null)return m(j,R)||m(j,"@@iterator")||S[g(j)]}},"35a7":function(f,p,u){u.d(p,"b",function(){return j});var g=u("0ec0"),m=u("01d4"),S=u("1e8d"),A=function(){var U=function(P,B){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,W){X.__proto__=W}||function(X,W){for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(X[$]=W[$])},U(P,B)};return function(P,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");U(P,B);function X(){this.constructor=P}P.prototype=B===null?Object.create(B):(X.prototype=B.prototype,new X)}}(),R=function(U){A(P,U);function P(){var B=U.call(this)||this;return B.on=B.onInternal,B.once=B.onceInternal,B.un=B.unInternal,B.revision_=0,B}return P.prototype.changed=function(){++this.revision_,this.dispatchEvent(m.a.CHANGE)},P.prototype.getRevision=function(){return this.revision_},P.prototype.onInternal=function(B,X){if(Array.isArray(B)){for(var W=B.length,$=new Array(W),J=0;J<W;++J)$[J]=Object(S.a)(this,B[J],X);return $}else return Object(S.a)(this,B,X)},P.prototype.onceInternal=function(B,X){var W;if(Array.isArray(B)){var $=B.length;W=new Array($);for(var J=0;J<$;++J)W[J]=Object(S.b)(this,B[J],X)}else W=Object(S.b)(this,B,X);return X.ol_key=W,W},P.prototype.unInternal=function(B,X){var W=X.ol_key;if(W)j(W);else if(Array.isArray(B))for(var $=0,J=B.length;$<J;++$)this.removeEventListener(B[$],X);else this.removeEventListener(B,X)},P}(g.a);R.prototype.on,R.prototype.once,R.prototype.un;function j(U){if(Array.isArray(U))for(var P=0,B=U.length;P<B;++P)Object(S.c)(U[P]);else Object(S.c)(U)}p.a=R},"37e8":function(f,p,u){var g=u("83ab"),m=u("aed9"),S=u("9bf2"),A=u("825a"),R=u("fc6a"),j=u("df75");p.f=g&&!m?Object.defineProperties:function(P,B){A(P);for(var X=R(B),W=j(B),$=W.length,J=0,nt;$>J;)S.f(P,nt=W[J++],X[nt]);return P}},"38f3":function(f,p,u){u.d(p,"a",function(){return g}),u.d(p,"b",function(){return m}),u.d(p,"c",function(){return S}),u.d(p,"d",function(){return A});var g=typeof Object.assign=="function"?Object.assign:function(R,j){if(R==null)throw new TypeError("Cannot convert undefined or null to object");for(var U=Object(R),P=1,B=arguments.length;P<B;++P){var X=arguments[P];if(X!=null)for(var W in X)X.hasOwnProperty(W)&&(U[W]=X[W])}return U};function m(R){for(var j in R)delete R[j]}var S=typeof Object.values=="function"?Object.values:function(R){var j=[];for(var U in R)j.push(R[U]);return j};function A(R){var j;for(j in R)return!1;return!j}},"3900":function(f,p,u){u.r(p);var g=u("e269"),m=u("592d"),S=u("57cb"),A=u("1e8d"),R=u("0999"),j=function(){var P=function(B,X){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,$){W.__proto__=$}||function(W,$){for(var J in $)Object.prototype.hasOwnProperty.call($,J)&&(W[J]=$[J])},P(B,X)};return function(B,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");P(B,X);function W(){this.constructor=B}B.prototype=X===null?Object.create(X):(W.prototype=X.prototype,new W)}}(),U=function(P){j(B,P);function B(X){var W=P.call(this)||this,$=X.element;return $&&!X.target&&!$.style.pointerEvents&&($.style.pointerEvents="auto"),W.element=$||null,W.target_=null,W.map_=null,W.listenerKeys=[],X.render&&(W.render=X.render),X.target&&W.setTarget(X.target),W}return B.prototype.disposeInternal=function(){Object(R.e)(this.element),P.prototype.disposeInternal.call(this)},B.prototype.getMap=function(){return this.map_},B.prototype.setMap=function(X){this.map_&&Object(R.e)(this.element);for(var W=0,$=this.listenerKeys.length;W<$;++W)Object(A.c)(this.listenerKeys[W]);if(this.listenerKeys.length=0,this.map_=X,this.map_){var J=this.target_?this.target_:X.getOverlayContainerStopEvent();J.appendChild(this.element),this.render!==S.c&&this.listenerKeys.push(Object(A.a)(X,m.a.POSTRENDER,this.render,this)),X.render()}},B.prototype.render=function(X){},B.prototype.setTarget=function(X){this.target_=typeof X=="string"?document.getElementById(X):X},B}(g.a);p.default=U},"3a9b":function(f,p,u){var g=u("e330");f.exports=g({}.isPrototypeOf)},"3bbe":function(f,p,u){var g=u("da84"),m=u("1626"),S=g.String,A=g.TypeError;f.exports=function(R){if(typeof R=="object"||m(R))return R;throw A("Can't set "+S(R)+" as a prototype")}},"3ca3":function(f,p,u){var g=u("6547").charAt,m=u("577e"),S=u("69f3"),A=u("7dd0"),R="String Iterator",j=S.set,U=S.getterFor(R);A(String,"String",function(P){j(this,{type:R,string:m(P),index:0})},function(){var B=U(this),X=B.string,W=B.index,$;return W>=X.length?{value:void 0,done:!0}:($=g(X,W),B.index+=$.length,{value:$,done:!1})})},"3f8c":function(f,p){f.exports={}},"408a":function(f,p,u){var g=u("e330");f.exports=g(1 .valueOf)},"40d5":function(f,p,u){var g=u("d039");f.exports=!g(function(){var m=function(){}.bind();return typeof m!="function"||m.hasOwnProperty("prototype")})},"428f":function(f,p,u){var g=u("da84");f.exports=g},"44ad":function(f,p,u){var g=u("da84"),m=u("e330"),S=u("d039"),A=u("c6b6"),R=g.Object,j=m("".split);f.exports=S(function(){return!R("z").propertyIsEnumerable(0)})?function(U){return A(U)=="String"?j(U,""):R(U)}:R},"44d2":function(f,p,u){var g=u("b622"),m=u("7c73"),S=u("9bf2"),A=g("unscopables"),R=Array.prototype;R[A]==null&&S.f(R,A,{configurable:!0,value:m(null)}),f.exports=function(j){R[A][j]=!0}},"44e7":function(f,p,u){var g=u("861d"),m=u("c6b6"),S=u("b622"),A=S("match");f.exports=function(R){var j;return g(R)&&((j=R[A])!==void 0?!!j:m(R)=="RegExp")}},"485a":function(f,p,u){var g=u("da84"),m=u("c65b"),S=u("1626"),A=u("861d"),R=g.TypeError;f.exports=function(j,U){var P,B;if(U==="string"&&S(P=j.toString)&&!A(B=m(P,j))||S(P=j.valueOf)&&!A(B=m(P,j))||U!=="string"&&S(P=j.toString)&&!A(B=m(P,j)))return B;throw R("Can't convert object to primitive value")}},"4930":function(f,p,u){var g=u("2d00"),m=u("d039");f.exports=!!Object.getOwnPropertySymbols&&!m(function(){var S=Symbol();return!String(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&g&&g<41})},"4ae1":function(f,p,u){var g=u("23e7"),m=u("d066"),S=u("2ba4"),A=u("0538"),R=u("5087"),j=u("825a"),U=u("861d"),P=u("7c73"),B=u("d039"),X=m("Reflect","construct"),W=Object.prototype,$=[].push,J=B(function(){function St(){}return!(X(function(){},[],St)instanceof St)}),nt=!B(function(){X(function(){})}),Q=J||nt;g({target:"Reflect",stat:!0,forced:Q,sham:Q},{construct:function(ot,M){R(ot),j(M);var _t=arguments.length<3?ot:R(arguments[2]);if(nt&&!J)return X(ot,M,_t);if(ot==_t){switch(M.length){case 0:return new ot;case 1:return new ot(M[0]);case 2:return new ot(M[0],M[1]);case 3:return new ot(M[0],M[1],M[2]);case 4:return new ot(M[0],M[1],M[2],M[3])}var Lt=[null];return S($,Lt,M),new(S(A,ot,Lt))}var Nt=_t.prototype,ct=P(U(Nt)?Nt:W),Ut=S(ot,ct,M);return U(Ut)?Ut:ct}})},"4d64":function(f,p,u){var g=u("fc6a"),m=u("23cb"),S=u("07fa"),A=function(R){return function(j,U,P){var B=g(j),X=S(B),W=m(P,X),$;if(R&&U!=U){for(;X>W;)if($=B[W++],$!=$)return!0}else for(;X>W;W++)if((R||W in B)&&B[W]===U)return R||W||0;return!R&&-1}};f.exports={includes:A(!0),indexOf:A(!1)}},"4dae":function(f,p,u){var g=u("da84"),m=u("23cb"),S=u("07fa"),A=u("8418"),R=g.Array,j=Math.max;f.exports=function(U,P,B){for(var X=S(U),W=m(P,X),$=m(B===void 0?X:B,X),J=R(j($-W,0)),nt=0;W<$;W++,nt++)A(J,nt,U[W]);return J.length=nt,J}},"4de4":function(f,p,u){var g=u("23e7"),m=u("b727").filter,S=u("1dde"),A=S("filter");g({target:"Array",proto:!0,forced:!A},{filter:function(j){return m(this,j,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(f,p,u){var g=u("da84"),m=u("0366"),S=u("c65b"),A=u("7b0b"),R=u("9bdd"),j=u("e95a"),U=u("68ee"),P=u("07fa"),B=u("8418"),X=u("9a1f"),W=u("35a1"),$=g.Array;f.exports=function(nt){var Q=A(nt),St=U(this),ot=arguments.length,M=ot>1?arguments[1]:void 0,_t=M!==void 0;_t&&(M=m(M,ot>2?arguments[2]:void 0));var Lt=W(Q),Nt=0,ct,Ut,mt,xt,Bt,qt;if(Lt&&!(this==$&&j(Lt)))for(xt=X(Q,Lt),Bt=xt.next,Ut=St?new this:[];!(mt=S(Bt,xt)).done;Nt++)qt=_t?R(xt,M,[mt.value,Nt],!0):mt.value,B(Ut,Nt,qt);else for(ct=P(Q),Ut=St?new this(ct):$(ct);ct>Nt;Nt++)qt=_t?M(Q[Nt],Nt):Q[Nt],B(Ut,Nt,qt);return Ut.length=Nt,Ut}},"4e82":function(f,p,u){var g=u("23e7"),m=u("e330"),S=u("59ed"),A=u("7b0b"),R=u("07fa"),j=u("577e"),U=u("d039"),P=u("addb"),B=u("a640"),X=u("04d1"),W=u("d998"),$=u("2d00"),J=u("512c"),nt=[],Q=m(nt.sort),St=m(nt.push),ot=U(function(){nt.sort(void 0)}),M=U(function(){nt.sort(null)}),_t=B("sort"),Lt=!U(function(){if($)return $<70;if(!(X&&X>3)){if(W)return!0;if(J)return J<603;var Ut="",mt,xt,Bt,qt;for(mt=65;mt<76;mt++){switch(xt=String.fromCharCode(mt),mt){case 66:case 69:case 70:case 72:Bt=3;break;case 68:case 71:Bt=4;break;default:Bt=2}for(qt=0;qt<47;qt++)nt.push({k:xt+qt,v:Bt})}for(nt.sort(function(Pe,q){return q.v-Pe.v}),qt=0;qt<nt.length;qt++)xt=nt[qt].k.charAt(0),Ut.charAt(Ut.length-1)!==xt&&(Ut+=xt);return Ut!=="DGBEFHACIJK"}}),Nt=ot||!M||!_t||!Lt,ct=function(Ut){return function(mt,xt){return xt===void 0?-1:mt===void 0?1:Ut!==void 0?+Ut(mt,xt)||0:j(mt)>j(xt)?1:-1}};g({target:"Array",proto:!0,forced:Nt},{sort:function(mt){mt!==void 0&&S(mt);var xt=A(this);if(Lt)return mt===void 0?Q(xt):Q(xt,mt);var Bt=[],qt=R(xt),Pe,q;for(q=0;q<qt;q++)q in xt&&St(Bt,xt[q]);for(P(Bt,ct(mt)),Pe=Bt.length,q=0;q<Pe;)xt[q]=Bt[q++];for(;q<qt;)delete xt[q++];return xt}})},"5087":function(f,p,u){var g=u("da84"),m=u("68ee"),S=u("0d51"),A=g.TypeError;f.exports=function(R){if(m(R))return R;throw A(S(R)+" is not a constructor")}},"50c4":function(f,p,u){var g=u("5926"),m=Math.min;f.exports=function(S){return S>0?m(g(S),9007199254740991):0}},"512c":function(f,p,u){var g=u("342f"),m=g.match(/AppleWebKit\/(\d+)\./);f.exports=!!m&&+m[1]},"5319":function(f,p,u){var g=u("2ba4"),m=u("c65b"),S=u("e330"),A=u("d784"),R=u("d039"),j=u("825a"),U=u("1626"),P=u("5926"),B=u("50c4"),X=u("577e"),W=u("1d80"),$=u("8aa5"),J=u("dc4a"),nt=u("0cb2"),Q=u("14c3"),St=u("b622"),ot=St("replace"),M=Math.max,_t=Math.min,Lt=S([].concat),Nt=S([].push),ct=S("".indexOf),Ut=S("".slice),mt=function(Pe){return Pe===void 0?Pe:String(Pe)},xt=function(){return"a".replace(/./,"$0")==="$0"}(),Bt=function(){return/./[ot]?/./[ot]("a","$0")==="":!1}(),qt=!R(function(){var Pe=/./;return Pe.exec=function(){var q=[];return q.groups={a:"7"},q},"".replace(Pe,"$<a>")!=="7"});A("replace",function(Pe,q,bt){var Vt=Bt?"$":"$0";return[function(qe,Ue){var yr=W(this),Ar=qe==null?void 0:J(qe,ot);return Ar?m(Ar,qe,yr,Ue):m(q,X(yr),qe,Ue)},function(Xe,qe){var Ue=j(this),yr=X(Xe);if(typeof qe=="string"&&ct(qe,Vt)===-1&&ct(qe,"$<")===-1){var Ar=bt(q,Ue,yr,qe);if(Ar.done)return Ar.value}var Jr=U(qe);Jr||(qe=X(qe));var ee=Ue.global;if(ee){var Ie=Ue.unicode;Ue.lastIndex=0}for(var Je=[];;){var dr=Q(Ue,yr);if(dr===null||(Nt(Je,dr),!ee))break;var En=X(dr[0]);En===""&&(Ue.lastIndex=$(yr,B(Ue.lastIndex),Ie))}for(var mr="",Ir=0,_r=0;_r<Je.length;_r++){dr=Je[_r];for(var Rt=X(dr[0]),ne=M(_t(P(dr.index),yr.length),0),Ct=[],Wt=1;Wt<dr.length;Wt++)Nt(Ct,mt(dr[Wt]));var jt=dr.groups;if(Jr){var Jt=Lt([Rt],Ct,ne,yr);jt!==void 0&&Nt(Jt,jt);var he=X(g(qe,void 0,Jt))}else he=nt(Rt,yr,ne,Ct,jt,qe);ne>=Ir&&(mr+=Ut(yr,Ir,ne)+he,Ir=ne+Rt.length)}return mr+Ut(yr,Ir)}]},!qt||!xt||Bt)},"5692":function(f,p,u){var g=u("c430"),m=u("c6cd");(f.exports=function(S,A){return m[S]||(m[S]=A!==void 0?A:{})})("versions",[]).push({version:"3.20.3",mode:g?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(f,p,u){var g=u("d066"),m=u("e330"),S=u("241c"),A=u("7418"),R=u("825a"),j=m([].concat);f.exports=g("Reflect","ownKeys")||function(P){var B=S.f(R(P)),X=A.f;return X?j(B,X(P)):B}},"577e":function(f,p,u){var g=u("da84"),m=u("f5df"),S=g.String;f.exports=function(A){if(m(A)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return S(A)}},"57cb":function(f,p,u){u.d(p,"b",function(){return m}),u.d(p,"a",function(){return S}),u.d(p,"c",function(){return A}),u.d(p,"d",function(){return R});var g=u("9f5e");function m(){return!0}function S(){return!1}function A(){}function R(j){var U=!1,P,B,X;return function(){var W=Array.prototype.slice.call(arguments);return(!U||this!==X||!Object(g.b)(W,B))&&(U=!0,X=this,B=W,P=j.apply(this,arguments)),P}}},"5899":function(f,p){f.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"58a8":function(f,p,u){var g=u("e330"),m=u("1d80"),S=u("577e"),A=u("5899"),R=g("".replace),j="["+A+"]",U=RegExp("^"+j+j+"*"),P=RegExp(j+j+"*$"),B=function(X){return function(W){var $=S(m(W));return X&1&&($=R($,U,"")),X&2&&($=R($,P,"")),$}};f.exports={start:B(1),end:B(2),trim:B(3)}},"5926":function(f,p){var u=Math.ceil,g=Math.floor;f.exports=function(m){var S=+m;return S!==S||S===0?0:(S>0?g:u)(S)}},"592d":function(f,p,u){p.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"59ed":function(f,p,u){var g=u("da84"),m=u("1626"),S=u("0d51"),A=g.TypeError;f.exports=function(R){if(m(R))return R;throw A(S(R)+" is not a function")}},"5a34":function(f,p,u){var g=u("da84"),m=u("44e7"),S=g.TypeError;f.exports=function(A){if(m(A))throw S("The method doesn't accept regular expressions");return A}},"5bc0":function(f,p,u){},"5c6c":function(f,p){f.exports=function(u,g){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:g}}},"5e77":function(f,p,u){var g=u("83ab"),m=u("1a2d"),S=Function.prototype,A=g&&Object.getOwnPropertyDescriptor,R=m(S,"name"),j=R&&function(){}.name==="something",U=R&&(!g||g&&A(S,"name").configurable);f.exports={EXISTS:R,PROPER:j,CONFIGURABLE:U}},"617d":function(f,p,u){u.d(p,"b",function(){return m}),u.d(p,"f",function(){return S}),u.d(p,"d",function(){return A}),u.d(p,"a",function(){return R}),u.d(p,"g",function(){return j}),u.d(p,"c",function(){return U}),u.d(p,"e",function(){return P});var g=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",m=g.indexOf("firefox")!==-1;g.indexOf("safari")!==-1&&g.indexOf("chrom")==-1;var S=g.indexOf("webkit")!==-1&&g.indexOf("edge")==-1,A=g.indexOf("macintosh")!==-1,R=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,j=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,U=typeof Image!="undefined"&&Image.prototype.decode,P=function(){var B=!1;try{var X=Object.defineProperty({},"passive",{get:function(){B=!0}});window.addEventListener("_",null,X),window.removeEventListener("_",null,X)}catch{}return B}()},"6547":function(f,p,u){var g=u("e330"),m=u("5926"),S=u("577e"),A=u("1d80"),R=g("".charAt),j=g("".charCodeAt),U=g("".slice),P=function(B){return function(X,W){var $=S(A(X)),J=m(W),nt=$.length,Q,St;return J<0||J>=nt?B?"":void 0:(Q=j($,J),Q<55296||Q>56319||J+1===nt||(St=j($,J+1))<56320||St>57343?B?R($,J):Q:B?U($,J,J+2):(Q-55296<<10)+(St-56320)+65536)}};f.exports={codeAt:P(!1),charAt:P(!0)}},"658f":function(f,p,u){/*!
  * ol-contextmenu - v4.1.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Sat Aug 15 2020 10:43:26 GMT-0300 (Brasilia Standard Time)
  */(function(g,m){f.exports=m(u("3900"))})(this,function(g){function m(mt){return mt&&typeof mt=="object"&&"default"in mt?mt:{default:mt}}var S=m(g),A="ol-ctx-menu",R={namespace:A,container:A+"-container",separator:A+"-separator",submenu:A+"-submenu",hidden:A+"-hidden",icon:A+"-icon",zoomIn:A+"-zoom-in",zoomOut:A+"-zoom-out",unselectable:"ol-unselectable"},j=R,U="beforeopen",P="open",B="close",X="contextmenu",W={width:150,scrollAt:4,eventType:X,defaultItems:!0},$=[{text:"Zoom In",classname:R.zoomIn+" "+R.icon,callback:function(mt,xt){var Bt=xt.getView();Bt.animate({zoom:+Bt.getZoom()+1,duration:700,center:mt.coordinate})}},{text:"Zoom Out",classname:R.zoomOut+" "+R.icon,callback:function(mt,xt){var Bt=xt.getView();Bt.animate({zoom:+Bt.getZoom()-1,duration:700,center:mt.coordinate})}}];function J(mt,xt){if(xt===void 0&&(xt="Assertion failed"),!mt)throw typeof Error!="undefined"?new Error(xt):xt}function nt(mt){return/^\d+$/.test(mt)}function Q(mt,xt){return mt.classList?mt.classList.contains(xt):_t(xt).test(mt.className)}function St(mt,xt,Bt){xt===void 0&&(xt=window.document);var qt=Array.prototype.slice,Pe=[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(mt))switch(mt[0]){case"#":Pe=[ot(mt.substr(1))];break;case".":Pe=qt.call(xt.getElementsByClassName(mt.substr(1).replace(/\./g," ")));break;default:Pe=qt.call(xt.getElementsByTagName(mt))}else Pe=qt.call(xt.querySelectorAll(mt));return Bt?Pe:Pe[0]}function ot(mt){return mt=mt[0]==="#"?mt.substr(1,mt.length):mt,document.getElementById(mt)}function M(mt){var xt=document.createDocumentFragment(),Bt=document.createElement("div");for(Bt.innerHTML=mt;Bt.firstChild;)xt.appendChild(Bt.firstChild);return xt}function _t(mt){return new RegExp("(^|\\s+) "+mt+" (\\s+|$)")}function Lt(mt,xt,Bt){mt.classList?mt.classList.add(xt):mt.className=(mt.className+" "+xt).trim(),Bt&&nt(Bt)&&window.setTimeout(function(){return Nt(mt,xt)},Bt)}function Nt(mt,xt,Bt){mt.classList?mt.classList.remove(xt):mt.className=mt.className.replace(_t(xt)," ").trim(),Bt&&nt(Bt)&&window.setTimeout(function(){return Lt(mt,xt)},Bt)}var ct=function(mt){return this.Base=mt,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:mt.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this};ct.prototype.init=function(mt){this.map=mt,this.viewport=mt.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},ct.prototype.getItemsLength=function(){var mt=this,xt=0;return Object.keys(this.items).forEach(function(Bt){mt.items[Bt].submenu||mt.items[Bt].separator||xt++}),xt},ct.prototype.getPixelClicked=function(){return this.pixelClicked},ct.prototype.getCoordinateClicked=function(){return this.coordinateClicked},ct.prototype.positionContainer=function(mt){var xt=this,Bt=this.Base.container,qt=this.map.getSize(),Pe=qt[1]-mt[1],q=qt[0]-mt[0],bt=Bt.offsetWidth,Vt=Math.round(this.lineHeight*this.getItemsLength()),Xe=St("li."+j.submenu+">div",Bt,!0);q>=bt?(Bt.style.right="auto",Bt.style.left=mt[0]+5+"px"):(Bt.style.left="auto",Bt.style.right="15px"),Pe>=Vt?(Bt.style.bottom="auto",Bt.style.top=mt[1]-10+"px"):(Bt.style.top="auto",Bt.style.bottom=0),function qe(Ue,yr,Ar){if(Array.isArray(Ue))Ue.forEach(function(Ie){return qe(Ie,yr,Ar)});else for(var Jr=Array.isArray(yr)?yr:yr.split(/\s+/),ee=Jr.length;ee--;)Q(Ue,Jr[ee])&&Nt(Ue,Jr[ee],Ar)}(Bt,j.hidden),Xe.length&&(this.submenu.lastLeft=q<2*bt?"-"+bt+"px":this.submenu.left,Xe.forEach(function(qe){var Ue,yr,Ar,Jr={w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight},ee=(yr=(Ue=qe).getBoundingClientRect(),Ar=document.documentElement,{left:yr.left+window.pageXOffset-Ar.clientLeft,top:yr.top+window.pageYOffset-Ar.clientTop,width:Ue.offsetWidth,height:Ue.offsetHeight}),Ie=ee.height,Je=Pe-Ie;Je<0&&(Je=Ie-(Jr.h-ee.top),qe.style.top="-"+Je+"px"),qe.style.left=xt.submenu.lastLeft}))},ct.prototype.openMenu=function(mt,xt){this.Base.dispatchEvent({type:P,pixel:mt,coordinate:xt}),this.opened=!0,this.positionContainer(mt)},ct.prototype.closeMenu=function(){this.opened=!1,function mt(xt,Bt,qt){if(Array.isArray(xt))xt.forEach(function(bt){return mt(bt,Bt)});else for(var Pe=Array.isArray(Bt)?Bt:Bt.split(/\s+/),q=Pe.length;q--;)Q(xt,Pe[q])||Lt(xt,Pe[q],qt)}(this.Base.container,j.hidden),this.Base.dispatchEvent({type:B})},ct.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)},ct.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)},ct.prototype.handleEvent=function(mt){var xt=this;this.coordinateClicked=this.map.getEventCoordinate(mt),this.pixelClicked=this.map.getEventPixel(mt),this.Base.dispatchEvent({type:U,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===X&&(mt.stopPropagation(),mt.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),mt.target.addEventListener("pointerdown",{handleEvent:function(Bt){xt.opened&&(xt.closeMenu(),Bt.stopPropagation(),mt.target.removeEventListener(Bt.type,this,!1))}},!1))},ct.prototype.handleMapMoveEvent=function(mt){this.closeMenu()},ct.prototype.setItemListener=function(mt,xt){var Bt,qt=this;mt&&typeof this.items[xt].callback=="function"&&(Bt=this.items[xt].callback,mt.addEventListener("click",function(Pe){Pe.preventDefault();var q={coordinate:qt.getCoordinateClicked(),data:qt.items[xt].data||null};qt.closeMenu(),Bt(q,qt.map)},!1))};var Ut=function(mt){return this.Base=mt,this.Base.container=this.container=this.createContainer(!0),this};return Ut.prototype.createContainer=function(mt){var xt=document.createElement("div"),Bt=document.createElement("ul"),qt=[j.container,j.unselectable];return mt&&qt.push(j.hidden),xt.className=qt.join(" "),xt.style.width=parseInt(this.Base.options.width,10)+"px",xt.appendChild(Bt),xt},Ut.prototype.createMenu=function(){var mt=[];if("items"in this.Base.options?mt=this.Base.options.defaultItems?this.Base.options.items.concat($):this.Base.options.items:this.Base.options.defaultItems&&(mt=$),mt.length===0)return!1;mt.forEach(this.addMenuEntry,this)},Ut.prototype.addMenuEntry=function(mt){var xt,Bt=this;if(mt.items&&Array.isArray(mt.items)){mt.classname=mt.classname||"",xt=j.submenu,~mt.classname.indexOf(xt)||(mt.classname=mt.classname.length?" "+j.submenu:j.submenu);var qt=this.generateHtmlAndPublish(this.container,mt),Pe=this.createContainer();Pe.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,qt.appendChild(Pe),mt.items.forEach(function(q){Bt.generateHtmlAndPublish(Pe,q,!0)})}else this.generateHtmlAndPublish(this.container,mt)},Ut.prototype.generateHtmlAndPublish=function(mt,xt,Bt){var qt,Pe,q="_"+Math.random().toString(36).substr(2,9),bt=!1;return typeof xt=="string"&&xt.trim()==="-"?(qt=M('<li id="'+q+'" class="'+j.separator+'"><hr></li>'),Pe=[].slice.call(qt.childNodes,0)[0],mt.firstChild.appendChild(qt),bt=!0):(xt.classname=xt.classname||"",qt=M("<span>"+xt.text+"</span>"),Pe=document.createElement("li"),xt.icon&&(xt.classname===""?xt.classname=j.icon:xt.classname.indexOf(j.icon)===-1&&(xt.classname+=" "+j.icon),Pe.setAttribute("style","background-image:url("+xt.icon+")")),Pe.id=q,Pe.className=xt.classname,Pe.appendChild(qt),mt.firstChild.appendChild(Pe)),this.Base.Internal.items[q]={id:q,submenu:Bt||0,separator:bt,callback:xt.callback,data:xt.data||null},this.Base.Internal.setItemListener(Pe,q),Pe},Ut.prototype.removeMenuEntry=function(mt){var xt=St("#"+mt,this.container.firstChild);xt&&this.container.firstChild.removeChild(xt),delete this.Base.Internal.items[mt]},Ut.prototype.cloneAndGetLineHeight=function(){var mt=this.container.cloneNode(),xt=M("<span>Foo</span>"),Bt=M("<span>Foo</span>"),qt=document.createElement("li"),Pe=document.createElement("li");qt.appendChild(xt),Pe.appendChild(Bt),mt.appendChild(qt),mt.appendChild(Pe),this.container.parentNode.appendChild(mt);var q=mt.offsetHeight/2;return this.container.parentNode.removeChild(mt),q},function(mt){function xt(Bt){Bt===void 0&&(Bt={}),J(typeof Bt=="object","@param `opt_options` should be object type!"),this.options=function(qt,Pe){var q={};for(var bt in qt)q[bt]=qt[bt];for(var Vt in Pe)q[Vt]=Pe[Vt];return q}(W,Bt),this.disabled=!1,this.Internal=new ct(this),this.Html=new Ut(this),mt.call(this,{element:this.container})}return mt&&(xt.__proto__=mt),xt.prototype=Object.create(mt&&mt.prototype),xt.prototype.constructor=xt,xt.prototype.clear=function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)},xt.prototype.close=function(){this.Internal.closeMenu()},xt.prototype.enable=function(){this.disabled=!1},xt.prototype.disable=function(){this.disabled=!0},xt.prototype.getDefaultItems=function(){return $},xt.prototype.countItems=function(){return Object.keys(this.Internal.items).length},xt.prototype.extend=function(Bt){J(Array.isArray(Bt),"@param `arr` should be an Array."),Bt.forEach(this.push,this)},xt.prototype.isOpen=function(){return this.Internal.opened},xt.prototype.updatePosition=function(Bt){J(Array.isArray(Bt),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(Bt)},xt.prototype.pop=function(){var Bt=Object.keys(this.Internal.items);this.Html.removeMenuEntry(Bt[Bt.length-1])},xt.prototype.push=function(Bt){J(Bt!=null,"@param `item` must be informed."),this.Html.addMenuEntry(Bt)},xt.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},xt.prototype.setMap=function(Bt){mt.prototype.setMap.call(this,Bt),Bt?this.Internal.init(Bt,this):this.Internal.removeListeners()},xt}(S.default)})},"65f0":function(f,p,u){var g=u("0b42");f.exports=function(m,S){return new(g(m))(S===0?0:S)}},"68ee":function(f,p,u){var g=u("e330"),m=u("d039"),S=u("1626"),A=u("f5df"),R=u("d066"),j=u("8925"),U=function(){},P=[],B=R("Reflect","construct"),X=/^\s*(?:class|function)\b/,W=g(X.exec),$=!X.exec(U),J=function(St){if(!S(St))return!1;try{return B(U,P,St),!0}catch{return!1}},nt=function(St){if(!S(St))return!1;switch(A(St)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $||!!W(X,j(St))}catch{return!0}};nt.sham=!0,f.exports=!B||m(function(){var Q;return J(J.call)||!J(Object)||!J(function(){Q=!0})||Q})?nt:J},"69f3":function(f,p,u){var g=u("7f9a"),m=u("da84"),S=u("e330"),A=u("861d"),R=u("9112"),j=u("1a2d"),U=u("c6cd"),P=u("f772"),B=u("d012"),X="Object already initialized",W=m.TypeError,$=m.WeakMap,J,nt,Q,St=function(Ut){return Q(Ut)?nt(Ut):J(Ut,{})},ot=function(Ut){return function(mt){var xt;if(!A(mt)||(xt=nt(mt)).type!==Ut)throw W("Incompatible receiver, "+Ut+" required");return xt}};if(g||U.state){var M=U.state||(U.state=new $),_t=S(M.get),Lt=S(M.has),Nt=S(M.set);J=function(Ut,mt){if(Lt(M,Ut))throw new W(X);return mt.facade=Ut,Nt(M,Ut,mt),mt},nt=function(Ut){return _t(M,Ut)||{}},Q=function(Ut){return Lt(M,Ut)}}else{var ct=P("state");B[ct]=!0,J=function(Ut,mt){if(j(Ut,ct))throw new W(X);return mt.facade=Ut,R(Ut,ct,mt),mt},nt=function(Ut){return j(Ut,ct)?Ut[ct]:{}},Q=function(Ut){return j(Ut,ct)}}f.exports={set:J,get:nt,has:Q,enforce:St,getterFor:ot}},"6b0d":function(f,p,u){Object.defineProperty(p,"__esModule",{value:!0}),p.default=(g,m)=>{const S=g.__vccOpts||g;for(const[A,R]of m)S[A]=R;return S}},"6eeb":function(f,p,u){var g=u("da84"),m=u("1626"),S=u("1a2d"),A=u("9112"),R=u("ce4e"),j=u("8925"),U=u("69f3"),P=u("5e77").CONFIGURABLE,B=U.get,X=U.enforce,W=String(String).split("String");(f.exports=function($,J,nt,Q){var St=Q?!!Q.unsafe:!1,ot=Q?!!Q.enumerable:!1,M=Q?!!Q.noTargetGet:!1,_t=Q&&Q.name!==void 0?Q.name:J,Lt;if(m(nt)&&(String(_t).slice(0,7)==="Symbol("&&(_t="["+String(_t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S(nt,"name")||P&&nt.name!==_t)&&A(nt,"name",_t),Lt=X(nt),Lt.source||(Lt.source=W.join(typeof _t=="string"?_t:""))),$===g){ot?$[J]=nt:R(J,nt);return}else St?!M&&$[J]&&(ot=!0):delete $[J];ot?$[J]=nt:A($,J,nt)})(Function.prototype,"toString",function(){return m(this)&&B(this).source||j(this)})},"6f53":function(f,p,u){var g=u("83ab"),m=u("e330"),S=u("df75"),A=u("fc6a"),R=u("d1e7").f,j=m(R),U=m([].push),P=function(B){return function(X){for(var W=A(X),$=S(W),J=$.length,nt=0,Q=[],St;J>nt;)St=$[nt++],(!g||j(W,St))&&U(Q,B?[St,W[St]]:W[St]);return Q}};f.exports={entries:P(!0),values:P(!1)}},"7037":function(f,p,u){u("a4d3"),u("e01a"),u("d3b7"),u("d28b"),u("e260"),u("3ca3"),u("ddb0");function g(m){return f.exports=g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f.exports.__esModule=!0,f.exports.default=f.exports,g(m)}f.exports=g,f.exports.__esModule=!0,f.exports.default=f.exports},"7156":function(f,p,u){var g=u("1626"),m=u("861d"),S=u("d2bb");f.exports=function(A,R,j){var U,P;return S&&g(U=R.constructor)&&U!==j&&m(P=U.prototype)&&P!==j.prototype&&S(A,P),A}},"72ba":function(f,p,u){u.d(p,"b",function(){return Rt}),u.d(p,"a",function(){return ne});var g=Uint8Array,m=Uint16Array,S=Uint32Array,A=new g([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R=new g([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j=new g([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U=function(Ct,Wt){for(var jt=new m(31),Jt=0;Jt<31;++Jt)jt[Jt]=Wt+=1<<Ct[Jt-1];for(var he=new S(jt[30]),Jt=1;Jt<30;++Jt)for(var ge=jt[Jt];ge<jt[Jt+1];++ge)he[ge]=ge-jt[Jt]<<5|Jt;return[jt,he]},P=U(A,2),B=P[0],X=P[1];B[28]=258,X[258]=28;for(var W=U(R,0),$=W[0],J=W[1],nt=new m(32768),Q=0;Q<32768;++Q){var St=(Q&43690)>>>1|(Q&21845)<<1;St=(St&52428)>>>2|(St&13107)<<2,St=(St&61680)>>>4|(St&3855)<<4,nt[Q]=((St&65280)>>>8|(St&255)<<8)>>>1}for(var ot=function(Ct,Wt,jt){for(var Jt=Ct.length,he=0,ge=new m(Wt);he<Jt;++he)++ge[Ct[he]-1];var Ve=new m(Wt);for(he=0;he<Wt;++he)Ve[he]=Ve[he-1]+ge[he-1]<<1;var tt;if(jt){tt=new m(1<<Wt);var z=15-Wt;for(he=0;he<Jt;++he)if(Ct[he])for(var V=he<<4|Ct[he],at=Wt-Ct[he],Ht=Ve[Ct[he]-1]++<<at,ye=Ht|(1<<at)-1;Ht<=ye;++Ht)tt[nt[Ht]>>>z]=V}else for(tt=new m(Jt),he=0;he<Jt;++he)tt[he]=nt[Ve[Ct[he]-1]++]>>>15-Ct[he];return tt},M=new g(288),Q=0;Q<144;++Q)M[Q]=8;for(var Q=144;Q<256;++Q)M[Q]=9;for(var Q=256;Q<280;++Q)M[Q]=7;for(var Q=280;Q<288;++Q)M[Q]=8;for(var _t=new g(32),Q=0;Q<32;++Q)_t[Q]=5;var Lt=ot(M,9,0),Nt=ot(M,9,1),ct=ot(_t,5,0),Ut=ot(_t,5,1),mt=function(Ct){for(var Wt=Ct[0],jt=1;jt<Ct.length;++jt)Ct[jt]>Wt&&(Wt=Ct[jt]);return Wt},xt=function(Ct,Wt,jt){var Jt=Wt/8>>0;return(Ct[Jt]|Ct[Jt+1]<<8)>>>(Wt&7)&jt},Bt=function(Ct,Wt){var jt=Wt/8>>0;return(Ct[jt]|Ct[jt+1]<<8|Ct[jt+2]<<16)>>>(Wt&7)},qt=function(Ct){return(Ct/8>>0)+(Ct&7&&1)},Pe=function(Ct,Wt,jt){(Wt==null||Wt<0)&&(Wt=0),(jt==null||jt>Ct.length)&&(jt=Ct.length);var Jt=new(Ct instanceof m?m:Ct instanceof S?S:g)(jt-Wt);return Jt.set(Ct.subarray(Wt,jt)),Jt},q=function(Ct,Wt,jt){var Jt=Ct.length,he=!Wt||jt,ge=!jt||jt.i;jt||(jt={}),Wt||(Wt=new g(Jt*3));var Ve=function(eu){var Hs=Wt.length;if(eu>Hs){var wl=new g(Math.max(Hs*2,eu));wl.set(Wt),Wt=wl}},tt=jt.f||0,z=jt.p||0,V=jt.b||0,at=jt.l,Ht=jt.d,ye=jt.m,Se=jt.n,cr=Jt*8;do{if(!at){jt.f=tt=xt(Ct,z,1);var wr=xt(Ct,z+1,3);if(z+=3,wr)if(wr==1)at=Nt,Ht=Ut,ye=9,Se=5;else if(wr==2){var Hn=xt(Ct,z,31)+257,bi=xt(Ct,z+10,15)+4,Rn=Hn+xt(Ct,z+5,31)+1;z+=14;for(var Dn=new g(Rn),fi=new g(19),kr=0;kr<bi;++kr)fi[j[kr]]=xt(Ct,z+kr*3,7);z+=bi*3;var Xi=mt(fi),Xn=(1<<Xi)-1;if(!ge&&z+Rn*(Xi+7)>cr)break;for(var Qo=ot(fi,Xi,1),kr=0;kr<Rn;){var Ji=Qo[xt(Ct,z,Xn)];z+=Ji&15;var br=Ji>>>4;if(br<16)Dn[kr++]=br;else{var Ci=0,Gr=0;for(br==16?(Gr=3+xt(Ct,z,3),z+=2,Ci=Dn[kr-1]):br==17?(Gr=3+xt(Ct,z,7),z+=3):br==18&&(Gr=11+xt(Ct,z,127),z+=7);Gr--;)Dn[kr++]=Ci}}var je=Dn.subarray(0,Hn),Rr=Dn.subarray(Hn);ye=mt(je),Se=mt(Rr),at=ot(je,ye,1),Ht=ot(Rr,Se,1)}else throw"invalid block type";else{var br=qt(z)+4,Ln=Ct[br-4]|Ct[br-3]<<8,yn=br+Ln;if(yn>Jt){if(ge)throw"unexpected EOF";break}he&&Ve(V+Ln),Wt.set(Ct.subarray(br,yn),V),jt.b=V+=Ln,jt.p=z=yn*8;continue}if(z>cr)throw"unexpected EOF"}he&&Ve(V+131072);for(var on=(1<<ye)-1,Pn=(1<<Se)-1,$n=ye+Se+18;ge||z+$n<cr;){var Ci=at[Bt(Ct,z)&on],po=Ci>>>4;if(z+=Ci&15,z>cr)throw"unexpected EOF";if(!Ci)throw"invalid length/literal";if(po<256)Wt[V++]=po;else if(po==256){at=null;break}else{var cn=po-254;if(po>264){var kr=po-257,hi=A[kr];cn=xt(Ct,z,(1<<hi)-1)+B[kr],z+=hi}var Ro=Ht[Bt(Ct,z)&Pn],Bo=Ro>>>4;if(!Ro)throw"invalid distance";z+=Ro&15;var Rr=$[Bo];if(Bo>3){var hi=R[Bo];Rr+=Bt(Ct,z)&(1<<hi)-1,z+=hi}if(z>cr)throw"unexpected EOF";he&&Ve(V+131072);for(var Po=V+cn;V<Po;V+=4)Wt[V]=Wt[V-Rr],Wt[V+1]=Wt[V+1-Rr],Wt[V+2]=Wt[V+2-Rr],Wt[V+3]=Wt[V+3-Rr];V=Po}}jt.l=at,jt.p=z,jt.b=V,at&&(tt=1,jt.m=ye,jt.d=Ht,jt.n=Se)}while(!tt);return V==Wt.length?Wt:Pe(Wt,0,V)},bt=function(Ct,Wt,jt){jt<<=Wt&7;var Jt=Wt/8>>0;Ct[Jt]|=jt,Ct[Jt+1]|=jt>>>8},Vt=function(Ct,Wt,jt){jt<<=Wt&7;var Jt=Wt/8>>0;Ct[Jt]|=jt,Ct[Jt+1]|=jt>>>8,Ct[Jt+2]|=jt>>>16},Xe=function(Ct,Wt){for(var jt=[],Jt=0;Jt<Ct.length;++Jt)Ct[Jt]&&jt.push({s:Jt,f:Ct[Jt]});var he=jt.length,ge=jt.slice();if(!he)return[new g(0),0];if(he==1){var Ve=new g(jt[0].s+1);return Ve[jt[0].s]=1,[Ve,1]}jt.sort(function(Rn,Dn){return Rn.f-Dn.f}),jt.push({s:-1,f:25001});var tt=jt[0],z=jt[1],V=0,at=1,Ht=2;for(jt[0]={s:-1,f:tt.f+z.f,l:tt,r:z};at!=he-1;)tt=jt[jt[V].f<jt[Ht].f?V++:Ht++],z=jt[V!=at&&jt[V].f<jt[Ht].f?V++:Ht++],jt[at++]={s:-1,f:tt.f+z.f,l:tt,r:z};for(var ye=ge[0].s,Jt=1;Jt<he;++Jt)ge[Jt].s>ye&&(ye=ge[Jt].s);var Se=new m(ye+1),cr=qe(jt[at-1],Se,0);if(cr>Wt){var Jt=0,wr=0,br=cr-Wt,Ln=1<<br;for(ge.sort(function(Dn,fi){return Se[fi.s]-Se[Dn.s]||Dn.f-fi.f});Jt<he;++Jt){var yn=ge[Jt].s;if(Se[yn]>Wt)wr+=Ln-(1<<cr-Se[yn]),Se[yn]=Wt;else break}for(wr>>>=br;wr>0;){var Hn=ge[Jt].s;Se[Hn]<Wt?wr-=1<<Wt-Se[Hn]++-1:++Jt}for(;Jt>=0&&wr;--Jt){var bi=ge[Jt].s;Se[bi]==Wt&&(--Se[bi],++wr)}cr=Wt}return[new g(Se),cr]},qe=function(Ct,Wt,jt){return Ct.s==-1?Math.max(qe(Ct.l,Wt,jt+1),qe(Ct.r,Wt,jt+1)):Wt[Ct.s]=jt},Ue=function(Ct){for(var Wt=Ct.length;Wt&&!Ct[--Wt];);for(var jt=new m(++Wt),Jt=0,he=Ct[0],ge=1,Ve=function(z){jt[Jt++]=z},tt=1;tt<=Wt;++tt)if(Ct[tt]==he&&tt!=Wt)++ge;else{if(!he&&ge>2){for(;ge>138;ge-=138)Ve(32754);ge>2&&(Ve(ge>10?ge-11<<5|28690:ge-3<<5|12305),ge=0)}else if(ge>3){for(Ve(he),--ge;ge>6;ge-=6)Ve(8304);ge>2&&(Ve(ge-3<<5|8208),ge=0)}for(;ge--;)Ve(he);ge=1,he=Ct[tt]}return[jt.subarray(0,Jt),Wt]},yr=function(Ct,Wt){for(var jt=0,Jt=0;Jt<Wt.length;++Jt)jt+=Ct[Jt]*Wt[Jt];return jt},Ar=function(Ct,Wt,jt){var Jt=jt.length,he=qt(Wt+2);Ct[he]=Jt&255,Ct[he+1]=Jt>>>8,Ct[he+2]=Ct[he]^255,Ct[he+3]=Ct[he+1]^255;for(var ge=0;ge<Jt;++ge)Ct[he+ge+4]=jt[ge];return(he+4+Jt)*8},Jr=function(Ct,Wt,jt,Jt,he,ge,Ve,tt,z,V,at){bt(Wt,at++,jt),++he[256];for(var Ht=Xe(he,15),ye=Ht[0],Se=Ht[1],cr=Xe(ge,15),wr=cr[0],br=cr[1],Ln=Ue(ye),yn=Ln[0],Hn=Ln[1],bi=Ue(wr),Rn=bi[0],Dn=bi[1],fi=new m(19),kr=0;kr<yn.length;++kr)fi[yn[kr]&31]++;for(var kr=0;kr<Rn.length;++kr)fi[Rn[kr]&31]++;for(var Xi=Xe(fi,7),Xn=Xi[0],Qo=Xi[1],Ji=19;Ji>4&&!Xn[j[Ji-1]];--Ji);var Ci=V+5<<3,Gr=yr(he,M)+yr(ge,_t)+Ve,je=yr(he,ye)+yr(ge,wr)+Ve+14+3*Ji+yr(fi,Xn)+(2*fi[16]+3*fi[17]+7*fi[18]);if(Ci<=Gr&&Ci<=je)return Ar(Wt,at,Ct.subarray(z,z+V));var Rr,on,Pn,$n;if(bt(Wt,at,1+(je<Gr)),at+=2,je<Gr){Rr=ot(ye,Se,0),on=ye,Pn=ot(wr,br,0),$n=wr;var po=ot(Xn,Qo,0);bt(Wt,at,Hn-257),bt(Wt,at+5,Dn-1),bt(Wt,at+10,Ji-4),at+=14;for(var kr=0;kr<Ji;++kr)bt(Wt,at+3*kr,Xn[j[kr]]);at+=3*Ji;for(var cn=[yn,Rn],hi=0;hi<2;++hi)for(var Ro=cn[hi],kr=0;kr<Ro.length;++kr){var Bo=Ro[kr]&31;bt(Wt,at,po[Bo]),at+=Xn[Bo],Bo>15&&(bt(Wt,at,Ro[kr]>>>5&127),at+=Ro[kr]>>>12)}}else Rr=Lt,on=M,Pn=ct,$n=_t;for(var kr=0;kr<tt;++kr)if(Jt[kr]>255){var Bo=Jt[kr]>>>18&31;Vt(Wt,at,Rr[Bo+257]),at+=on[Bo+257],Bo>7&&(bt(Wt,at,Jt[kr]>>>23&31),at+=A[Bo]);var Po=Jt[kr]&31;Vt(Wt,at,Pn[Po]),at+=$n[Po],Po>3&&(Vt(Wt,at,Jt[kr]>>>5&8191),at+=R[Po])}else Vt(Wt,at,Rr[Jt[kr]]),at+=on[Jt[kr]];return Vt(Wt,at,Rr[256]),at+on[256]},ee=new S([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ie=new g(0),Je=function(Ct,Wt,jt,Jt,he,ge){var Ve=Ct.length,tt=new g(Jt+Ve+5*(1+Math.floor(Ve/7e3))+he),z=tt.subarray(Jt,tt.length-he),V=0;if(!Wt||Ve<8)for(var at=0;at<=Ve;at+=65535){var Ht=at+65535;Ht<Ve?V=Ar(z,V,Ct.subarray(at,Ht)):(z[at]=ge,V=Ar(z,V,Ct.subarray(at,Ve)))}else{for(var ye=ee[Wt-1],Se=ye>>>13,cr=ye&8191,wr=(1<<jt)-1,br=new m(32768),Ln=new m(wr+1),yn=Math.ceil(jt/3),Hn=2*yn,bi=function(ac){return(Ct[ac]^Ct[ac+1]<<yn^Ct[ac+2]<<Hn)&wr},Rn=new S(25e3),Dn=new m(288),fi=new m(32),kr=0,Xi=0,at=0,Xn=0,Qo=0,Ji=0;at<Ve;++at){var Ci=bi(at),Gr=at&32767,je=Ln[Ci];if(br[Gr]=je,Ln[Ci]=Gr,Qo<=at){var Rr=Ve-at;if((kr>7e3||Xn>24576)&&Rr>423){V=Jr(Ct,z,0,Rn,Dn,fi,Xi,Xn,Ji,at-Ji,V),Xn=kr=Xi=0,Ji=at;for(var on=0;on<286;++on)Dn[on]=0;for(var on=0;on<30;++on)fi[on]=0}var Pn=2,$n=0,po=cr,cn=Gr-je&32767;if(Rr>2&&Ci==bi(at-cn))for(var hi=Math.min(Se,Rr)-1,Ro=Math.min(32767,at),Bo=Math.min(258,Rr);cn<=Ro&&--po&&Gr!=je;){if(Ct[at+Pn]==Ct[at+Pn-cn]){for(var Po=0;Po<Bo&&Ct[at+Po]==Ct[at+Po-cn];++Po);if(Po>Pn){if(Pn=Po,$n=cn,Po>hi)break;for(var eu=Math.min(cn,Po-2),Hs=0,on=0;on<eu;++on){var wl=at-cn+on+32768&32767,Pi=br[wl],Ah=wl-Pi+32768&32767;Ah>Hs&&(Hs=Ah,je=wl)}}}Gr=je,je=br[Gr],cn+=Gr-je+32768&32767}if($n){Rn[Xn++]=268435456|X[Pn]<<18|J[$n];var wf=X[Pn]&31,Iu=J[$n]&31;Xi+=A[wf]+R[Iu],++Dn[257+wf],++fi[Iu],Qo=at+Pn,++kr}else Rn[Xn++]=Ct[at],++Dn[Ct[at]]}}V=Jr(Ct,z,ge,Rn,Dn,fi,Xi,Xn,Ji,at-Ji,V),ge||(V=Ar(z,V,Ie))}return Pe(tt,0,Jt+qt(V)+he)},dr=function(){var Ct=1,Wt=0;return{p:function(jt){for(var Jt=Ct,he=Wt,ge=jt.length,Ve=0;Ve!=ge;){for(var tt=Math.min(Ve+5552,ge);Ve<tt;++Ve)Jt+=jt[Ve],he+=Jt;Jt%=65521,he%=65521}Ct=Jt,Wt=he},d:function(){return(Ct>>>8<<16|(Wt&255)<<8|Wt>>>8)+((Ct&255)<<23)*2}}},En=function(Ct,Wt,jt,Jt,he){return Je(Ct,Wt.level==null?6:Wt.level,Wt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Ct.length)))*1.5):12+Wt.mem,jt,Jt,!he)},mr=function(Ct,Wt,jt){for(;jt;++Wt)Ct[Wt]=jt,jt>>>=8},Ir=function(Ct,Wt){var jt=Wt.level,Jt=jt==0?0:jt<6?1:jt==9?3:2;Ct[0]=120,Ct[1]=Jt<<6|(Jt?32-2*Jt:1)},_r=function(Ct){if((Ct[0]&15)!=8||Ct[0]>>>4>7||(Ct[0]<<8|Ct[1])%31)throw"invalid zlib data";if(Ct[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Rt(Ct,Wt){Wt===void 0&&(Wt={});var jt=dr();jt.p(Ct);var Jt=En(Ct,Wt,2,4);return Ir(Jt,Wt),mr(Jt,Jt.length-4,jt.d()),Jt}function ne(Ct,Wt){return q((_r(Ct),Ct.subarray(2,-4)),Wt)}},"7418":function(f,p){p.f=Object.getOwnPropertySymbols},"746f":function(f,p,u){var g=u("428f"),m=u("1a2d"),S=u("e538"),A=u("9bf2").f;f.exports=function(R){var j=g.Symbol||(g.Symbol={});m(j,R)||A(j,R,{value:S.f(R)})}},"7839":function(f,p){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(f,p,u){var g=u("cc12"),m=g("span").classList,S=m&&m.constructor&&m.constructor.prototype;f.exports=S===Object.prototype?void 0:S},"7915":function(f,p,u){f.exports=m;var g=u("9152");function m(q){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(q)?q:new Uint8Array(q||0),this.pos=0,this.type=0,this.length=this.buf.length}m.Varint=0,m.Fixed64=1,m.Bytes=2,m.Fixed32=5;var S=(1<<16)*(1<<16),A=1/S,R=12,j=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");m.prototype={destroy:function(){this.buf=null},readFields:function(q,bt,Vt){for(Vt=Vt||this.length;this.pos<Vt;){var Xe=this.readVarint(),qe=Xe>>3,Ue=this.pos;this.type=Xe&7,q(qe,bt,this),this.pos===Ue&&this.skip(Xe)}return bt},readMessage:function(q,bt){return this.readFields(q,bt,this.readVarint()+this.pos)},readFixed32:function(){var q=Ut(this.buf,this.pos);return this.pos+=4,q},readSFixed32:function(){var q=xt(this.buf,this.pos);return this.pos+=4,q},readFixed64:function(){var q=Ut(this.buf,this.pos)+Ut(this.buf,this.pos+4)*S;return this.pos+=8,q},readSFixed64:function(){var q=Ut(this.buf,this.pos)+xt(this.buf,this.pos+4)*S;return this.pos+=8,q},readFloat:function(){var q=g.read(this.buf,this.pos,!0,23,4);return this.pos+=4,q},readDouble:function(){var q=g.read(this.buf,this.pos,!0,52,8);return this.pos+=8,q},readVarint:function(q){var bt=this.buf,Vt,Xe;return Xe=bt[this.pos++],Vt=Xe&127,Xe<128||(Xe=bt[this.pos++],Vt|=(Xe&127)<<7,Xe<128)||(Xe=bt[this.pos++],Vt|=(Xe&127)<<14,Xe<128)||(Xe=bt[this.pos++],Vt|=(Xe&127)<<21,Xe<128)?Vt:(Xe=bt[this.pos],Vt|=(Xe&15)<<28,U(Vt,q,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var q=this.readVarint();return q%2==1?(q+1)/-2:q/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var q=this.readVarint()+this.pos,bt=this.pos;return this.pos=q,q-bt>=R&&j?qt(this.buf,bt,q):Bt(this.buf,bt,q)},readBytes:function(){var q=this.readVarint()+this.pos,bt=this.buf.subarray(this.pos,q);return this.pos=q,bt},readPackedVarint:function(q,bt){if(this.type!==m.Bytes)return q.push(this.readVarint(bt));var Vt=P(this);for(q=q||[];this.pos<Vt;)q.push(this.readVarint(bt));return q},readPackedSVarint:function(q){if(this.type!==m.Bytes)return q.push(this.readSVarint());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readSVarint());return q},readPackedBoolean:function(q){if(this.type!==m.Bytes)return q.push(this.readBoolean());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readBoolean());return q},readPackedFloat:function(q){if(this.type!==m.Bytes)return q.push(this.readFloat());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readFloat());return q},readPackedDouble:function(q){if(this.type!==m.Bytes)return q.push(this.readDouble());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readDouble());return q},readPackedFixed32:function(q){if(this.type!==m.Bytes)return q.push(this.readFixed32());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readFixed32());return q},readPackedSFixed32:function(q){if(this.type!==m.Bytes)return q.push(this.readSFixed32());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readSFixed32());return q},readPackedFixed64:function(q){if(this.type!==m.Bytes)return q.push(this.readFixed64());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readFixed64());return q},readPackedSFixed64:function(q){if(this.type!==m.Bytes)return q.push(this.readSFixed64());var bt=P(this);for(q=q||[];this.pos<bt;)q.push(this.readSFixed64());return q},skip:function(q){var bt=q&7;if(bt===m.Varint)for(;this.buf[this.pos++]>127;);else if(bt===m.Bytes)this.pos=this.readVarint()+this.pos;else if(bt===m.Fixed32)this.pos+=4;else if(bt===m.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+bt)},writeTag:function(q,bt){this.writeVarint(q<<3|bt)},realloc:function(q){for(var bt=this.length||16;bt<this.pos+q;)bt*=2;if(bt!==this.length){var Vt=new Uint8Array(bt);Vt.set(this.buf),this.buf=Vt,this.length=bt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(q){this.realloc(4),mt(this.buf,q,this.pos),this.pos+=4},writeSFixed32:function(q){this.realloc(4),mt(this.buf,q,this.pos),this.pos+=4},writeFixed64:function(q){this.realloc(8),mt(this.buf,q&-1,this.pos),mt(this.buf,Math.floor(q*A),this.pos+4),this.pos+=8},writeSFixed64:function(q){this.realloc(8),mt(this.buf,q&-1,this.pos),mt(this.buf,Math.floor(q*A),this.pos+4),this.pos+=8},writeVarint:function(q){if(q=+q||0,q>268435455||q<0){X(q,this);return}this.realloc(4),this.buf[this.pos++]=q&127|(q>127?128:0),!(q<=127)&&(this.buf[this.pos++]=(q>>>=7)&127|(q>127?128:0),!(q<=127)&&(this.buf[this.pos++]=(q>>>=7)&127|(q>127?128:0),!(q<=127)&&(this.buf[this.pos++]=q>>>7&127)))},writeSVarint:function(q){this.writeVarint(q<0?-q*2-1:q*2)},writeBoolean:function(q){this.writeVarint(Boolean(q))},writeString:function(q){q=String(q),this.realloc(q.length*4),this.pos++;var bt=this.pos;this.pos=Pe(this.buf,q,this.pos);var Vt=this.pos-bt;Vt>=128&&J(bt,Vt,this),this.pos=bt-1,this.writeVarint(Vt),this.pos+=Vt},writeFloat:function(q){this.realloc(4),g.write(this.buf,q,this.pos,!0,23,4),this.pos+=4},writeDouble:function(q){this.realloc(8),g.write(this.buf,q,this.pos,!0,52,8),this.pos+=8},writeBytes:function(q){var bt=q.length;this.writeVarint(bt),this.realloc(bt);for(var Vt=0;Vt<bt;Vt++)this.buf[this.pos++]=q[Vt]},writeRawMessage:function(q,bt){this.pos++;var Vt=this.pos;q(bt,this);var Xe=this.pos-Vt;Xe>=128&&J(Vt,Xe,this),this.pos=Vt-1,this.writeVarint(Xe),this.pos+=Xe},writeMessage:function(q,bt,Vt){this.writeTag(q,m.Bytes),this.writeRawMessage(bt,Vt)},writePackedVarint:function(q,bt){bt.length&&this.writeMessage(q,nt,bt)},writePackedSVarint:function(q,bt){bt.length&&this.writeMessage(q,Q,bt)},writePackedBoolean:function(q,bt){bt.length&&this.writeMessage(q,M,bt)},writePackedFloat:function(q,bt){bt.length&&this.writeMessage(q,St,bt)},writePackedDouble:function(q,bt){bt.length&&this.writeMessage(q,ot,bt)},writePackedFixed32:function(q,bt){bt.length&&this.writeMessage(q,_t,bt)},writePackedSFixed32:function(q,bt){bt.length&&this.writeMessage(q,Lt,bt)},writePackedFixed64:function(q,bt){bt.length&&this.writeMessage(q,Nt,bt)},writePackedSFixed64:function(q,bt){bt.length&&this.writeMessage(q,ct,bt)},writeBytesField:function(q,bt){this.writeTag(q,m.Bytes),this.writeBytes(bt)},writeFixed32Field:function(q,bt){this.writeTag(q,m.Fixed32),this.writeFixed32(bt)},writeSFixed32Field:function(q,bt){this.writeTag(q,m.Fixed32),this.writeSFixed32(bt)},writeFixed64Field:function(q,bt){this.writeTag(q,m.Fixed64),this.writeFixed64(bt)},writeSFixed64Field:function(q,bt){this.writeTag(q,m.Fixed64),this.writeSFixed64(bt)},writeVarintField:function(q,bt){this.writeTag(q,m.Varint),this.writeVarint(bt)},writeSVarintField:function(q,bt){this.writeTag(q,m.Varint),this.writeSVarint(bt)},writeStringField:function(q,bt){this.writeTag(q,m.Bytes),this.writeString(bt)},writeFloatField:function(q,bt){this.writeTag(q,m.Fixed32),this.writeFloat(bt)},writeDoubleField:function(q,bt){this.writeTag(q,m.Fixed64),this.writeDouble(bt)},writeBooleanField:function(q,bt){this.writeVarintField(q,Boolean(bt))}};function U(q,bt,Vt){var Xe=Vt.buf,qe,Ue;if(Ue=Xe[Vt.pos++],qe=(Ue&112)>>4,Ue<128||(Ue=Xe[Vt.pos++],qe|=(Ue&127)<<3,Ue<128)||(Ue=Xe[Vt.pos++],qe|=(Ue&127)<<10,Ue<128)||(Ue=Xe[Vt.pos++],qe|=(Ue&127)<<17,Ue<128)||(Ue=Xe[Vt.pos++],qe|=(Ue&127)<<24,Ue<128)||(Ue=Xe[Vt.pos++],qe|=(Ue&1)<<31,Ue<128))return B(q,qe,bt);throw new Error("Expected varint not more than 10 bytes")}function P(q){return q.type===m.Bytes?q.readVarint()+q.pos:q.pos+1}function B(q,bt,Vt){return Vt?bt*4294967296+(q>>>0):(bt>>>0)*4294967296+(q>>>0)}function X(q,bt){var Vt,Xe;if(q>=0?(Vt=q%4294967296|0,Xe=q/4294967296|0):(Vt=~(-q%4294967296),Xe=~(-q/4294967296),Vt^4294967295?Vt=Vt+1|0:(Vt=0,Xe=Xe+1|0)),q>=18446744073709552e3||q<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");bt.realloc(10),W(Vt,Xe,bt),$(Xe,bt)}function W(q,bt,Vt){Vt.buf[Vt.pos++]=q&127|128,q>>>=7,Vt.buf[Vt.pos++]=q&127|128,q>>>=7,Vt.buf[Vt.pos++]=q&127|128,q>>>=7,Vt.buf[Vt.pos++]=q&127|128,q>>>=7,Vt.buf[Vt.pos]=q&127}function $(q,bt){var Vt=(q&7)<<4;bt.buf[bt.pos++]|=Vt|((q>>>=3)?128:0),!!q&&(bt.buf[bt.pos++]=q&127|((q>>>=7)?128:0),!!q&&(bt.buf[bt.pos++]=q&127|((q>>>=7)?128:0),!!q&&(bt.buf[bt.pos++]=q&127|((q>>>=7)?128:0),!!q&&(bt.buf[bt.pos++]=q&127|((q>>>=7)?128:0),!!q&&(bt.buf[bt.pos++]=q&127)))))}function J(q,bt,Vt){var Xe=bt<=16383?1:bt<=2097151?2:bt<=268435455?3:Math.floor(Math.log(bt)/(Math.LN2*7));Vt.realloc(Xe);for(var qe=Vt.pos-1;qe>=q;qe--)Vt.buf[qe+Xe]=Vt.buf[qe]}function nt(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeVarint(q[Vt])}function Q(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeSVarint(q[Vt])}function St(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeFloat(q[Vt])}function ot(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeDouble(q[Vt])}function M(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeBoolean(q[Vt])}function _t(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeFixed32(q[Vt])}function Lt(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeSFixed32(q[Vt])}function Nt(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeFixed64(q[Vt])}function ct(q,bt){for(var Vt=0;Vt<q.length;Vt++)bt.writeSFixed64(q[Vt])}function Ut(q,bt){return(q[bt]|q[bt+1]<<8|q[bt+2]<<16)+q[bt+3]*16777216}function mt(q,bt,Vt){q[Vt]=bt,q[Vt+1]=bt>>>8,q[Vt+2]=bt>>>16,q[Vt+3]=bt>>>24}function xt(q,bt){return(q[bt]|q[bt+1]<<8|q[bt+2]<<16)+(q[bt+3]<<24)}function Bt(q,bt,Vt){for(var Xe="",qe=bt;qe<Vt;){var Ue=q[qe],yr=null,Ar=Ue>239?4:Ue>223?3:Ue>191?2:1;if(qe+Ar>Vt)break;var Jr,ee,Ie;Ar===1?Ue<128&&(yr=Ue):Ar===2?(Jr=q[qe+1],(Jr&192)==128&&(yr=(Ue&31)<<6|Jr&63,yr<=127&&(yr=null))):Ar===3?(Jr=q[qe+1],ee=q[qe+2],(Jr&192)==128&&(ee&192)==128&&(yr=(Ue&15)<<12|(Jr&63)<<6|ee&63,(yr<=2047||yr>=55296&&yr<=57343)&&(yr=null))):Ar===4&&(Jr=q[qe+1],ee=q[qe+2],Ie=q[qe+3],(Jr&192)==128&&(ee&192)==128&&(Ie&192)==128&&(yr=(Ue&15)<<18|(Jr&63)<<12|(ee&63)<<6|Ie&63,(yr<=65535||yr>=1114112)&&(yr=null))),yr===null?(yr=65533,Ar=1):yr>65535&&(yr-=65536,Xe+=String.fromCharCode(yr>>>10&1023|55296),yr=56320|yr&1023),Xe+=String.fromCharCode(yr),qe+=Ar}return Xe}function qt(q,bt,Vt){return j.decode(q.subarray(bt,Vt))}function Pe(q,bt,Vt){for(var Xe=0,qe,Ue;Xe<bt.length;Xe++){if(qe=bt.charCodeAt(Xe),qe>55295&&qe<57344)if(Ue)if(qe<56320){q[Vt++]=239,q[Vt++]=191,q[Vt++]=189,Ue=qe;continue}else qe=Ue-55296<<10|qe-56320|65536,Ue=null;else{qe>56319||Xe+1===bt.length?(q[Vt++]=239,q[Vt++]=191,q[Vt++]=189):Ue=qe;continue}else Ue&&(q[Vt++]=239,q[Vt++]=191,q[Vt++]=189,Ue=null);qe<128?q[Vt++]=qe:(qe<2048?q[Vt++]=qe>>6|192:(qe<65536?q[Vt++]=qe>>12|224:(q[Vt++]=qe>>18|240,q[Vt++]=qe>>12&63|128),q[Vt++]=qe>>6&63|128),q[Vt++]=qe&63|128)}return Vt}},"7b0b":function(f,p,u){var g=u("da84"),m=u("1d80"),S=g.Object;f.exports=function(A){return S(m(A))}},"7b4f":function(f,p,u){p.a={PROPERTYCHANGE:"propertychange"}},"7c73":function(f,p,u){var g=u("825a"),m=u("37e8"),S=u("7839"),A=u("d012"),R=u("1be4"),j=u("cc12"),U=u("f772"),P=">",B="<",X="prototype",W="script",$=U("IE_PROTO"),J=function(){},nt=function(_t){return B+W+P+_t+B+"/"+W+P},Q=function(_t){_t.write(nt("")),_t.close();var Lt=_t.parentWindow.Object;return _t=null,Lt},St=function(){var _t=j("iframe"),Lt="java"+W+":",Nt;return _t.style.display="none",R.appendChild(_t),_t.src=String(Lt),Nt=_t.contentWindow.document,Nt.open(),Nt.write(nt("document.F=Object")),Nt.close(),Nt.F},ot,M=function(){try{ot=new ActiveXObject("htmlfile")}catch{}M=typeof document!="undefined"?document.domain&&ot?Q(ot):St():Q(ot);for(var _t=S.length;_t--;)delete M[X][S[_t]];return M()};A[$]=!0,f.exports=Object.create||function(Lt,Nt){var ct;return Lt!==null?(J[X]=g(Lt),ct=new J,J[X]=null,ct[$]=Lt):ct=M(),Nt===void 0?ct:m.f(ct,Nt)}},"7d05":function(f,p,u){},"7dd0":function(f,p,u){var g=u("23e7"),m=u("c65b"),S=u("c430"),A=u("5e77"),R=u("1626"),j=u("9ed3"),U=u("e163"),P=u("d2bb"),B=u("d44e"),X=u("9112"),W=u("6eeb"),$=u("b622"),J=u("3f8c"),nt=u("ae93"),Q=A.PROPER,St=A.CONFIGURABLE,ot=nt.IteratorPrototype,M=nt.BUGGY_SAFARI_ITERATORS,_t=$("iterator"),Lt="keys",Nt="values",ct="entries",Ut=function(){return this};f.exports=function(mt,xt,Bt,qt,Pe,q,bt){j(Bt,xt,qt);var Vt=function(dr){if(dr===Pe&&Ar)return Ar;if(!M&&dr in Ue)return Ue[dr];switch(dr){case Lt:return function(){return new Bt(this,dr)};case Nt:return function(){return new Bt(this,dr)};case ct:return function(){return new Bt(this,dr)}}return function(){return new Bt(this)}},Xe=xt+" Iterator",qe=!1,Ue=mt.prototype,yr=Ue[_t]||Ue["@@iterator"]||Pe&&Ue[Pe],Ar=!M&&yr||Vt(Pe),Jr=xt=="Array"&&Ue.entries||yr,ee,Ie,Je;if(Jr&&(ee=U(Jr.call(new mt)),ee!==Object.prototype&&ee.next&&(!S&&U(ee)!==ot&&(P?P(ee,ot):R(ee[_t])||W(ee,_t,Ut)),B(ee,Xe,!0,!0),S&&(J[Xe]=Ut))),Q&&Pe==Nt&&yr&&yr.name!==Nt&&(!S&&St?X(Ue,"name",Nt):(qe=!0,Ar=function(){return m(yr,this)})),Pe)if(Ie={values:Vt(Nt),keys:q?Ar:Vt(Lt),entries:Vt(ct)},bt)for(Je in Ie)(M||qe||!(Je in Ue))&&W(Ue,Je,Ie[Je]);else g({target:xt,proto:!0,forced:M||qe},Ie);return(!S||bt)&&Ue[_t]!==Ar&&W(Ue,_t,Ar,{name:Pe}),J[xt]=Ar,Ie}},"7f9a":function(f,p,u){var g=u("da84"),m=u("1626"),S=u("8925"),A=g.WeakMap;f.exports=m(A)&&/native code/.test(S(A))},"7fd1":function(f,p,u){(function(g){u.d(p,"a",function(){return m});function m(){var S='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};';return new Worker(typeof Blob=="undefined"?"data:application/javascript;base64,"+g.from(S,"binary").toString("base64"):URL.createObjectURL(new Blob([S],{type:"application/javascript"})))}}).call(this,u("b639").Buffer)},"825a":function(f,p,u){var g=u("da84"),m=u("861d"),S=g.String,A=g.TypeError;f.exports=function(R){if(m(R))return R;throw A(S(R)+" is not an object")}},"83ab":function(f,p,u){var g=u("d039");f.exports=!g(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(f,p,u){var g=u("a04b"),m=u("9bf2"),S=u("5c6c");f.exports=function(A,R,j){var U=g(R);U in A?m.f(A,U,S(0,j)):A[U]=j}},"861d":function(f,p,u){var g=u("1626");f.exports=function(m){return typeof m=="object"?m!==null:g(m)}},"872d":function(f,p,u){},"8875":function(f,p,u){var g,m,S;(function(A,R){m=[],g=R,S=typeof g=="function"?g.apply(p,m):g,S!==void 0&&(f.exports=S)})(typeof self!="undefined"?self:this,function(){function A(){var R=Object.getOwnPropertyDescriptor(document,"currentScript");if(!R&&"currentScript"in document&&document.currentScript||R&&R.get!==A&&document.currentScript)return document.currentScript;try{throw new Error}catch(ot){var j=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,U=/@([^@]*):(\d+):(\d+)\s*$/ig,P=j.exec(ot.stack)||U.exec(ot.stack),B=P&&P[1]||!1,X=P&&P[2]||!1,W=document.location.href.replace(document.location.hash,""),$,J,nt,Q=document.getElementsByTagName("script");B===W&&($=document.documentElement.outerHTML,J=new RegExp("(?:[^\\n]+?\\n){0,"+(X-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),nt=$.replace(J,"$1").trim());for(var St=0;St<Q.length;St++)if(Q[St].readyState==="interactive"||Q[St].src===B||B===W&&Q[St].innerHTML&&Q[St].innerHTML.trim()===nt)return Q[St];return null}}return A})},"8925":function(f,p,u){var g=u("e330"),m=u("1626"),S=u("c6cd"),A=g(Function.toString);m(S.inspectSource)||(S.inspectSource=function(R){return A(R)}),f.exports=S.inspectSource},"8aa5":function(f,p,u){var g=u("6547").charAt;f.exports=function(m,S,A){return S+(A?g(m,S).length:1)}},"8baf":function(f,p,u){(function(g){u.d(p,"a",function(){return ee});var m=u("7037"),S=u.n(m),A=u("72ba");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.0 Built on 2021-12-21T09:44:51.866Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var R=function(){return typeof window!="undefined"?window:typeof g!="undefined"?g:typeof self!="undefined"?self:this}();function j(){R.console&&typeof R.console.log=="function"&&R.console.log.apply(R.console,arguments)}var U={log:j,warn:function(O){R.console&&(typeof R.console.warn=="function"?R.console.warn.apply(R.console,arguments):j.call(null,arguments))},error:function(O){R.console&&(typeof R.console.error=="function"?R.console.error.apply(R.console,arguments):j(O))}};function P(O,_,E){var T=new XMLHttpRequest;T.open("GET",O),T.responseType="blob",T.onload=function(){J(T.response,_,E)},T.onerror=function(){U.error("could not download file")},T.send()}function B(O){var _=new XMLHttpRequest;_.open("HEAD",O,!1);try{_.send()}catch{}return _.status>=200&&_.status<=299}function X(O){try{O.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),O.dispatchEvent(_)}}var W,$,J=R.saveAs||((typeof window=="undefined"?"undefined":S()(window))!=="object"||window!==R?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(O,_,E){var T=R.URL||R.webkitURL,F=document.createElement("a");_=_||O.name||"download",F.download=_,F.rel="noopener",typeof O=="string"?(F.href=O,F.origin!==location.origin?B(F.href)?P(O,_,E):X(F,F.target="_blank"):X(F)):(F.href=T.createObjectURL(O),setTimeout(function(){T.revokeObjectURL(F.href)},4e4),setTimeout(function(){X(F)},0))}:"msSaveOrOpenBlob"in navigator?function(O,_,E){if(_=_||O.name||"download",typeof O=="string")if(B(O))P(O,_,E);else{var T=document.createElement("a");T.href=O,T.target="_blank",setTimeout(function(){X(T)})}else navigator.msSaveOrOpenBlob(function(F,b){return b===void 0?b={autoBom:!1}:S()(b)!=="object"&&(U.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(F.type)?new Blob([String.fromCharCode(65279),F],{type:F.type}):F}(O,E),_)}:function(O,_,E,T){if((T=T||open("","_blank"))&&(T.document.title=T.document.body.innerText="downloading..."),typeof O=="string")return P(O,_,E);var F=O.type==="application/octet-stream",b=/constructor/i.test(R.HTMLElement)||R.safari,D=/CriOS\/[\d]+/.test(navigator.userAgent);if((D||F&&b)&&(typeof FileReader=="undefined"?"undefined":S()(FileReader))==="object"){var k=new FileReader;k.onloadend=function(){var vt=k.result;vt=D?vt:vt.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=vt:location=vt,T=null},k.readAsDataURL(O)}else{var Y=R.URL||R.webkitURL,rt=Y.createObjectURL(O);T?T.location=rt:location.href=rt,T=null,setTimeout(function(){Y.revokeObjectURL(rt)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nt(O){var _;O=O||"",this.ok=!1,O.charAt(0)=="#"&&(O=O.substr(1,6)),O={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[O=(O=O.replace(/ /g,"")).toLowerCase()]||O;for(var E=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(k){return[parseInt(k[1]),parseInt(k[2]),parseInt(k[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(k){return[parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(k){return[parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16)]}}],T=0;T<E.length;T++){var F=E[T].re,b=E[T].process,D=F.exec(O);D&&(_=b(D),this.r=_[0],this.g=_[1],this.b=_[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var k=this.r.toString(16),Y=this.g.toString(16),rt=this.b.toString(16);return k.length==1&&(k="0"+k),Y.length==1&&(Y="0"+Y),rt.length==1&&(rt="0"+rt),"#"+k+Y+rt}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Q(O,_){var E=O[0],T=O[1],F=O[2],b=O[3];E=ot(E,T,F,b,_[0],7,-680876936),b=ot(b,E,T,F,_[1],12,-389564586),F=ot(F,b,E,T,_[2],17,606105819),T=ot(T,F,b,E,_[3],22,-1044525330),E=ot(E,T,F,b,_[4],7,-176418897),b=ot(b,E,T,F,_[5],12,1200080426),F=ot(F,b,E,T,_[6],17,-1473231341),T=ot(T,F,b,E,_[7],22,-45705983),E=ot(E,T,F,b,_[8],7,1770035416),b=ot(b,E,T,F,_[9],12,-1958414417),F=ot(F,b,E,T,_[10],17,-42063),T=ot(T,F,b,E,_[11],22,-1990404162),E=ot(E,T,F,b,_[12],7,1804603682),b=ot(b,E,T,F,_[13],12,-40341101),F=ot(F,b,E,T,_[14],17,-1502002290),E=M(E,T=ot(T,F,b,E,_[15],22,1236535329),F,b,_[1],5,-165796510),b=M(b,E,T,F,_[6],9,-1069501632),F=M(F,b,E,T,_[11],14,643717713),T=M(T,F,b,E,_[0],20,-373897302),E=M(E,T,F,b,_[5],5,-701558691),b=M(b,E,T,F,_[10],9,38016083),F=M(F,b,E,T,_[15],14,-660478335),T=M(T,F,b,E,_[4],20,-405537848),E=M(E,T,F,b,_[9],5,568446438),b=M(b,E,T,F,_[14],9,-1019803690),F=M(F,b,E,T,_[3],14,-187363961),T=M(T,F,b,E,_[8],20,1163531501),E=M(E,T,F,b,_[13],5,-1444681467),b=M(b,E,T,F,_[2],9,-51403784),F=M(F,b,E,T,_[7],14,1735328473),E=_t(E,T=M(T,F,b,E,_[12],20,-1926607734),F,b,_[5],4,-378558),b=_t(b,E,T,F,_[8],11,-2022574463),F=_t(F,b,E,T,_[11],16,1839030562),T=_t(T,F,b,E,_[14],23,-35309556),E=_t(E,T,F,b,_[1],4,-1530992060),b=_t(b,E,T,F,_[4],11,1272893353),F=_t(F,b,E,T,_[7],16,-155497632),T=_t(T,F,b,E,_[10],23,-1094730640),E=_t(E,T,F,b,_[13],4,681279174),b=_t(b,E,T,F,_[0],11,-358537222),F=_t(F,b,E,T,_[3],16,-722521979),T=_t(T,F,b,E,_[6],23,76029189),E=_t(E,T,F,b,_[9],4,-640364487),b=_t(b,E,T,F,_[12],11,-421815835),F=_t(F,b,E,T,_[15],16,530742520),E=Lt(E,T=_t(T,F,b,E,_[2],23,-995338651),F,b,_[0],6,-198630844),b=Lt(b,E,T,F,_[7],10,1126891415),F=Lt(F,b,E,T,_[14],15,-1416354905),T=Lt(T,F,b,E,_[5],21,-57434055),E=Lt(E,T,F,b,_[12],6,1700485571),b=Lt(b,E,T,F,_[3],10,-1894986606),F=Lt(F,b,E,T,_[10],15,-1051523),T=Lt(T,F,b,E,_[1],21,-2054922799),E=Lt(E,T,F,b,_[8],6,1873313359),b=Lt(b,E,T,F,_[15],10,-30611744),F=Lt(F,b,E,T,_[6],15,-1560198380),T=Lt(T,F,b,E,_[13],21,1309151649),E=Lt(E,T,F,b,_[4],6,-145523070),b=Lt(b,E,T,F,_[11],10,-1120210379),F=Lt(F,b,E,T,_[2],15,718787259),T=Lt(T,F,b,E,_[9],21,-343485551),O[0]=Pe(E,O[0]),O[1]=Pe(T,O[1]),O[2]=Pe(F,O[2]),O[3]=Pe(b,O[3])}function St(O,_,E,T,F,b){return _=Pe(Pe(_,O),Pe(T,b)),Pe(_<<F|_>>>32-F,E)}function ot(O,_,E,T,F,b,D){return St(_&E|~_&T,O,_,F,b,D)}function M(O,_,E,T,F,b,D){return St(_&T|E&~T,O,_,F,b,D)}function _t(O,_,E,T,F,b,D){return St(_^E^T,O,_,F,b,D)}function Lt(O,_,E,T,F,b,D){return St(E^(_|~T),O,_,F,b,D)}function Nt(O){var _,E=O.length,T=[1732584193,-271733879,-1732584194,271733878];for(_=64;_<=O.length;_+=64)Q(T,ct(O.substring(_-64,_)));O=O.substring(_-64);var F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(_=0;_<O.length;_++)F[_>>2]|=O.charCodeAt(_)<<(_%4<<3);if(F[_>>2]|=128<<(_%4<<3),_>55)for(Q(T,F),_=0;_<16;_++)F[_]=0;return F[14]=8*E,Q(T,F),T}function ct(O){var _,E=[];for(_=0;_<64;_+=4)E[_>>2]=O.charCodeAt(_)+(O.charCodeAt(_+1)<<8)+(O.charCodeAt(_+2)<<16)+(O.charCodeAt(_+3)<<24);return E}W=R.atob.bind(R),$=R.btoa.bind(R);var Ut="0123456789abcdef".split("");function mt(O){for(var _="",E=0;E<4;E++)_+=Ut[O>>8*E+4&15]+Ut[O>>8*E&15];return _}function xt(O){return String.fromCharCode((255&O)>>0,(65280&O)>>8,(16711680&O)>>16,(4278190080&O)>>24)}function Bt(O){return Nt(O).map(xt).join("")}var qt=function(O){for(var _=0;_<O.length;_++)O[_]=mt(O[_]);return O.join("")}(Nt("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pe(O,_){if(qt){var E=(65535&O)+(65535&_);return(O>>16)+(_>>16)+(E>>16)<<16|65535&E}return O+_&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q(O,_){var E,T,F,b;if(O!==E){for(var D=(F=O,b=1+(256/O.length>>0),new Array(b+1).join(F)),k=[],Y=0;Y<256;Y++)k[Y]=Y;var rt=0;for(Y=0;Y<256;Y++){var vt=k[Y];rt=(rt+vt+D.charCodeAt(Y))%256,k[Y]=k[rt],k[rt]=vt}E=O,T=k}else k=T;var yt=_.length,Ot=0,K=0,kt="";for(Y=0;Y<yt;Y++)K=(K+(vt=k[Ot=(Ot+1)%256]))%256,k[Ot]=k[K],k[K]=vt,D=k[(k[Ot]+k[K])%256],kt+=String.fromCharCode(_.charCodeAt(Y)^D);return kt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bt={print:4,modify:8,copy:16,"annot-forms":32};function Vt(O,_,E,T){this.v=1,this.r=2;var F=192;O.forEach(function(k){F+=bt[k]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var b=(_+this.padding).substr(0,32),D=(E+this.padding).substr(0,32);this.O=this.processOwnerPassword(b,D),this.P=-(1+(255^F)),this.encryptionKey=Bt(b+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(T)).substr(0,5),this.U=q(this.encryptionKey,this.padding)}function Xe(O){if(/[^\u0000-\u00ff]/.test(O))throw new Error("Invalid PDF Name Object: "+O+", Only accept ASCII characters.");for(var _="",E=O.length,T=0;T<E;T++){var F=O.charCodeAt(T);F<33||F===35||F===37||F===40||F===41||F===47||F===60||F===62||F===91||F===93||F===123||F===125||F>126?_+="#"+("0"+F.toString(16)).slice(-2):_+=O[T]}return _}function qe(O){if(S()(O)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var _={};this.subscribe=function(E,T,F){if(F=F||!1,typeof E!="string"||typeof T!="function"||typeof F!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");_.hasOwnProperty(E)||(_[E]={});var b=Math.random().toString(35);return _[E][b]=[T,!!F],b},this.unsubscribe=function(E){for(var T in _)if(_[T][E])return delete _[T][E],Object.keys(_[T]).length===0&&delete _[T],!0;return!1},this.publish=function(E){if(_.hasOwnProperty(E)){var T=Array.prototype.slice.call(arguments,1),F=[];for(var b in _[E]){var D=_[E][b];try{D[0].apply(O,T)}catch(k){R.console&&U.error("jsPDF PubSub Error",k.message,k)}D[1]&&F.push(b)}F.length&&F.forEach(this.unsubscribe)}},this.getTopics=function(){return _}}function Ue(O){if(!(this instanceof Ue))return new Ue(O);var _="opacity,stroke-opacity".split(",");for(var E in O)O.hasOwnProperty(E)&&_.indexOf(E)>=0&&(this[E]=O[E]);this.id="",this.objectNumber=-1}function yr(O,_){this.gState=O,this.matrix=_,this.id="",this.objectNumber=-1}function Ar(O,_,E,T,F){if(!(this instanceof Ar))return new Ar(O,_,E,T,F);this.type=O==="axial"?2:3,this.coords=_,this.colors=E,yr.call(this,T,F)}function Jr(O,_,E,T,F){if(!(this instanceof Jr))return new Jr(O,_,E,T,F);this.boundingBox=O,this.xStep=_,this.yStep=E,this.stream="",this.cloneIndex=0,yr.call(this,T,F)}function ee(O){var _,E=typeof arguments[0]=="string"?arguments[0]:"p",T=arguments[1],F=arguments[2],b=arguments[3],D=[],k=1,Y=16,rt="S",vt=null;S()(O=O||{})==="object"&&(E=O.orientation,T=O.unit||T,F=O.format||F,b=O.compress||O.compressPdf||b,(vt=O.encryption||null)!==null&&(vt.userPassword=vt.userPassword||"",vt.ownerPassword=vt.ownerPassword||"",vt.userPermissions=vt.userPermissions||[]),k=typeof O.userUnit=="number"?Math.abs(O.userUnit):1,O.precision!==void 0&&(_=O.precision),O.floatPrecision!==void 0&&(Y=O.floatPrecision),rt=O.defaultPathOperation||"S"),D=O.filters||(b===!0?["FlateEncode"]:D),T=T||"mm",E=(""+(E||"P")).toLowerCase();var yt=O.putOnlyUsedFonts||!1,Ot={},K={internal:{},__private__:{}};K.__private__.PubSub=qe;var kt="1.3",It=K.__private__.getPdfVersion=function(){return kt};K.__private__.setPdfVersion=function(L){kt=L};var Qt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};K.__private__.getPageFormats=function(){return Qt};var wt=K.__private__.getPageFormat=function(L){return Qt[L]};F=F||"a4";var Yt={COMPAT:"compat",ADVANCED:"advanced"},xe=Yt.COMPAT;function Be(){this.saveGraphicsState(),Dt(new ln(Fr,0,0,-Fr,0,Pl()*Fr).toString()+" cm"),this.setFontSize(this.getFontSize()/Fr),rt="n",xe=Yt.ADVANCED}function Qe(){this.restoreGraphicsState(),rt="S",xe=Yt.COMPAT}var Er=K.__private__.combineFontStyleAndFontWeight=function(L,it){if(L=="bold"&&it=="normal"||L=="bold"&&it==400||L=="normal"&&it=="italic"||L=="bold"&&it=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return it&&(L=it==400||it==="normal"?L==="italic"?"italic":"normal":it!=700&&it!=="bold"||L!=="normal"?(it==700?"bold":it)+""+L:"bold"),L};K.advancedAPI=function(L){var it=xe===Yt.COMPAT;return it&&Be.call(this),typeof L!="function"||(L(this),it&&Qe.call(this)),this},K.compatAPI=function(L){var it=xe===Yt.ADVANCED;return it&&Qe.call(this),typeof L!="function"||(L(this),it&&Be.call(this)),this},K.isAdvancedAPI=function(){return xe===Yt.ADVANCED};var De,pe=function(L){if(xe!==Yt.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},sr=K.roundToPrecision=K.__private__.roundToPrecision=function(L,it){var Mt=_||it;if(isNaN(L)||isNaN(Mt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Mt).replace(/0+$/,"")};De=K.hpf=K.__private__.hpf=typeof Y=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return sr(L,Y)}:Y==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return sr(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return sr(L,16)};var tr=K.f2=K.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return sr(L,2)},At=K.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return sr(L,3)},Pt=K.scale=K.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return xe===Yt.COMPAT?L*Fr:xe===Yt.ADVANCED?L:void 0},ue=function(L){return xe===Yt.COMPAT?Pl()-L:xe===Yt.ADVANCED?L:void 0},oe=function(L){return Pt(ue(L))};K.__private__.setPrecision=K.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(_=parseInt(L,10))};var He,We="00000000000000000000000000000000",ir=K.__private__.getFileId=function(){return We},Le=K.__private__.setFileId=function(L){return We=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():We.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),vt!==null&&(Vi=new Vt(vt.userPermissions,vt.userPassword,vt.ownerPassword,We)),We};K.setFileId=function(L){return Le(L),this},K.getFileId=function(){return ir()};var Ne=K.__private__.convertDateToPDFDate=function(L){var it=L.getTimezoneOffset(),Mt=it<0?"+":"-",re=Math.floor(Math.abs(it/60)),me=Math.abs(it%60),ze=[Mt,Kt(re),"'",Kt(me),"'"].join("");return["D:",L.getFullYear(),Kt(L.getMonth()+1),Kt(L.getDate()),Kt(L.getHours()),Kt(L.getMinutes()),Kt(L.getSeconds()),ze].join("")},Ze=K.__private__.convertPDFDateToDate=function(L){var it=parseInt(L.substr(2,4),10),Mt=parseInt(L.substr(6,2),10)-1,re=parseInt(L.substr(8,2),10),me=parseInt(L.substr(10,2),10),ze=parseInt(L.substr(12,2),10),nr=parseInt(L.substr(14,2),10);return new Date(it,Mt,re,me,ze,nr,0)},Xr=K.__private__.setCreationDate=function(L){var it;if(L===void 0&&(L=new Date),L instanceof Date)it=Ne(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");it=L}return He=it},ft=K.__private__.getCreationDate=function(L){var it=He;return L==="jsDate"&&(it=Ze(He)),it};K.setCreationDate=function(L){return Xr(L),this},K.getCreationDate=function(L){return ft(L)};var Ft,Kt=K.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},fe=K.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ve=0,Te=[],Ae=[],Re=0,gr=[],vr=[],Mr=!1,Vr=Ae,gn=function(){ve=0,Re=0,Ae=[],Te=[],gr=[],Tl=Cr(),ws=Cr()};K.__private__.setCustomOutputDestination=function(L){Mr=!0,Vr=L};var ke=function(L){Mr||(Vr=L)};K.__private__.resetCustomOutputDestination=function(){Mr=!1,Vr=Ae};var Dt=K.__private__.out=function(L){return L=L.toString(),Re+=L.length+1,Vr.push(L),Vr},Bn=K.__private__.write=function(L){return Dt(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Qr=K.__private__.getArrayBuffer=function(L){for(var it=L.length,Mt=new ArrayBuffer(it),re=new Uint8Array(Mt);it--;)re[it]=L.charCodeAt(it);return Mt},fr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];K.__private__.getStandardFonts=function(){return fr};var xr=O.fontSize||16;K.__private__.setFontSize=K.setFontSize=function(L){return xr=xe===Yt.ADVANCED?L/Fr:L,this};var Ur,Nr=K.__private__.getFontSize=K.getFontSize=function(){return xe===Yt.COMPAT?xr:xr*Fr},sn=O.R2L||!1;K.__private__.setR2L=K.setR2L=function(L){return sn=L,this},K.__private__.getR2L=K.getR2L=function(){return sn};var Mn,Wn=K.__private__.setZoomMode=function(L){var it=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*%$/.test(L))Ur=L;else if(isNaN(L)){if(it.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ur=L}else Ur=parseInt(L,10)};K.__private__.getZoomMode=function(){return Ur};var Jn,li=K.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Mn=L};K.__private__.getPageMode=function(){return Mn};var mn=K.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Jn=L};K.__private__.getLayoutMode=function(){return Jn},K.__private__.setDisplayMode=K.setDisplayMode=function(L,it,Mt){return Wn(L),mn(it),li(Mt),this};var xn={title:"",subject:"",author:"",keywords:"",creator:""};K.__private__.getDocumentProperty=function(L){if(Object.keys(xn).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xn[L]},K.__private__.getDocumentProperties=function(){return xn},K.__private__.setDocumentProperties=K.setProperties=K.setDocumentProperties=function(L){for(var it in xn)xn.hasOwnProperty(it)&&L[it]&&(xn[it]=L[it]);return this},K.__private__.setDocumentProperty=function(L,it){if(Object.keys(xn).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xn[L]=it};var qn,Fr,ta,fn,ts,ui={},Ui={},Ks=[],ci={},Nu={},ro={},Ea={},Ol=null,no=0,hn=[],Wr=new qe(K),ea=O.hotfixes||[],Yo={},Zs={},$s=[],ln=function L(it,Mt,re,me,ze,nr){if(!(this instanceof L))return new L(it,Mt,re,me,ze,nr);isNaN(it)&&(it=1),isNaN(Mt)&&(Mt=0),isNaN(re)&&(re=0),isNaN(me)&&(me=1),isNaN(ze)&&(ze=0),isNaN(nr)&&(nr=0),this._matrix=[it,Mt,re,me,ze,nr]};Object.defineProperty(ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ln.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(De).join(L)},ln.prototype.multiply=function(L){var it=L.sx*this.sx+L.shy*this.shx,Mt=L.sx*this.shy+L.shy*this.sy,re=L.shx*this.sx+L.sy*this.shx,me=L.shx*this.shy+L.sy*this.sy,ze=L.tx*this.sx+L.ty*this.shx+this.tx,nr=L.tx*this.shy+L.ty*this.sy+this.ty;return new ln(it,Mt,re,me,ze,nr)},ln.prototype.decompose=function(){var L=this.sx,it=this.shy,Mt=this.shx,re=this.sy,me=this.tx,ze=this.ty,nr=Math.sqrt(L*L+it*it),jr=(L/=nr)*Mt+(it/=nr)*re;Mt-=L*jr,re-=it*jr;var un=Math.sqrt(Mt*Mt+re*re);return jr/=un,L*(re/=un)<it*(Mt/=un)&&(L=-L,it=-it,jr=-jr,nr=-nr),{scale:new ln(nr,0,0,un,0,0),translate:new ln(1,0,0,1,me,ze),rotate:new ln(L,it,-it,L,0,0),skew:new ln(1,0,jr,1,0,0)}},ln.prototype.toString=function(L){return this.join(" ")},ln.prototype.inversed=function(){var L=this.sx,it=this.shy,Mt=this.shx,re=this.sy,me=this.tx,ze=this.ty,nr=1/(L*re-it*Mt),jr=re*nr,un=-it*nr,Yn=-Mt*nr,In=L*nr;return new ln(jr,un,Yn,In,-jr*me-Yn*ze,-un*me-In*ze)},ln.prototype.applyToPoint=function(L){var it=L.x*this.sx+L.y*this.shx+this.tx,Mt=L.x*this.shy+L.y*this.sy+this.ty;return new wc(it,Mt)},ln.prototype.applyToRectangle=function(L){var it=this.applyToPoint(L),Mt=this.applyToPoint(new wc(L.x+L.w,L.y+L.h));return new Gu(it.x,it.y,Mt.x-it.x,Mt.y-it.y)},ln.prototype.clone=function(){var L=this.sx,it=this.shy,Mt=this.shx,re=this.sy,me=this.tx,ze=this.ty;return new ln(L,it,Mt,re,me,ze)},K.Matrix=ln;var _i=K.matrixMult=function(L,it){return it.multiply(L)},ja=new ln(1,0,0,1,0,0);K.unitMatrix=K.identityMatrix=ja;var xa=function(L,it){if(!Nu[L]){var Mt=(it instanceof Ar?"Sh":"P")+(Object.keys(ci).length+1).toString(10);it.id=Mt,Nu[L]=Mt,ci[Mt]=it,Wr.publish("addPattern",it)}};K.ShadingPattern=Ar,K.TilingPattern=Jr,K.addShadingPattern=function(L,it){return pe("addShadingPattern()"),xa(L,it),this},K.beginTilingPattern=function(L){pe("beginTilingPattern()"),Yh(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},K.endTilingPattern=function(L,it){pe("endTilingPattern()"),it.stream=vr[Ft].join(`
`),xa(L,it),Wr.publish("endTilingPattern",it),$s.pop().restore()};var Io=K.__private__.newObject=function(){var L=Cr();return Da(L,!0),L},Cr=K.__private__.newObjectDeferred=function(){return ve++,Te[ve]=function(){return Re},ve},Da=function(L,it){return it=typeof it=="boolean"&&it,Te[L]=Re,it&&Dt(L+" 0 obj"),L},lc=K.__private__.newAdditionalObject=function(){var L={objId:Cr(),content:""};return gr.push(L),L},Tl=Cr(),ws=Cr(),Zt=K.__private__.decodeColorString=function(L){var it=L.split(" ");if(it.length!==2||it[1]!=="g"&&it[1]!=="G")it.length===5&&(it[4]==="k"||it[4]==="K")&&(it=[(1-it[0])*(1-it[3]),(1-it[1])*(1-it[3]),(1-it[2])*(1-it[3]),"r"]);else{var Mt=parseFloat(it[0]);it=[Mt,Mt,Mt,"r"]}for(var re="#",me=0;me<3;me++)re+=("0"+Math.floor(255*parseFloat(it[me])).toString(16)).slice(-2);return re},ra=K.__private__.encodeColorString=function(L){var it;typeof L=="string"&&(L={ch1:L});var Mt=L.ch1,re=L.ch2,me=L.ch3,ze=L.ch4,nr=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Mt=="string"&&Mt.charAt(0)!=="#"){var jr=new nt(Mt);if(jr.ok)Mt=jr.toHex();else if(!/^\d*\.?\d*$/.test(Mt))throw new Error('Invalid color "'+Mt+'" passed to jsPDF.encodeColorString.')}if(typeof Mt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Mt)&&(Mt="#"+Mt[1]+Mt[1]+Mt[2]+Mt[2]+Mt[3]+Mt[3]),typeof Mt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Mt)){var un=parseInt(Mt.substr(1),16);Mt=un>>16&255,re=un>>8&255,me=255&un}if(re===void 0||ze===void 0&&Mt===re&&re===me)if(typeof Mt=="string")it=Mt+" "+nr[0];else switch(L.precision){case 2:it=tr(Mt/255)+" "+nr[0];break;case 3:default:it=At(Mt/255)+" "+nr[0]}else if(ze===void 0||S()(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return it=["1.","1.","1.",nr[1]].join(" ");if(typeof Mt=="string")it=[Mt,re,me,nr[1]].join(" ");else switch(L.precision){case 2:it=[tr(Mt/255),tr(re/255),tr(me/255),nr[1]].join(" ");break;default:case 3:it=[At(Mt/255),At(re/255),At(me/255),nr[1]].join(" ")}}else if(typeof Mt=="string")it=[Mt,re,me,ze,nr[2]].join(" ");else switch(L.precision){case 2:it=[tr(Mt),tr(re),tr(me),tr(ze),nr[2]].join(" ");break;case 3:default:it=[At(Mt),At(re),At(me),At(ze),nr[2]].join(" ")}return it},go=K.__private__.getFilters=function(){return D},ki=K.__private__.putStream=function(L){var it=(L=L||{}).data||"",Mt=L.filters||go(),re=L.alreadyAppliedFilters||[],me=L.addLength1||!1,ze=it.length,nr=L.objectId,jr=function(Ki){return Ki};if(vt!==null&&nr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");vt!==null&&(jr=Vi.encryptor(nr,0));var un={};Mt===!0&&(Mt=["FlateEncode"]);var Yn=L.additionalKeyValues||[],In=(un=ee.API.processDataByFilters!==void 0?ee.API.processDataByFilters(it,Mt):{data:it,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(un.data.length!==0&&(Yn.push({key:"Length",value:un.data.length}),me===!0&&Yn.push({key:"Length1",value:ze})),In.length!=0)if(In.split("/").length-1==1)Yn.push({key:"Filter",value:In});else{Yn.push({key:"Filter",value:"["+In+"]"});for(var Kn=0;Kn<Yn.length;Kn+=1)if(Yn[Kn].key==="DecodeParms"){for(var Go=[],qi=0;qi<un.reverseChain.split("/").length-1;qi+=1)Go.push("null");Go.push(Yn[Kn].value),Yn[Kn].value="["+Go.join(" ")+"]"}}Dt("<<");for(var mo=0;mo<Yn.length;mo++)Dt("/"+Yn[mo].key+" "+Yn[mo].value);Dt(">>"),un.data.length!==0&&(Dt("stream"),Dt(jr(un.data)),Dt("endstream"))},oi=K.__private__.putPage=function(L){var it=L.number,Mt=L.data,re=L.objId,me=L.contentsObjId;Da(re,!0),Dt("<</Type /Page"),Dt("/Parent "+L.rootDictionaryObjId+" 0 R"),Dt("/Resources "+L.resourceDictionaryObjId+" 0 R"),Dt("/MediaBox ["+parseFloat(De(L.mediaBox.bottomLeftX))+" "+parseFloat(De(L.mediaBox.bottomLeftY))+" "+De(L.mediaBox.topRightX)+" "+De(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Dt("/CropBox ["+De(L.cropBox.bottomLeftX)+" "+De(L.cropBox.bottomLeftY)+" "+De(L.cropBox.topRightX)+" "+De(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Dt("/BleedBox ["+De(L.bleedBox.bottomLeftX)+" "+De(L.bleedBox.bottomLeftY)+" "+De(L.bleedBox.topRightX)+" "+De(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Dt("/TrimBox ["+De(L.trimBox.bottomLeftX)+" "+De(L.trimBox.bottomLeftY)+" "+De(L.trimBox.topRightX)+" "+De(L.trimBox.topRightY)+"]"),L.artBox!==null&&Dt("/ArtBox ["+De(L.artBox.bottomLeftX)+" "+De(L.artBox.bottomLeftY)+" "+De(L.artBox.topRightX)+" "+De(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Dt("/UserUnit "+L.userUnit),Wr.publish("putPage",{objId:re,pageContext:hn[it],pageNumber:it,page:Mt}),Dt("/Contents "+me+" 0 R"),Dt(">>"),Dt("endobj");var ze=Mt.join(`
`);return xe===Yt.ADVANCED&&(ze+=`
Q`),Da(me,!0),ki({data:ze,filters:go(),objectId:me}),Dt("endobj"),re},No=K.__private__.putPages=function(){var L,it,Mt=[];for(L=1;L<=no;L++)hn[L].objId=Cr(),hn[L].contentsObjId=Cr();for(L=1;L<=no;L++)Mt.push(oi({number:L,data:vr[L],objId:hn[L].objId,contentsObjId:hn[L].contentsObjId,mediaBox:hn[L].mediaBox,cropBox:hn[L].cropBox,bleedBox:hn[L].bleedBox,trimBox:hn[L].trimBox,artBox:hn[L].artBox,userUnit:hn[L].userUnit,rootDictionaryObjId:Tl,resourceDictionaryObjId:ws}));Da(Tl,!0),Dt("<</Type /Pages");var re="/Kids [";for(it=0;it<no;it++)re+=Mt[it]+" 0 R ";Dt(re+"]"),Dt("/Count "+no),Dt(">>"),Dt("endobj"),Wr.publish("postPutPages")},uc=function(L){Wr.publish("putFont",{font:L,out:Dt,newObject:Io,putStream:ki}),L.isAlreadyPutted!==!0&&(L.objectNumber=Io(),Dt("<<"),Dt("/Type /Font"),Dt("/BaseFont /"+Xe(L.postScriptName)),Dt("/Subtype /Type1"),typeof L.encoding=="string"&&Dt("/Encoding /"+L.encoding),Dt("/FirstChar 32"),Dt("/LastChar 255"),Dt(">>"),Dt("endobj"))},iu=function(){for(var L in ui)ui.hasOwnProperty(L)&&(yt===!1||yt===!0&&Ot.hasOwnProperty(L))&&uc(ui[L])},cc=function(L){L.objectNumber=Io();var it=[];it.push({key:"Type",value:"/XObject"}),it.push({key:"Subtype",value:"/Form"}),it.push({key:"BBox",value:"["+[De(L.x),De(L.y),De(L.x+L.width),De(L.y+L.height)].join(" ")+"]"}),it.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Mt=L.pages[1].join(`
`);ki({data:Mt,additionalKeyValues:it,objectId:L.objectNumber}),Dt("endobj")},Sa=function(){for(var L in Yo)Yo.hasOwnProperty(L)&&cc(Yo[L])},Nh=function(L,it){var Mt,re=[],me=1/(it-1);for(Mt=0;Mt<1;Mt+=me)re.push(Mt);if(re.push(1),L[0].offset!=0){var ze={offset:0,color:L[0].color};L.unshift(ze)}if(L[L.length-1].offset!=1){var nr={offset:1,color:L[L.length-1].color};L.push(nr)}for(var jr="",un=0,Yn=0;Yn<re.length;Yn++){for(Mt=re[Yn];Mt>L[un+1].offset;)un++;var In=L[un].offset,Kn=(Mt-In)/(L[un+1].offset-In),Go=L[un].color,qi=L[un+1].color;jr+=fe(Math.round((1-Kn)*Go[0]+Kn*qi[0]).toString(16))+fe(Math.round((1-Kn)*Go[1]+Kn*qi[1]).toString(16))+fe(Math.round((1-Kn)*Go[2]+Kn*qi[2]).toString(16))}return jr.trim()},Fu=function(L,it){it||(it=21);var Mt=Io(),re=Nh(L.colors,it),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+it+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ki({data:re,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Mt}),Dt("endobj"),L.objectNumber=Io(),Dt("<< /ShadingType "+L.type),Dt("/ColorSpace /DeviceRGB");var ze="/Coords ["+De(parseFloat(L.coords[0]))+" "+De(parseFloat(L.coords[1]))+" ";L.type===2?ze+=De(parseFloat(L.coords[2]))+" "+De(parseFloat(L.coords[3])):ze+=De(parseFloat(L.coords[2]))+" "+De(parseFloat(L.coords[3]))+" "+De(parseFloat(L.coords[4]))+" "+De(parseFloat(L.coords[5])),Dt(ze+="]"),L.matrix&&Dt("/Matrix ["+L.matrix.toString()+"]"),Dt("/Function "+Mt+" 0 R"),Dt("/Extend [true true]"),Dt(">>"),Dt("endobj")},ou=function(L,it){var Mt=Cr(),re=Io();it.push({resourcesOid:Mt,objectOid:re}),L.objectNumber=re;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+L.boundingBox.map(De).join(" ")+"]"}),me.push({key:"XStep",value:De(L.xStep)}),me.push({key:"YStep",value:De(L.yStep)}),me.push({key:"Resources",value:Mt+" 0 R"}),L.matrix&&me.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),ki({data:L.stream,additionalKeyValues:me,objectId:L.objectNumber}),Dt("endobj")},fc=function(L){var it;for(it in ci)ci.hasOwnProperty(it)&&(ci[it]instanceof Ar?Fu(ci[it]):ci[it]instanceof Jr&&ou(ci[it],L))},Fh=function(L){for(var it in L.objectNumber=Io(),Dt("<<"),L)switch(it){case"opacity":Dt("/ca "+tr(L[it]));break;case"stroke-opacity":Dt("/CA "+tr(L[it]))}Dt(">>"),Dt("endobj")},hc=function(){var L;for(L in ro)ro.hasOwnProperty(L)&&Fh(ro[L])},Js=function(){for(var L in Dt("/XObject <<"),Yo)Yo.hasOwnProperty(L)&&Yo[L].objectNumber>=0&&Dt("/"+L+" "+Yo[L].objectNumber+" 0 R");Wr.publish("putXobjectDict"),Dt(">>")},jh=function(){Vi.oid=Io(),Dt("<<"),Dt("/Filter /Standard"),Dt("/V "+Vi.v),Dt("/R "+Vi.r),Dt("/U <"+Vi.toHexString(Vi.U)+">"),Dt("/O <"+Vi.toHexString(Vi.O)+">"),Dt("/P "+Vi.P),Dt(">>"),Dt("endobj")},Dh=function(){for(var L in Dt("/Font <<"),ui)ui.hasOwnProperty(L)&&(yt===!1||yt===!0&&Ot.hasOwnProperty(L))&&Dt("/"+L+" "+ui[L].objectNumber+" 0 R");Dt(">>")},Ep=function(){if(Object.keys(ci).length>0){for(var L in Dt("/Shading <<"),ci)ci.hasOwnProperty(L)&&ci[L]instanceof Ar&&ci[L].objectNumber>=0&&Dt("/"+L+" "+ci[L].objectNumber+" 0 R");Wr.publish("putShadingPatternDict"),Dt(">>")}},Os=function(L){if(Object.keys(ci).length>0){for(var it in Dt("/Pattern <<"),ci)ci.hasOwnProperty(it)&&ci[it]instanceof K.TilingPattern&&ci[it].objectNumber>=0&&ci[it].objectNumber<L&&Dt("/"+it+" "+ci[it].objectNumber+" 0 R");Wr.publish("putTilingPatternDict"),Dt(">>")}},dc=function(){if(Object.keys(ro).length>0){var L;for(L in Dt("/ExtGState <<"),ro)ro.hasOwnProperty(L)&&ro[L].objectNumber>=0&&Dt("/"+L+" "+ro[L].objectNumber+" 0 R");Wr.publish("putGStateDict"),Dt(">>")}},Of=function(L){Da(L.resourcesOid,!0),Dt("<<"),Dt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dh(),Ep(),Os(L.objectOid),dc(),Js(),Dt(">>"),Dt("endobj")},yo=function(){var L=[];iu(),hc(),Sa(),fc(L),Wr.publish("putResources"),L.forEach(Of),Of({resourcesOid:ws,objectOid:Number.MAX_SAFE_INTEGER}),Wr.publish("postPutResources")},qs=function(){Wr.publish("putAdditionalObjects");for(var L=0;L<gr.length;L++){var it=gr[L];Da(it.objId,!0),Dt(it.content),Dt("endobj")}Wr.publish("postPutAdditionalObjects")},pc=function(L){Ui[L.fontName]=Ui[L.fontName]||{},Ui[L.fontName][L.fontStyle]=L.id},vc=function(L,it,Mt,re,me){var ze={id:"F"+(Object.keys(ui).length+1).toString(10),postScriptName:L,fontName:it,fontStyle:Mt,encoding:re,isStandardFont:me||!1,metadata:{}};return Wr.publish("addFont",{font:ze,instance:this}),ui[ze.id]=ze,pc(ze),ze.id},Bh=function(L){for(var it=0,Mt=fr.length;it<Mt;it++){var re=vc.call(this,L[it][0],L[it][1],L[it][2],fr[it][3],!0);yt===!1&&(Ot[re]=!0);var me=L[it][0].split("-");pc({id:re,fontName:me[0],fontStyle:me[1]||""})}Wr.publish("addFonts",{fonts:ui,dictionary:Ui})},xp=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(re){var it=re.stack||"";~it.indexOf(" at ")&&(it=it.split(" at ")[1]);var Mt="Error in function "+it.split(`
`)[0].split("<")[0]+": "+re.message;if(!R.console)throw new Error(Mt);R.console.error(Mt,re),R.alert&&alert(Mt)}},L.foo.bar=L,L.foo},na=function(L,it){var Mt,re,me,ze,nr,jr,un,Yn,In;if(me=(it=it||{}).sourceEncoding||"Unicode",nr=it.outputEncoding,(it.autoencode||nr)&&ui[qn].metadata&&ui[qn].metadata[me]&&ui[qn].metadata[me].encoding&&(ze=ui[qn].metadata[me].encoding,!nr&&ui[qn].encoding&&(nr=ui[qn].encoding),!nr&&ze.codePages&&(nr=ze.codePages[0]),typeof nr=="string"&&(nr=ze[nr]),nr)){for(un=!1,jr=[],Mt=0,re=L.length;Mt<re;Mt++)(Yn=nr[L.charCodeAt(Mt)])?jr.push(String.fromCharCode(Yn)):jr.push(L[Mt]),jr[Mt].charCodeAt(0)>>8&&(un=!0);L=jr.join("")}for(Mt=L.length;un===void 0&&Mt!==0;)L.charCodeAt(Mt-1)>>8&&(un=!0),Mt--;if(!un)return L;for(jr=it.noBOM?[]:[254,255],Mt=0,re=L.length;Mt<re;Mt++){if((In=(Yn=L.charCodeAt(Mt))>>8)>>8)throw new Error("Character at position "+Mt+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jr.push(In),jr.push(Yn-(In<<8))}return String.fromCharCode.apply(void 0,jr)},Ho=K.__private__.pdfEscape=K.pdfEscape=function(L,it){return na(L,it).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qs=K.__private__.beginPage=function(L){vr[++no]=[],hn[no]={objId:0,contentsObjId:0,userUnit:Number(k),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Gh(no),ke(vr[Ft])},gc=function(L,it){var Mt,re,me;switch(E=it||E,typeof L=="string"&&(Mt=wt(L.toLowerCase()),Array.isArray(Mt)&&(re=Mt[0],me=Mt[1])),Array.isArray(L)&&(re=L[0]*Fr,me=L[1]*Fr),isNaN(re)&&(re=F[0],me=F[1]),(re>14400||me>14400)&&(U.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),me=Math.min(14400,me)),F=[re,me],E.substr(0,1)){case"l":me>re&&(F=[me,re]);break;case"p":re>me&&(F=[me,re])}Qs(F),Bu(Lf),Dt(Ba),Sc!==0&&Dt(Sc+" J"),Rf!==0&&Dt(Rf+" j"),Wr.publish("addPage",{pageNumber:no})},yc=function(L){L>0&&L<=no&&(vr.splice(L,1),hn.splice(L,1),no--,Ft>no&&(Ft=no),this.setPage(Ft))},Gh=function(L){L>0&&L<=no&&(Ft=L)},Tf=K.__private__.getNumberOfPages=K.getNumberOfPages=function(){return vr.length-1},ju=function(L,it,Mt){var re,me=void 0;return Mt=Mt||{},L=L!==void 0?L:ui[qn].fontName,it=it!==void 0?it:ui[qn].fontStyle,re=L.toLowerCase(),Ui[re]!==void 0&&Ui[re][it]!==void 0?me=Ui[re][it]:Ui[L]!==void 0&&Ui[L][it]!==void 0?me=Ui[L][it]:Mt.disableWarning===!1&&U.warn("Unable to look up font label for font '"+L+"', '"+it+"'. Refer to getFontList() for available fonts."),me||Mt.noFallback||(me=Ui.times[it])==null&&(me=Ui.times.normal),me},Uh=K.__private__.putInfo=function(){var L=Io(),it=function(re){return re};for(var Mt in vt!==null&&(it=Vi.encryptor(L,0)),Dt("<<"),Dt("/Producer ("+Ho(it("jsPDF "+ee.version))+")"),xn)xn.hasOwnProperty(Mt)&&xn[Mt]&&Dt("/"+Mt.substr(0,1).toUpperCase()+Mt.substr(1)+" ("+Ho(it(xn[Mt]))+")");Dt("/CreationDate ("+Ho(it(He))+")"),Dt(">>"),Dt("endobj")},Sp=K.__private__.putCatalog=function(L){var it=(L=L||{}).rootDictionaryObjId||Tl;switch(Io(),Dt("<<"),Dt("/Type /Catalog"),Dt("/Pages "+it+" 0 R"),Ur||(Ur="fullwidth"),Ur){case"fullwidth":Dt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Dt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Dt("/OpenAction [3 0 R /Fit]");break;case"original":Dt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Mt=""+Ur;Mt.substr(Mt.length-1)==="%"&&(Ur=parseInt(Ur)/100),typeof Ur=="number"&&Dt("/OpenAction [3 0 R /XYZ null null "+tr(Ur)+"]")}switch(Jn||(Jn="continuous"),Jn){case"continuous":Dt("/PageLayout /OneColumn");break;case"single":Dt("/PageLayout /SinglePage");break;case"two":case"twoleft":Dt("/PageLayout /TwoColumnLeft");break;case"tworight":Dt("/PageLayout /TwoColumnRight")}Mn&&Dt("/PageMode /"+Mn),Wr.publish("putCatalog"),Dt(">>"),Dt("endobj")},en=K.__private__.putTrailer=function(){Dt("trailer"),Dt("<<"),Dt("/Size "+(ve+1)),Dt("/Root "+ve+" 0 R"),Dt("/Info "+(ve-1)+" 0 R"),vt!==null&&Dt("/Encrypt "+Vi.oid+" 0 R"),Dt("/ID [ <"+We+"> <"+We+"> ]"),Dt(">>")},mc=K.__private__.putHeader=function(){Dt("%PDF-"+kt),Dt("%\xBA\xDF\xAC\xE0")},bf=K.__private__.putXRef=function(){var L="0000000000";Dt("xref"),Dt("0 "+(ve+1)),Dt("0000000000 65535 f ");for(var it=1;it<=ve;it++)typeof Te[it]=="function"?Dt((L+Te[it]()).slice(-10)+" 00000 n "):Te[it]!==void 0?Dt((L+Te[it]).slice(-10)+" 00000 n "):Dt("0000000000 00000 n ")},bl=K.__private__.buildDocument=function(){gn(),ke(Ae),Wr.publish("buildDocument"),mc(),No(),qs(),yo(),vt!==null&&jh(),Uh(),Sp();var L=Re;return bf(),en(),Dt("startxref"),Dt(""+L),Dt("%%EOF"),ke(vr[Ft]),Ae.join(`
`)},au=K.__private__.getBlob=function(L){return new Blob([Qr(L)],{type:"application/pdf"})},kh=K.output=K.__private__.output=xp(function(L,it){switch(typeof(it=it||{})=="string"?it={filename:it}:it.filename=it.filename||"generated.pdf",L){case void 0:return bl();case"save":K.save(it.filename);break;case"arraybuffer":return Qr(bl());case"blob":return au(bl());case"bloburi":case"bloburl":if(R.URL!==void 0&&typeof R.URL.createObjectURL=="function")return R.URL&&R.URL.createObjectURL(au(bl()))||void 0;U.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Mt="",re=bl();try{Mt=$(re)}catch{Mt=$(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+it.filename+";base64,"+Mt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(R)==="[object Window]"){var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(it.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(it)+");<\/script></body></html>",ze=R.open();return ze!==null&&ze.document.write(me),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(R)==="[object Window]"){var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(it.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+it.filename+'" width="500px" height="400px" /></body></html>',jr=R.open();if(jr!==null){jr.document.write(nr);var un=this;jr.document.documentElement.querySelector("#pdfViewer").onload=function(){jr.document.title=it.filename,jr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(un.output("bloburl"))}}return jr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(R)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",it)+'"></iframe></body></html>',In=R.open();if(In!==null&&(In.document.write(Yn),In.document.title=it.filename),In||typeof safari=="undefined")return In;break;case"datauri":case"dataurl":return R.document.location.href=this.output("datauristring",it);default:return null}}),Du=function(L){return Array.isArray(ea)===!0&&ea.indexOf(L)>-1};switch(T){case"pt":Fr=1;break;case"mm":Fr=72/25.4;break;case"cm":Fr=72/2.54;break;case"in":Fr=72;break;case"px":Fr=Du("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fr=12;break;case"ex":Fr=6;break;default:if(typeof T!="number")throw new Error("Invalid unit: "+T);Fr=T}var Vi=null;Xr(),Le();var Cl=function(L){return vt!==null?Vi.encryptor(L,0):function(it){return it}},su=K.__private__.getPageInfo=K.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hn[L].objId,pageNumber:L,pageContext:hn[L]}},tl=K.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var it in hn)if(hn[it].objId===L)break;return su(it)},Sn=K.__private__.getCurrentPageInfo=K.getCurrentPageInfo=function(){return{objId:hn[Ft].objId,pageNumber:Ft,pageContext:hn[Ft]}};K.addPage=function(){return gc.apply(this,arguments),this},K.setPage=function(){return Gh.apply(this,arguments),ke.call(this,vr[Ft]),this},K.insertPage=function(L){return this.addPage(),this.movePage(Ft,L),this},K.movePage=function(L,it){var Mt,re;if(L>it){Mt=vr[L],re=hn[L];for(var me=L;me>it;me--)vr[me]=vr[me-1],hn[me]=hn[me-1];vr[it]=Mt,hn[it]=re,this.setPage(it)}else if(L<it){Mt=vr[L],re=hn[L];for(var ze=L;ze<it;ze++)vr[ze]=vr[ze+1],hn[ze]=hn[ze+1];vr[it]=Mt,hn[it]=re,this.setPage(it)}return this},K.deletePage=function(){return yc.apply(this,arguments),this},K.__private__.text=K.text=function(L,it,Mt,re,me){var ze,nr,jr,un,Yn,In,Kn,Go,qi,mo=(re=re||{}).scope||this;if(typeof L=="number"&&typeof it=="number"&&(typeof Mt=="string"||Array.isArray(Mt))){var Ki=Mt;Mt=it,it=L,L=Ki}if(arguments[3]instanceof ln?(pe("The transform parameter of text() with a Matrix value"),qi=me):(jr=arguments[4],un=arguments[5],S()(Kn=arguments[3])==="object"&&Kn!==null||(typeof jr=="string"&&(un=jr,jr=null),typeof Kn=="string"&&(un=Kn,Kn=null),typeof Kn=="number"&&(jr=Kn,Kn=null),re={flags:Kn,angle:jr,align:un})),isNaN(it)||isNaN(Mt)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return mo;var io="",Ga=!1,ku=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Al,il=mo.internal.scaleFactor;function Hh(Mi){return Mi=Mi.split("	").join(Array(re.TabLen||9).join(" ")),Ho(Mi,Kn)}function If(Mi){for(var si,oo=Mi.concat(),_o=[],ll=oo.length;ll--;)typeof(si=oo.shift())=="string"?_o.push(si):Array.isArray(Mi)&&(si.length===1||si[1]===void 0&&si[2]===void 0)?_o.push(si[0]):_o.push([si[0],si[1],si[2]]);return _o}function Nf(Mi,si){var oo;if(typeof Mi=="string")oo=si(Mi)[0];else if(Array.isArray(Mi)){for(var _o,ll,Zi=Mi.concat(),Ac=[],Bf=Zi.length;Bf--;)typeof(_o=Zi.shift())=="string"?Ac.push(si(_o)[0]):Array.isArray(_o)&&typeof _o[0]=="string"&&(ll=si(_o[0],_o[1],_o[2]),Ac.push([ll[0],ll[1],ll[2]]));oo=Ac}return oo}var bs=!1,Ff=!0;if(typeof L=="string")bs=!0;else if(Array.isArray(L)){var jf=L.concat();nr=[];for(var Gn,Oa=jf.length;Oa--;)(typeof(Gn=jf.shift())!="string"||Array.isArray(Gn)&&typeof Gn[0]!="string")&&(Ff=!1);bs=Ff}if(bs===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var es=xr/mo.internal.scaleFactor,cu=es*(ku-1);switch(re.baseline){case"bottom":Mt-=cu;break;case"top":Mt+=es-cu;break;case"hanging":Mt+=es-2*cu;break;case"middle":Mt+=es/2-cu}if((In=re.maxWidth||0)>0&&(typeof L=="string"?L=mo.splitTextToSize(L,In):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Mi,si){return Mi.concat(mo.splitTextToSize(si,In))},[]))),ze={text:L,x:it,y:Mt,options:re,mutex:{pdfEscape:Ho,activeFontKey:qn,fonts:ui,activeFontSize:xr}},Wr.publish("preProcessText",ze),L=ze.text,jr=(re=ze.options).angle,!(qi instanceof ln)&&jr&&typeof jr=="number"){jr*=Math.PI/180,re.rotationDirection===0&&(jr=-jr),xe===Yt.ADVANCED&&(jr=-jr);var Tc=Math.cos(jr),zu=Math.sin(jr);qi=new ln(Tc,zu,-zu,Tc,0,0)}else jr&&jr instanceof ln&&(qi=jr);xe!==Yt.ADVANCED||qi||(qi=ja),(Yn=re.charSpace||lu)!==void 0&&(io+=De(Pt(Yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Go=re.horizontalScale)!==void 0&&(io+=De(100*Go)+` Tz
`),re.lang;var ha=-1,Xh=re.renderingMode!==void 0?re.renderingMode:re.stroke,fu=mo.internal.getCurrentPageInfo().pageContext;switch(Xh){case 0:case!1:case"fill":ha=0;break;case 1:case!0:case"stroke":ha=1;break;case 2:case"fillThenStroke":ha=2;break;case 3:case"invisible":ha=3;break;case 4:case"fillAndAddForClipping":ha=4;break;case 5:case"strokeAndAddPathForClipping":ha=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ha=6;break;case 7:case"addToPathForClipping":ha=7}var Kh=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;ha!==-1?io+=ha+` Tr
`:Kh!==-1&&(io+=`0 Tr
`),ha!==-1&&(fu.usedRenderingMode=ha),un=re.align||"left";var Cs,bc=xr*ku,Ap=mo.internal.pageSize.getWidth(),Rp=ui[qn];Yn=re.charSpace||lu,In=re.maxWidth||0,Kn=Object.assign({autoencode:!0,noBOM:!0},re.flags);var Ls=[];if(Object.prototype.toString.call(L)==="[object Array]"){var Ua;nr=If(L),un!=="left"&&(Cs=nr.map(function(Mi){return mo.getStringUnitWidth(Mi,{font:Rp,charSpace:Yn,fontSize:xr,doKerning:!1})*xr/il}));var As,al=0;if(un==="right"){it-=Cs[0],L=[],Oa=nr.length;for(var Rs=0;Rs<Oa;Rs++)Rs===0?(As=Rl(it),Ua=Ts(Mt)):(As=Pt(al-Cs[Rs]),Ua=-bc),L.push([nr[Rs],As,Ua]),al=Cs[Rs]}else if(un==="center"){it-=Cs[0]/2,L=[],Oa=nr.length;for(var Ml=0;Ml<Oa;Ml++)Ml===0?(As=Rl(it),Ua=Ts(Mt)):(As=Pt((al-Cs[Ml])/2),Ua=-bc),L.push([nr[Ml],As,Ua]),al=Cs[Ml]}else if(un==="left"){L=[],Oa=nr.length;for(var Il=0;Il<Oa;Il++)L.push(nr[Il])}else{if(un!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');L=[],Oa=nr.length,In=In!==0?In:Ap;for(var ai=0;ai<Oa;ai++)Ua=ai===0?Ts(Mt):-bc,As=ai===0?Rl(it):0,ai<Oa-1?Ls.push(De(Pt((In-Cs[ai])/(nr[ai].split(" ").length-1)))):Ls.push(0),L.push([nr[ai],As,Ua])}}var Cc=typeof re.R2L=="boolean"?re.R2L:sn;Cc===!0&&(L=Nf(L,function(Mi,si,oo){return[Mi.split("").reverse().join(""),si,oo]})),ze={text:L,x:it,y:Mt,options:re,mutex:{pdfEscape:Ho,activeFontKey:qn,fonts:ui,activeFontSize:xr}},Wr.publish("postProcessText",ze),L=ze.text,Ga=ze.mutex.isHex||!1;var rs=ui[qn].encoding;rs!=="WinAnsiEncoding"&&rs!=="StandardEncoding"||(L=Nf(L,function(Mi,si,oo){return[Hh(Mi),si,oo]})),nr=If(L),L=[];for(var Nl,Ps,Fl,jl=0,Lc=1,sl=Array.isArray(nr[0])?Lc:jl,hu="",Df=function(Mi,si,oo){var _o="";return oo instanceof ln?(oo=typeof re.angle=="number"?_i(oo,new ln(1,0,0,1,Mi,si)):_i(new ln(1,0,0,1,Mi,si),oo),xe===Yt.ADVANCED&&(oo=_i(new ln(1,0,0,-1,0,0),oo)),_o=oo.join(" ")+` Tm
`):_o=De(Mi)+" "+De(si)+` Td
`,_o},ns=0;ns<nr.length;ns++){switch(hu="",sl){case Lc:Fl=(Ga?"<":"(")+nr[ns][0]+(Ga?">":")"),Nl=parseFloat(nr[ns][1]),Ps=parseFloat(nr[ns][2]);break;case jl:Fl=(Ga?"<":"(")+nr[ns]+(Ga?">":")"),Nl=Rl(it),Ps=Ts(Mt)}Ls!==void 0&&Ls[ns]!==void 0&&(hu=Ls[ns]+` Tw
`),ns===0?L.push(hu+Df(Nl,Ps,qi)+Fl):sl===jl?L.push(hu+Fl):sl===Lc&&L.push(hu+Df(Nl,Ps,qi)+Fl)}L=sl===jl?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Dl=`BT
/`;return Dl+=qn+" "+xr+` Tf
`,Dl+=De(xr*ku)+` TL
`,Dl+=pr+`
`,Dl+=io,Dl+=L,Dt(Dl+="ET"),Ot[qn]=!0,mo};var wp=K.__private__.clip=K.clip=function(L){return Dt(L==="evenodd"?"W*":"W"),this};K.clipEvenOdd=function(){return wp("evenodd")},K.__private__.discardPath=K.discardPath=function(){return Dt("n"),this};var ia=K.__private__.isValidStyle=function(L){var it=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(it=!0),it};K.__private__.setDefaultPathOperation=K.setDefaultPathOperation=function(L){return ia(L)&&(rt=L),this};var el=K.__private__.getStyle=K.getStyle=function(L){var it=rt;switch(L){case"D":case"S":it="S";break;case"F":it="f";break;case"FD":case"DF":it="B";break;case"f":case"f*":case"B":case"B*":it=L}return it},Li=K.close=function(){return Dt("h"),this};K.stroke=function(){return Dt("S"),this},K.fill=function(L){return Ll("f",L),this},K.fillEvenOdd=function(L){return Ll("f*",L),this},K.fillStroke=function(L){return Ll("B",L),this},K.fillStrokeEvenOdd=function(L){return Ll("B*",L),this};var Ll=function(L,it){S()(it)==="object"?zh(it,L):Dt(L)},oa=function(L){L===null||xe===Yt.ADVANCED&&L===void 0||(L=el(L),Dt(L))};function Op(L,it,Mt,re,me){var ze=new Jr(it||this.boundingBox,Mt||this.xStep,re||this.yStep,this.gState,me||this.matrix);ze.stream=this.stream;var nr=L+"$$"+this.cloneIndex+++"$$";return xa(nr,ze),ze}var zh=function(L,it){var Mt=Nu[L.key],re=ci[Mt];if(re instanceof Ar)Dt("q"),Dt(Tp(it)),re.gState&&K.setGState(re.gState),Dt(L.matrix.toString()+" cm"),Dt("/"+Mt+" sh"),Dt("Q");else if(re instanceof Jr){var me=new ln(1,0,0,-1,0,Pl());L.matrix&&(me=me.multiply(L.matrix||ja),Mt=Op.call(re,L.key,L.boundingBox,L.xStep,L.yStep,me).id),Dt("q"),Dt("/Pattern cs"),Dt("/"+Mt+" scn"),re.gState&&K.setGState(re.gState),Dt(it),Dt("Q")}},Tp=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_c=K.moveTo=function(L,it){return Dt(De(Pt(L))+" "+De(oe(it))+" m"),this},Vh=K.lineTo=function(L,it){return Dt(De(Pt(L))+" "+De(oe(it))+" l"),this},Sr=K.curveTo=function(L,it,Mt,re,me,ze){return Dt([De(Pt(L)),De(oe(it)),De(Pt(Mt)),De(oe(re)),De(Pt(me)),De(oe(ze)),"c"].join(" ")),this};K.__private__.line=K.line=function(L,it,Mt,re,me){if(isNaN(L)||isNaN(it)||isNaN(Mt)||isNaN(re)||!ia(me))throw new Error("Invalid arguments passed to jsPDF.line");return xe===Yt.COMPAT?this.lines([[Mt-L,re-it]],L,it,[1,1],me||"S"):this.lines([[Mt-L,re-it]],L,it,[1,1]).stroke()},K.__private__.lines=K.lines=function(L,it,Mt,re,me,ze){var nr,jr,un,Yn,In,Kn,Go,qi,mo,Ki,io,Ga;if(typeof L=="number"&&(Ga=Mt,Mt=it,it=L,L=Ga),re=re||[1,1],ze=ze||!1,isNaN(it)||isNaN(Mt)||!Array.isArray(L)||!Array.isArray(re)||!ia(me)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_c(it,Mt),nr=re[0],jr=re[1],Yn=L.length,Ki=it,io=Mt,un=0;un<Yn;un++)(In=L[un]).length===2?(Ki=In[0]*nr+Ki,io=In[1]*jr+io,Vh(Ki,io)):(Kn=In[0]*nr+Ki,Go=In[1]*jr+io,qi=In[2]*nr+Ki,mo=In[3]*jr+io,Ki=In[4]*nr+Ki,io=In[5]*jr+io,Sr(Kn,Go,qi,mo,Ki,io));return ze&&Li(),oa(me),this},K.path=function(L){for(var it=0;it<L.length;it++){var Mt=L[it],re=Mt.c;switch(Mt.op){case"m":_c(re[0],re[1]);break;case"l":Vh(re[0],re[1]);break;case"c":Sr.apply(this,re);break;case"h":Li()}}return this},K.__private__.rect=K.rect=function(L,it,Mt,re,me){if(isNaN(L)||isNaN(it)||isNaN(Mt)||isNaN(re)||!ia(me))throw new Error("Invalid arguments passed to jsPDF.rect");return xe===Yt.COMPAT&&(re=-re),Dt([De(Pt(L)),De(oe(it)),De(Pt(Mt)),De(Pt(re)),"re"].join(" ")),oa(me),this},K.__private__.triangle=K.triangle=function(L,it,Mt,re,me,ze,nr){if(isNaN(L)||isNaN(it)||isNaN(Mt)||isNaN(re)||isNaN(me)||isNaN(ze)||!ia(nr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Mt-L,re-it],[me-Mt,ze-re],[L-me,it-ze]],L,it,[1,1],nr,!0),this},K.__private__.roundedRect=K.roundedRect=function(L,it,Mt,re,me,ze,nr){if(isNaN(L)||isNaN(it)||isNaN(Mt)||isNaN(re)||isNaN(me)||isNaN(ze)||!ia(nr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jr=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*Mt),ze=Math.min(ze,.5*re),this.lines([[Mt-2*me,0],[me*jr,0,me,ze-ze*jr,me,ze],[0,re-2*ze],[0,ze*jr,-me*jr,ze,-me,ze],[2*me-Mt,0],[-me*jr,0,-me,-ze*jr,-me,-ze],[0,2*ze-re],[0,-ze*jr,me*jr,-ze,me,-ze]],L+me,it,[1,1],nr,!0),this},K.__private__.ellipse=K.ellipse=function(L,it,Mt,re,me){if(isNaN(L)||isNaN(it)||isNaN(Mt)||isNaN(re)||!ia(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*Mt,nr=4/3*(Math.SQRT2-1)*re;return _c(L+Mt,it),Sr(L+Mt,it-nr,L+ze,it-re,L,it-re),Sr(L-ze,it-re,L-Mt,it-nr,L-Mt,it),Sr(L-Mt,it+nr,L-ze,it+re,L,it+re),Sr(L+ze,it+re,L+Mt,it+nr,L+Mt,it),oa(me),this},K.__private__.circle=K.circle=function(L,it,Mt,re){if(isNaN(L)||isNaN(it)||isNaN(Mt)||!ia(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,it,Mt,Mt,re)},K.setFont=function(L,it,Mt){return Mt&&(it=Er(it,Mt)),qn=ju(L,it,{disableWarning:!1}),this};var Cf=K.__private__.getFont=K.getFont=function(){return ui[ju.apply(K,arguments)]};K.__private__.getFontList=K.getFontList=function(){var L,it,Mt={};for(L in Ui)if(Ui.hasOwnProperty(L))for(it in Mt[L]=[],Ui[L])Ui[L].hasOwnProperty(it)&&Mt[L].push(it);return Mt},K.addFont=function(L,it,Mt,re,me){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(Mt=Er(Mt,re)),me=me||"Identity-H",vc.call(this,L,it,Mt,me)};var Al,Lf=O.lineWidth||.200025,bp=K.__private__.getLineWidth=K.getLineWidth=function(){return Lf},Bu=K.__private__.setLineWidth=K.setLineWidth=function(L){return Lf=L,Dt(De(Pt(L))+" w"),this};K.__private__.setLineDash=ee.API.setLineDash=ee.API.setLineDashPattern=function(L,it){if(L=L||[],it=it||0,isNaN(it)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Mt){return De(Pt(Mt))}).join(" "),it=De(Pt(it)),Dt("["+L+"] "+it+" d"),this};var Ec=K.__private__.getLineHeight=K.getLineHeight=function(){return xr*Al};K.__private__.getLineHeight=K.getLineHeight=function(){return xr*Al};var Af=K.__private__.setLineHeightFactor=K.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Al=L),this},Wh=K.__private__.getLineHeightFactor=K.getLineHeightFactor=function(){return Al};Af(O.lineHeight);var Rl=K.__private__.getHorizontalCoordinate=function(L){return Pt(L)},Ts=K.__private__.getVerticalCoordinate=function(L){return xe===Yt.ADVANCED?L:hn[Ft].mediaBox.topRightY-hn[Ft].mediaBox.bottomLeftY-Pt(L)},wa=K.__private__.getHorizontalCoordinateString=K.getHorizontalCoordinateString=function(L){return De(Rl(L))},xc=K.__private__.getVerticalCoordinateString=K.getVerticalCoordinateString=function(L){return De(Ts(L))},Ba=O.strokeColor||"0 G";K.__private__.getStrokeColor=K.getDrawColor=function(){return Zt(Ba)},K.__private__.setStrokeColor=K.setDrawColor=function(L,it,Mt,re){return Ba=ra({ch1:L,ch2:it,ch3:Mt,ch4:re,pdfColorType:"draw",precision:2}),Dt(Ba),this};var rl=O.fillColor||"0 g";K.__private__.getFillColor=K.getFillColor=function(){return Zt(rl)},K.__private__.setFillColor=K.setFillColor=function(L,it,Mt,re){return rl=ra({ch1:L,ch2:it,ch3:Mt,ch4:re,pdfColorType:"fill",precision:2}),Dt(rl),this};var pr=O.textColor||"0 g",nl=K.__private__.getTextColor=K.getTextColor=function(){return Zt(pr)};K.__private__.setTextColor=K.setTextColor=function(L,it,Mt,re){return pr=ra({ch1:L,ch2:it,ch3:Mt,ch4:re,pdfColorType:"text",precision:3}),this};var lu=O.charSpace,Cp=K.__private__.getCharSpace=K.getCharSpace=function(){return parseFloat(lu||0)};K.__private__.setCharSpace=K.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lu=L,this};var Sc=0;K.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},K.__private__.setLineCap=K.setLineCap=function(L){var it=K.CapJoinStyles[L];if(it===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sc=it,Dt(it+" J"),this};var Rf=0;K.__private__.setLineJoin=K.setLineJoin=function(L){var it=K.CapJoinStyles[L];if(it===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rf=it,Dt(it+" j"),this},K.__private__.setLineMiterLimit=K.__private__.setMiterLimit=K.setLineMiterLimit=K.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Dt(De(Pt(L))+" M"),this},K.GState=Ue,K.setGState=function(L){(L=typeof L=="string"?ro[Ea[L]]:Pf(null,L)).equals(Ol)||(Dt("/"+L.id+" gs"),Ol=L)};var Pf=function(L,it){if(!L||!Ea[L]){var Mt=!1;for(var re in ro)if(ro.hasOwnProperty(re)&&ro[re].equals(it)){Mt=!0;break}if(Mt)it=ro[re];else{var me="GS"+(Object.keys(ro).length+1).toString(10);ro[me]=it,it.id=me}return L&&(Ea[L]=it.id),Wr.publish("addGState",it),it}};K.addGState=function(L,it){return Pf(L,it),this},K.saveGraphicsState=function(){return Dt("q"),Ks.push({key:qn,size:xr,color:pr}),this},K.restoreGraphicsState=function(){Dt("Q");var L=Ks.pop();return qn=L.key,xr=L.size,pr=L.color,Ol=null,this},K.setCurrentTransformationMatrix=function(L){return Dt(L.toString()+" cm"),this},K.comment=function(L){return Dt("#"+L),this};var wc=function(L,it){var Mt=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Mt},set:function(ze){isNaN(ze)||(Mt=parseFloat(ze))}});var re=it||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(ze){isNaN(ze)||(re=parseFloat(ze))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(ze){me=ze.toString()}}),this},Gu=function(L,it,Mt,re){wc.call(this,L,it),this.type="rect";var me=Mt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(nr){isNaN(nr)||(me=parseFloat(nr))}});var ze=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(nr){isNaN(nr)||(ze=parseFloat(nr))}}),this},Oc=function(){this.page=no,this.currentPage=Ft,this.pages=vr.slice(0),this.pagesContext=hn.slice(0),this.x=ta,this.y=fn,this.matrix=ts,this.width=Mf(Ft),this.height=Pl(Ft),this.outputDestination=Vr,this.id="",this.objectNumber=-1};Oc.prototype.restore=function(){no=this.page,Ft=this.currentPage,hn=this.pagesContext,vr=this.pages,ta=this.x,fn=this.y,ts=this.matrix,Xo(Ft,this.width),Uu(Ft,this.height),Vr=this.outputDestination};var Yh=function(L,it,Mt,re,me){$s.push(new Oc),no=Ft=0,vr=[],ta=L,fn=it,ts=me,Qs([Mt,re])},Lp=function(L){if(Zs[L])$s.pop().restore();else{var it=new Oc,Mt="Xo"+(Object.keys(Yo).length+1).toString(10);it.id=Mt,Zs[L]=Mt,Yo[Mt]=it,Wr.publish("addFormObject",it),$s.pop().restore()}};for(var uu in K.beginFormObject=function(L,it,Mt,re,me){return Yh(L,it,Mt,re,me),this},K.endFormObject=function(L){return Lp(L),this},K.doFormObject=function(L,it){var Mt=Yo[Zs[L]];return Dt("q"),Dt(it.toString()+" cm"),Dt("/"+Mt.id+" Do"),Dt("Q"),this},K.getFormObject=function(L){var it=Yo[Zs[L]];return{x:it.x,y:it.y,width:it.width,height:it.height,matrix:it.matrix}},K.save=function(L,it){return L=L||"generated.pdf",(it=it||{}).returnPromise=it.returnPromise||!1,it.returnPromise===!1?(J(au(bl()),L),typeof J.unload=="function"&&R.setTimeout&&setTimeout(J.unload,911),this):new Promise(function(Mt,re){try{var me=J(au(bl()),L);typeof J.unload=="function"&&R.setTimeout&&setTimeout(J.unload,911),Mt(me)}catch(ze){re(ze.message)}})},ee.API)ee.API.hasOwnProperty(uu)&&(uu==="events"&&ee.API.events.length?function(L,it){var Mt,re,me;for(me=it.length-1;me!==-1;me--)Mt=it[me][0],re=it[me][1],L.subscribe.apply(L,[Mt].concat(typeof re=="function"?[re]:re))}(Wr,ee.API.events):K[uu]=ee.API[uu]);var Mf=K.getPageWidth=function(L){return(hn[L=L||Ft].mediaBox.topRightX-hn[L].mediaBox.bottomLeftX)/Fr},Xo=K.setPageWidth=function(L,it){hn[L].mediaBox.topRightX=it*Fr+hn[L].mediaBox.bottomLeftX},Pl=K.getPageHeight=function(L){return(hn[L=L||Ft].mediaBox.topRightY-hn[L].mediaBox.bottomLeftY)/Fr},Uu=K.setPageHeight=function(L,it){hn[L].mediaBox.topRightY=it*Fr+hn[L].mediaBox.bottomLeftY};return K.internal={pdfEscape:Ho,getStyle:el,getFont:Cf,getFontSize:Nr,getCharSpace:Cp,getTextColor:nl,getLineHeight:Ec,getLineHeightFactor:Wh,getLineWidth:bp,write:Bn,getHorizontalCoordinate:Rl,getVerticalCoordinate:Ts,getCoordinateString:wa,getVerticalCoordinateString:xc,collections:{},newObject:Io,newAdditionalObject:lc,newObjectDeferred:Cr,newObjectDeferredBegin:Da,getFilters:go,putStream:ki,events:Wr,scaleFactor:Fr,pageSize:{getWidth:function(){return Mf(Ft)},setWidth:function(L){Xo(Ft,L)},getHeight:function(){return Pl(Ft)},setHeight:function(L){Uu(Ft,L)}},encryptionOptions:vt,encryption:Vi,getEncryptor:Cl,output:kh,getNumberOfPages:Tf,pages:vr,out:Dt,f2:tr,f3:At,getPageInfo:su,getPageInfoByObjId:tl,getCurrentPageInfo:Sn,getPDFVersion:It,Point:wc,Rectangle:Gu,Matrix:ln,hasHotfix:Du},Object.defineProperty(K.internal.pageSize,"width",{get:function(){return Mf(Ft)},set:function(L){Xo(Ft,L)},enumerable:!0,configurable:!0}),Object.defineProperty(K.internal.pageSize,"height",{get:function(){return Pl(Ft)},set:function(L){Uu(Ft,L)},enumerable:!0,configurable:!0}),Bh.call(K,fr),qn="F1",gc(F,E),Wr.publish("initialized"),K}Vt.prototype.lsbFirstWord=function(O){return String.fromCharCode(O>>0&255,O>>8&255,O>>16&255,O>>24&255)},Vt.prototype.toHexString=function(O){return O.split("").map(function(_){return("0"+(255&_.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vt.prototype.hexToBytes=function(O){for(var _=[],E=0;E<O.length;E+=2)_.push(String.fromCharCode(parseInt(O.substr(E,2),16)));return _.join("")},Vt.prototype.processOwnerPassword=function(O,_){return q(Bt(_).substr(0,5),O)},Vt.prototype.encryptor=function(O,_){var E=Bt(this.encryptionKey+String.fromCharCode(255&O,O>>8&255,O>>16&255,255&_,_>>8&255)).substr(0,10);return function(T){return q(E,T)}},Ue.prototype.equals=function(O){var _,E="id,objectNumber,equals";if(!O||S()(O)!==S()(this))return!1;var T=0;for(_ in this)if(!(E.indexOf(_)>=0)){if(this.hasOwnProperty(_)&&!O.hasOwnProperty(_)||this[_]!==O[_])return!1;T++}for(_ in O)O.hasOwnProperty(_)&&E.indexOf(_)<0&&T--;return T===0},ee.API={events:[]},ee.version="2.5.0";var Ie=ee.API,Je=1,dr=function(O){return O.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},En=function(O){return O.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mr=function(O){return O.toFixed(2)},Ir=function(O){return O.toFixed(5)};Ie.__acroform__={};var _r=function(O,_){O.prototype=Object.create(_.prototype),O.prototype.constructor=O},Rt=function(O){return O*Je},ne=function(O){var _=new Ln,E=je.internal.getHeight(O)||0,T=je.internal.getWidth(O)||0;return _.BBox=[0,0,Number(mr(T)),Number(mr(E))],_},Ct=Ie.__acroform__.setBit=function(O,_){if(O=O||0,_=_||0,isNaN(O)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return O|=1<<_},Wt=Ie.__acroform__.clearBit=function(O,_){if(O=O||0,_=_||0,isNaN(O)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return O&=~(1<<_)},jt=Ie.__acroform__.getBit=function(O,_){if(isNaN(O)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(O&1<<_)==0?0:1},Jt=Ie.__acroform__.getBitForPdf=function(O,_){if(isNaN(O)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jt(O,_-1)},he=Ie.__acroform__.setBitForPdf=function(O,_){if(isNaN(O)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ct(O,_-1)},ge=Ie.__acroform__.clearBitForPdf=function(O,_){if(isNaN(O)||isNaN(_))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wt(O,_-1)},Ve=Ie.__acroform__.calculateCoordinates=function(O,_){var E=_.internal.getHorizontalCoordinate,T=_.internal.getVerticalCoordinate,F=O[0],b=O[1],D=O[2],k=O[3],Y={};return Y.lowerLeft_X=E(F)||0,Y.lowerLeft_Y=T(b+k)||0,Y.upperRight_X=E(F+D)||0,Y.upperRight_Y=T(b)||0,[Number(mr(Y.lowerLeft_X)),Number(mr(Y.lowerLeft_Y)),Number(mr(Y.upperRight_X)),Number(mr(Y.upperRight_Y))]},tt=function(O){if(O.appearanceStreamContent)return O.appearanceStreamContent;if(O.V||O.DV){var _=[],E=O._V||O.DV,T=z(O,E),F=O.scope.internal.getFont(O.fontName,O.fontStyle).id;_.push("/Tx BMC"),_.push("q"),_.push("BT"),_.push(O.scope.__private__.encodeColorString(O.color)),_.push("/"+F+" "+mr(T.fontSize)+" Tf"),_.push("1 0 0 1 0 0 Tm"),_.push(T.text),_.push("ET"),_.push("Q"),_.push("EMC");var b=ne(O);return b.scope=O.scope,b.stream=_.join(`
`),b}},z=function(O,_){var E=O.fontSize===0?O.maxFontSize:O.fontSize,T={text:"",fontSize:""},F=(_=(_=_.substr(0,1)=="("?_.substr(1):_).substr(_.length-1)==")"?_.substr(0,_.length-1):_).split(" ");F=O.multiline?F.map(function(At){return At.split(`
`)}):F.map(function(At){return[At]});var b=E,D=je.internal.getHeight(O)||0;D=D<0?-D:D;var k=je.internal.getWidth(O)||0;k=k<0?-k:k;var Y=function(At,Pt,ue){if(At+1<F.length){var oe=Pt+" "+F[At+1][0];return V(oe,O,ue).width<=k-4}return!1};b++;t:for(;b>0;){_="",b--;var rt,vt,yt=V("3",O,b).height,Ot=O.multiline?D-b:(D-yt)/2,K=Ot+=2,kt=0,It=0,Qt=0;if(b<=0){_=`(...) Tj
`,_+="% Width of Text: "+V(_,O,b=12).width+", FieldWidth:"+k+`
`;break}for(var wt="",Yt=0,xe=0;xe<F.length;xe++)if(F.hasOwnProperty(xe)){var Be=!1;if(F[xe].length!==1&&Qt!==F[xe].length-1){if((yt+2)*(Yt+2)+2>D)continue t;wt+=F[xe][Qt],Be=!0,It=xe,xe--}else{wt=(wt+=F[xe][Qt]+" ").substr(wt.length-1)==" "?wt.substr(0,wt.length-1):wt;var Qe=parseInt(xe),Er=Y(Qe,wt,b),De=xe>=F.length-1;if(Er&&!De){wt+=" ",Qt=0;continue}if(Er||De){if(De)It=Qe;else if(O.multiline&&(yt+2)*(Yt+2)+2>D)continue t}else{if(!O.multiline||(yt+2)*(Yt+2)+2>D)continue t;It=Qe}}for(var pe="",sr=kt;sr<=It;sr++){var tr=F[sr];if(O.multiline){if(sr===It){pe+=tr[Qt]+" ",Qt=(Qt+1)%tr.length;continue}if(sr===kt){pe+=tr[tr.length-1]+" ";continue}}pe+=tr[0]+" "}switch(pe=pe.substr(pe.length-1)==" "?pe.substr(0,pe.length-1):pe,vt=V(pe,O,b).width,O.textAlign){case"right":rt=k-vt-2;break;case"center":rt=(k-vt)/2;break;case"left":default:rt=2}_+=mr(rt)+" "+mr(K)+` Td
`,_+="("+dr(pe)+`) Tj
`,_+=-mr(rt)+` 0 Td
`,K=-(b+2),vt=0,kt=Be?It:It+1,Yt++,wt=""}break}return T.text=_,T.fontSize=b,T},V=function(O,_,E){var T=_.scope.internal.getFont(_.fontName,_.fontStyle),F=_.scope.getStringUnitWidth(O,{font:T,fontSize:parseFloat(E),charSpace:0})*parseFloat(E);return{height:_.scope.getStringUnitWidth("3",{font:T,fontSize:parseFloat(E),charSpace:0})*parseFloat(E)*1.5,width:F}},at={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ht=function(O,_){var E={type:"reference",object:O};_.internal.getPageInfo(O.page).pageContext.annotations.find(function(T){return T.type===E.type&&T.object===E.object})===void 0&&_.internal.getPageInfo(O.page).pageContext.annotations.push(E)},ye=function(O,_){for(var E in O)if(O.hasOwnProperty(E)){var T=E,F=O[E];_.internal.newObjectDeferredBegin(F.objId,!0),S()(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete O[T]}},Se=function(O,_){if(_.scope=O,O.internal!==void 0&&(O.internal.acroformPlugin===void 0||O.internal.acroformPlugin.isInitialized===!1)){if(Hn.FieldNum=0,O.internal.acroformPlugin=JSON.parse(JSON.stringify(at)),O.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Je=O.internal.scaleFactor,O.internal.acroformPlugin.acroFormDictionaryRoot=new yn,O.internal.acroformPlugin.acroFormDictionaryRoot.scope=O,O.internal.acroformPlugin.acroFormDictionaryRoot._eventID=O.internal.events.subscribe("postPutResources",function(){(function(E){E.internal.events.unsubscribe(E.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete E.internal.acroformPlugin.acroFormDictionaryRoot._eventID,E.internal.acroformPlugin.printedOut=!0})(O)}),O.internal.events.subscribe("buildDocument",function(){(function(E){E.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var T=E.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var F in T)if(T.hasOwnProperty(F)){var b=T[F];b.objId=void 0,b.hasAnnotation&&Ht(b,E)}})(O)}),O.internal.events.subscribe("putCatalog",function(){(function(E){if(E.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");E.internal.write("/AcroForm "+E.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(O)}),O.internal.events.subscribe("postPutPages",function(E){(function(T,F){var b=!T;for(var D in T||(F.internal.newObjectDeferredBegin(F.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),F.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),T=T||F.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(T.hasOwnProperty(D)){var k=T[D],Y=[],rt=k.Rect;if(k.Rect&&(k.Rect=Ve(k.Rect,F)),F.internal.newObjectDeferredBegin(k.objId,!0),k.DA=je.createDefaultAppearanceStream(k),S()(k)==="object"&&typeof k.getKeyValueListForStream=="function"&&(Y=k.getKeyValueListForStream()),k.Rect=rt,k.hasAppearanceStream&&!k.appearanceStreamContent){var vt=tt(k);Y.push({key:"AP",value:"<</N "+vt+">>"}),F.internal.acroformPlugin.xForms.push(vt)}if(k.appearanceStreamContent){var yt="";for(var Ot in k.appearanceStreamContent)if(k.appearanceStreamContent.hasOwnProperty(Ot)){var K=k.appearanceStreamContent[Ot];if(yt+="/"+Ot+" ",yt+="<<",Object.keys(K).length>=1||Array.isArray(K)){for(var D in K)if(K.hasOwnProperty(D)){var kt=K[D];typeof kt=="function"&&(kt=kt.call(F,k)),yt+="/"+D+" "+kt+" ",F.internal.acroformPlugin.xForms.indexOf(kt)>=0||F.internal.acroformPlugin.xForms.push(kt)}}else typeof(kt=K)=="function"&&(kt=kt.call(F,k)),yt+="/"+D+" "+kt,F.internal.acroformPlugin.xForms.indexOf(kt)>=0||F.internal.acroformPlugin.xForms.push(kt);yt+=">>"}Y.push({key:"AP",value:`<<
`+yt+">>"})}F.internal.putStream({additionalKeyValues:Y,objectId:k.objId}),F.internal.out("endobj")}b&&ye(F.internal.acroformPlugin.xForms,F)})(E,O)}),O.internal.acroformPlugin.isInitialized=!0}},cr=Ie.__acroform__.arrayToPdfArray=function(O,_,E){var T=function(D){return D};if(Array.isArray(O)){for(var F="[",b=0;b<O.length;b++)switch(b!==0&&(F+=" "),S()(O[b])){case"boolean":case"number":case"object":F+=O[b].toString();break;case"string":O[b].substr(0,1)!=="/"?(_!==void 0&&E&&(T=E.internal.getEncryptor(_)),F+="("+dr(T(O[b].toString()))+")"):F+=O[b].toString()}return F+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wr=function(O,_,E){var T=function(F){return F};return _!==void 0&&E&&(T=E.internal.getEncryptor(_)),(O=O||"").toString(),O="("+dr(T(O))+")"},br=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(O){this._objId=O}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};br.prototype.toString=function(){return this.objId+" 0 R"},br.prototype.putStream=function(){var O=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:O,objectId:this.objId}),this.scope.internal.out("endobj")},br.prototype.getKeyValueListForStream=function(){var O=[],_=Object.getOwnPropertyNames(this).filter(function(b){return b!="content"&&b!="appearanceStreamContent"&&b!="scope"&&b!="objId"&&b.substring(0,1)!="_"});for(var E in _)if(Object.getOwnPropertyDescriptor(this,_[E]).configurable===!1){var T=_[E],F=this[T];F&&(Array.isArray(F)?O.push({key:T,value:cr(F,this.objId,this.scope)}):F instanceof br?(F.scope=this.scope,O.push({key:T,value:F.objId+" 0 R"})):typeof F!="function"&&O.push({key:T,value:F}))}return O};var Ln=function(){br.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var O,_=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return _},set:function(E){_=E}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(E){O=E.trim()},get:function(){return O||null}})};_r(Ln,br);var yn=function(){br.call(this);var O,_=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return _.length>0?_:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return _}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(O){var E=function(T){return T};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+dr(E(O))+")"}},set:function(E){O=E}})};_r(yn,br);var Hn=function O(){br.call(this);var _=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return _},set:function(wt){if(isNaN(wt))throw new Error('Invalid value "'+wt+'" for attribute F supplied.');_=wt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(_,3))},set:function(wt){Boolean(wt)===!0?this.F=he(_,3):this.F=ge(_,3)}});var E=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return E},set:function(wt){if(isNaN(wt))throw new Error('Invalid value "'+wt+'" for attribute Ff supplied.');E=wt}});var T=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(T.length!==0)return T},set:function(wt){T=wt!==void 0?wt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[0])?0:T[0]},set:function(wt){T[0]=wt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[1])?0:T[1]},set:function(wt){T[1]=wt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[2])?0:T[2]},set:function(wt){T[2]=wt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!T||isNaN(T[3])?0:T[3]},set:function(wt){T[3]=wt}});var F="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return F},set:function(wt){switch(wt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":F=wt;break;default:throw new Error('Invalid value "'+wt+'" for attribute FT supplied.')}}});var b=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!b||b.length<1){if(this instanceof Qo)return;b="FieldObject"+O.FieldNum++}var wt=function(Yt){return Yt};return this.scope&&(wt=this.scope.internal.getEncryptor(this.objId)),"("+dr(wt(b))+")"},set:function(wt){b=wt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return b},set:function(wt){b=wt}});var D="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return D},set:function(wt){D=wt}});var k="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return k},set:function(wt){k=wt}});var Y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Y},set:function(wt){Y=wt}});var rt=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return rt===void 0?50/Je:rt},set:function(wt){rt=wt}});var vt="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return vt},set:function(wt){vt=wt}});var yt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!yt||this instanceof Qo||this instanceof Ci))return wr(yt,this.objId,this.scope)},set:function(wt){wt=wt.toString(),yt=wt}});var Ot=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Ot)return this instanceof kr?Ot:wr(Ot,this.objId,this.scope)},set:function(wt){wt=wt.toString(),Ot=this instanceof kr?wt:wt.substr(0,1)==="("?En(wt.substr(1,wt.length-2)):En(wt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kr?En(Ot.substr(1,Ot.length-1)):Ot},set:function(wt){wt=wt.toString(),Ot=this instanceof kr?"/"+wt:wt}});var K=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(K)return K},set:function(wt){this.V=wt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(K)return this instanceof kr?K:wr(K,this.objId,this.scope)},set:function(wt){wt=wt.toString(),K=this instanceof kr?wt:wt.substr(0,1)==="("?En(wt.substr(1,wt.length-2)):En(wt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kr?En(K.substr(1,K.length-1)):K},set:function(wt){wt=wt.toString(),K=this instanceof kr?"/"+wt:wt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var kt,It=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return It},set:function(wt){wt=Boolean(wt),It=wt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(kt)return kt},set:function(wt){kt=wt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,1))},set:function(wt){Boolean(wt)===!0?this.Ff=he(this.Ff,1):this.Ff=ge(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,2))},set:function(wt){Boolean(wt)===!0?this.Ff=he(this.Ff,2):this.Ff=ge(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,3))},set:function(wt){Boolean(wt)===!0?this.Ff=he(this.Ff,3):this.Ff=ge(this.Ff,3)}});var Qt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Qt!==null)return Qt},set:function(wt){if([0,1,2].indexOf(wt)===-1)throw new Error('Invalid value "'+wt+'" for attribute Q supplied.');Qt=wt}}),Object.defineProperty(this,"textAlign",{get:function(){var wt;switch(Qt){case 0:default:wt="left";break;case 1:wt="center";break;case 2:wt="right"}return wt},configurable:!0,enumerable:!0,set:function(wt){switch(wt){case"right":case 2:Qt=2;break;case"center":case 1:Qt=1;break;case"left":case 0:default:Qt=0}}})};_r(Hn,br);var bi=function(){Hn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var O=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return O},set:function(E){O=E}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return O},set:function(E){O=E}});var _=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cr(_,this.objId,this.scope)},set:function(E){var T,F;F=[],typeof(T=E)=="string"&&(F=function(b,D,k){k||(k=1);for(var Y,rt=[];Y=D.exec(b);)rt.push(Y[k]);return rt}(T,/\((.*?)\)/g)),_=F}}),this.getOptions=function(){return _},this.setOptions=function(E){_=E,this.sort&&_.sort()},this.addOption=function(E){E=(E=E||"").toString(),_.push(E),this.sort&&_.sort()},this.removeOption=function(E,T){for(T=T||!1,E=(E=E||"").toString();_.indexOf(E)!==-1&&(_.splice(_.indexOf(E),1),T!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,18))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,18):this.Ff=ge(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,19))},set:function(E){this.combo===!0&&(Boolean(E)===!0?this.Ff=he(this.Ff,19):this.Ff=ge(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,20))},set:function(E){Boolean(E)===!0?(this.Ff=he(this.Ff,20),_.sort()):this.Ff=ge(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,22))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,22):this.Ff=ge(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,23))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,23):this.Ff=ge(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,27))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,27):this.Ff=ge(this.Ff,27)}}),this.hasAppearanceStream=!1};_r(bi,Hn);var Rn=function(){bi.call(this),this.fontName="helvetica",this.combo=!1};_r(Rn,bi);var Dn=function(){Rn.call(this),this.combo=!0};_r(Dn,Rn);var fi=function(){Dn.call(this),this.edit=!0};_r(fi,Dn);var kr=function(){Hn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,15))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,15):this.Ff=ge(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,16))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,16):this.Ff=ge(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,17))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,17):this.Ff=ge(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,26))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,26):this.Ff=ge(this.Ff,26)}});var O,_={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var E=function(b){return b};if(this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),Object.keys(_).length!==0){var T,F=[];for(T in F.push("<<"),_)F.push("/"+T+" ("+dr(E(_[T]))+")");return F.push(">>"),F.join(`
`)}},set:function(E){S()(E)==="object"&&(_=E)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _.CA||""},set:function(E){typeof E=="string"&&(_.CA=E)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return O},set:function(E){O=E}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return O.substr(1,O.length-1)},set:function(E){O="/"+E}})};_r(kr,Hn);var Xi=function(){kr.call(this),this.pushButton=!0};_r(Xi,kr);var Xn=function(){kr.call(this),this.radio=!0,this.pushButton=!1;var O=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return O},set:function(_){O=_!==void 0?_:[]}})};_r(Xn,kr);var Qo=function(){var O,_;Hn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return O},set:function(F){O=F}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return _},set:function(F){_=F}});var E,T={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var F=function(k){return k};this.scope&&(F=this.scope.internal.getEncryptor(this.objId));var b,D=[];for(b in D.push("<<"),T)D.push("/"+b+" ("+dr(F(T[b]))+")");return D.push(">>"),D.join(`
`)},set:function(F){S()(F)==="object"&&(T=F)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return T.CA||""},set:function(F){typeof F=="string"&&(T.CA=F)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return E},set:function(F){E=F}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return E.substr(1,E.length-1)},set:function(F){E="/"+F}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_r(Qo,Hn),Xn.prototype.setAppearance=function(O){if(!("createAppearanceStream"in O)||!("getCA"in O))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var _ in this.Kids)if(this.Kids.hasOwnProperty(_)){var E=this.Kids[_];E.appearanceStreamContent=O.createAppearanceStream(E.optionName),E.caption=O.getCA()}},Xn.prototype.createOption=function(O){var _=new Qo;return _.Parent=this,_.optionName=O,this.Kids.push(_),Rr.call(this.scope,_),_};var Ji=function(){kr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=je.CheckBox.createAppearanceStream()};_r(Ji,kr);var Ci=function(){Hn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,13))},set:function(_){Boolean(_)===!0?this.Ff=he(this.Ff,13):this.Ff=ge(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,21))},set:function(_){Boolean(_)===!0?this.Ff=he(this.Ff,21):this.Ff=ge(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,23))},set:function(_){Boolean(_)===!0?this.Ff=he(this.Ff,23):this.Ff=ge(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,24))},set:function(_){Boolean(_)===!0?this.Ff=he(this.Ff,24):this.Ff=ge(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,25))},set:function(_){Boolean(_)===!0?this.Ff=he(this.Ff,25):this.Ff=ge(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,26))},set:function(_){Boolean(_)===!0?this.Ff=he(this.Ff,26):this.Ff=ge(this.Ff,26)}});var O=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return O},set:function(_){O=_}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return O},set:function(_){Number.isInteger(_)&&(O=_)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_r(Ci,Hn);var Gr=function(){Ci.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,14))},set:function(O){Boolean(O)===!0?this.Ff=he(this.Ff,14):this.Ff=ge(this.Ff,14)}}),this.password=!0};_r(Gr,Ci);var je={CheckBox:{createAppearanceStream:function(){return{N:{On:je.CheckBox.YesNormal},D:{On:je.CheckBox.YesPushDown,Off:je.CheckBox.OffPushDown}}},YesPushDown:function(O){var _=ne(O);_.scope=O.scope;var E=[],T=O.scope.internal.getFont(O.fontName,O.fontStyle).id,F=O.scope.__private__.encodeColorString(O.color),b=z(O,O.caption);return E.push("0.749023 g"),E.push("0 0 "+mr(je.internal.getWidth(O))+" "+mr(je.internal.getHeight(O))+" re"),E.push("f"),E.push("BMC"),E.push("q"),E.push("0 0 1 rg"),E.push("/"+T+" "+mr(b.fontSize)+" Tf "+F),E.push("BT"),E.push(b.text),E.push("ET"),E.push("Q"),E.push("EMC"),_.stream=E.join(`
`),_},YesNormal:function(O){var _=ne(O);_.scope=O.scope;var E=O.scope.internal.getFont(O.fontName,O.fontStyle).id,T=O.scope.__private__.encodeColorString(O.color),F=[],b=je.internal.getHeight(O),D=je.internal.getWidth(O),k=z(O,O.caption);return F.push("1 g"),F.push("0 0 "+mr(D)+" "+mr(b)+" re"),F.push("f"),F.push("q"),F.push("0 0 1 rg"),F.push("0 0 "+mr(D-1)+" "+mr(b-1)+" re"),F.push("W"),F.push("n"),F.push("0 g"),F.push("BT"),F.push("/"+E+" "+mr(k.fontSize)+" Tf "+T),F.push(k.text),F.push("ET"),F.push("Q"),_.stream=F.join(`
`),_},OffPushDown:function(O){var _=ne(O);_.scope=O.scope;var E=[];return E.push("0.749023 g"),E.push("0 0 "+mr(je.internal.getWidth(O))+" "+mr(je.internal.getHeight(O))+" re"),E.push("f"),_.stream=E.join(`
`),_}},RadioButton:{Circle:{createAppearanceStream:function(O){var _={D:{Off:je.RadioButton.Circle.OffPushDown},N:{}};return _.N[O]=je.RadioButton.Circle.YesNormal,_.D[O]=je.RadioButton.Circle.YesPushDown,_},getCA:function(){return"l"},YesNormal:function(O){var _=ne(O);_.scope=O.scope;var E=[],T=je.internal.getWidth(O)<=je.internal.getHeight(O)?je.internal.getWidth(O)/4:je.internal.getHeight(O)/4;T=Number((.9*T).toFixed(5));var F=je.internal.Bezier_C,b=Number((T*F).toFixed(5));return E.push("q"),E.push("1 0 0 1 "+Ir(je.internal.getWidth(O)/2)+" "+Ir(je.internal.getHeight(O)/2)+" cm"),E.push(T+" 0 m"),E.push(T+" "+b+" "+b+" "+T+" 0 "+T+" c"),E.push("-"+b+" "+T+" -"+T+" "+b+" -"+T+" 0 c"),E.push("-"+T+" -"+b+" -"+b+" -"+T+" 0 -"+T+" c"),E.push(b+" -"+T+" "+T+" -"+b+" "+T+" 0 c"),E.push("f"),E.push("Q"),_.stream=E.join(`
`),_},YesPushDown:function(O){var _=ne(O);_.scope=O.scope;var E=[],T=je.internal.getWidth(O)<=je.internal.getHeight(O)?je.internal.getWidth(O)/4:je.internal.getHeight(O)/4;T=Number((.9*T).toFixed(5));var F=Number((2*T).toFixed(5)),b=Number((F*je.internal.Bezier_C).toFixed(5)),D=Number((T*je.internal.Bezier_C).toFixed(5));return E.push("0.749023 g"),E.push("q"),E.push("1 0 0 1 "+Ir(je.internal.getWidth(O)/2)+" "+Ir(je.internal.getHeight(O)/2)+" cm"),E.push(F+" 0 m"),E.push(F+" "+b+" "+b+" "+F+" 0 "+F+" c"),E.push("-"+b+" "+F+" -"+F+" "+b+" -"+F+" 0 c"),E.push("-"+F+" -"+b+" -"+b+" -"+F+" 0 -"+F+" c"),E.push(b+" -"+F+" "+F+" -"+b+" "+F+" 0 c"),E.push("f"),E.push("Q"),E.push("0 g"),E.push("q"),E.push("1 0 0 1 "+Ir(je.internal.getWidth(O)/2)+" "+Ir(je.internal.getHeight(O)/2)+" cm"),E.push(T+" 0 m"),E.push(T+" "+D+" "+D+" "+T+" 0 "+T+" c"),E.push("-"+D+" "+T+" -"+T+" "+D+" -"+T+" 0 c"),E.push("-"+T+" -"+D+" -"+D+" -"+T+" 0 -"+T+" c"),E.push(D+" -"+T+" "+T+" -"+D+" "+T+" 0 c"),E.push("f"),E.push("Q"),_.stream=E.join(`
`),_},OffPushDown:function(O){var _=ne(O);_.scope=O.scope;var E=[],T=je.internal.getWidth(O)<=je.internal.getHeight(O)?je.internal.getWidth(O)/4:je.internal.getHeight(O)/4;T=Number((.9*T).toFixed(5));var F=Number((2*T).toFixed(5)),b=Number((F*je.internal.Bezier_C).toFixed(5));return E.push("0.749023 g"),E.push("q"),E.push("1 0 0 1 "+Ir(je.internal.getWidth(O)/2)+" "+Ir(je.internal.getHeight(O)/2)+" cm"),E.push(F+" 0 m"),E.push(F+" "+b+" "+b+" "+F+" 0 "+F+" c"),E.push("-"+b+" "+F+" -"+F+" "+b+" -"+F+" 0 c"),E.push("-"+F+" -"+b+" -"+b+" -"+F+" 0 -"+F+" c"),E.push(b+" -"+F+" "+F+" -"+b+" "+F+" 0 c"),E.push("f"),E.push("Q"),_.stream=E.join(`
`),_}},Cross:{createAppearanceStream:function(O){var _={D:{Off:je.RadioButton.Cross.OffPushDown},N:{}};return _.N[O]=je.RadioButton.Cross.YesNormal,_.D[O]=je.RadioButton.Cross.YesPushDown,_},getCA:function(){return"8"},YesNormal:function(O){var _=ne(O);_.scope=O.scope;var E=[],T=je.internal.calculateCross(O);return E.push("q"),E.push("1 1 "+mr(je.internal.getWidth(O)-2)+" "+mr(je.internal.getHeight(O)-2)+" re"),E.push("W"),E.push("n"),E.push(mr(T.x1.x)+" "+mr(T.x1.y)+" m"),E.push(mr(T.x2.x)+" "+mr(T.x2.y)+" l"),E.push(mr(T.x4.x)+" "+mr(T.x4.y)+" m"),E.push(mr(T.x3.x)+" "+mr(T.x3.y)+" l"),E.push("s"),E.push("Q"),_.stream=E.join(`
`),_},YesPushDown:function(O){var _=ne(O);_.scope=O.scope;var E=je.internal.calculateCross(O),T=[];return T.push("0.749023 g"),T.push("0 0 "+mr(je.internal.getWidth(O))+" "+mr(je.internal.getHeight(O))+" re"),T.push("f"),T.push("q"),T.push("1 1 "+mr(je.internal.getWidth(O)-2)+" "+mr(je.internal.getHeight(O)-2)+" re"),T.push("W"),T.push("n"),T.push(mr(E.x1.x)+" "+mr(E.x1.y)+" m"),T.push(mr(E.x2.x)+" "+mr(E.x2.y)+" l"),T.push(mr(E.x4.x)+" "+mr(E.x4.y)+" m"),T.push(mr(E.x3.x)+" "+mr(E.x3.y)+" l"),T.push("s"),T.push("Q"),_.stream=T.join(`
`),_},OffPushDown:function(O){var _=ne(O);_.scope=O.scope;var E=[];return E.push("0.749023 g"),E.push("0 0 "+mr(je.internal.getWidth(O))+" "+mr(je.internal.getHeight(O))+" re"),E.push("f"),_.stream=E.join(`
`),_}}},createDefaultAppearanceStream:function(O){var _=O.scope.internal.getFont(O.fontName,O.fontStyle).id,E=O.scope.__private__.encodeColorString(O.color);return"/"+_+" "+O.fontSize+" Tf "+E}};je.internal={Bezier_C:.551915024494,calculateCross:function(O){var _=je.internal.getWidth(O),E=je.internal.getHeight(O),T=Math.min(_,E);return{x1:{x:(_-T)/2,y:(E-T)/2+T},x2:{x:(_-T)/2+T,y:(E-T)/2},x3:{x:(_-T)/2,y:(E-T)/2},x4:{x:(_-T)/2+T,y:(E-T)/2+T}}}},je.internal.getWidth=function(O){var _=0;return S()(O)==="object"&&(_=Rt(O.Rect[2])),_},je.internal.getHeight=function(O){var _=0;return S()(O)==="object"&&(_=Rt(O.Rect[3])),_};var Rr=Ie.addField=function(O){if(Se(this,O),!(O instanceof Hn))throw new Error("Invalid argument passed to jsPDF.addField.");var _;return(_=O).scope.internal.acroformPlugin.printedOut&&(_.scope.internal.acroformPlugin.printedOut=!1,_.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),_.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(_),O.page=O.scope.internal.getCurrentPageInfo().pageNumber,this};Ie.AcroFormChoiceField=bi,Ie.AcroFormListBox=Rn,Ie.AcroFormComboBox=Dn,Ie.AcroFormEditBox=fi,Ie.AcroFormButton=kr,Ie.AcroFormPushButton=Xi,Ie.AcroFormRadioButton=Xn,Ie.AcroFormCheckBox=Ji,Ie.AcroFormTextField=Ci,Ie.AcroFormPasswordField=Gr,Ie.AcroFormAppearance=je,Ie.AcroForm={ChoiceField:bi,ListBox:Rn,ComboBox:Dn,EditBox:fi,Button:kr,PushButton:Xi,RadioButton:Xn,CheckBox:Ji,TextField:Ci,PasswordField:Gr,Appearance:je},ee.AcroForm={ChoiceField:bi,ListBox:Rn,ComboBox:Dn,EditBox:fi,Button:kr,PushButton:Xi,RadioButton:Xn,CheckBox:Ji,TextField:Ci,PasswordField:Gr,Appearance:je};function on(O){return O.reduce(function(_,E,T){return _[E]=T,_},{})}(function(O){O.__addimage__={};var _="UNKNOWN",E={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},T=O.__addimage__.getImageFileTypeByImageData=function(At,Pt){var ue,oe,He,We,ir,Le=_;if((Pt=Pt||_)==="RGBA"||At.data!==void 0&&At.data instanceof Uint8ClampedArray&&"height"in At&&"width"in At)return"RGBA";if(Er(At))for(ir in E)for(He=E[ir],ue=0;ue<He.length;ue+=1){for(We=!0,oe=0;oe<He[ue].length;oe+=1)if(He[ue][oe]!==void 0&&He[ue][oe]!==At[oe]){We=!1;break}if(We===!0){Le=ir;break}}else for(ir in E)for(He=E[ir],ue=0;ue<He.length;ue+=1){for(We=!0,oe=0;oe<He[ue].length;oe+=1)if(He[ue][oe]!==void 0&&He[ue][oe]!==At.charCodeAt(oe)){We=!1;break}if(We===!0){Le=ir;break}}return Le===_&&Pt!==_&&(Le=Pt),Le},F=function At(Pt){for(var ue=this.internal.write,oe=this.internal.putStream,He=(0,this.internal.getFilters)();He.indexOf("FlateEncode")!==-1;)He.splice(He.indexOf("FlateEncode"),1);Pt.objectId=this.internal.newObject();var We=[];if(We.push({key:"Type",value:"/XObject"}),We.push({key:"Subtype",value:"/Image"}),We.push({key:"Width",value:Pt.width}),We.push({key:"Height",value:Pt.height}),Pt.colorSpace===Qt.INDEXED?We.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Pt.palette.length/3-1)+" "+("sMask"in Pt&&Pt.sMask!==void 0?Pt.objectId+2:Pt.objectId+1)+" 0 R]"}):(We.push({key:"ColorSpace",value:"/"+Pt.colorSpace}),Pt.colorSpace===Qt.DEVICE_CMYK&&We.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),We.push({key:"BitsPerComponent",value:Pt.bitsPerComponent}),"decodeParameters"in Pt&&Pt.decodeParameters!==void 0&&We.push({key:"DecodeParms",value:"<<"+Pt.decodeParameters+">>"}),"transparency"in Pt&&Array.isArray(Pt.transparency)){for(var ir="",Le=0,Ne=Pt.transparency.length;Le<Ne;Le++)ir+=Pt.transparency[Le]+" "+Pt.transparency[Le]+" ";We.push({key:"Mask",value:"["+ir+"]"})}Pt.sMask!==void 0&&We.push({key:"SMask",value:Pt.objectId+1+" 0 R"});var Ze=Pt.filter!==void 0?["/"+Pt.filter]:void 0;if(oe({data:Pt.data,additionalKeyValues:We,alreadyAppliedFilters:Ze,objectId:Pt.objectId}),ue("endobj"),"sMask"in Pt&&Pt.sMask!==void 0){var Xr="/Predictor "+Pt.predictor+" /Colors 1 /BitsPerComponent "+Pt.bitsPerComponent+" /Columns "+Pt.width,ft={width:Pt.width,height:Pt.height,colorSpace:"DeviceGray",bitsPerComponent:Pt.bitsPerComponent,decodeParameters:Xr,data:Pt.sMask};"filter"in Pt&&(ft.filter=Pt.filter),At.call(this,ft)}if(Pt.colorSpace===Qt.INDEXED){var Ft=this.internal.newObject();oe({data:pe(new Uint8Array(Pt.palette)),objectId:Ft}),ue("endobj")}},b=function(){var At=this.internal.collections.addImage_images;for(var Pt in At)F.call(this,At[Pt])},D=function(){var At,Pt=this.internal.collections.addImage_images,ue=this.internal.write;for(var oe in Pt)ue("/I"+(At=Pt[oe]).index,At.objectId,"0","R")},k=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",b),this.internal.events.subscribe("putXobjectDict",D))},Y=function(){var At=this.internal.collections.addImage_images;return k.call(this),At},rt=function(){return Object.keys(this.internal.collections.addImage_images).length},vt=function(At){return typeof O["process"+At.toUpperCase()]=="function"},yt=function(At){return S()(At)==="object"&&At.nodeType===1},Ot=function(At,Pt){if(At.nodeName==="IMG"&&At.hasAttribute("src")){var ue=""+At.getAttribute("src");if(ue.indexOf("data:image/")===0)return W(unescape(ue).split("base64,").pop());var oe=O.loadFile(ue,!0);if(oe!==void 0)return oe}if(At.nodeName==="CANVAS"){if(At.width===0||At.height===0)throw new Error("Given canvas must have data. Canvas width: "+At.width+", height: "+At.height);var He;switch(Pt){case"PNG":He="image/png";break;case"WEBP":He="image/webp";break;case"JPEG":case"JPG":default:He="image/jpeg"}return W(At.toDataURL(He,1).split("base64,").pop())}},K=function(At){var Pt=this.internal.collections.addImage_images;if(Pt){for(var ue in Pt)if(At===Pt[ue].alias)return Pt[ue]}},kt=function(At,Pt,ue){return At||Pt||(At=-96,Pt=-96),At<0&&(At=-1*ue.width*72/At/this.internal.scaleFactor),Pt<0&&(Pt=-1*ue.height*72/Pt/this.internal.scaleFactor),At===0&&(At=Pt*ue.width/ue.height),Pt===0&&(Pt=At*ue.height/ue.width),[At,Pt]},It=function(At,Pt,ue,oe,He,We){var ir=kt.call(this,ue,oe,He),Le=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,Ze=Y.call(this);if(ue=ir[0],oe=ir[1],Ze[He.index]=He,We){We*=Math.PI/180;var Xr=Math.cos(We),ft=Math.sin(We),Ft=function(fe){return fe.toFixed(4)},Kt=[Ft(Xr),Ft(ft),Ft(-1*ft),Ft(Xr),0,0,"cm"]}this.internal.write("q"),We?(this.internal.write([1,"0","0",1,Le(At),Ne(Pt+oe),"cm"].join(" ")),this.internal.write(Kt.join(" ")),this.internal.write([Le(ue),"0","0",Le(oe),"0","0","cm"].join(" "))):this.internal.write([Le(ue),"0","0",Le(oe),Le(At),Ne(Pt+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+He.index+" Do"),this.internal.write("Q")},Qt=O.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};O.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var wt=O.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Yt=O.__addimage__.sHashCode=function(At){var Pt,ue,oe=0;if(typeof At=="string")for(ue=At.length,Pt=0;Pt<ue;Pt++)oe=(oe<<5)-oe+At.charCodeAt(Pt),oe|=0;else if(Er(At))for(ue=At.byteLength/2,Pt=0;Pt<ue;Pt++)oe=(oe<<5)-oe+At[Pt],oe|=0;return oe},xe=O.__addimage__.validateStringAsBase64=function(At){(At=At||"").toString().trim();var Pt=!0;return At.length===0&&(Pt=!1),At.length%4!=0&&(Pt=!1),/^[A-Za-z0-9+/]+$/.test(At.substr(0,At.length-2))===!1&&(Pt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(At.substr(-2))===!1&&(Pt=!1),Pt},Be=O.__addimage__.extractImageFromDataUrl=function(At){var Pt=(At=At||"").split("base64,"),ue=null;if(Pt.length===2){var oe=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Pt[0]);Array.isArray(oe)&&(ue={mimeType:oe[1],charset:oe[2],data:Pt[1]})}return ue},Qe=O.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};O.__addimage__.isArrayBuffer=function(At){return Qe()&&At instanceof ArrayBuffer};var Er=O.__addimage__.isArrayBufferView=function(At){return Qe()&&typeof Uint32Array!="undefined"&&(At instanceof Int8Array||At instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&At instanceof Uint8ClampedArray||At instanceof Int16Array||At instanceof Uint16Array||At instanceof Int32Array||At instanceof Uint32Array||At instanceof Float32Array||At instanceof Float64Array)},De=O.__addimage__.binaryStringToUint8Array=function(At){for(var Pt=At.length,ue=new Uint8Array(Pt),oe=0;oe<Pt;oe++)ue[oe]=At.charCodeAt(oe);return ue},pe=O.__addimage__.arrayBufferToBinaryString=function(At){for(var Pt="",ue=Er(At)?At:new Uint8Array(At),oe=0;oe<ue.length;oe+=8192)Pt+=String.fromCharCode.apply(null,ue.subarray(oe,oe+8192));return Pt};O.addImage=function(){var At,Pt,ue,oe,He,We,ir,Le,Ne;if(typeof arguments[1]=="number"?(Pt=_,ue=arguments[1],oe=arguments[2],He=arguments[3],We=arguments[4],ir=arguments[5],Le=arguments[6],Ne=arguments[7]):(Pt=arguments[1],ue=arguments[2],oe=arguments[3],He=arguments[4],We=arguments[5],ir=arguments[6],Le=arguments[7],Ne=arguments[8]),S()(At=arguments[0])==="object"&&!yt(At)&&"imageData"in At){var Ze=At;At=Ze.imageData,Pt=Ze.format||Pt||_,ue=Ze.x||ue||0,oe=Ze.y||oe||0,He=Ze.w||Ze.width||He,We=Ze.h||Ze.height||We,ir=Ze.alias||ir,Le=Ze.compression||Le,Ne=Ze.rotation||Ze.angle||Ne}var Xr=this.internal.getFilters();if(Le===void 0&&Xr.indexOf("FlateEncode")!==-1&&(Le="SLOW"),isNaN(ue)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");k.call(this);var ft=sr.call(this,At,Pt,ir,Le);return It.call(this,ue,oe,He,We,ft,Ne),this};var sr=function(At,Pt,ue,oe){var He,We,ir;if(typeof At=="string"&&T(At)===_){At=unescape(At);var Le=tr(At,!1);(Le!==""||(Le=O.loadFile(At,!0))!==void 0)&&(At=Le)}if(yt(At)&&(At=Ot(At,Pt)),Pt=T(At,Pt),!vt(Pt))throw new Error("addImage does not support files of type '"+Pt+"', please ensure that a plugin for '"+Pt+"' support is added.");if(((ir=ue)==null||ir.length===0)&&(ue=function(Ne){return typeof Ne=="string"||Er(Ne)?Yt(Ne):Er(Ne.data)?Yt(Ne.data):null}(At)),(He=K.call(this,ue))||(Qe()&&(At instanceof Uint8Array||Pt==="RGBA"||(We=At,At=De(At))),He=this["process"+Pt.toUpperCase()](At,rt.call(this),ue,function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in O.image_compression?Ne:wt.NONE}(oe),We)),!He)throw new Error("An unknown error occurred whilst processing the image.");return He},tr=O.__addimage__.convertBase64ToBinaryString=function(At,Pt){var ue;Pt=typeof Pt!="boolean"||Pt;var oe,He="";if(typeof At=="string"){oe=(ue=Be(At))!==null?ue.data:At;try{He=W(oe)}catch(We){if(Pt)throw xe(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+We.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return He};O.getImageProperties=function(At){var Pt,ue,oe="";if(yt(At)&&(At=Ot(At)),typeof At=="string"&&T(At)===_&&((oe=tr(At,!1))===""&&(oe=O.loadFile(At)||""),At=oe),ue=T(At),!vt(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(!Qe()||At instanceof Uint8Array||(At=De(At)),!(Pt=this["process"+ue.toUpperCase()](At)))throw new Error("An unknown error occurred whilst processing the image");return Pt.fileType=ue,Pt}})(ee.API),function(O){var _=function(E){if(E!==void 0&&E!="")return!0};ee.API.events.push(["addPage",function(E){this.internal.getPageInfo(E.pageNumber).pageContext.annotations=[]}]),O.events.push(["putPage",function(E){for(var T,F,b,D=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString,Y=this.internal.getPageInfoByObjId(E.objId),rt=E.pageContext.annotations,vt=!1,yt=0;yt<rt.length&&!vt;yt++)switch((T=rt[yt]).type){case"link":(_(T.options.url)||_(T.options.pageNumber))&&(vt=!0);break;case"reference":case"text":case"freetext":vt=!0}if(vt!=0){this.internal.write("/Annots [");for(var Ot=0;Ot<rt.length;Ot++){T=rt[Ot];var K=this.internal.pdfEscape,kt=this.internal.getEncryptor(E.objId);switch(T.type){case"reference":this.internal.write(" "+T.object.objId+" 0 R ");break;case"text":var It=this.internal.newAdditionalObject(),Qt=this.internal.newAdditionalObject(),wt=this.internal.getEncryptor(It.objId),Yt=T.title||"Note";b="<</Type /Annot /Subtype /Text "+(F="/Rect ["+D(T.bounds.x)+" "+k(T.bounds.y+T.bounds.h)+" "+D(T.bounds.x+T.bounds.w)+" "+k(T.bounds.y)+"] ")+"/Contents ("+K(wt(T.contents))+")",b+=" /Popup "+Qt.objId+" 0 R",b+=" /P "+Y.objId+" 0 R",b+=" /T ("+K(wt(Yt))+") >>",It.content=b;var xe=It.objId+" 0 R";b="<</Type /Annot /Subtype /Popup "+(F="/Rect ["+D(T.bounds.x+30)+" "+k(T.bounds.y+T.bounds.h)+" "+D(T.bounds.x+T.bounds.w+30)+" "+k(T.bounds.y)+"] ")+" /Parent "+xe,T.open&&(b+=" /Open true"),b+=" >>",Qt.content=b,this.internal.write(It.objId,"0 R",Qt.objId,"0 R");break;case"freetext":F="/Rect ["+D(T.bounds.x)+" "+k(T.bounds.y)+" "+D(T.bounds.x+T.bounds.w)+" "+k(T.bounds.y+T.bounds.h)+"] ";var Be=T.color||"#000000";b="<</Type /Annot /Subtype /FreeText "+F+"/Contents ("+K(kt(T.contents))+")",b+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Be+")",b+=" /Border [0 0 0]",b+=" >>",this.internal.write(b);break;case"link":if(T.options.name){var Qe=this.annotations._nameMap[T.options.name];T.options.pageNumber=Qe.page,T.options.top=Qe.y}else T.options.top||(T.options.top=0);if(F="/Rect ["+T.finalBounds.x+" "+T.finalBounds.y+" "+T.finalBounds.w+" "+T.finalBounds.h+"] ",b="",T.options.url)b="<</Type /Annot /Subtype /Link "+F+"/Border [0 0 0] /A <</S /URI /URI ("+K(kt(T.options.url))+") >>";else if(T.options.pageNumber)switch(b="<</Type /Annot /Subtype /Link "+F+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(T.options.pageNumber).objId+" 0 R",T.options.magFactor=T.options.magFactor||"XYZ",T.options.magFactor){case"Fit":b+=" /Fit]";break;case"FitH":b+=" /FitH "+T.options.top+"]";break;case"FitV":T.options.left=T.options.left||0,b+=" /FitV "+T.options.left+"]";break;case"XYZ":default:var Er=k(T.options.top);T.options.left=T.options.left||0,T.options.zoom===void 0&&(T.options.zoom=0),b+=" /XYZ "+T.options.left+" "+Er+" "+T.options.zoom+"]"}b!=""&&(b+=" >>",this.internal.write(b))}}this.internal.write("]")}}]),O.createAnnotation=function(E){var T=this.internal.getCurrentPageInfo();switch(E.type){case"link":this.link(E.bounds.x,E.bounds.y,E.bounds.w,E.bounds.h,E);break;case"text":case"freetext":T.pageContext.annotations.push(E)}},O.link=function(E,T,F,b,D){var k=this.internal.getCurrentPageInfo(),Y=this.internal.getCoordinateString,rt=this.internal.getVerticalCoordinateString;k.pageContext.annotations.push({finalBounds:{x:Y(E),y:rt(T),w:Y(E+F),h:rt(T+b)},options:D,type:"link"})},O.textWithLink=function(E,T,F,b){var D,k,Y=this.getTextWidth(E),rt=this.internal.getLineHeight()/this.internal.scaleFactor;if(b.maxWidth!==void 0){k=b.maxWidth;var vt=this.splitTextToSize(E,k).length;D=Math.ceil(rt*vt)}else k=Y,D=rt;return this.text(E,T,F,b),F+=.2*rt,b.align==="center"&&(T-=Y/2),b.align==="right"&&(T-=Y),this.link(T,F-rt,k,D,b),Y},O.getTextWidth=function(E){var T=this.internal.getFontSize();return this.getStringUnitWidth(E)*T/this.internal.scaleFactor}}(ee.API),function(O){var _={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},E={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},T={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},F=[1570,1571,1573,1575];O.__arabicParser__={};var b=O.__arabicParser__.isInArabicSubstitutionA=function(It){return _[It.charCodeAt(0)]!==void 0},D=O.__arabicParser__.isArabicLetter=function(It){return typeof It=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(It)},k=O.__arabicParser__.isArabicEndLetter=function(It){return D(It)&&b(It)&&_[It.charCodeAt(0)].length<=2},Y=O.__arabicParser__.isArabicAlfLetter=function(It){return D(It)&&F.indexOf(It.charCodeAt(0))>=0};O.__arabicParser__.arabicLetterHasIsolatedForm=function(It){return D(It)&&b(It)&&_[It.charCodeAt(0)].length>=1};var rt=O.__arabicParser__.arabicLetterHasFinalForm=function(It){return D(It)&&b(It)&&_[It.charCodeAt(0)].length>=2};O.__arabicParser__.arabicLetterHasInitialForm=function(It){return D(It)&&b(It)&&_[It.charCodeAt(0)].length>=3};var vt=O.__arabicParser__.arabicLetterHasMedialForm=function(It){return D(It)&&b(It)&&_[It.charCodeAt(0)].length==4},yt=O.__arabicParser__.resolveLigatures=function(It){var Qt=0,wt=E,Yt="",xe=0;for(Qt=0;Qt<It.length;Qt+=1)wt[It.charCodeAt(Qt)]!==void 0?(xe++,typeof(wt=wt[It.charCodeAt(Qt)])=="number"&&(Yt+=String.fromCharCode(wt),wt=E,xe=0),Qt===It.length-1&&(wt=E,Yt+=It.charAt(Qt-(xe-1)),Qt-=xe-1,xe=0)):(wt=E,Yt+=It.charAt(Qt-xe),Qt-=xe,xe=0);return Yt};O.__arabicParser__.isArabicDiacritic=function(It){return It!==void 0&&T[It.charCodeAt(0)]!==void 0};var Ot=O.__arabicParser__.getCorrectForm=function(It,Qt,wt){return D(It)?b(It)===!1?-1:!rt(It)||!D(Qt)&&!D(wt)||!D(wt)&&k(Qt)||k(It)&&!D(Qt)||k(It)&&Y(Qt)||k(It)&&k(Qt)?0:vt(It)&&D(Qt)&&!k(Qt)&&D(wt)&&rt(wt)?3:k(It)||!D(wt)?1:2:-1},K=function(It){var Qt=0,wt=0,Yt=0,xe="",Be="",Qe="",Er=(It=It||"").split("\\s+"),De=[];for(Qt=0;Qt<Er.length;Qt+=1){for(De.push(""),wt=0;wt<Er[Qt].length;wt+=1)xe=Er[Qt][wt],Be=Er[Qt][wt-1],Qe=Er[Qt][wt+1],D(xe)?(Yt=Ot(xe,Be,Qe),De[Qt]+=Yt!==-1?String.fromCharCode(_[xe.charCodeAt(0)][Yt]):xe):De[Qt]+=xe;De[Qt]=yt(De[Qt])}return De.join(" ")},kt=O.__arabicParser__.processArabic=O.processArabic=function(){var It,Qt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,wt=[];if(Array.isArray(Qt)){var Yt=0;for(wt=[],Yt=0;Yt<Qt.length;Yt+=1)Array.isArray(Qt[Yt])?wt.push([K(Qt[Yt][0]),Qt[Yt][1],Qt[Yt][2]]):wt.push([K(Qt[Yt])]);It=wt}else It=K(Qt);return typeof arguments[0]=="string"?It:(arguments[0].text=It,arguments[0])};O.events.push(["preProcessText",kt])}(ee.API),ee.API.autoPrint=function(O){var _;switch((O=O||{}).variant=O.variant||"non-conform",O.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+_+" 0 R")})}return this},function(O){var _=function(){var E=void 0;Object.defineProperty(this,"pdf",{get:function(){return E},set:function(k){E=k}});var T=150;Object.defineProperty(this,"width",{get:function(){return T},set:function(k){T=isNaN(k)||Number.isInteger(k)===!1||k<0?150:k,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=T+1)}});var F=300;Object.defineProperty(this,"height",{get:function(){return F},set:function(k){F=isNaN(k)||Number.isInteger(k)===!1||k<0?300:k,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=F+1)}});var b=[];Object.defineProperty(this,"childNodes",{get:function(){return b},set:function(k){b=k}});var D={};Object.defineProperty(this,"style",{get:function(){return D},set:function(k){D=k}}),Object.defineProperty(this,"parentNode",{})};_.prototype.getContext=function(E,T){var F;if((E=E||"2d")!=="2d")return null;for(F in T)this.pdf.context2d.hasOwnProperty(F)&&(this.pdf.context2d[F]=T[F]);return this.pdf.context2d._canvas=this,this.pdf.context2d},_.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},O.events.push(["initialized",function(){this.canvas=new _,this.canvas.pdf=this}])}(ee.API),function(O){var _={left:0,top:0,bottom:0,right:0},E=!1,T=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},_),this.internal.__cell__.margins.width=this.getPageWidth(),F.call(this))},F=function(){this.internal.__cell__.lastCell=new b,this.internal.__cell__.pages=1},b=function(){var Y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(It){Y=It}});var rt=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(It){rt=It}});var vt=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return vt},set:function(It){vt=It}});var yt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return yt},set:function(It){yt=It}});var Ot=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Ot},set:function(It){Ot=It}});var K=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return K},set:function(It){K=It}});var kt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return kt},set:function(It){kt=It}}),this};b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},b.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},O.setHeaderFunction=function(Y){return T.call(this),this.internal.__cell__.headerFunction=typeof Y=="function"?Y:void 0,this},O.getTextDimensions=function(Y,rt){T.call(this);var vt=(rt=rt||{}).fontSize||this.getFontSize(),yt=rt.font||this.getFont(),Ot=rt.scaleFactor||this.internal.scaleFactor,K=0,kt=0,It=0,Qt=this;if(!Array.isArray(Y)&&typeof Y!="string"){if(typeof Y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Y=String(Y)}var wt=rt.maxWidth;wt>0?typeof Y=="string"?Y=this.splitTextToSize(Y,wt):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(xe,Be){return xe.concat(Qt.splitTextToSize(Be,wt))},[])):Y=Array.isArray(Y)?Y:[Y];for(var Yt=0;Yt<Y.length;Yt++)K<(It=this.getStringUnitWidth(Y[Yt],{font:yt})*vt)&&(K=It);return K!==0&&(kt=Y.length),{w:K/=Ot,h:Math.max((kt*vt*this.getLineHeightFactor()-vt*(this.getLineHeightFactor()-1))/Ot,0)}},O.cellAddPage=function(){T.call(this),this.addPage();var Y=this.internal.__cell__.margins||_;return this.internal.__cell__.lastCell=new b(Y.left,Y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var D=O.cell=function(){var Y;Y=arguments[0]instanceof b?arguments[0]:new b(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),T.call(this);var rt=this.internal.__cell__.lastCell,vt=this.internal.__cell__.padding,yt=this.internal.__cell__.margins||_,Ot=this.internal.__cell__.tableHeaderRow,K=this.internal.__cell__.printHeaders;return rt.lineNumber!==void 0&&(rt.lineNumber===Y.lineNumber?(Y.x=(rt.x||0)+(rt.width||0),Y.y=rt.y||0):rt.y+rt.height+Y.height+yt.bottom>this.getPageHeight()?(this.cellAddPage(),Y.y=yt.top,K&&Ot&&(this.printHeaderRow(Y.lineNumber,!0),Y.y+=Ot[0].height)):Y.y=rt.y+rt.height||Y.y),Y.text[0]!==void 0&&(this.rect(Y.x,Y.y,Y.width,Y.height,E===!0?"FD":void 0),Y.align==="right"?this.text(Y.text,Y.x+Y.width-vt,Y.y+vt,{align:"right",baseline:"top"}):Y.align==="center"?this.text(Y.text,Y.x+Y.width/2,Y.y+vt,{align:"center",baseline:"top",maxWidth:Y.width-vt-vt}):this.text(Y.text,Y.x+vt,Y.y+vt,{align:"left",baseline:"top",maxWidth:Y.width-vt-vt})),this.internal.__cell__.lastCell=Y,this};O.table=function(Y,rt,vt,yt,Ot){if(T.call(this),!vt)throw new Error("No data for PDF table.");var K,kt,It,Qt,wt=[],Yt=[],xe=[],Be={},Qe={},Er=[],De=[],pe=(Ot=Ot||{}).autoSize||!1,sr=Ot.printHeaders!==!1,tr=Ot.css&&Ot.css["font-size"]!==void 0?16*Ot.css["font-size"]:Ot.fontSize||12,At=Ot.margins||Object.assign({width:this.getPageWidth()},_),Pt=typeof Ot.padding=="number"?Ot.padding:3,ue=Ot.headerBackgroundColor||"#c8c8c8",oe=Ot.headerTextColor||"#000";if(F.call(this),this.internal.__cell__.printHeaders=sr,this.internal.__cell__.margins=At,this.internal.__cell__.table_font_size=tr,this.internal.__cell__.padding=Pt,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=oe,this.setFontSize(tr),yt==null)Yt=wt=Object.keys(vt[0]),xe=wt.map(function(){return"left"});else if(Array.isArray(yt)&&S()(yt[0])==="object")for(wt=yt.map(function(Ze){return Ze.name}),Yt=yt.map(function(Ze){return Ze.prompt||Ze.name||""}),xe=yt.map(function(Ze){return Ze.align||"left"}),K=0;K<yt.length;K+=1)Qe[yt[K].name]=yt[K].width*(19.049976/25.4);else Array.isArray(yt)&&typeof yt[0]=="string"&&(Yt=wt=yt,xe=wt.map(function(){return"left"}));if(pe||Array.isArray(yt)&&typeof yt[0]=="string")for(K=0;K<wt.length;K+=1){for(Be[Qt=wt[K]]=vt.map(function(Ze){return Ze[Qt]}),this.setFont(void 0,"bold"),Er.push(this.getTextDimensions(Yt[K],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),kt=Be[Qt],this.setFont(void 0,"normal"),It=0;It<kt.length;It+=1)Er.push(this.getTextDimensions(kt[It],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Qe[Qt]=Math.max.apply(null,Er)+Pt+Pt,Er=[]}if(sr){var He={};for(K=0;K<wt.length;K+=1)He[wt[K]]={},He[wt[K]].text=Yt[K],He[wt[K]].align=xe[K];var We=k.call(this,He,Qe);De=wt.map(function(Ze){return new b(Y,rt,Qe[Ze],We,He[Ze].text,void 0,He[Ze].align)}),this.setTableHeaderRow(De),this.printHeaderRow(1,!1)}var ir=yt.reduce(function(Ze,Xr){return Ze[Xr.name]=Xr.align,Ze},{});for(K=0;K<vt.length;K+=1){"rowStart"in Ot&&Ot.rowStart instanceof Function&&Ot.rowStart({row:K,data:vt[K]},this);var Le=k.call(this,vt[K],Qe);for(It=0;It<wt.length;It+=1){var Ne=vt[K][wt[It]];"cellStart"in Ot&&Ot.cellStart instanceof Function&&Ot.cellStart({row:K,col:It,data:Ne},this),D.call(this,new b(Y,rt,Qe[wt[It]],Le,Ne,K+2,ir[wt[It]]))}}return this.internal.__cell__.table_x=Y,this.internal.__cell__.table_y=rt,this};var k=function(Y,rt){var vt=this.internal.__cell__.padding,yt=this.internal.__cell__.table_font_size,Ot=this.internal.scaleFactor;return Object.keys(Y).map(function(K){var kt=Y[K];return this.splitTextToSize(kt.hasOwnProperty("text")?kt.text:kt,rt[K]-vt-vt)},this).map(function(K){return this.getLineHeightFactor()*K.length*yt/Ot+vt+vt},this).reduce(function(K,kt){return Math.max(K,kt)},0)};O.setTableHeaderRow=function(Y){T.call(this),this.internal.__cell__.tableHeaderRow=Y},O.printHeaderRow=function(Y,rt){if(T.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var vt;if(E=!0,typeof this.internal.__cell__.headerFunction=="function"){var yt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new b(yt[0],yt[1],yt[2],yt[3],void 0,-1)}this.setFont(void 0,"bold");for(var Ot=[],K=0;K<this.internal.__cell__.tableHeaderRow.length;K+=1){vt=this.internal.__cell__.tableHeaderRow[K].clone(),rt&&(vt.y=this.internal.__cell__.margins.top||0,Ot.push(vt)),vt.lineNumber=Y;var kt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),D.call(this,vt),this.setTextColor(kt)}Ot.length>0&&this.setTableHeaderRow(Ot),this.setFont(void 0,"normal"),E=!1}}(ee.API);var Pn={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$n=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],po=on($n),cn=[100,200,300,400,500,600,700,800,900],hi=on(cn);function Ro(O){var _=O.family.replace(/"|'/g,"").toLowerCase(),E=function(b){return Pn[b=b||"normal"]?b:"normal"}(O.style),T=function(b){if(!b)return 400;if(typeof b=="number")return b>=100&&b<=900&&b%100==0?b:400;if(/^\d00$/.test(b))return parseInt(b);switch(b){case"bold":return 700;case"normal":default:return 400}}(O.weight),F=function(b){return typeof po[b=b||"normal"]=="number"?b:"normal"}(O.stretch);return{family:_,style:E,weight:T,stretch:F,src:O.src||[],ref:O.ref||{name:_,style:[F,E,T].join(" ")}}}function Bo(O,_,E,T){var F;for(F=E;F>=0&&F<_.length;F+=T)if(O[_[F]])return O[_[F]];for(F=E;F>=0&&F<_.length;F-=T)if(O[_[F]])return O[_[F]]}var Po={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eu={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Hs(O){return[O.stretch,O.style,O.weight,O.family].join(" ")}function wl(O,_,E){for(var T=(E=E||{}).defaultFontFamily||"times",F=Object.assign({},Po,E.genericFontFamilies||{}),b=null,D=null,k=0;k<_.length;++k)if(F[(b=Ro(_[k])).family]&&(b.family=F[b.family]),O.hasOwnProperty(b.family)){D=O[b.family];break}if(!(D=D||O[T]))throw new Error("Could not find a font-family for the rule '"+Hs(b)+"' and default family '"+T+"'.");if(D=function(Y,rt){if(rt[Y])return rt[Y];var vt=po[Y],yt=vt<=po.normal?-1:1,Ot=Bo(rt,$n,vt,yt);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+Y);return Ot}(b.stretch,D),D=function(Y,rt){if(rt[Y])return rt[Y];for(var vt=Pn[Y],yt=0;yt<vt.length;++yt)if(rt[vt[yt]])return rt[vt[yt]];throw new Error("Could not find a matching font-style for "+Y)}(b.style,D),!(D=function(Y,rt){if(rt[Y])return rt[Y];if(Y===400&&rt[500])return rt[500];if(Y===500&&rt[400])return rt[400];var vt=hi[Y],yt=Bo(rt,cn,vt,Y<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+Y);return yt}(b.weight,D)))throw new Error("Failed to resolve a font for the rule '"+Hs(b)+"'.");return D}function Pi(O){return O.trimLeft()}function Ah(O,_){for(var E=0;E<O.length;){if(O.charAt(E)===_)return[O.substring(0,E),O.substring(E+1)];E+=1}return null}function wf(O){var _=O.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return _===null?null:[_[0],O.substring(_[0].length)]}var Iu,ru,ac,Rh=["times"];(function(O){var _,E,T,F,b,D,k,Y,rt,vt=function(ft){return ft=ft||{},this.isStrokeTransparent=ft.isStrokeTransparent||!1,this.strokeOpacity=ft.strokeOpacity||1,this.strokeStyle=ft.strokeStyle||"#000000",this.fillStyle=ft.fillStyle||"#000000",this.isFillTransparent=ft.isFillTransparent||!1,this.fillOpacity=ft.fillOpacity||1,this.font=ft.font||"10px sans-serif",this.textBaseline=ft.textBaseline||"alphabetic",this.textAlign=ft.textAlign||"left",this.lineWidth=ft.lineWidth||1,this.lineJoin=ft.lineJoin||"miter",this.lineCap=ft.lineCap||"butt",this.path=ft.path||[],this.transform=ft.transform!==void 0?ft.transform.clone():new Y,this.globalCompositeOperation=ft.globalCompositeOperation||"normal",this.globalAlpha=ft.globalAlpha||1,this.clip_path=ft.clip_path||[],this.currentPoint=ft.currentPoint||new D,this.miterLimit=ft.miterLimit||10,this.lastPoint=ft.lastPoint||new D,this.lineDashOffset=ft.lineDashOffset||0,this.lineDash=ft.lineDash||[],this.margin=ft.margin||[0,0,0,0],this.prevPageLastElemOffset=ft.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ft.ignoreClearRect!="boolean"||ft.ignoreClearRect,this};O.events.push(["initialized",function(){this.context2d=new yt(this),_=this.internal.f2,E=this.internal.getCoordinateString,T=this.internal.getVerticalCoordinateString,F=this.internal.getHorizontalCoordinate,b=this.internal.getVerticalCoordinate,D=this.internal.Point,k=this.internal.Rectangle,Y=this.internal.Matrix,rt=new vt}]);var yt=function(ft){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ft=ft;Object.defineProperty(this,"pdf",{get:function(){return Ft}});var Kt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Kt},set:function(ke){Kt=Boolean(ke)}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(ke){fe=Boolean(ke)}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(ke){isNaN(ke)||(ve=ke)}});var Te=0;Object.defineProperty(this,"posY",{get:function(){return Te},set:function(ke){isNaN(ke)||(Te=ke)}}),Object.defineProperty(this,"margin",{get:function(){return rt.margin},set:function(ke){var Dt;typeof ke=="number"?Dt=[ke,ke,ke,ke]:((Dt=new Array(4))[0]=ke[0],Dt[1]=ke.length>=2?ke[1]:Dt[0],Dt[2]=ke.length>=3?ke[2]:Dt[0],Dt[3]=ke.length>=4?ke[3]:Dt[1]),rt.margin=Dt}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(ke){Ae=ke}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(ke){Re=ke}});var gr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return gr},set:function(ke){gr=ke}}),Object.defineProperty(this,"ctx",{get:function(){return rt},set:function(ke){ke instanceof vt&&(rt=ke)}}),Object.defineProperty(this,"path",{get:function(){return rt.path},set:function(ke){rt.path=ke}});var vr=[];Object.defineProperty(this,"ctxStack",{get:function(){return vr},set:function(ke){vr=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var Dt;Dt=Ot(ke),this.ctx.fillStyle=Dt.style,this.ctx.isFillTransparent=Dt.a===0,this.ctx.fillOpacity=Dt.a,this.pdf.setFillColor(Dt.r,Dt.g,Dt.b,{a:Dt.a}),this.pdf.setTextColor(Dt.r,Dt.g,Dt.b,{a:Dt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var Dt=Ot(ke);this.ctx.strokeStyle=Dt.style,this.ctx.isStrokeTransparent=Dt.a===0,this.ctx.strokeOpacity=Dt.a,Dt.a===0?this.pdf.setDrawColor(255,255,255):(Dt.a,this.pdf.setDrawColor(Dt.r,Dt.g,Dt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Mr=null;function Vr(ke,Dt){if(Mr===null){var Bn=function(Qr){var fr=[];return Object.keys(Qr).forEach(function(xr){Qr[xr].forEach(function(Ur){var Nr=null;switch(Ur){case"bold":Nr={family:xr,weight:"bold"};break;case"italic":Nr={family:xr,style:"italic"};break;case"bolditalic":Nr={family:xr,weight:"bold",style:"italic"};break;case"":case"normal":Nr={family:xr}}Nr!==null&&(Nr.ref={name:xr,style:Ur},fr.push(Nr))})}),fr}(ke.getFontList());Mr=function(Qr){for(var fr={},xr=0;xr<Qr.length;++xr){var Ur=Ro(Qr[xr]),Nr=Ur.family,sn=Ur.stretch,Mn=Ur.style,Wn=Ur.weight;fr[Nr]=fr[Nr]||{},fr[Nr][sn]=fr[Nr][sn]||{},fr[Nr][sn][Mn]=fr[Nr][sn][Mn]||{},fr[Nr][sn][Mn][Wn]=Ur}return fr}(Bn.concat(Dt))}return Mr}var gn=null;Object.defineProperty(this,"fontFaces",{get:function(){return gn},set:function(ke){Mr=null,gn=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var Dt;if(this.ctx.font=ke,(Dt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Bn=Dt[1],Qr=(Dt[2],Dt[3]),fr=Dt[4],xr=(Dt[5],Dt[6]),Ur=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(fr)[2];fr=Math.floor(Ur==="px"?parseFloat(fr)*this.pdf.internal.scaleFactor:Ur==="em"?parseFloat(fr)*this.pdf.getFontSize():parseFloat(fr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(fr);var Nr=function(xn){var qn,Fr,ta=[],fn=xn.trim();if(fn==="")return Rh;if(fn in eu)return[eu[fn]];for(;fn!=="";){switch(Fr=null,qn=(fn=Pi(fn)).charAt(0)){case'"':case"'":Fr=Ah(fn.substring(1),qn);break;default:Fr=wf(fn)}if(Fr===null||(ta.push(Fr[0]),(fn=Pi(Fr[1]))!==""&&fn.charAt(0)!==","))return Rh;fn=fn.replace(/^,/,"")}return ta}(xr);if(this.fontFaces){var sn=wl(Vr(this.pdf,this.fontFaces),Nr.map(function(xn){return{family:xn,stretch:"normal",weight:Qr,style:Bn}}));this.pdf.setFont(sn.ref.name,sn.ref.style)}else{var Mn="";(Qr==="bold"||parseInt(Qr,10)>=700||Bn==="bold")&&(Mn="bold"),Bn==="italic"&&(Mn+="italic"),Mn.length===0&&(Mn="normal");for(var Wn="",Jn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},li=0;li<Nr.length;li++){if(this.pdf.internal.getFont(Nr[li],Mn,{noFallback:!0,disableWarning:!0})!==void 0){Wn=Nr[li];break}if(Mn==="bolditalic"&&this.pdf.internal.getFont(Nr[li],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wn=Nr[li],Mn="bold";else if(this.pdf.internal.getFont(Nr[li],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wn=Nr[li],Mn="normal";break}}if(Wn===""){for(var mn=0;mn<Nr.length;mn++)if(Jn[Nr[mn]]){Wn=Jn[Nr[mn]];break}}Wn=Wn===""?"Times":Wn,this.pdf.setFont(Wn,Mn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,Xr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,Xr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=Boolean(ke)}})};yt.prototype.setLineDash=function(ft){this.lineDash=ft},yt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},yt.prototype.fill=function(){Be.call(this,"fill",!1)},yt.prototype.stroke=function(){Be.call(this,"stroke",!1)},yt.prototype.beginPath=function(){this.path=[{type:"begin"}]},yt.prototype.moveTo=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw U.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Kt=this.ctx.transform.applyToPoint(new D(ft,Ft));this.path.push({type:"mt",x:Kt.x,y:Kt.y}),this.ctx.lastPoint=new D(ft,Ft)},yt.prototype.closePath=function(){var ft=new D(0,0),Ft=0;for(Ft=this.path.length-1;Ft!==-1;Ft--)if(this.path[Ft].type==="begin"&&S()(this.path[Ft+1])==="object"&&typeof this.path[Ft+1].x=="number"){ft=new D(this.path[Ft+1].x,this.path[Ft+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new D(ft.x,ft.y)},yt.prototype.lineTo=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw U.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Kt=this.ctx.transform.applyToPoint(new D(ft,Ft));this.path.push({type:"lt",x:Kt.x,y:Kt.y}),this.ctx.lastPoint=new D(Kt.x,Kt.y)},yt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Be.call(this,null,!0)},yt.prototype.quadraticCurveTo=function(ft,Ft,Kt,fe){if(isNaN(Kt)||isNaN(fe)||isNaN(ft)||isNaN(Ft))throw U.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new D(Kt,fe)),Te=this.ctx.transform.applyToPoint(new D(ft,Ft));this.path.push({type:"qct",x1:Te.x,y1:Te.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new D(ve.x,ve.y)},yt.prototype.bezierCurveTo=function(ft,Ft,Kt,fe,ve,Te){if(isNaN(ve)||isNaN(Te)||isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw U.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new D(ve,Te)),Re=this.ctx.transform.applyToPoint(new D(ft,Ft)),gr=this.ctx.transform.applyToPoint(new D(Kt,fe));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:gr.x,y2:gr.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new D(Ae.x,Ae.y)},yt.prototype.arc=function(ft,Ft,Kt,fe,ve,Te){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe)||isNaN(ve))throw U.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Te=Boolean(Te),!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new D(ft,Ft));ft=Ae.x,Ft=Ae.y;var Re=this.ctx.transform.applyToPoint(new D(0,Kt)),gr=this.ctx.transform.applyToPoint(new D(0,0));Kt=Math.sqrt(Math.pow(Re.x-gr.x,2)+Math.pow(Re.y-gr.y,2))}Math.abs(ve-fe)>=2*Math.PI&&(fe=0,ve=2*Math.PI),this.path.push({type:"arc",x:ft,y:Ft,radius:Kt,startAngle:fe,endAngle:ve,counterclockwise:Te})},yt.prototype.arcTo=function(ft,Ft,Kt,fe,ve){throw new Error("arcTo not implemented.")},yt.prototype.rect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw U.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ft,Ft),this.lineTo(ft+Kt,Ft),this.lineTo(ft+Kt,Ft+fe),this.lineTo(ft,Ft+fe),this.lineTo(ft,Ft),this.lineTo(ft+Kt,Ft),this.lineTo(ft,Ft)},yt.prototype.fillRect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw U.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!K.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ft,Ft,Kt,fe),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},yt.prototype.strokeRect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw U.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");kt.call(this)||(this.beginPath(),this.rect(ft,Ft,Kt,fe),this.stroke())},yt.prototype.clearRect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw U.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ft,Ft,Kt,fe))},yt.prototype.save=function(ft){ft=typeof ft!="boolean"||ft;for(var Ft=this.pdf.internal.getCurrentPageInfo().pageNumber,Kt=0;Kt<this.pdf.internal.getNumberOfPages();Kt++)this.pdf.setPage(Kt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ft),ft){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new vt(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},yt.prototype.restore=function(ft){ft=typeof ft!="boolean"||ft;for(var Ft=this.pdf.internal.getCurrentPageInfo().pageNumber,Kt=0;Kt<this.pdf.internal.getNumberOfPages();Kt++)this.pdf.setPage(Kt+1),this.pdf.internal.out("Q");this.pdf.setPage(Ft),ft&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},yt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Ot=function(ft){var Ft,Kt,fe,ve;if(ft.isCanvasGradient===!0&&(ft=ft.getColor()),!ft)return{r:0,g:0,b:0,a:0,style:ft};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ft))Ft=0,Kt=0,fe=0,ve=0;else{var Te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ft);if(Te!==null)Ft=parseInt(Te[1]),Kt=parseInt(Te[2]),fe=parseInt(Te[3]),ve=1;else if((Te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ft))!==null)Ft=parseInt(Te[1]),Kt=parseInt(Te[2]),fe=parseInt(Te[3]),ve=parseFloat(Te[4]);else{if(ve=1,typeof ft=="string"&&ft.charAt(0)!=="#"){var Ae=new nt(ft);ft=Ae.ok?Ae.toHex():"#000000"}ft.length===4?(Ft=ft.substring(1,2),Ft+=Ft,Kt=ft.substring(2,3),Kt+=Kt,fe=ft.substring(3,4),fe+=fe):(Ft=ft.substring(1,3),Kt=ft.substring(3,5),fe=ft.substring(5,7)),Ft=parseInt(Ft,16),Kt=parseInt(Kt,16),fe=parseInt(fe,16)}}return{r:Ft,g:Kt,b:fe,a:ve,style:ft}},K=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},kt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};yt.prototype.fillText=function(ft,Ft,Kt,fe){if(isNaN(Ft)||isNaN(Kt)||typeof ft!="string")throw U.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!K.call(this)){var ve=Le(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;Pt.call(this,{text:ft,x:Ft,y:Kt,scale:Te,angle:ve,align:this.textAlign,maxWidth:fe})}},yt.prototype.strokeText=function(ft,Ft,Kt,fe){if(isNaN(Ft)||isNaN(Kt)||typeof ft!="string")throw U.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!kt.call(this)){fe=isNaN(fe)?void 0:fe;var ve=Le(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;Pt.call(this,{text:ft,x:Ft,y:Kt,scale:Te,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:fe})}},yt.prototype.measureText=function(ft){if(typeof ft!="string")throw U.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ft=this.pdf,Kt=this.pdf.internal.scaleFactor,fe=Ft.internal.getFontSize(),ve=Ft.getStringUnitWidth(ft)*fe/Ft.internal.scaleFactor,Te=function(Ae){var Re=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Re}}),this};return new Te({width:ve*=Math.round(96*Kt/72*1e4)/1e4})},yt.prototype.scale=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw U.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Kt=new Y(ft,0,0,Ft,0,0);this.ctx.transform=this.ctx.transform.multiply(Kt)},yt.prototype.rotate=function(ft){if(isNaN(ft))throw U.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ft=new Y(Math.cos(ft),Math.sin(ft),-Math.sin(ft),Math.cos(ft),0,0);this.ctx.transform=this.ctx.transform.multiply(Ft)},yt.prototype.translate=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw U.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Kt=new Y(1,0,0,1,ft,Ft);this.ctx.transform=this.ctx.transform.multiply(Kt)},yt.prototype.transform=function(ft,Ft,Kt,fe,ve,Te){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe)||isNaN(ve)||isNaN(Te))throw U.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new Y(ft,Ft,Kt,fe,ve,Te);this.ctx.transform=this.ctx.transform.multiply(Ae)},yt.prototype.setTransform=function(ft,Ft,Kt,fe,ve,Te){ft=isNaN(ft)?1:ft,Ft=isNaN(Ft)?0:Ft,Kt=isNaN(Kt)?0:Kt,fe=isNaN(fe)?1:fe,ve=isNaN(ve)?0:ve,Te=isNaN(Te)?0:Te,this.ctx.transform=new Y(ft,Ft,Kt,fe,ve,Te)};var It=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};yt.prototype.drawImage=function(ft,Ft,Kt,fe,ve,Te,Ae,Re,gr){var vr=this.pdf.getImageProperties(ft),Mr=1,Vr=1,gn=1,ke=1;fe!==void 0&&Re!==void 0&&(gn=Re/fe,ke=gr/ve,Mr=vr.width/fe*Re/fe,Vr=vr.height/ve*gr/ve),Te===void 0&&(Te=Ft,Ae=Kt,Ft=0,Kt=0),fe!==void 0&&Re===void 0&&(Re=fe,gr=ve),fe===void 0&&Re===void 0&&(Re=vr.width,gr=vr.height);for(var Dt,Bn=this.ctx.transform.decompose(),Qr=Le(Bn.rotate.shx),fr=new Y,xr=(fr=(fr=(fr=fr.multiply(Bn.translate)).multiply(Bn.skew)).multiply(Bn.scale)).applyToRectangle(new k(Te-Ft*gn,Ae-Kt*ke,fe*Mr,ve*Vr)),Ur=Qt.call(this,xr),Nr=[],sn=0;sn<Ur.length;sn+=1)Nr.indexOf(Ur[sn])===-1&&Nr.push(Ur[sn]);if(xe(Nr),this.autoPaging)for(var Mn=Nr[0],Wn=Nr[Nr.length-1],Jn=Mn;Jn<Wn+1;Jn++){this.pdf.setPage(Jn);var li=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mn=Jn===1?this.posY+this.margin[0]:this.margin[0],xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fr=Jn===1?0:xn+(Jn-2)*qn;if(this.ctx.clip_path.length!==0){var ta=this.path;Dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Yt(Dt,this.posX+this.margin[3],-Fr+mn+this.ctx.prevPageLastElemOffset),Qe.call(this,"fill",!0),this.path=ta}var fn=JSON.parse(JSON.stringify(xr));fn=Yt([fn],this.posX+this.margin[3],-Fr+mn+this.ctx.prevPageLastElemOffset)[0];var ts=(Jn>Mn||Jn<Wn)&&It.call(this);ts&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],li,qn,null).clip().discardPath()),this.pdf.addImage(ft,"JPEG",fn.x,fn.y,fn.w,fn.h,null,null,Qr),ts&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ft,"JPEG",xr.x,xr.y,xr.w,xr.h,null,null,Qr)};var Qt=function(ft,Ft,Kt){var fe=[];Ft=Ft||this.pdf.internal.pageSize.width,Kt=Kt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(ft.type){default:case"mt":case"lt":fe.push(Math.floor((ft.y+ve)/Kt)+1);break;case"arc":fe.push(Math.floor((ft.y+ve-ft.radius)/Kt)+1),fe.push(Math.floor((ft.y+ve+ft.radius)/Kt)+1);break;case"qct":var Te=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ft.x1,ft.y1,ft.x,ft.y);fe.push(Math.floor((Te.y+ve)/Kt)+1),fe.push(Math.floor((Te.y+Te.h+ve)/Kt)+1);break;case"bct":var Ae=Ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ft.x1,ft.y1,ft.x2,ft.y2,ft.x,ft.y);fe.push(Math.floor((Ae.y+ve)/Kt)+1),fe.push(Math.floor((Ae.y+Ae.h+ve)/Kt)+1);break;case"rect":fe.push(Math.floor((ft.y+ve)/Kt)+1),fe.push(Math.floor((ft.y+ft.h+ve)/Kt)+1)}for(var Re=0;Re<fe.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<fe[Re];)wt.call(this);return fe},wt=function(){var ft=this.fillStyle,Ft=this.strokeStyle,Kt=this.font,fe=this.lineCap,ve=this.lineWidth,Te=this.lineJoin;this.pdf.addPage(),this.fillStyle=ft,this.strokeStyle=Ft,this.font=Kt,this.lineCap=fe,this.lineWidth=ve,this.lineJoin=Te},Yt=function(ft,Ft,Kt){for(var fe=0;fe<ft.length;fe++)switch(ft[fe].type){case"bct":ft[fe].x2+=Ft,ft[fe].y2+=Kt;case"qct":ft[fe].x1+=Ft,ft[fe].y1+=Kt;case"mt":case"lt":case"arc":default:ft[fe].x+=Ft,ft[fe].y+=Kt}return ft},xe=function(ft){return ft.sort(function(Ft,Kt){return Ft-Kt})},Be=function(ft,Ft){for(var Kt,fe,ve=this.fillStyle,Te=this.strokeStyle,Ae=this.lineCap,Re=this.lineWidth,gr=Math.abs(Re*this.ctx.transform.scaleX),vr=this.lineJoin,Mr=JSON.parse(JSON.stringify(this.path)),Vr=JSON.parse(JSON.stringify(this.path)),gn=[],ke=0;ke<Vr.length;ke++)if(Vr[ke].x!==void 0)for(var Dt=Qt.call(this,Vr[ke]),Bn=0;Bn<Dt.length;Bn+=1)gn.indexOf(Dt[Bn])===-1&&gn.push(Dt[Bn]);for(var Qr=0;Qr<gn.length;Qr++)for(;this.pdf.internal.getNumberOfPages()<gn[Qr];)wt.call(this);if(xe(gn),this.autoPaging)for(var fr=gn[0],xr=gn[gn.length-1],Ur=fr;Ur<xr+1;Ur++){this.pdf.setPage(Ur),this.fillStyle=ve,this.strokeStyle=Te,this.lineCap=Ae,this.lineWidth=gr,this.lineJoin=vr;var Nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],sn=Ur===1?this.posY+this.margin[0]:this.margin[0],Mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jn=Ur===1?0:Mn+(Ur-2)*Wn;if(this.ctx.clip_path.length!==0){var li=this.path;Kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Yt(Kt,this.posX+this.margin[3],-Jn+sn+this.ctx.prevPageLastElemOffset),Qe.call(this,ft,!0),this.path=li}if(fe=JSON.parse(JSON.stringify(Mr)),this.path=Yt(fe,this.posX+this.margin[3],-Jn+sn+this.ctx.prevPageLastElemOffset),Ft===!1||Ur===0){var mn=(Ur>fr||Ur<xr)&&It.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,Wn,null).clip().discardPath()),Qe.call(this,ft,Ft),mn&&this.pdf.restoreGraphicsState()}this.lineWidth=Re}else this.lineWidth=gr,Qe.call(this,ft,Ft),this.lineWidth=Re;this.path=Mr},Qe=function(ft,Ft){if((ft!=="stroke"||Ft||!kt.call(this))&&(ft==="stroke"||Ft||!K.call(this))){for(var Kt,fe,ve=[],Te=this.path,Ae=0;Ae<Te.length;Ae++){var Re=Te[Ae];switch(Re.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Re,deltas:[],abs:[]});break;case"lt":var gr=ve.length;if(Te[Ae-1]&&!isNaN(Te[Ae-1].x)&&(Kt=[Re.x-Te[Ae-1].x,Re.y-Te[Ae-1].y],gr>0)){for(;gr>=0;gr--)if(ve[gr-1].close!==!0&&ve[gr-1].begin!==!0){ve[gr-1].deltas.push(Kt),ve[gr-1].abs.push(Re);break}}break;case"bct":Kt=[Re.x1-Te[Ae-1].x,Re.y1-Te[Ae-1].y,Re.x2-Te[Ae-1].x,Re.y2-Te[Ae-1].y,Re.x-Te[Ae-1].x,Re.y-Te[Ae-1].y],ve[ve.length-1].deltas.push(Kt);break;case"qct":var vr=Te[Ae-1].x+2/3*(Re.x1-Te[Ae-1].x),Mr=Te[Ae-1].y+2/3*(Re.y1-Te[Ae-1].y),Vr=Re.x+2/3*(Re.x1-Re.x),gn=Re.y+2/3*(Re.y1-Re.y),ke=Re.x,Dt=Re.y;Kt=[vr-Te[Ae-1].x,Mr-Te[Ae-1].y,Vr-Te[Ae-1].x,gn-Te[Ae-1].y,ke-Te[Ae-1].x,Dt-Te[Ae-1].y],ve[ve.length-1].deltas.push(Kt);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Re)}}fe=Ft?null:ft==="stroke"?"stroke":"fill";for(var Bn=!1,Qr=0;Qr<ve.length;Qr++)if(ve[Qr].arc)for(var fr=ve[Qr].abs,xr=0;xr<fr.length;xr++){var Ur=fr[xr];Ur.type==="arc"?pe.call(this,Ur.x,Ur.y,Ur.radius,Ur.startAngle,Ur.endAngle,Ur.counterclockwise,void 0,Ft,!Bn):ue.call(this,Ur.x,Ur.y),Bn=!0}else if(ve[Qr].close===!0)this.pdf.internal.out("h"),Bn=!1;else if(ve[Qr].begin!==!0){var Nr=ve[Qr].start.x,sn=ve[Qr].start.y;oe.call(this,ve[Qr].deltas,Nr,sn),Bn=!0}fe&&sr.call(this,fe),Ft&&tr.call(this)}},Er=function(ft){var Ft=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Kt=Ft*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ft-Kt;case"top":return ft+Ft-Kt;case"hanging":return ft+Ft-2*Kt;case"middle":return ft+Ft/2-Kt;case"ideographic":return ft;case"alphabetic":default:return ft}},De=function(ft){return ft+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};yt.prototype.createLinearGradient=function(){var ft=function(){};return ft.colorStops=[],ft.addColorStop=function(Ft,Kt){this.colorStops.push([Ft,Kt])},ft.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ft.isCanvasGradient=!0,ft},yt.prototype.createPattern=function(){return this.createLinearGradient()},yt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var pe=function(ft,Ft,Kt,fe,ve,Te,Ae,Re,gr){for(var vr=We.call(this,Kt,fe,ve,Te),Mr=0;Mr<vr.length;Mr++){var Vr=vr[Mr];Mr===0&&(gr?At.call(this,Vr.x1+ft,Vr.y1+Ft):ue.call(this,Vr.x1+ft,Vr.y1+Ft)),He.call(this,ft,Ft,Vr.x2,Vr.y2,Vr.x3,Vr.y3,Vr.x4,Vr.y4)}Re?tr.call(this):sr.call(this,Ae)},sr=function(ft){switch(ft){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},tr=function(){this.pdf.clip(),this.pdf.discardPath()},At=function(ft,Ft){this.pdf.internal.out(E(ft)+" "+T(Ft)+" m")},Pt=function(ft){var Ft;switch(ft.align){case"right":case"end":Ft="right";break;case"center":Ft="center";break;case"left":case"start":default:Ft="left"}var Kt=this.pdf.getTextDimensions(ft.text),fe=Er.call(this,ft.y),ve=De.call(this,fe)-Kt.h,Te=this.ctx.transform.applyToPoint(new D(ft.x,fe)),Ae=this.ctx.transform.decompose(),Re=new Y;Re=(Re=(Re=Re.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var gr,vr,Mr,Vr=this.ctx.transform.applyToRectangle(new k(ft.x,fe,Kt.w,Kt.h)),gn=Re.applyToRectangle(new k(ft.x,ve,Kt.w,Kt.h)),ke=Qt.call(this,gn),Dt=[],Bn=0;Bn<ke.length;Bn+=1)Dt.indexOf(ke[Bn])===-1&&Dt.push(ke[Bn]);if(xe(Dt),this.autoPaging)for(var Qr=Dt[0],fr=Dt[Dt.length-1],xr=Qr;xr<fr+1;xr++){this.pdf.setPage(xr);var Ur=xr===1?this.posY+this.margin[0]:this.margin[0],Nr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[2],Mn=sn-this.margin[0],Wn=this.pdf.internal.pageSize.width-this.margin[1],Jn=Wn-this.margin[3],li=xr===1?0:Nr+(xr-2)*Mn;if(this.ctx.clip_path.length!==0){var mn=this.path;gr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Yt(gr,this.posX+this.margin[3],-1*li+Ur),Qe.call(this,"fill",!0),this.path=mn}var xn=Yt([JSON.parse(JSON.stringify(gn))],this.posX+this.margin[3],-li+Ur+this.ctx.prevPageLastElemOffset)[0];ft.scale>=.01&&(vr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(vr*ft.scale),Mr=this.lineWidth,this.lineWidth=Mr*ft.scale);var qn=this.autoPaging!=="text";if(qn||xn.y+xn.h<=sn){if(qn||xn.y>=Ur&&xn.x<=Wn){var Fr=qn?ft.text:this.pdf.splitTextToSize(ft.text,ft.maxWidth||Wn-xn.x)[0],ta=Yt([JSON.parse(JSON.stringify(Vr))],this.posX+this.margin[3],-li+Ur+this.ctx.prevPageLastElemOffset)[0],fn=qn&&(xr>Qr||xr<fr)&&It.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jn,Mn,null).clip().discardPath()),this.pdf.text(Fr,ta.x,ta.y,{angle:ft.angle,align:Ft,renderingMode:ft.renderingMode}),fn&&this.pdf.restoreGraphicsState()}}else xn.y<sn&&(this.ctx.prevPageLastElemOffset+=sn-xn.y);ft.scale>=.01&&(this.pdf.setFontSize(vr),this.lineWidth=Mr)}else ft.scale>=.01&&(vr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(vr*ft.scale),Mr=this.lineWidth,this.lineWidth=Mr*ft.scale),this.pdf.text(ft.text,Te.x+this.posX,Te.y+this.posY,{angle:ft.angle,align:Ft,renderingMode:ft.renderingMode,maxWidth:ft.maxWidth}),ft.scale>=.01&&(this.pdf.setFontSize(vr),this.lineWidth=Mr)},ue=function(ft,Ft,Kt,fe){Kt=Kt||0,fe=fe||0,this.pdf.internal.out(E(ft+Kt)+" "+T(Ft+fe)+" l")},oe=function(ft,Ft,Kt){return this.pdf.lines(ft,Ft,Kt,null,null)},He=function(ft,Ft,Kt,fe,ve,Te,Ae,Re){this.pdf.internal.out([_(F(Kt+ft)),_(b(fe+Ft)),_(F(ve+ft)),_(b(Te+Ft)),_(F(Ae+ft)),_(b(Re+Ft)),"c"].join(" "))},We=function(ft,Ft,Kt,fe){for(var ve=2*Math.PI,Te=Math.PI/2;Ft>Kt;)Ft-=ve;var Ae=Math.abs(Kt-Ft);Ae<ve&&fe&&(Ae=ve-Ae);for(var Re=[],gr=fe?-1:1,vr=Ft;Ae>1e-5;){var Mr=vr+gr*Math.min(Ae,Te);Re.push(ir.call(this,ft,vr,Mr)),Ae-=Math.abs(Mr-vr),vr=Mr}return Re},ir=function(ft,Ft,Kt){var fe=(Kt-Ft)/2,ve=ft*Math.cos(fe),Te=ft*Math.sin(fe),Ae=ve,Re=-Te,gr=Ae*Ae+Re*Re,vr=gr+Ae*ve+Re*Te,Mr=4/3*(Math.sqrt(2*gr*vr)-vr)/(Ae*Te-Re*ve),Vr=Ae-Mr*Re,gn=Re+Mr*Ae,ke=Vr,Dt=-gn,Bn=fe+Ft,Qr=Math.cos(Bn),fr=Math.sin(Bn);return{x1:ft*Math.cos(Ft),y1:ft*Math.sin(Ft),x2:Vr*Qr-gn*fr,y2:Vr*fr+gn*Qr,x3:ke*Qr-Dt*fr,y3:ke*fr+Dt*Qr,x4:ft*Math.cos(Kt),y4:ft*Math.sin(Kt)}},Le=function(ft){return 180*ft/Math.PI},Ne=function(ft,Ft,Kt,fe,ve,Te){var Ae=ft+.5*(Kt-ft),Re=Ft+.5*(fe-Ft),gr=ve+.5*(Kt-ve),vr=Te+.5*(fe-Te),Mr=Math.min(ft,ve,Ae,gr),Vr=Math.max(ft,ve,Ae,gr),gn=Math.min(Ft,Te,Re,vr),ke=Math.max(Ft,Te,Re,vr);return new k(Mr,gn,Vr-Mr,ke-gn)},Ze=function(ft,Ft,Kt,fe,ve,Te,Ae,Re){var gr,vr,Mr,Vr,gn,ke,Dt,Bn,Qr,fr,xr,Ur,Nr,sn,Mn=Kt-ft,Wn=fe-Ft,Jn=ve-Kt,li=Te-fe,mn=Ae-ve,xn=Re-Te;for(vr=0;vr<41;vr++)Qr=(Dt=(Mr=ft+(gr=vr/40)*Mn)+gr*((gn=Kt+gr*Jn)-Mr))+gr*(gn+gr*(ve+gr*mn-gn)-Dt),fr=(Bn=(Vr=Ft+gr*Wn)+gr*((ke=fe+gr*li)-Vr))+gr*(ke+gr*(Te+gr*xn-ke)-Bn),vr==0?(xr=Qr,Ur=fr,Nr=Qr,sn=fr):(xr=Math.min(xr,Qr),Ur=Math.min(Ur,fr),Nr=Math.max(Nr,Qr),sn=Math.max(sn,fr));return new k(Math.round(xr),Math.round(Ur),Math.round(Nr-xr),Math.round(sn-Ur))},Xr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ft,Ft,Kt=(ft=this.ctx.lineDash,Ft=this.ctx.lineDashOffset,JSON.stringify({lineDash:ft,lineDashOffset:Ft}));this.prevLineDash!==Kt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Kt)}}})(ee.API),function(O){var _=function(b){var D,k,Y,rt,vt,yt,Ot,K,kt,It;for(/[^\x00-\xFF]/.test(b),k=[],Y=0,rt=(b+=D="\0\0\0\0".slice(b.length%4||4)).length;rt>Y;Y+=4)(vt=(b.charCodeAt(Y)<<24)+(b.charCodeAt(Y+1)<<16)+(b.charCodeAt(Y+2)<<8)+b.charCodeAt(Y+3))!==0?(yt=(vt=((vt=((vt=((vt=(vt-(It=vt%85))/85)-(kt=vt%85))/85)-(K=vt%85))/85)-(Ot=vt%85))/85)%85,k.push(yt+33,Ot+33,K+33,kt+33,It+33)):k.push(122);return function(Qt,wt){for(var Yt=wt;Yt>0;Yt--)Qt.pop()}(k,D.length),String.fromCharCode.apply(String,k)+"~>"},E=function(b){var D,k,Y,rt,vt,yt=String,Ot="length",K=255,kt="charCodeAt",It="slice",Qt="replace";for(b[It](-2),b=b[It](0,-2)[Qt](/\s/g,"")[Qt]("z","!!!!!"),Y=[],rt=0,vt=(b+=D="uuuuu"[It](b[Ot]%5||5))[Ot];vt>rt;rt+=5)k=52200625*(b[kt](rt)-33)+614125*(b[kt](rt+1)-33)+7225*(b[kt](rt+2)-33)+85*(b[kt](rt+3)-33)+(b[kt](rt+4)-33),Y.push(K&k>>24,K&k>>16,K&k>>8,K&k);return function(wt,Yt){for(var xe=Yt;xe>0;xe--)wt.pop()}(Y,D[Ot]),yt.fromCharCode.apply(yt,Y)},T=function(b){var D=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((b=b.replace(/\s/g,"")).indexOf(">")!==-1&&(b=b.substr(0,b.indexOf(">"))),b.length%2&&(b+="0"),D.test(b)===!1)return"";for(var k="",Y=0;Y<b.length;Y+=2)k+=String.fromCharCode("0x"+(b[Y]+b[Y+1]));return k},F=function(b){for(var D=new Uint8Array(b.length),k=b.length;k--;)D[k]=b.charCodeAt(k);return b=(D=Object(A.b)(D)).reduce(function(Y,rt){return Y+String.fromCharCode(rt)},"")};O.processDataByFilters=function(b,D){var k=0,Y=b||"",rt=[];for(typeof(D=D||[])=="string"&&(D=[D]),k=0;k<D.length;k+=1)switch(D[k]){case"ASCII85Decode":case"/ASCII85Decode":Y=E(Y),rt.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Y=_(Y),rt.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Y=T(Y),rt.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Y=Y.split("").map(function(vt){return("0"+vt.charCodeAt().toString(16)).slice(-2)}).join("")+">",rt.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Y=F(Y),rt.push("/FlateDecode");break;default:throw new Error('The filter: "'+D[k]+'" is not implemented')}return{data:Y,reverseChain:rt.reverse().join(" ")}}}(ee.API),function(O){O.loadFile=function(_,E,T){return function(F,b,D){b=b!==!1,D=typeof D=="function"?D:function(){};var k=void 0;try{k=function(Y,rt,vt){var yt=new XMLHttpRequest,Ot=0,K=function(kt){var It=kt.length,Qt=[],wt=String.fromCharCode;for(Ot=0;Ot<It;Ot+=1)Qt.push(wt(255&kt.charCodeAt(Ot)));return Qt.join("")};if(yt.open("GET",Y,!rt),yt.overrideMimeType("text/plain; charset=x-user-defined"),rt===!1&&(yt.onload=function(){yt.status===200?vt(K(this.responseText)):vt(void 0)}),yt.send(null),rt&&yt.status===200)return K(yt.responseText)}(F,b,D)}catch{}return k}(_,E,T)},O.loadImageFile=O.loadFile}(ee.API),function(O){function _(){return(R.html2canvas?Promise.resolve(R.html2canvas):u.e(3).then(u.t.bind(null,"c0e9",7))).catch(function(D){return Promise.reject(new Error("Could not load html2canvas: "+D))}).then(function(D){return D.default?D.default:D})}function E(){return(R.DOMPurify?Promise.resolve(R.DOMPurify):u.e(2).then(u.t.bind(null,"c0c4",7))).catch(function(D){return Promise.reject(new Error("Could not load dompurify: "+D))}).then(function(D){return D.default?D.default:D})}var T=function(D){var k=S()(D);return k==="undefined"?"undefined":k==="string"||D instanceof String?"string":k==="number"||D instanceof Number?"number":k==="function"||D instanceof Function?"function":D&&D.constructor===Array?"array":D&&D.nodeType===1?"element":k==="object"?"object":"unknown"},F=function(D,k){var Y=document.createElement(D);for(var rt in k.className&&(Y.className=k.className),k.innerHTML&&k.dompurify&&(Y.innerHTML=k.dompurify.sanitize(k.innerHTML)),k.style)Y.style[rt]=k.style[rt];return Y},b=function D(k){var Y=Object.assign(D.convert(Promise.resolve()),JSON.parse(JSON.stringify(D.template))),rt=D.convert(Promise.resolve(),Y);return rt=(rt=rt.setProgress(1,D,1,[D])).set(k)};(b.prototype=Object.create(Promise.prototype)).constructor=b,b.convert=function(D,k){return D.__proto__=k||b.prototype,D},b.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},b.prototype.from=function(D,k){return this.then(function(){switch(k=k||function(Y){switch(T(Y)){case"string":return"string";case"element":return Y.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(D)){case"string":return this.then(E).then(function(Y){return this.set({src:F("div",{innerHTML:D,dompurify:Y})})});case"element":return this.set({src:D});case"canvas":return this.set({canvas:D});case"img":return this.set({img:D});default:return this.error("Unknown source type.")}})},b.prototype.to=function(D){switch(D){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},b.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var D={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},k=function Y(rt,vt){for(var yt=rt.nodeType===3?document.createTextNode(rt.nodeValue):rt.cloneNode(!1),Ot=rt.firstChild;Ot;Ot=Ot.nextSibling)vt!==!0&&Ot.nodeType===1&&Ot.nodeName==="SCRIPT"||yt.appendChild(Y(Ot,vt));return rt.nodeType===1&&(rt.nodeName==="CANVAS"?(yt.width=rt.width,yt.height=rt.height,yt.getContext("2d").drawImage(rt,0,0)):rt.nodeName!=="TEXTAREA"&&rt.nodeName!=="SELECT"||(yt.value=rt.value),yt.addEventListener("load",function(){yt.scrollTop=rt.scrollTop,yt.scrollLeft=rt.scrollLeft},!0)),yt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);k.tagName==="BODY"&&(D.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=F("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=F("div",{className:"html2pdf__container",style:D}),this.prop.container.appendChild(k),this.prop.container.firstChild.appendChild(F("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},b.prototype.toCanvas=function(){var D=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(D).then(_).then(function(k){var Y=Object.assign({},this.opt.html2canvas);return delete Y.onrendered,k(this.prop.container,Y)}).then(function(k){(this.opt.html2canvas.onrendered||function(){})(k),this.prop.canvas=k,document.body.removeChild(this.prop.overlay)})},b.prototype.toContext2d=function(){var D=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(D).then(_).then(function(k){var Y=this.opt.jsPDF,rt=this.opt.fontFaces,vt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,yt=Object.assign({async:!0,allowTaint:!0,scale:vt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete yt.onrendered,Y.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Y.context2d.posX=this.opt.x,Y.context2d.posY=this.opt.y,Y.context2d.margin=this.opt.margin,Y.context2d.fontFaces=rt,rt)for(var Ot=0;Ot<rt.length;++Ot){var K=rt[Ot],kt=K.src.find(function(It){return It.format==="truetype"});kt&&Y.addFont(kt.url,K.ref.name,K.ref.style)}return yt.windowHeight=yt.windowHeight||0,yt.windowHeight=yt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):yt.windowHeight,Y.context2d.save(!0),k(this.prop.container,yt)}).then(function(k){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(k),this.prop.canvas=k,document.body.removeChild(this.prop.overlay)})},b.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var D=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=D})},b.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},b.prototype.output=function(D,k,Y){return(Y=Y||"pdf").toLowerCase()==="img"||Y.toLowerCase()==="image"?this.outputImg(D,k):this.outputPdf(D,k)},b.prototype.outputPdf=function(D,k){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(D,k)})},b.prototype.outputImg=function(D){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(D){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+D+'" is not supported.'}})},b.prototype.save=function(D){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(D?{filename:D}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},b.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},b.prototype.set=function(D){if(T(D)!=="object")return this;var k=Object.keys(D||{}).map(function(Y){if(Y in b.template.prop)return function(){this.prop[Y]=D[Y]};switch(Y){case"margin":return this.setMargin.bind(this,D.margin);case"jsPDF":return function(){return this.opt.jsPDF=D.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,D.pageSize);default:return function(){this.opt[Y]=D[Y]}}},this);return this.then(function(){return this.thenList(k)})},b.prototype.get=function(D,k){return this.then(function(){var Y=D in b.template.prop?this.prop[D]:this.opt[D];return k?k(Y):Y})},b.prototype.setMargin=function(D){return this.then(function(){switch(T(D)){case"number":D=[D,D,D,D];case"array":if(D.length===2&&(D=[D[0],D[1],D[0],D[1]]),D.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=D}).then(this.setPageSize)},b.prototype.setPageSize=function(D){function k(Y,rt){return Math.floor(Y*rt/72*96)}return this.then(function(){(D=D||ee.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(D.inner={width:D.width-this.opt.margin[1]-this.opt.margin[3],height:D.height-this.opt.margin[0]-this.opt.margin[2]},D.inner.px={width:k(D.inner.width,D.k),height:k(D.inner.height,D.k)},D.inner.ratio=D.inner.height/D.inner.width),this.prop.pageSize=D})},b.prototype.setProgress=function(D,k,Y,rt){return D!=null&&(this.progress.val=D),k!=null&&(this.progress.state=k),Y!=null&&(this.progress.n=Y),rt!=null&&(this.progress.stack=rt),this.progress.ratio=this.progress.val/this.progress.state,this},b.prototype.updateProgress=function(D,k,Y,rt){return this.setProgress(D?this.progress.val+D:null,k||null,Y?this.progress.n+Y:null,rt?this.progress.stack.concat(rt):null)},b.prototype.then=function(D,k){var Y=this;return this.thenCore(D,k,function(rt,vt){return Y.updateProgress(null,null,1,[rt]),Promise.prototype.then.call(this,function(yt){return Y.updateProgress(null,rt),yt}).then(rt,vt).then(function(yt){return Y.updateProgress(1),yt})})},b.prototype.thenCore=function(D,k,Y){Y=Y||Promise.prototype.then,D&&(D=D.bind(this)),k&&(k=k.bind(this));var rt=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:b.convert(Object.assign({},this),Promise.prototype),vt=Y.call(rt,D,k);return b.convert(vt,this.__proto__)},b.prototype.thenExternal=function(D,k){return Promise.prototype.then.call(this,D,k)},b.prototype.thenList=function(D){var k=this;return D.forEach(function(Y){k=k.thenCore(Y)}),k},b.prototype.catch=function(D){D&&(D=D.bind(this));var k=Promise.prototype.catch.call(this,D);return b.convert(k,this)},b.prototype.catchExternal=function(D){return Promise.prototype.catch.call(this,D)},b.prototype.error=function(D){return this.then(function(){throw new Error(D)})},b.prototype.using=b.prototype.set,b.prototype.saveAs=b.prototype.save,b.prototype.export=b.prototype.output,b.prototype.run=b.prototype.then,ee.getPageSize=function(D,k,Y){if(S()(D)==="object"){var rt=D;D=rt.orientation,k=rt.unit||k,Y=rt.format||Y}k=k||"mm",Y=Y||"a4",D=(""+(D||"P")).toLowerCase();var vt,yt=(""+Y).toLowerCase(),Ot={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(k){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=.75;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:throw"Invalid unit: "+k}var K,kt=0,It=0;if(Ot.hasOwnProperty(yt))kt=Ot[yt][1]/vt,It=Ot[yt][0]/vt;else try{kt=Y[1],It=Y[0]}catch{throw new Error("Invalid format: "+Y)}if(D==="p"||D==="portrait")D="p",It>kt&&(K=It,It=kt,kt=K);else{if(D!=="l"&&D!=="landscape")throw"Invalid orientation: "+D;D="l",kt>It&&(K=It,It=kt,kt=K)}return{width:It,height:kt,unit:k,k:vt,orientation:D}},O.html=function(D,k){(k=k||{}).callback=k.callback||function(){},k.html2canvas=k.html2canvas||{},k.html2canvas.canvas=k.html2canvas.canvas||this.canvas,k.jsPDF=k.jsPDF||this,k.fontFaces=k.fontFaces?k.fontFaces.map(Ro):null;var Y=new b(k);return k.worker?Y:Y.from(D).doCallback()}}(ee.API),ee.API.addJS=function(O){return ac=O,this.internal.events.subscribe("postPutResources",function(){Iu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Iu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ru=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ac+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Iu!==void 0&&ru!==void 0&&this.internal.out("/Names <</JavaScript "+Iu+" 0 R>>")}),this},function(O){var _;O.events.push(["postPutResources",function(){var E=this,T=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var F=E.outline.render().split(/\r\n/),b=0;b<F.length;b++){var D=F[b],k=T.exec(D);if(k!=null){var Y=k[1];E.internal.newObjectDeferredBegin(Y,!1)}E.internal.write(D)}if(this.outline.createNamedDestinations){var rt=this.internal.pages.length,vt=[];for(b=0;b<rt;b++){var yt=E.internal.newObject();vt.push(yt);var Ot=E.internal.getPageInfo(b+1);E.internal.write("<< /D["+Ot.objId+" 0 R /XYZ null null null]>> endobj")}var K=E.internal.newObject();for(E.internal.write("<< /Names [ "),b=0;b<vt.length;b++)E.internal.write("(page_"+(b+1)+")"+vt[b]+" 0 R");E.internal.write(" ] >>","endobj"),_=E.internal.newObject(),E.internal.write("<< /Dests "+K+" 0 R"),E.internal.write(">>","endobj")}}]),O.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+_+" 0 R"))}]),O.events.push(["initialized",function(){var E=this;E.outline={createNamedDestinations:!1,root:{children:[]}},E.outline.add=function(T,F,b){var D={title:F,options:b,children:[]};return T==null&&(T=this.root),T.children.push(D),D},E.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=E,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},E.outline.genIds_r=function(T){T.id=E.internal.newObjectDeferred();for(var F=0;F<T.children.length;F++)this.genIds_r(T.children[F])},E.outline.renderRoot=function(T){this.objStart(T),this.line("/Type /Outlines"),T.children.length>0&&(this.line("/First "+this.makeRef(T.children[0])),this.line("/Last "+this.makeRef(T.children[T.children.length-1]))),this.line("/Count "+this.count_r({count:0},T)),this.objEnd()},E.outline.renderItems=function(T){for(var F=this.ctx.pdf.internal.getVerticalCoordinateString,b=0;b<T.children.length;b++){var D=T.children[b];this.objStart(D),this.line("/Title "+this.makeString(D.title)),this.line("/Parent "+this.makeRef(T)),b>0&&this.line("/Prev "+this.makeRef(T.children[b-1])),b<T.children.length-1&&this.line("/Next "+this.makeRef(T.children[b+1])),D.children.length>0&&(this.line("/First "+this.makeRef(D.children[0])),this.line("/Last "+this.makeRef(D.children[D.children.length-1])));var k=this.count=this.count_r({count:0},D);if(k>0&&this.line("/Count "+k),D.options&&D.options.pageNumber){var Y=E.internal.getPageInfo(D.options.pageNumber);this.line("/Dest ["+Y.objId+" 0 R /XYZ 0 "+F(0)+" 0]")}this.objEnd()}for(var rt=0;rt<T.children.length;rt++)this.renderItems(T.children[rt])},E.outline.line=function(T){this.ctx.val+=T+`\r
`},E.outline.makeRef=function(T){return T.id+" 0 R"},E.outline.makeString=function(T){return"("+E.internal.pdfEscape(T)+")"},E.outline.objStart=function(T){this.ctx.val+=`\r
`+T.id+` 0 obj\r
<<\r
`},E.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},E.outline.count_r=function(T,F){for(var b=0;b<F.children.length;b++)T.count++,this.count_r(T,F.children[b]);return T.count}}])}(ee.API),function(O){var _=[192,193,194,195,196,197,198,199];O.processJPEG=function(E,T,F,b,D,k){var Y,rt=this.decode.DCT_DECODE,vt=null;if(typeof E=="string"||this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E)){switch(E=D||E,E=this.__addimage__.isArrayBuffer(E)?new Uint8Array(E):E,(Y=function(yt){for(var Ot,K=256*yt.charCodeAt(4)+yt.charCodeAt(5),kt=yt.length,It={width:0,height:0,numcomponents:1},Qt=4;Qt<kt;Qt+=2){if(Qt+=K,_.indexOf(yt.charCodeAt(Qt+1))!==-1){Ot=256*yt.charCodeAt(Qt+5)+yt.charCodeAt(Qt+6),It={width:256*yt.charCodeAt(Qt+7)+yt.charCodeAt(Qt+8),height:Ot,numcomponents:yt.charCodeAt(Qt+9)};break}K=256*yt.charCodeAt(Qt+2)+yt.charCodeAt(Qt+3)}return It}(E=this.__addimage__.isArrayBufferView(E)?this.__addimage__.arrayBufferToBinaryString(E):E)).numcomponents){case 1:k=this.color_spaces.DEVICE_GRAY;break;case 4:k=this.color_spaces.DEVICE_CMYK;break;case 3:k=this.color_spaces.DEVICE_RGB}vt={data:E,width:Y.width,height:Y.height,colorSpace:k,bitsPerComponent:8,filter:rt,index:T,alias:F}}return vt}}(ee.API);var Na,Es,Xs,Ph,vp,sc=function(){var O,_,E;function T(b){var D,k,Y,rt,vt,yt,Ot,K,kt,It,Qt,wt,Yt,xe;for(this.data=b,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},yt=null;;){switch(D=this.readUInt32(),kt=function(){var Be,Qe;for(Qe=[],Be=0;Be<4;++Be)Qe.push(String.fromCharCode(this.data[this.pos++]));return Qe}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(D);break;case"fcTL":yt&&this.animation.frames.push(yt),this.pos+=4,yt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},vt=this.readUInt16(),rt=this.readUInt16()||100,yt.delay=1e3*vt/rt,yt.disposeOp=this.data[this.pos++],yt.blendOp=this.data[this.pos++],yt.data=[];break;case"IDAT":case"fdAT":for(kt==="fdAT"&&(this.pos+=4,D-=4),b=(yt!=null?yt.data:void 0)||this.imgData,wt=0;0<=D?wt<D:wt>D;0<=D?++wt:--wt)b.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Y=this.palette.length/3,this.transparency.indexed=this.read(D),this.transparency.indexed.length>Y)throw new Error("More transparent colors than palette size");if((It=Y-this.transparency.indexed.length)>0)for(Yt=0;0<=It?Yt<It:Yt>It;0<=It?++Yt:--Yt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(D)[0];break;case 2:this.transparency.rgb=this.read(D)}break;case"tEXt":Ot=(Qt=this.read(D)).indexOf(0),K=String.fromCharCode.apply(String,Qt.slice(0,Ot)),this.text[K]=String.fromCharCode.apply(String,Qt.slice(Ot+1));break;case"IEND":return yt&&this.animation.frames.push(yt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(xe=this.colorType)===4||xe===6,k=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*k,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=D}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}T.prototype.read=function(b){var D,k;for(k=[],D=0;0<=b?D<b:D>b;0<=b?++D:--D)k.push(this.data[this.pos++]);return k},T.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.decodePixels=function(b){var D=this.pixelBitlength/8,k=new Uint8Array(this.width*this.height*D),Y=0,rt=this;if(b==null&&(b=this.imgData),b.length===0)return new Uint8Array(0);function vt(yt,Ot,K,kt){var It,Qt,wt,Yt,xe,Be,Qe,Er,De,pe,sr,tr,At,Pt,ue,oe,He,We,ir,Le,Ne,Ze=Math.ceil((rt.width-yt)/K),Xr=Math.ceil((rt.height-Ot)/kt),ft=rt.width==Ze&&rt.height==Xr;for(Pt=D*Ze,tr=ft?k:new Uint8Array(Pt*Xr),Be=b.length,At=0,Qt=0;At<Xr&&Y<Be;){switch(b[Y++]){case 0:for(Yt=He=0;He<Pt;Yt=He+=1)tr[Qt++]=b[Y++];break;case 1:for(Yt=We=0;We<Pt;Yt=We+=1)It=b[Y++],xe=Yt<D?0:tr[Qt-D],tr[Qt++]=(It+xe)%256;break;case 2:for(Yt=ir=0;ir<Pt;Yt=ir+=1)It=b[Y++],wt=(Yt-Yt%D)/D,ue=At&&tr[(At-1)*Pt+wt*D+Yt%D],tr[Qt++]=(ue+It)%256;break;case 3:for(Yt=Le=0;Le<Pt;Yt=Le+=1)It=b[Y++],wt=(Yt-Yt%D)/D,xe=Yt<D?0:tr[Qt-D],ue=At&&tr[(At-1)*Pt+wt*D+Yt%D],tr[Qt++]=(It+Math.floor((xe+ue)/2))%256;break;case 4:for(Yt=Ne=0;Ne<Pt;Yt=Ne+=1)It=b[Y++],wt=(Yt-Yt%D)/D,xe=Yt<D?0:tr[Qt-D],At===0?ue=oe=0:(ue=tr[(At-1)*Pt+wt*D+Yt%D],oe=wt&&tr[(At-1)*Pt+(wt-1)*D+Yt%D]),Qe=xe+ue-oe,Er=Math.abs(Qe-xe),pe=Math.abs(Qe-ue),sr=Math.abs(Qe-oe),De=Er<=pe&&Er<=sr?xe:pe<=sr?ue:oe,tr[Qt++]=(It+De)%256;break;default:throw new Error("Invalid filter algorithm: "+b[Y-1])}if(!ft){var Ft=((Ot+At*kt)*rt.width+yt)*D,Kt=At*Pt;for(Yt=0;Yt<Ze;Yt+=1){for(var fe=0;fe<D;fe+=1)k[Ft++]=tr[Kt++];Ft+=(K-1)*D}}At++}}return b=Object(A.a)(b),rt.interlaceMethod==1?(vt(0,0,8,8),vt(4,0,8,8),vt(0,4,4,8),vt(2,0,4,4),vt(0,2,2,4),vt(1,0,2,2),vt(0,1,1,2)):vt(0,0,1,1),k},T.prototype.decodePalette=function(){var b,D,k,Y,rt,vt,yt,Ot,K;for(k=this.palette,vt=this.transparency.indexed||[],rt=new Uint8Array((vt.length||0)+k.length),Y=0,b=0,D=yt=0,Ot=k.length;yt<Ot;D=yt+=3)rt[Y++]=k[D],rt[Y++]=k[D+1],rt[Y++]=k[D+2],rt[Y++]=(K=vt[b++])!=null?K:255;return rt},T.prototype.copyToImageData=function(b,D){var k,Y,rt,vt,yt,Ot,K,kt,It,Qt,wt;if(Y=this.colors,It=null,k=this.hasAlphaChannel,this.palette.length&&(It=(wt=this._decodedPalette)!=null?wt:this._decodedPalette=this.decodePalette(),Y=4,k=!0),kt=(rt=b.data||b).length,yt=It||D,vt=Ot=0,Y===1)for(;vt<kt;)K=It?4*D[vt/4]:Ot,Qt=yt[K++],rt[vt++]=Qt,rt[vt++]=Qt,rt[vt++]=Qt,rt[vt++]=k?yt[K++]:255,Ot=K;else for(;vt<kt;)K=It?4*D[vt/4]:Ot,rt[vt++]=yt[K++],rt[vt++]=yt[K++],rt[vt++]=yt[K++],rt[vt++]=k?yt[K++]:255,Ot=K},T.prototype.decode=function(){var b;return b=new Uint8Array(this.width*this.height*4),this.copyToImageData(b,this.decodePixels()),b};var F=function(){if(Object.prototype.toString.call(R)==="[object Window]"){try{_=R.document.createElement("canvas"),E=_.getContext("2d")}catch{return!1}return!0}return!1};return F(),O=function(b){var D;if(F()===!0)return E.width=b.width,E.height=b.height,E.clearRect(0,0,b.width,b.height),E.putImageData(b,0,0),(D=new Image).src=_.toDataURL(),D;throw new Error("This method requires a Browser with Canvas-capability.")},T.prototype.decodeFrames=function(b){var D,k,Y,rt,vt,yt,Ot,K;if(this.animation){for(K=[],k=vt=0,yt=(Ot=this.animation.frames).length;vt<yt;k=++vt)D=Ot[k],Y=b.createImageData(D.width,D.height),rt=this.decodePixels(new Uint8Array(D.data)),this.copyToImageData(Y,rt),D.imageData=Y,K.push(D.image=O(Y));return K}},T.prototype.renderFrame=function(b,D){var k,Y,rt;return k=(Y=this.animation.frames)[D],rt=Y[D-1],D===0&&b.clearRect(0,0,this.width,this.height),(rt!=null?rt.disposeOp:void 0)===1?b.clearRect(rt.xOffset,rt.yOffset,rt.width,rt.height):(rt!=null?rt.disposeOp:void 0)===2&&b.putImageData(rt.imageData,rt.xOffset,rt.yOffset),k.blendOp===0&&b.clearRect(k.xOffset,k.yOffset,k.width,k.height),b.drawImage(k.image,k.xOffset,k.yOffset)},T.prototype.animate=function(b){var D,k,Y,rt,vt,yt,Ot=this;return k=0,yt=this.animation,rt=yt.numFrames,Y=yt.frames,vt=yt.numPlays,(D=function(){var K,kt;if(K=k++%rt,kt=Y[K],Ot.renderFrame(b,K),rt>1&&k/rt<vt)return Ot.animation._timeout=setTimeout(D,kt.delay)})()},T.prototype.stopAnimation=function(){var b;return clearTimeout((b=this.animation)!=null?b._timeout:void 0)},T.prototype.render=function(b){var D,k;return b._png&&b._png.stopAnimation(),b._png=this,b.width=this.width,b.height=this.height,D=b.getContext("2d"),this.animation?(this.decodeFrames(D),this.animate(D)):(k=D.createImageData(this.width,this.height),this.copyToImageData(k,this.decodePixels()),D.putImageData(k,0,0))},T}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nu(O){var _=0;if(O[_++]!==71||O[_++]!==73||O[_++]!==70||O[_++]!==56||(O[_++]+1&253)!=56||O[_++]!==97)throw new Error("Invalid GIF 87a/89a header.");var E=O[_++]|O[_++]<<8,T=O[_++]|O[_++]<<8,F=O[_++],b=F>>7,D=1<<(7&F)+1;O[_++],O[_++];var k=null,Y=null;b&&(k=_,Y=D,_+=3*D);var rt=!0,vt=[],yt=0,Ot=null,K=0,kt=null;for(this.width=E,this.height=T;rt&&_<O.length;)switch(O[_++]){case 33:switch(O[_++]){case 255:if(O[_]!==11||O[_+1]==78&&O[_+2]==69&&O[_+3]==84&&O[_+4]==83&&O[_+5]==67&&O[_+6]==65&&O[_+7]==80&&O[_+8]==69&&O[_+9]==50&&O[_+10]==46&&O[_+11]==48&&O[_+12]==3&&O[_+13]==1&&O[_+16]==0)_+=14,kt=O[_++]|O[_++]<<8,_++;else for(_+=12;;){if(!((At=O[_++])>=0))throw Error("Invalid block size");if(At===0)break;_+=At}break;case 249:if(O[_++]!==4||O[_+4]!==0)throw new Error("Invalid graphics extension block.");var It=O[_++];yt=O[_++]|O[_++]<<8,Ot=O[_++],(1&It)==0&&(Ot=null),K=It>>2&7,_++;break;case 254:for(;;){if(!((At=O[_++])>=0))throw Error("Invalid block size");if(At===0)break;_+=At}break;default:throw new Error("Unknown graphic control label: 0x"+O[_-1].toString(16))}break;case 44:var Qt=O[_++]|O[_++]<<8,wt=O[_++]|O[_++]<<8,Yt=O[_++]|O[_++]<<8,xe=O[_++]|O[_++]<<8,Be=O[_++],Qe=Be>>6&1,Er=1<<(7&Be)+1,De=k,pe=Y,sr=!1;Be>>7&&(sr=!0,De=_,pe=Er,_+=3*Er);var tr=_;for(_++;;){var At;if(!((At=O[_++])>=0))throw Error("Invalid block size");if(At===0)break;_+=At}vt.push({x:Qt,y:wt,width:Yt,height:xe,has_local_palette:sr,palette_offset:De,palette_size:pe,data_offset:tr,data_length:_-tr,transparent_index:Ot,interlaced:!!Qe,delay:yt,disposal:K});break;case 59:rt=!1;break;default:throw new Error("Unknown gif block: 0x"+O[_-1].toString(16))}this.numFrames=function(){return vt.length},this.loopCount=function(){return kt},this.frameInfo=function(Pt){if(Pt<0||Pt>=vt.length)throw new Error("Frame index out of range.");return vt[Pt]},this.decodeAndBlitFrameBGRA=function(Pt,ue){var oe=this.frameInfo(Pt),He=oe.width*oe.height,We=new Uint8Array(He);gp(O,oe.data_offset,We,He);var ir=oe.palette_offset,Le=oe.transparent_index;Le===null&&(Le=256);var Ne=oe.width,Ze=E-Ne,Xr=Ne,ft=4*(oe.y*E+oe.x),Ft=4*((oe.y+oe.height)*E+oe.x),Kt=ft,fe=4*Ze;oe.interlaced===!0&&(fe+=4*E*7);for(var ve=8,Te=0,Ae=We.length;Te<Ae;++Te){var Re=We[Te];if(Xr===0&&(Xr=Ne,(Kt+=fe)>=Ft&&(fe=4*Ze+4*E*(ve-1),Kt=ft+(Ne+Ze)*(ve<<1),ve>>=1)),Re===Le)Kt+=4;else{var gr=O[ir+3*Re],vr=O[ir+3*Re+1],Mr=O[ir+3*Re+2];ue[Kt++]=Mr,ue[Kt++]=vr,ue[Kt++]=gr,ue[Kt++]=255}--Xr}},this.decodeAndBlitFrameRGBA=function(Pt,ue){var oe=this.frameInfo(Pt),He=oe.width*oe.height,We=new Uint8Array(He);gp(O,oe.data_offset,We,He);var ir=oe.palette_offset,Le=oe.transparent_index;Le===null&&(Le=256);var Ne=oe.width,Ze=E-Ne,Xr=Ne,ft=4*(oe.y*E+oe.x),Ft=4*((oe.y+oe.height)*E+oe.x),Kt=ft,fe=4*Ze;oe.interlaced===!0&&(fe+=4*E*7);for(var ve=8,Te=0,Ae=We.length;Te<Ae;++Te){var Re=We[Te];if(Xr===0&&(Xr=Ne,(Kt+=fe)>=Ft&&(fe=4*Ze+4*E*(ve-1),Kt=ft+(Ne+Ze)*(ve<<1),ve>>=1)),Re===Le)Kt+=4;else{var gr=O[ir+3*Re],vr=O[ir+3*Re+1],Mr=O[ir+3*Re+2];ue[Kt++]=gr,ue[Kt++]=vr,ue[Kt++]=Mr,ue[Kt++]=255}--Xr}}}function gp(O,_,E,T){for(var F=O[_++],b=1<<F,D=b+1,k=D+1,Y=F+1,rt=(1<<Y)-1,vt=0,yt=0,Ot=0,K=O[_++],kt=new Int32Array(4096),It=null;;){for(;vt<16&&K!==0;)yt|=O[_++]<<vt,vt+=8,K===1?K=O[_++]:--K;if(vt<Y)break;var Qt=yt&rt;if(yt>>=Y,vt-=Y,Qt!==b){if(Qt===D)break;for(var wt=Qt<k?Qt:It,Yt=0,xe=wt;xe>b;)xe=kt[xe]>>8,++Yt;var Be=xe;if(Ot+Yt+(wt!==Qt?1:0)>T)return void U.log("Warning, gif stream longer than expected.");E[Ot++]=Be;var Qe=Ot+=Yt;for(wt!==Qt&&(E[Ot++]=Be),xe=wt;Yt--;)xe=kt[xe],E[--Qe]=255&xe,xe>>=8;It!==null&&k<4096&&(kt[k++]=It<<8|Be,k>=rt+1&&Y<12&&(++Y,rt=rt<<1|1)),It=Qt}else k=D+1,rt=(1<<(Y=F+1))-1,It=null}return Ot!==T&&U.log("Warning, gif stream shorter than expected."),E}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mh(O){var _,E,T,F,b,D=Math.floor,k=new Array(64),Y=new Array(64),rt=new Array(64),vt=new Array(64),yt=new Array(65535),Ot=new Array(65535),K=new Array(64),kt=new Array(64),It=[],Qt=0,wt=7,Yt=new Array(64),xe=new Array(64),Be=new Array(64),Qe=new Array(256),Er=new Array(2048),De=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],pe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],sr=[0,1,2,3,4,5,6,7,8,9,10,11],tr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],At=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Pt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],He=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function We(ft,Ft){for(var Kt=0,fe=0,ve=new Array,Te=1;Te<=16;Te++){for(var Ae=1;Ae<=ft[Te];Ae++)ve[Ft[fe]]=[],ve[Ft[fe]][0]=Kt,ve[Ft[fe]][1]=Te,fe++,Kt++;Kt*=2}return ve}function ir(ft){for(var Ft=ft[0],Kt=ft[1]-1;Kt>=0;)Ft&1<<Kt&&(Qt|=1<<wt),Kt--,--wt<0&&(Qt==255?(Le(255),Le(0)):Le(Qt),wt=7,Qt=0)}function Le(ft){It.push(ft)}function Ne(ft){Le(ft>>8&255),Le(255&ft)}function Ze(ft,Ft,Kt,fe,ve){for(var Te,Ae=ve[0],Re=ve[240],gr=function(fr,xr){var Ur,Nr,sn,Mn,Wn,Jn,li,mn,xn,qn,Fr=0;for(xn=0;xn<8;++xn){Ur=fr[Fr],Nr=fr[Fr+1],sn=fr[Fr+2],Mn=fr[Fr+3],Wn=fr[Fr+4],Jn=fr[Fr+5],li=fr[Fr+6];var ta=Ur+(mn=fr[Fr+7]),fn=Ur-mn,ts=Nr+li,ui=Nr-li,Ui=sn+Jn,Ks=sn-Jn,ci=Mn+Wn,Nu=Mn-Wn,ro=ta+ci,Ea=ta-ci,Ol=ts+Ui,no=ts-Ui;fr[Fr]=ro+Ol,fr[Fr+4]=ro-Ol;var hn=.707106781*(no+Ea);fr[Fr+2]=Ea+hn,fr[Fr+6]=Ea-hn;var Wr=.382683433*((ro=Nu+Ks)-(no=ui+fn)),ea=.5411961*ro+Wr,Yo=1.306562965*no+Wr,Zs=.707106781*(Ol=Ks+ui),$s=fn+Zs,ln=fn-Zs;fr[Fr+5]=ln+ea,fr[Fr+3]=ln-ea,fr[Fr+1]=$s+Yo,fr[Fr+7]=$s-Yo,Fr+=8}for(Fr=0,xn=0;xn<8;++xn){Ur=fr[Fr],Nr=fr[Fr+8],sn=fr[Fr+16],Mn=fr[Fr+24],Wn=fr[Fr+32],Jn=fr[Fr+40],li=fr[Fr+48];var _i=Ur+(mn=fr[Fr+56]),ja=Ur-mn,xa=Nr+li,Io=Nr-li,Cr=sn+Jn,Da=sn-Jn,lc=Mn+Wn,Tl=Mn-Wn,ws=_i+lc,Zt=_i-lc,ra=xa+Cr,go=xa-Cr;fr[Fr]=ws+ra,fr[Fr+32]=ws-ra;var ki=.707106781*(go+Zt);fr[Fr+16]=Zt+ki,fr[Fr+48]=Zt-ki;var oi=.382683433*((ws=Tl+Da)-(go=Io+ja)),No=.5411961*ws+oi,uc=1.306562965*go+oi,iu=.707106781*(ra=Da+Io),cc=ja+iu,Sa=ja-iu;fr[Fr+40]=Sa+No,fr[Fr+24]=Sa-No,fr[Fr+8]=cc+uc,fr[Fr+56]=cc-uc,Fr++}for(xn=0;xn<64;++xn)qn=fr[xn]*xr[xn],K[xn]=qn>0?qn+.5|0:qn-.5|0;return K}(ft,Ft),vr=0;vr<64;++vr)kt[De[vr]]=gr[vr];var Mr=kt[0]-Kt;Kt=kt[0],Mr==0?ir(fe[0]):(ir(fe[Ot[Te=32767+Mr]]),ir(yt[Te]));for(var Vr=63;Vr>0&&kt[Vr]==0;)Vr--;if(Vr==0)return ir(Ae),Kt;for(var gn,ke=1;ke<=Vr;){for(var Dt=ke;kt[ke]==0&&ke<=Vr;)++ke;var Bn=ke-Dt;if(Bn>=16){gn=Bn>>4;for(var Qr=1;Qr<=gn;++Qr)ir(Re);Bn&=15}Te=32767+kt[ke],ir(ve[(Bn<<4)+Ot[Te]]),ir(yt[Te]),ke++}return Vr!=63&&ir(Ae),Kt}function Xr(ft){ft=Math.min(Math.max(ft,1),100),b!=ft&&(function(Ft){for(var Kt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var ve=D((Kt[fe]*Ft+50)/100);ve=Math.min(Math.max(ve,1),255),k[De[fe]]=ve}for(var Te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Re=D((Te[Ae]*Ft+50)/100);Re=Math.min(Math.max(Re,1),255),Y[De[Ae]]=Re}for(var gr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],vr=0,Mr=0;Mr<8;Mr++)for(var Vr=0;Vr<8;Vr++)rt[vr]=1/(k[De[vr]]*gr[Mr]*gr[Vr]*8),vt[vr]=1/(Y[De[vr]]*gr[Mr]*gr[Vr]*8),vr++}(ft<50?Math.floor(5e3/ft):Math.floor(200-2*ft)),b=ft)}this.encode=function(ft,Ft){Ft&&Xr(Ft),It=new Array,Qt=0,wt=7,Ne(65496),Ne(65504),Ne(16),Le(74),Le(70),Le(73),Le(70),Le(0),Le(1),Le(1),Le(0),Ne(1),Ne(1),Le(0),Le(0),function(){Ne(65499),Ne(132),Le(0);for(var Nr=0;Nr<64;Nr++)Le(k[Nr]);Le(1);for(var sn=0;sn<64;sn++)Le(Y[sn])}(),function(Nr,sn){Ne(65472),Ne(17),Le(8),Ne(sn),Ne(Nr),Le(3),Le(1),Le(17),Le(0),Le(2),Le(17),Le(1),Le(3),Le(17),Le(1)}(ft.width,ft.height),function(){Ne(65476),Ne(418),Le(0);for(var Nr=0;Nr<16;Nr++)Le(pe[Nr+1]);for(var sn=0;sn<=11;sn++)Le(sr[sn]);Le(16);for(var Mn=0;Mn<16;Mn++)Le(tr[Mn+1]);for(var Wn=0;Wn<=161;Wn++)Le(At[Wn]);Le(1);for(var Jn=0;Jn<16;Jn++)Le(Pt[Jn+1]);for(var li=0;li<=11;li++)Le(ue[li]);Le(17);for(var mn=0;mn<16;mn++)Le(oe[mn+1]);for(var xn=0;xn<=161;xn++)Le(He[xn])}(),Ne(65498),Ne(12),Le(3),Le(1),Le(0),Le(2),Le(17),Le(3),Le(17),Le(0),Le(63),Le(0);var Kt=0,fe=0,ve=0;Qt=0,wt=7,this.encode.displayName="_encode_";for(var Te,Ae,Re,gr,vr,Mr,Vr,gn,ke,Dt=ft.data,Bn=ft.width,Qr=ft.height,fr=4*Bn,xr=0;xr<Qr;){for(Te=0;Te<fr;){for(vr=fr*xr+Te,Vr=-1,gn=0,ke=0;ke<64;ke++)Mr=vr+(gn=ke>>3)*fr+(Vr=4*(7&ke)),xr+gn>=Qr&&(Mr-=fr*(xr+1+gn-Qr)),Te+Vr>=fr&&(Mr-=Te+Vr-fr+4),Ae=Dt[Mr++],Re=Dt[Mr++],gr=Dt[Mr++],Yt[ke]=(Er[Ae]+Er[Re+256>>0]+Er[gr+512>>0]>>16)-128,xe[ke]=(Er[Ae+768>>0]+Er[Re+1024>>0]+Er[gr+1280>>0]>>16)-128,Be[ke]=(Er[Ae+1280>>0]+Er[Re+1536>>0]+Er[gr+1792>>0]>>16)-128;Kt=Ze(Yt,rt,Kt,_,T),fe=Ze(xe,vt,fe,E,F),ve=Ze(Be,vt,ve,E,F),Te+=32}xr+=8}if(wt>=0){var Ur=[];Ur[1]=wt+1,Ur[0]=(1<<wt+1)-1,ir(Ur)}return Ne(65497),new Uint8Array(It)},O=O||50,function(){for(var ft=String.fromCharCode,Ft=0;Ft<256;Ft++)Qe[Ft]=ft(Ft)}(),_=We(pe,sr),E=We(Pt,ue),T=We(tr,At),F=We(oe,He),function(){for(var ft=1,Ft=2,Kt=1;Kt<=15;Kt++){for(var fe=ft;fe<Ft;fe++)Ot[32767+fe]=Kt,yt[32767+fe]=[],yt[32767+fe][1]=Kt,yt[32767+fe][0]=fe;for(var ve=-(Ft-1);ve<=-ft;ve++)Ot[32767+ve]=Kt,yt[32767+ve]=[],yt[32767+ve][1]=Kt,yt[32767+ve][0]=Ft-1+ve;ft<<=1,Ft<<=1}}(),function(){for(var ft=0;ft<256;ft++)Er[ft]=19595*ft,Er[ft+256>>0]=38470*ft,Er[ft+512>>0]=7471*ft+32768,Er[ft+768>>0]=-11059*ft,Er[ft+1024>>0]=-21709*ft,Er[ft+1280>>0]=32768*ft+8421375,Er[ft+1536>>0]=-27439*ft,Er[ft+1792>>0]=-5329*ft}(),Xr(O)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mo(O,_){if(this.pos=0,this.buffer=O,this.datav=new DataView(O.buffer),this.is_with_alpha=!!_,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yp(O){function _(pe){if(!pe)throw Error("assert :P")}function E(pe,sr,tr){for(var At=0;4>At;At++)if(pe[sr+At]!=tr.charCodeAt(At))return!0;return!1}function T(pe,sr,tr,At,Pt){for(var ue=0;ue<Pt;ue++)pe[sr+ue]=tr[At+ue]}function F(pe,sr,tr,At){for(var Pt=0;Pt<At;Pt++)pe[sr+Pt]=tr}function b(pe){return new Int32Array(pe)}function D(pe,sr){for(var tr=[],At=0;At<pe;At++)tr.push(new sr);return tr}function k(pe,sr){var tr=[];return function At(Pt,ue,oe){for(var He=oe[ue],We=0;We<He&&(Pt.push(oe.length>ue+1?[]:new sr),!(oe.length<ue+1));We++)At(Pt[We],ue+1,oe)}(tr,0,pe),tr}var Y=function(){var pe=this;function sr(v,x){for(var N=1<<x-1>>>0;v&N;)N>>>=1;return N?(v&N-1)+N:v}function tr(v,x,N,H,et){_(!(H%N));do v[x+(H-=N)]=et;while(0<H)}function At(v,x,N,H,et){if(_(2328>=et),512>=et)var st=b(512);else if((st=b(et))==null)return 0;return function(ut,dt,gt,Tt,ae,we){var Oe,de,$e=dt,Fe=1<<gt,se=b(16),le=b(16);for(_(ae!=0),_(Tt!=null),_(ut!=null),_(0<gt),de=0;de<ae;++de){if(15<Tt[de])return 0;++se[Tt[de]]}if(se[0]==ae)return 0;for(le[1]=0,Oe=1;15>Oe;++Oe){if(se[Oe]>1<<Oe)return 0;le[Oe+1]=le[Oe]+se[Oe]}for(de=0;de<ae;++de)Oe=Tt[de],0<Tt[de]&&(we[le[Oe]++]=de);if(le[15]==1)return(Tt=new Pt).g=0,Tt.value=we[0],tr(ut,$e,1,Fe,Tt),Fe;var Ke,rr=-1,be=Fe-1,or=0,Tr=1,dn=1,Ce=1<<gt;for(de=0,Oe=1,ae=2;Oe<=gt;++Oe,ae<<=1){if(Tr+=dn<<=1,0>(dn-=se[Oe]))return 0;for(;0<se[Oe];--se[Oe])(Tt=new Pt).g=Oe,Tt.value=we[de++],tr(ut,$e+or,ae,Ce,Tt),or=sr(or,Oe)}for(Oe=gt+1,ae=2;15>=Oe;++Oe,ae<<=1){if(Tr+=dn<<=1,0>(dn-=se[Oe]))return 0;for(;0<se[Oe];--se[Oe]){if(Tt=new Pt,(or&be)!=rr){for($e+=Ce,Ke=1<<(rr=Oe)-gt;15>rr&&!(0>=(Ke-=se[rr]));)++rr,Ke<<=1;Fe+=Ce=1<<(Ke=rr-gt),ut[dt+(rr=or&be)].g=Ke+gt,ut[dt+rr].value=$e-dt-rr}Tt.g=Oe-gt,Tt.value=we[de++],tr(ut,$e+(or>>gt),ae,Ce,Tt),or=sr(or,Oe)}}return Tr!=2*le[15]-1?0:Fe}(v,x,N,H,et,st)}function Pt(){this.value=this.g=0}function ue(){this.value=this.g=0}function oe(){this.G=D(5,Pt),this.H=b(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=D(Oa,ue)}function He(v,x,N,H){_(v!=null),_(x!=null),_(2147483648>H),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=x,v.pa=N,v.Jd=x,v.Yc=N+H,v.Zc=4<=H?N+H-4+1:N,Te(v)}function We(v,x){for(var N=0;0<x--;)N|=Re(v,128)<<x;return N}function ir(v,x){var N=We(v,x);return Ae(v)?-N:N}function Le(v,x,N,H){var et,st=0;for(_(v!=null),_(x!=null),_(4294967288>H),v.Sb=H,v.Ra=0,v.u=0,v.h=0,4<H&&(H=4),et=0;et<H;++et)st+=x[N+et]<<8*et;v.Ra=st,v.bb=H,v.oa=x,v.pa=N}function Ne(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Tc-8>>>0,++v.bb,v.u-=8;Kt(v)&&(v.h=1,v.u=0)}function Ze(v,x){if(_(0<=x),!v.h&&x<=cu){var N=Ft(v)&es[x];return v.u+=x,Ne(v),N}return v.h=1,v.u=0}function Xr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ft(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ft(v){return v.Ra>>>(v.u&Tc-1)>>>0}function Kt(v){return _(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Tc}function fe(v,x){v.u=x,v.h=Kt(v)}function ve(v){v.u>=zu&&(_(v.u>=zu),Ne(v))}function Te(v){_(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(_(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function Ae(v){return We(v,1)}function Re(v,x){var N=v.Ca;0>v.b&&Te(v);var H=v.b,et=N*x>>>8,st=(v.I>>>H>et)+0;for(st?(N-=et,v.I-=et+1<<H>>>0):N=et+1,H=N,et=0;256<=H;)et+=8,H>>=8;return H=7^et+ha[H],v.b-=H,v.Ca=(N<<H)-1,st}function gr(v,x,N){v[x+0]=N>>24&255,v[x+1]=N>>16&255,v[x+2]=N>>8&255,v[x+3]=N>>0&255}function vr(v,x){return v[x+0]<<0|v[x+1]<<8}function Mr(v,x){return vr(v,x)|v[x+2]<<16}function Vr(v,x){return vr(v,x)|vr(v,x+2)<<16}function gn(v,x){var N=1<<x;return _(v!=null),_(0<x),v.X=b(N),v.X==null?0:(v.Mb=32-x,v.Xa=x,1)}function ke(v,x){_(v!=null),_(x!=null),_(v.Xa==x.Xa),T(x.X,0,v.X,0,1<<x.Xa)}function Dt(){this.X=[],this.Xa=this.Mb=0}function Bn(v,x,N,H){_(N!=null),_(H!=null);var et=N[0],st=H[0];return et==0&&(et=(v*st+x/2)/x),st==0&&(st=(x*et+v/2)/v),0>=et||0>=st?0:(N[0]=et,H[0]=st,1)}function Qr(v,x){return v+(1<<x)-1>>>x}function fr(v,x){return((4278255360&v)+(4278255360&x)>>>0&4278255360)+((16711935&v)+(16711935&x)>>>0&16711935)>>>0}function xr(v,x){pe[x]=function(N,H,et,st,ut,dt,gt){var Tt;for(Tt=0;Tt<ut;++Tt){var ae=pe[v](dt[gt+Tt-1],et,st+Tt);dt[gt+Tt]=fr(N[H+Tt],ae)}}}function Ur(){this.ud=this.hd=this.jd=0}function Nr(v,x){return((4278124286&(v^x))>>>1)+(v&x)>>>0}function sn(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Mn(v,x){return sn(v+(v-x+.5>>1))}function Wn(v,x,N){return Math.abs(x-N)-Math.abs(v-N)}function Jn(v,x,N,H,et,st,ut){for(H=st[ut-1],N=0;N<et;++N)st[ut+N]=H=fr(v[x+N],H)}function li(v,x,N,H,et){var st;for(st=0;st<N;++st){var ut=v[x+st],dt=ut>>8&255,gt=16711935&(gt=(gt=16711935&ut)+((dt<<16)+dt));H[et+st]=(4278255360&ut)+gt>>>0}}function mn(v,x){x.jd=v>>0&255,x.hd=v>>8&255,x.ud=v>>16&255}function xn(v,x,N,H,et,st){var ut;for(ut=0;ut<H;++ut){var dt=x[N+ut],gt=dt>>>8,Tt=dt,ae=255&(ae=(ae=dt>>>16)+((v.jd<<24>>24)*(gt<<24>>24)>>>5));Tt=255&(Tt=(Tt=Tt+((v.hd<<24>>24)*(gt<<24>>24)>>>5))+((v.ud<<24>>24)*(ae<<24>>24)>>>5)),et[st+ut]=(4278255360&dt)+(ae<<16)+Tt}}function qn(v,x,N,H,et){pe[x]=function(st,ut,dt,gt,Tt,ae,we,Oe,de){for(gt=we;gt<Oe;++gt)for(we=0;we<de;++we)Tt[ae++]=et(dt[H(st[ut++])])},pe[v]=function(st,ut,dt,gt,Tt,ae,we){var Oe=8>>st.b,de=st.Ea,$e=st.K[0],Fe=st.w;if(8>Oe)for(st=(1<<st.b)-1,Fe=(1<<Oe)-1;ut<dt;++ut){var se,le=0;for(se=0;se<de;++se)se&st||(le=H(gt[Tt++])),ae[we++]=et($e[le&Fe]),le>>=Oe}else pe["VP8LMapColor"+N](gt,Tt,$e,Fe,ae,we,ut,dt,de)}}function Fr(v,x,N,H,et){for(N=x+N;x<N;){var st=v[x++];H[et++]=st>>16&255,H[et++]=st>>8&255,H[et++]=st>>0&255}}function ta(v,x,N,H,et){for(N=x+N;x<N;){var st=v[x++];H[et++]=st>>16&255,H[et++]=st>>8&255,H[et++]=st>>0&255,H[et++]=st>>24&255}}function fn(v,x,N,H,et){for(N=x+N;x<N;){var st=(ut=v[x++])>>16&240|ut>>12&15,ut=ut>>0&240|ut>>28&15;H[et++]=st,H[et++]=ut}}function ts(v,x,N,H,et){for(N=x+N;x<N;){var st=(ut=v[x++])>>16&248|ut>>13&7,ut=ut>>5&224|ut>>3&31;H[et++]=st,H[et++]=ut}}function ui(v,x,N,H,et){for(N=x+N;x<N;){var st=v[x++];H[et++]=st>>0&255,H[et++]=st>>8&255,H[et++]=st>>16&255}}function Ui(v,x,N,H,et,st){if(st==0)for(N=x+N;x<N;)gr(H,((st=v[x++])[0]>>24|st[1]>>8&65280|st[2]<<8&16711680|st[3]<<24)>>>0),et+=32;else T(H,et,v,x,N)}function Ks(v,x){pe[x][0]=pe[v+"0"],pe[x][1]=pe[v+"1"],pe[x][2]=pe[v+"2"],pe[x][3]=pe[v+"3"],pe[x][4]=pe[v+"4"],pe[x][5]=pe[v+"5"],pe[x][6]=pe[v+"6"],pe[x][7]=pe[v+"7"],pe[x][8]=pe[v+"8"],pe[x][9]=pe[v+"9"],pe[x][10]=pe[v+"10"],pe[x][11]=pe[v+"11"],pe[x][12]=pe[v+"12"],pe[x][13]=pe[v+"13"],pe[x][14]=pe[v+"0"],pe[x][15]=pe[v+"0"]}function ci(v){return v==Np||v==Fp||v==Rc||v==du}function Nu(){this.eb=[],this.size=this.A=this.fb=0}function ro(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ea(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nu,this.f.kb=new ro,this.sd=null}function Ol(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function no(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hn(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Wr(v,x){var N=v.T,H=x.ba.f.RGBA,et=H.eb,st=H.fb+v.ka*H.A,ut=Uo[x.ba.S],dt=v.y,gt=v.O,Tt=v.f,ae=v.N,we=v.ea,Oe=v.W,de=x.cc,$e=x.dc,Fe=x.Mc,se=x.Nc,le=v.ka,Ke=v.ka+v.T,rr=v.U,be=rr+1>>1;for(le==0?ut(dt,gt,null,null,Tt,ae,we,Oe,Tt,ae,we,Oe,et,st,null,null,rr):(ut(x.ec,x.fc,dt,gt,de,$e,Fe,se,Tt,ae,we,Oe,et,st-H.A,et,st,rr),++N);le+2<Ke;le+=2)de=Tt,$e=ae,Fe=we,se=Oe,ae+=v.Rc,Oe+=v.Rc,st+=2*H.A,ut(dt,(gt+=2*v.fa)-v.fa,dt,gt,de,$e,Fe,se,Tt,ae,we,Oe,et,st-H.A,et,st,rr);return gt+=v.fa,v.j+Ke<v.o?(T(x.ec,x.fc,dt,gt,rr),T(x.cc,x.dc,Tt,ae,be),T(x.Mc,x.Nc,we,Oe,be),N--):1&Ke||ut(dt,gt,null,null,Tt,ae,we,Oe,Tt,ae,we,Oe,et,st+H.A,null,null,rr),N}function ea(v,x,N){var H=v.F,et=[v.J];if(H!=null){var st=v.U,ut=x.ba.S,dt=ut==$h||ut==Rc;x=x.ba.f.RGBA;var gt=[0],Tt=v.ka;gt[0]=v.T,v.Kb&&(Tt==0?--gt[0]:(--Tt,et[0]-=v.width),v.j+v.ka+v.T==v.o&&(gt[0]=v.o-v.j-Tt));var ae=x.eb;Tt=x.fb+Tt*x.A,v=Bf(H,et[0],v.width,st,gt,ae,Tt+(dt?0:3),x.A),_(N==gt),v&&ci(ut)&&Zi(ae,Tt,dt,st,gt,x.A)}return 0}function Yo(v){var x=v.ma,N=x.ba.S,H=11>N,et=N==Zh||N==kf||N==$h||N==zf||N==12||ci(N);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Ff(x.Oa,v,et?11:12))return 0;if(et&&ci(N)&&jr(),v.da)alert("todo:use_scaling");else{if(H){if(x.Ib=hn,v.Kb){if(N=v.U+1>>1,x.memory=b(v.U+2*N),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+v.U,x.Mc=x.cc,x.Nc=x.dc+N,x.Ib=Wr,jr()}}else alert("todo:EmitYUV");et&&(x.Jb=ea,H&&ze())}if(H&&!Yf){for(v=0;256>v;++v)kp[v]=89858*(v-128)+td>>Qh,Am[v]=-22014*(v-128)+td,Lm[v]=-45773*(v-128),Cm[v]=113618*(v-128)+td>>Qh;for(v=Wf;v<Up;++v)x=76283*(v-16)+td>>Qh,Rm[v-Wf]=Os(x,255),Pm[v-Wf]=Os(x+8>>4,15);Yf=1}return 1}function Zs(v){var x=v.ma,N=v.U,H=v.T;return _(!(1&v.ka)),0>=N||0>=H?0:(N=x.Ib(v,x),x.Jb!=null&&x.Jb(v,x,N),x.Dc+=N,1)}function $s(v){v.ma.memory=null}function ln(v,x,N,H){return Ze(v,8)!=47?0:(x[0]=Ze(v,14)+1,N[0]=Ze(v,14)+1,H[0]=Ze(v,1),Ze(v,3)!=0?0:!v.h)}function _i(v,x){if(4>v)return v+1;var N=v-2>>1;return(2+(1&v)<<N)+Ze(x,N)+1}function ja(v,x){return 120<x?x-120:1<=(N=((N=jp[x-1])>>4)*v+(8-(15&N)))?N:1;var N}function xa(v,x,N){var H=Ft(N),et=v[x+=255&H].g-8;return 0<et&&(fe(N,N.u+8),H=Ft(N),x+=v[x].value,x+=H&(1<<et)-1),fe(N,N.u+v[x].g),v[x].value}function Io(v,x,N){return N.g+=v.g,N.value+=v.value<<x>>>0,_(8>=N.g),v.g}function Cr(v,x,N){var H=v.xc;return _((x=H==0?0:v.vc[v.md*(N>>H)+(x>>H)])<v.Wb),v.Ya[x]}function Da(v,x,N,H){var et=v.ab,st=v.c*x,ut=v.C;x=ut+x;var dt=N,gt=H;for(H=v.Ta,N=v.Ua;0<et--;){var Tt=v.gc[et],ae=ut,we=x,Oe=dt,de=gt,$e=(gt=H,dt=N,Tt.Ea);switch(_(ae<we),_(we<=Tt.nc),Tt.hc){case 2:Kh(Oe,de,(we-ae)*$e,gt,dt);break;case 0:var Fe=ae,se=we,le=gt,Ke=dt,rr=(Ce=Tt).Ea;Fe==0&&(Xh(Oe,de,null,null,1,le,Ke),Jn(Oe,de+1,0,0,rr-1,le,Ke+1),de+=rr,Ke+=rr,++Fe);for(var be=1<<Ce.b,or=be-1,Tr=Qr(rr,Ce.b),dn=Ce.K,Ce=Ce.w+(Fe>>Ce.b)*Tr;Fe<se;){var Oi=dn,Ei=Ce,di=1;for(fu(Oe,de,le,Ke-rr,1,le,Ke);di<rr;){var ni=(di&~or)+be;ni>rr&&(ni=rr),(0,Ls[Oi[Ei++]>>8&15])(Oe,de+ +di,le,Ke+di-rr,ni-di,le,Ke+di),di=ni}de+=rr,Ke+=rr,++Fe&or||(Ce+=Tr)}we!=Tt.nc&&T(gt,dt-$e,gt,dt+(we-ae-1)*$e,$e);break;case 1:for($e=Oe,se=de,rr=(Oe=Tt.Ea)-(Ke=Oe&~(le=(de=1<<Tt.b)-1)),Fe=Qr(Oe,Tt.b),be=Tt.K,Tt=Tt.w+(ae>>Tt.b)*Fe;ae<we;){for(or=be,Tr=Tt,dn=new Ur,Ce=se+Ke,Oi=se+Oe;se<Ce;)mn(or[Tr++],dn),Ua(dn,$e,se,de,gt,dt),se+=de,dt+=de;se<Oi&&(mn(or[Tr++],dn),Ua(dn,$e,se,rr,gt,dt),se+=rr,dt+=rr),++ae&le||(Tt+=Fe)}break;case 3:if(Oe==gt&&de==dt&&0<Tt.b){for(se=gt,Oe=$e=dt+(we-ae)*$e-(Ke=(we-ae)*Qr(Tt.Ea,Tt.b)),de=gt,le=dt,Fe=[],Ke=(rr=Ke)-1;0<=Ke;--Ke)Fe[Ke]=de[le+Ke];for(Ke=rr-1;0<=Ke;--Ke)se[Oe+Ke]=Fe[Ke];Cs(Tt,ae,we,gt,$e,gt,dt)}else Cs(Tt,ae,we,Oe,de,gt,dt)}dt=H,gt=N}gt!=N&&T(H,N,dt,gt,st)}function lc(v,x){var N=v.V,H=v.Ba+v.c*v.C,et=x-v.C;if(_(x<=v.l.o),_(16>=et),0<et){var st=v.l,ut=v.Ta,dt=v.Ua,gt=st.width;if(Da(v,et,N,H),et=dt=[dt],_((N=v.C)<(H=x)),_(st.v<st.va),H>st.o&&(H=st.o),N<st.j){var Tt=st.j-N;N=st.j,et[0]+=Tt*gt}if(N>=H?N=0:(et[0]+=4*st.v,st.ka=N-st.j,st.U=st.va-st.v,st.T=H-N,N=1),N){if(dt=dt[0],11>(N=v.ca).S){var ae=N.f.RGBA,we=(H=N.S,et=st.U,st=st.T,Tt=ae.eb,ae.A),Oe=st;for(ae=ae.fb+v.Ma*ae.A;0<Oe--;){var de=ut,$e=dt,Fe=et,se=Tt,le=ae;switch(H){case Uf:As(de,$e,Fe,se,le);break;case Zh:al(de,$e,Fe,se,le);break;case Np:al(de,$e,Fe,se,le),Zi(se,le,0,Fe,1,0);break;case bg:Il(de,$e,Fe,se,le);break;case kf:Ui(de,$e,Fe,se,le,1);break;case Fp:Ui(de,$e,Fe,se,le,1),Zi(se,le,0,Fe,1,0);break;case $h:Ui(de,$e,Fe,se,le,0);break;case Rc:Ui(de,$e,Fe,se,le,0),Zi(se,le,1,Fe,1,0);break;case zf:Rs(de,$e,Fe,se,le);break;case du:Rs(de,$e,Fe,se,le),Ac(se,le,Fe,1,0);break;case Cg:Ml(de,$e,Fe,se,le);break;default:_(0)}dt+=gt,ae+=we}v.Ma+=st}else alert("todo:EmitRescaledRowsYUVA");_(v.Ma<=N.height)}}v.C=x,_(v.C<=v.i)}function Tl(v){var x;if(0<v.ua)return 0;for(x=0;x<v.Wb;++x){var N=v.Ya[x].G,H=v.Ya[x].H;if(0<N[1][H[1]+0].g||0<N[2][H[2]+0].g||0<N[3][H[3]+0].g)return 0}return 1}function ws(v,x,N,H,et,st){if(v.Z!=0){var ut=v.qd,dt=v.rd;for(_(ul[v.Z]!=null);x<N;++x)ul[v.Z](ut,dt,H,et,H,et,st),ut=H,dt=et,et+=st;v.qd=ut,v.rd=dt}}function Zt(v,x){var N=v.l.ma,H=N.Z==0||N.Z==1?v.l.j:v.C;if(H=v.C<H?H:v.C,_(x<=v.l.o),x>H){var et=v.l.width,st=N.ca,ut=N.tb+et*H,dt=v.V,gt=v.Ba+v.c*H,Tt=v.gc;_(v.ab==1),_(Tt[0].hc==3),Ap(Tt[0],H,x,dt,gt,st,ut),ws(N,H,x,st,ut,et)}v.C=v.Ma=x}function ra(v,x,N,H,et,st,ut){var dt=v.$/H,gt=v.$%H,Tt=v.m,ae=v.s,we=N+v.$,Oe=we;et=N+H*et;var de=N+H*st,$e=280+ae.ua,Fe=v.Pb?dt:16777216,se=0<ae.ua?ae.Wa:null,le=ae.wc,Ke=we<de?Cr(ae,gt,dt):null;_(v.C<st),_(de<=et);var rr=!1;t:for(;;){for(;rr||we<de;){var be=0;if(dt>=Fe){var or=we-N;_((Fe=v).Pb),Fe.wd=Fe.m,Fe.xd=or,0<Fe.s.ua&&ke(Fe.s.Wa,Fe.s.vb),Fe=dt+za}if(gt&le||(Ke=Cr(ae,gt,dt)),_(Ke!=null),Ke.Qb&&(x[we]=Ke.qb,rr=!0),!rr)if(ve(Tt),Ke.jc){be=Tt,or=x;var Tr=we,dn=Ke.pd[Ft(be)&Oa-1];_(Ke.jc),256>dn.g?(fe(be,be.u+dn.g),or[Tr]=dn.value,be=0):(fe(be,be.u+dn.g-256),_(256<=dn.value),be=dn.value),be==0&&(rr=!0)}else be=xa(Ke.G[0],Ke.H[0],Tt);if(Tt.h)break;if(rr||256>be){if(!rr)if(Ke.nd)x[we]=(Ke.qb|be<<8)>>>0;else{if(ve(Tt),rr=xa(Ke.G[1],Ke.H[1],Tt),ve(Tt),or=xa(Ke.G[2],Ke.H[2],Tt),Tr=xa(Ke.G[3],Ke.H[3],Tt),Tt.h)break;x[we]=(Tr<<24|rr<<16|be<<8|or)>>>0}if(rr=!1,++we,++gt>=H&&(gt=0,++dt,ut!=null&&dt<=st&&!(dt%16)&&ut(v,dt),se!=null))for(;Oe<we;)be=x[Oe++],se.X[(506832829*be&4294967295)>>>se.Mb]=be}else if(280>be){if(be=_i(be-256,Tt),or=xa(Ke.G[4],Ke.H[4],Tt),ve(Tt),or=ja(H,or=_i(or,Tt)),Tt.h)break;if(we-N<or||et-we<be)break t;for(Tr=0;Tr<be;++Tr)x[we+Tr]=x[we+Tr-or];for(we+=be,gt+=be;gt>=H;)gt-=H,++dt,ut!=null&&dt<=st&&!(dt%16)&&ut(v,dt);if(_(we<=et),gt&le&&(Ke=Cr(ae,gt,dt)),se!=null)for(;Oe<we;)be=x[Oe++],se.X[(506832829*be&4294967295)>>>se.Mb]=be}else{if(!(be<$e))break t;for(rr=be-280,_(se!=null);Oe<we;)be=x[Oe++],se.X[(506832829*be&4294967295)>>>se.Mb]=be;be=we,_(!(rr>>>(or=se).Xa)),x[be]=or.X[rr],rr=!0}rr||_(Tt.h==Kt(Tt))}if(v.Pb&&Tt.h&&we<et)_(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&ke(v.s.vb,v.s.Wa);else{if(Tt.h)break t;ut!=null&&ut(v,dt>st?st:dt),v.a=0,v.$=we-N}return 1}return v.a=3,0}function go(v){_(v!=null),v.vc=null,v.yc=null,v.Ya=null;var x=v.Wa;x!=null&&(x.X=null),v.vb=null,_(v!=null)}function ki(){var v=new uu;return v==null?null:(v.a=0,v.xb=Ic,Ks("Predictor","VP8LPredictors"),Ks("Predictor","VP8LPredictors_C"),Ks("PredictorAdd","VP8LPredictorsAdd"),Ks("PredictorAdd","VP8LPredictorsAdd_C"),Kh=li,Ua=xn,As=Fr,al=ta,Rs=fn,Ml=ts,Il=ui,pe.VP8LMapColor32b=bc,pe.VP8LMapColor8b=Rp,v)}function oi(v,x,N,H,et){var st=1,ut=[v],dt=[x],gt=H.m,Tt=H.s,ae=null,we=0;t:for(;;){if(N)for(;st&&Ze(gt,1);){var Oe=ut,de=dt,$e=H,Fe=1,se=$e.m,le=$e.gc[$e.ab],Ke=Ze(se,2);if($e.Oc&1<<Ke)st=0;else{switch($e.Oc|=1<<Ke,le.hc=Ke,le.Ea=Oe[0],le.nc=de[0],le.K=[null],++$e.ab,_(4>=$e.ab),Ke){case 0:case 1:le.b=Ze(se,3)+2,Fe=oi(Qr(le.Ea,le.b),Qr(le.nc,le.b),0,$e,le.K),le.K=le.K[0];break;case 3:var rr,be=Ze(se,8)+1,or=16<be?0:4<be?1:2<be?2:3;if(Oe[0]=Qr(le.Ea,or),le.b=or,rr=Fe=oi(be,1,0,$e,le.K)){var Tr,dn=be,Ce=le,Oi=1<<(8>>Ce.b),Ei=b(Oi);if(Ei==null)rr=0;else{var di=Ce.K[0],ni=Ce.w;for(Ei[0]=Ce.K[0][0],Tr=1;Tr<1*dn;++Tr)Ei[Tr]=fr(di[ni+Tr],Ei[Tr-1]);for(;Tr<4*Oi;++Tr)Ei[Tr]=0;Ce.K[0]=null,Ce.K[0]=Ei,rr=1}}Fe=rr;break;case 2:break;default:_(0)}st=Fe}}if(ut=ut[0],dt=dt[0],st&&Ze(gt,1)&&!(st=1<=(we=Ze(gt,4))&&11>=we)){H.a=3;break t}var ji;if(ji=st)e:{var Di,Nn,Eo,Ta=H,xo=ut,ba=dt,Hr=we,Va=N,as=Ta.m,So=Ta.s,Ko=[null],da=1,Wi=0,cl=Em[Hr];r:for(;;){if(Va&&Ze(as,1)){var pi=Ze(as,3)+2,Bl=Qr(xo,pi),vu=Qr(ba,pi),Nc=Bl*vu;if(!oi(Bl,vu,0,Ta,Ko))break r;for(Ko=Ko[0],So.xc=pi,Di=0;Di<Nc;++Di){var gu=Ko[Di]>>8&65535;Ko[Di]=gu,gu>=da&&(da=gu+1)}}if(as.h)break r;for(Nn=0;5>Nn;++Nn){var lo=Lg[Nn];!Nn&&0<Hr&&(lo+=1<<Hr),Wi<lo&&(Wi=lo)}var Hf=D(da*cl,Pt),jg=da,zp=D(jg,oe);if(zp==null)var zi=null;else _(65536>=jg),zi=zp;var Xf=b(Wi);if(zi==null||Xf==null||Hf==null){Ta.a=1;break r}var rd=Hf;for(Di=Eo=0;Di<da;++Di){var Ns=zi[Di],Fc=Ns.G,Kf=Ns.H,nd=0,id=1,Dg=0;for(Nn=0;5>Nn;++Nn){lo=Lg[Nn],Fc[Nn]=rd,Kf[Nn]=Eo,!Nn&&0<Hr&&(lo+=1<<Hr);i:{var fl,Gl=lo,Vu=Ta,Zf=Xf,Vp=rd,Bg=Eo,Wp=0,Ul=Vu.m,$f=Ze(Ul,1);if(F(Zf,0,0,Gl),$f){var hr=Ze(Ul,1)+1,Nm=Ze(Ul,1),Gg=Ze(Ul,Nm==0?1:8);Zf[Gg]=1,hr==2&&(Zf[Gg=Ze(Ul,8)]=1);var od=1}else{var Dr=b(19),ko=Ze(Ul,4)+4;if(19<ko){Vu.a=3;var Wa=0;break i}for(fl=0;fl<ko;++fl)Dr[_m[fl]]=Ze(Ul,3);var yi=void 0,kl=void 0,ao=Vu,Ca=Dr,ad=Gl,Yp=Zf,hl=0,dl=ao.m,Ug=8,jc=D(128,Pt);n:for(;At(jc,0,7,Ca,19);){if(Ze(dl,1)){var kg=2+2*Ze(dl,3);if((yi=2+Ze(dl,kg))>ad)break n}else yi=ad;for(kl=0;kl<ad&&yi--;){ve(dl);var Hp=jc[0+(127&Ft(dl))];fe(dl,dl.u+Hp.g);var zl=Hp.value;if(16>zl)Yp[kl++]=zl,zl!=0&&(Ug=zl);else{var zg=zl==16,sd=zl-16,Fm=ym[sd],Vg=Ze(dl,gm[sd])+Fm;if(kl+Vg>ad)break n;for(var jm=zg?Ug:0;0<Vg--;)Yp[kl++]=jm}}hl=1;break n}hl||(ao.a=3),od=hl}(od=od&&!Ul.h)&&(Wp=At(Vp,Bg,8,Zf,Gl)),od&&Wp!=0?Wa=Wp:(Vu.a=3,Wa=0)}if(Wa==0)break r;if(id&&mm[Nn]==1&&(id=rd[Eo].g==0),nd+=rd[Eo].g,Eo+=Wa,3>=Nn){var yu,ld=Xf[0];for(yu=1;yu<lo;++yu)Xf[yu]>ld&&(ld=Xf[yu]);Dg+=ld}}if(Ns.nd=id,Ns.Qb=0,id&&(Ns.qb=(Fc[3][Kf[3]+0].value<<24|Fc[1][Kf[1]+0].value<<16|Fc[2][Kf[2]+0].value)>>>0,nd==0&&256>Fc[0][Kf[0]+0].value&&(Ns.Qb=1,Ns.qb+=Fc[0][Kf[0]+0].value<<8)),Ns.jc=!Ns.Qb&&6>Dg,Ns.jc){var ss,Vl=Ns;for(ss=0;ss<Oa;++ss){var Wl=ss,Ya=Vl.pd[Wl],ud=Vl.G[0][Vl.H[0]+Wl];256<=ud.value?(Ya.g=ud.g+256,Ya.value=ud.value):(Ya.g=0,Ya.value=0,Wl>>=Io(ud,8,Ya),Wl>>=Io(Vl.G[1][Vl.H[1]+Wl],16,Ya),Wl>>=Io(Vl.G[2][Vl.H[2]+Wl],0,Ya),Io(Vl.G[3][Vl.H[3]+Wl],24,Ya))}}}So.vc=Ko,So.Wb=da,So.Ya=zi,So.yc=Hf,ji=1;break e}ji=0}if(!(st=ji)){H.a=3;break t}if(0<we){if(Tt.ua=1<<we,!gn(Tt.Wa,we)){H.a=1,st=0;break t}}else Tt.ua=0;var Xp=H,pl=ut,Dm=dt,cd=Xp.s,La=cd.xc;if(Xp.c=pl,Xp.i=Dm,cd.md=Qr(pl,La),cd.wc=La==0?-1:(1<<La)-1,N){H.xb=wm;break t}if((ae=b(ut*dt))==null){H.a=1,st=0;break t}st=(st=ra(H,ae,0,ut,dt,dt,null))&&!gt.h;break t}return st?(et!=null?et[0]=ae:(_(ae==null),_(N)),H.$=0,N||go(Tt)):go(Tt),st}function No(v,x){var N=v.c*v.i,H=N+x+16*x;return _(v.c<=x),v.V=b(H),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+N+x,1)}function uc(v,x){var N=v.C,H=x-N,et=v.V,st=v.Ba+v.c*N;for(_(x<=v.l.o);0<H;){var ut=16<H?16:H,dt=v.l.ma,gt=v.l.width,Tt=gt*ut,ae=dt.ca,we=dt.tb+gt*N,Oe=v.Ta,de=v.Ua;Da(v,ut,et,st),Pp(Oe,de,ae,we,Tt),ws(dt,N,N+ut,ae,we,gt),H-=ut,et+=ut*v.c,N+=ut}_(N==x),v.C=v.Ma=x}function iu(){this.ub=this.yd=this.td=this.Rb=0}function cc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sa(){this.Fb=this.Bb=this.Cb=0,this.Zb=b(4),this.Lb=b(4)}function Nh(){this.Yb=function(){var v=[];return function x(N,H,et){for(var st=et[H],ut=0;ut<st&&(N.push(et.length>H+1?[]:0),!(et.length<H+1));ut++)x(N[ut],H+1,et)}(v,0,[3,11]),v}()}function Fu(){this.jb=b(3),this.Wc=k([4,8],Nh),this.Xc=k([4,17],Nh)}function ou(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new b(4),this.od=new b(4)}function fc(){this.ld=this.La=this.dd=this.tc=0}function Fh(){this.Na=this.la=0}function hc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Js(){this.ad=b(384),this.Za=0,this.Ob=b(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jh(){this.uc=this.M=this.Nb=0,this.wa=Array(new fc),this.Y=0,this.ya=Array(new Js),this.aa=0,this.l=new dc}function Dh(){this.y=b(16),this.f=b(8),this.ea=b(8)}function Ep(){this.cb=this.a=0,this.sc="",this.m=new Xr,this.Od=new iu,this.Kc=new cc,this.ed=new ou,this.Qa=new Sa,this.Ic=this.$c=this.Aa=0,this.D=new jh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=D(8,Xr),this.ia=0,this.pb=D(4,hc),this.Pa=new Fu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dh),this.Hd=0,this.rb=Array(new Fh),this.sb=0,this.wa=Array(new fc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Js),this.L=this.aa=0,this.gd=k([4,2],fc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Os(v,x){return 0>v?0:v>x?x:v}function dc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Of(){var v=new Ep;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Mc||(Mc=vc)),v}function yo(v,x,N){return v.a==0&&(v.a=x,v.sc=N,v.cb=0),0}function qs(v,x,N){return 3<=N&&v[x+0]==157&&v[x+1]==1&&v[x+2]==42}function pc(v,x){if(v==null)return 0;if(v.a=0,v.sc="OK",x==null)return yo(v,2,"null VP8Io passed to VP8GetHeaders()");var N=x.data,H=x.w,et=x.ha;if(4>et)return yo(v,7,"Truncated header.");var st=N[H+0]|N[H+1]<<8|N[H+2]<<16,ut=v.Od;if(ut.Rb=!(1&st),ut.td=st>>1&7,ut.yd=st>>4&1,ut.ub=st>>5,3<ut.td)return yo(v,3,"Incorrect keyframe parameters.");if(!ut.yd)return yo(v,4,"Frame not displayable.");H+=3,et-=3;var dt=v.Kc;if(ut.Rb){if(7>et)return yo(v,7,"cannot parse picture header");if(!qs(N,H,et))return yo(v,3,"Bad code word");dt.c=16383&(N[H+4]<<8|N[H+3]),dt.Td=N[H+4]>>6,dt.i=16383&(N[H+6]<<8|N[H+5]),dt.Ud=N[H+6]>>6,H+=7,et-=7,v.za=dt.c+15>>4,v.Ub=dt.i+15>>4,x.width=dt.c,x.height=dt.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,F((st=v.Pa).jb,0,255,st.jb.length),_((st=v.Qa)!=null),st.Cb=0,st.Bb=0,st.Fb=1,F(st.Zb,0,0,st.Zb.length),F(st.Lb,0,0,st.Lb)}if(ut.ub>et)return yo(v,7,"bad partition length");He(st=v.m,N,H,ut.ub),H+=ut.ub,et-=ut.ub,ut.Rb&&(dt.Ld=Ae(st),dt.Kd=Ae(st)),dt=v.Qa;var gt,Tt=v.Pa;if(_(st!=null),_(dt!=null),dt.Cb=Ae(st),dt.Cb){if(dt.Bb=Ae(st),Ae(st)){for(dt.Fb=Ae(st),gt=0;4>gt;++gt)dt.Zb[gt]=Ae(st)?ir(st,7):0;for(gt=0;4>gt;++gt)dt.Lb[gt]=Ae(st)?ir(st,6):0}if(dt.Bb)for(gt=0;3>gt;++gt)Tt.jb[gt]=Ae(st)?We(st,8):255}else dt.Bb=0;if(st.Ka)return yo(v,3,"cannot parse segment header");if((dt=v.ed).zd=Ae(st),dt.Tb=We(st,6),dt.wb=We(st,3),dt.Pc=Ae(st),dt.Pc&&Ae(st)){for(Tt=0;4>Tt;++Tt)Ae(st)&&(dt.vd[Tt]=ir(st,6));for(Tt=0;4>Tt;++Tt)Ae(st)&&(dt.od[Tt]=ir(st,6))}if(v.L=dt.Tb==0?0:dt.zd?1:2,st.Ka)return yo(v,3,"cannot parse filter header");var ae=et;if(et=gt=H,H=gt+ae,dt=ae,v.Xb=(1<<We(v.m,2))-1,ae<3*(Tt=v.Xb))N=7;else{for(gt+=3*Tt,dt-=3*Tt,ae=0;ae<Tt;++ae){var we=N[et+0]|N[et+1]<<8|N[et+2]<<16;we>dt&&(we=dt),He(v.Jc[+ae],N,gt,we),gt+=we,dt-=we,et+=3}He(v.Jc[+Tt],N,gt,dt),N=gt<H?0:5}if(N!=0)return yo(v,N,"cannot parse partitions");for(N=We(gt=v.m,7),et=Ae(gt)?ir(gt,4):0,H=Ae(gt)?ir(gt,4):0,dt=Ae(gt)?ir(gt,4):0,Tt=Ae(gt)?ir(gt,4):0,gt=Ae(gt)?ir(gt,4):0,ae=v.Qa,we=0;4>we;++we){if(ae.Cb){var Oe=ae.Zb[we];ae.Fb||(Oe+=N)}else{if(0<we){v.pb[we]=v.pb[0];continue}Oe=N}var de=v.pb[we];de.Sc[0]=Pc[Os(Oe+et,127)],de.Sc[1]=Jh[Os(Oe+0,127)],de.Eb[0]=2*Pc[Os(Oe+H,127)],de.Eb[1]=101581*Jh[Os(Oe+dt,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=Pc[Os(Oe+Tt,117)],de.Qc[1]=Jh[Os(Oe+gt,127)],de.lc=Oe+gt}if(!ut.Rb)return yo(v,4,"Not a key frame.");for(Ae(st),ut=v.Pa,N=0;4>N;++N){for(et=0;8>et;++et)for(H=0;3>H;++H)for(dt=0;11>dt;++dt)Tt=Re(st,Gp[N][et][H][dt])?We(st,8):xm[N][et][H][dt],ut.Wc[N][et].Yb[H][dt]=Tt;for(et=0;17>et;++et)ut.Xc[N][et]=ut.Wc[N][Sm[et]]}return v.kc=Ae(st),v.kc&&(v.Bd=We(st,8)),v.cb=1}function vc(v,x,N,H,et,st,ut){var dt=x[et].Yb[N];for(N=0;16>et;++et){if(!Re(v,dt[N+0]))return et;for(;!Re(v,dt[N+1]);)if(dt=x[++et].Yb[0],N=0,et==16)return 16;var gt=x[et+1].Yb;if(Re(v,dt[N+2])){var Tt=v,ae=0;if(Re(Tt,(Oe=dt)[(we=N)+3]))if(Re(Tt,Oe[we+6])){for(dt=0,we=2*(ae=Re(Tt,Oe[we+8]))+(Oe=Re(Tt,Oe[we+9+ae])),ae=0,Oe=Ag[we];Oe[dt];++dt)ae+=ae+Re(Tt,Oe[dt]);ae+=3+(8<<we)}else Re(Tt,Oe[we+7])?(ae=7+2*Re(Tt,165),ae+=Re(Tt,145)):ae=5+Re(Tt,159);else ae=Re(Tt,Oe[we+4])?3+Re(Tt,Oe[we+5]):2;dt=gt[2]}else ae=1,dt=gt[1];gt=ut+Dp[et],0>(Tt=v).b&&Te(Tt);var we,Oe=Tt.b,de=(we=Tt.Ca>>1)-(Tt.I>>Oe)>>31;--Tt.b,Tt.Ca+=de,Tt.Ca|=1,Tt.I-=(we+1&de)<<Oe,st[gt]=((ae^de)-de)*H[(0<et)+0]}return 16}function Bh(v){var x=v.rb[v.sb-1];x.la=0,x.Na=0,F(v.zc,0,0,v.zc.length),v.ja=0}function xp(v,x){if(v==null)return 0;if(x==null)return yo(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!pc(v,x))return 0;if(_(v.cb),x.ac==null||x.ac(x)){x.ob&&(v.L=0);var N=ed[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=x.v-N>>4,v.zb=x.j-N>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=x.o+15+N>>4,v.Hb=x.va+15+N>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var H=v.ed;for(N=0;4>N;++N){var et;if(v.Qa.Cb){var st=v.Qa.Lb[N];v.Qa.Fb||(st+=H.Tb)}else st=H.Tb;for(et=0;1>=et;++et){var ut=v.gd[N][et],dt=st;if(H.Pc&&(dt+=H.vd[0],et&&(dt+=H.od[0])),0<(dt=0>dt?0:63<dt?63:dt)){var gt=dt;0<H.wb&&(gt=4<H.wb?gt>>2:gt>>1)>9-H.wb&&(gt=9-H.wb),1>gt&&(gt=1),ut.dd=gt,ut.tc=2*dt+gt,ut.ld=40<=dt?2:15<=dt?1:0}else ut.tc=0;ut.La=et}}}N=0}else yo(v,6,"Frame setup failed"),N=v.a;if(N=N==0){if(N){v.$c=0,0<v.Aa||(v.Ic=Im);t:{N=v.Ic,H=4*(gt=v.za);var Tt=32*gt,ae=gt+1,we=0<v.L?gt*(0<v.Aa?2:1):0,Oe=(v.Aa==2?2:1)*gt;if((ut=H+832+(et=3*(16*N+ed[v.L])/2*Tt)+(st=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=ut)N=0;else{if(ut>v.Vb){if(v.Vb=0,v.Ec=b(ut),v.Fc=0,v.Ec==null){N=yo(v,1,"no memory during frame initialization.");break t}v.Vb=ut}ut=v.Ec,dt=v.Fc,v.Ac=ut,v.Bc=dt,dt+=H,v.Gd=D(Tt,Dh),v.Hd=0,v.rb=D(ae+1,Fh),v.sb=1,v.wa=we?D(we,fc):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=gt),_(!0),v.oc=ut,v.pc=dt,dt+=832,v.ya=D(Oe,Js),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=gt),v.R=16*gt,v.B=8*gt,gt=(Tt=ed[v.L])*v.R,Tt=Tt/2*v.B,v.sa=ut,v.ta=dt+gt,v.qa=v.sa,v.ra=v.ta+16*N*v.R+Tt,v.Ha=v.qa,v.Ia=v.ra+8*N*v.B+Tt,v.$c=0,dt+=et,v.mb=st?ut:null,v.nb=st?dt:null,_(dt+st<=v.Fc+v.Vb),Bh(v),F(v.Ac,v.Bc,0,H),N=1}}if(N){if(x.ka=0,x.y=v.sa,x.O=v.ta,x.f=v.qa,x.N=v.ra,x.ea=v.Ha,x.Vd=v.Ia,x.fa=v.R,x.Rc=v.B,x.F=null,x.J=0,!Tg){for(N=-255;255>=N;++N)wg[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)Og[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)Mp[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)ri[255+N]=0>N?0:255<N?255:N;Tg=1}ai=Sp,Cc=Gh,Nl=Tf,Ps=ju,Fl=Uh,rs=yc,jl=pr,Lc=nl,sl=Sc,hu=Rf,Df=lu,ns=Cp,Dl=Pf,Mi=wc,si=Rl,oo=Ts,_o=wa,ll=xc,Is[0]=el,Is[1]=mc,Is[2]=wp,Is[3]=ia,Is[4]=Li,Is[5]=oa,Is[6]=Ll,Is[7]=Op,Is[8]=Tp,Is[9]=zh,Ms[0]=Vi,Ms[1]=bl,Ms[2]=au,Ms[3]=kh,Ms[4]=Cl,Ms[5]=su,Ms[6]=tl,os[0]=Cf,os[1]=bf,os[2]=_c,os[3]=Vh,os[4]=Lf,os[5]=Al,os[6]=bp,N=1}else N=0}N&&(N=function(de,$e){for(de.M=0;de.M<de.Va;++de.M){var Fe,se=de.Jc[de.M&de.Xb],le=de.m,Ke=de;for(Fe=0;Fe<Ke.za;++Fe){var rr=le,be=Ke,or=be.Ac,Tr=be.Bc+4*Fe,dn=be.zc,Ce=be.ya[be.aa+Fe];if(be.Qa.Bb?Ce.$b=Re(rr,be.Pa.jb[0])?2+Re(rr,be.Pa.jb[2]):Re(rr,be.Pa.jb[1]):Ce.$b=0,be.kc&&(Ce.Ad=Re(rr,be.Bd)),Ce.Za=!Re(rr,145)+0,Ce.Za){var Oi=Ce.Ob,Ei=0;for(be=0;4>be;++be){var di,ni=dn[0+be];for(di=0;4>di;++di){ni=Bp[or[Tr+di]][ni];for(var ji=Vf[Re(rr,ni[0])];0<ji;)ji=Vf[2*ji+Re(rr,ni[ji])];ni=-ji,or[Tr+di]=ni}T(Oi,Ei,or,Tr,4),Ei+=4,dn[0+be]=ni}}else ni=Re(rr,156)?Re(rr,128)?1:3:Re(rr,163)?2:0,Ce.Ob[0]=ni,F(or,Tr,ni,4),F(dn,0,ni,4);Ce.Dd=Re(rr,142)?Re(rr,114)?Re(rr,183)?1:3:2:0}if(Ke.m.Ka)return yo(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(Ke=se,rr=(le=de).rb[le.sb-1],or=le.rb[le.sb+le.ja],Fe=le.ya[le.aa+le.ja],Tr=le.kc?Fe.Ad:0)rr.la=or.la=0,Fe.Za||(rr.Na=or.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var Di,Nn;if(rr=or,or=Ke,Tr=le.Pa.Xc,dn=le.ya[le.aa+le.ja],Ce=le.pb[dn.$b],be=dn.ad,Oi=0,Ei=le.rb[le.sb-1],ni=di=0,F(be,Oi,0,384),dn.Za)var Eo=0,Ta=Tr[3];else{ji=b(16);var xo=rr.Na+Ei.Na;if(xo=Mc(or,Tr[1],xo,Ce.Eb,0,ji,0),rr.Na=Ei.Na=(0<xo)+0,1<xo)ai(ji,0,be,Oi);else{var ba=ji[0]+3>>3;for(ji=0;256>ji;ji+=16)be[Oi+ji]=ba}Eo=1,Ta=Tr[0]}var Hr=15&rr.la,Va=15&Ei.la;for(ji=0;4>ji;++ji){var as=1&Va;for(ba=Nn=0;4>ba;++ba)Hr=Hr>>1|(as=(xo=Mc(or,Ta,xo=as+(1&Hr),Ce.Sc,Eo,be,Oi))>Eo)<<7,Nn=Nn<<2|(3<xo?3:1<xo?2:be[Oi+0]!=0),Oi+=16;Hr>>=4,Va=Va>>1|as<<7,di=(di<<8|Nn)>>>0}for(Ta=Hr,Eo=Va>>4,Di=0;4>Di;Di+=2){for(Nn=0,Hr=rr.la>>4+Di,Va=Ei.la>>4+Di,ji=0;2>ji;++ji){for(as=1&Va,ba=0;2>ba;++ba)xo=as+(1&Hr),Hr=Hr>>1|(as=0<(xo=Mc(or,Tr[2],xo,Ce.Qc,0,be,Oi)))<<3,Nn=Nn<<2|(3<xo?3:1<xo?2:be[Oi+0]!=0),Oi+=16;Hr>>=2,Va=Va>>1|as<<5}ni|=Nn<<4*Di,Ta|=Hr<<4<<Di,Eo|=(240&Va)<<Di}rr.la=Ta,Ei.la=Eo,dn.Hc=di,dn.Gc=ni,dn.ia=43690&ni?0:Ce.ia,Tr=!(di|ni)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[Fe.$b][Fe.Za],le.wa[le.Y+le.ja].La|=!Tr),Ke.Ka)return yo(de,7,"Premature end-of-file encountered.")}if(Bh(de),le=$e,Ke=1,Fe=(se=de).D,rr=0<se.L&&se.M>=se.zb&&se.M<=se.Va,se.Aa==0)t:{if(Fe.M=se.M,Fe.uc=rr,Nf(se,Fe),Ke=1,Fe=(Nn=se.D).Nb,rr=(ni=ed[se.L])*se.R,or=ni/2*se.B,ji=16*Fe*se.R,ba=8*Fe*se.B,Tr=se.sa,dn=se.ta-rr+ji,Ce=se.qa,be=se.ra-or+ba,Oi=se.Ha,Ei=se.Ia-or+ba,Va=(Hr=Nn.M)==0,di=Hr>=se.Va-1,se.Aa==2&&Nf(se,Nn),Nn.uc)for(as=(xo=se).D.M,_(xo.D.uc),Nn=xo.yb;Nn<xo.Hb;++Nn){Eo=Nn,Ta=as;var So=(Ko=(lo=xo).D).Nb;Di=lo.R;var Ko=Ko.wa[Ko.Y+Eo],da=lo.sa,Wi=lo.ta+16*So*Di+16*Eo,cl=Ko.dd,pi=Ko.tc;if(pi!=0)if(_(3<=pi),lo.L==1)0<Eo&&oo(da,Wi,Di,pi+4),Ko.La&&ll(da,Wi,Di,pi),0<Ta&&si(da,Wi,Di,pi+4),Ko.La&&_o(da,Wi,Di,pi);else{var Bl=lo.B,vu=lo.qa,Nc=lo.ra+8*So*Bl+8*Eo,gu=lo.Ha,lo=lo.Ia+8*So*Bl+8*Eo;So=Ko.ld,0<Eo&&(Lc(da,Wi,Di,pi+4,cl,So),hu(vu,Nc,gu,lo,Bl,pi+4,cl,So)),Ko.La&&(ns(da,Wi,Di,pi,cl,So),Mi(vu,Nc,gu,lo,Bl,pi,cl,So)),0<Ta&&(jl(da,Wi,Di,pi+4,cl,So),sl(vu,Nc,gu,lo,Bl,pi+4,cl,So)),Ko.La&&(Df(da,Wi,Di,pi,cl,So),Dl(vu,Nc,gu,lo,Bl,pi,cl,So))}}if(se.ia&&alert("todo:DitherRow"),le.put!=null){if(Nn=16*Hr,Hr=16*(Hr+1),Va?(le.y=se.sa,le.O=se.ta+ji,le.f=se.qa,le.N=se.ra+ba,le.ea=se.Ha,le.W=se.Ia+ba):(Nn-=ni,le.y=Tr,le.O=dn,le.f=Ce,le.N=be,le.ea=Oi,le.W=Ei),di||(Hr-=ni),Hr>le.o&&(Hr=le.o),le.F=null,le.J=null,se.Fa!=null&&0<se.Fa.length&&Nn<Hr&&(le.J=L(se,le,Nn,Hr-Nn),le.F=se.mb,le.F==null&&le.F.length==0)){Ke=yo(se,3,"Could not decode alpha data.");break t}Nn<le.j&&(ni=le.j-Nn,Nn=le.j,_(!(1&ni)),le.O+=se.R*ni,le.N+=se.B*(ni>>1),le.W+=se.B*(ni>>1),le.F!=null&&(le.J+=le.width*ni)),Nn<Hr&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=Nn-le.j,le.U=le.va-le.v,le.T=Hr-Nn,Ke=le.put(le))}Fe+1!=se.Ic||di||(T(se.sa,se.ta-rr,Tr,dn+16*se.R,rr),T(se.qa,se.ra-or,Ce,be+8*se.B,or),T(se.Ha,se.Ia-or,Oi,Ei+8*se.B,or))}if(!Ke)return yo(de,6,"Output aborted.")}return 1}(v,x)),x.bc!=null&&x.bc(x),N&=1}return N?(v.cb=0,N):0}function na(v,x,N,H,et){et=v[x+N+32*H]+(et>>3),v[x+N+32*H]=-256&et?0>et?0:255:et}function Ho(v,x,N,H,et,st){na(v,x,0,N,H+et),na(v,x,1,N,H+st),na(v,x,2,N,H-st),na(v,x,3,N,H-et)}function Qs(v){return(20091*v>>16)+v}function gc(v,x,N,H){var et,st=0,ut=b(16);for(et=0;4>et;++et){var dt=v[x+0]+v[x+8],gt=v[x+0]-v[x+8],Tt=(35468*v[x+4]>>16)-Qs(v[x+12]),ae=Qs(v[x+4])+(35468*v[x+12]>>16);ut[st+0]=dt+ae,ut[st+1]=gt+Tt,ut[st+2]=gt-Tt,ut[st+3]=dt-ae,st+=4,x++}for(et=st=0;4>et;++et)dt=(v=ut[st+0]+4)+ut[st+8],gt=v-ut[st+8],Tt=(35468*ut[st+4]>>16)-Qs(ut[st+12]),na(N,H,0,0,dt+(ae=Qs(ut[st+4])+(35468*ut[st+12]>>16))),na(N,H,1,0,gt+Tt),na(N,H,2,0,gt-Tt),na(N,H,3,0,dt-ae),st++,H+=32}function yc(v,x,N,H){var et=v[x+0]+4,st=35468*v[x+4]>>16,ut=Qs(v[x+4]),dt=35468*v[x+1]>>16;Ho(N,H,0,et+ut,v=Qs(v[x+1]),dt),Ho(N,H,1,et+st,v,dt),Ho(N,H,2,et-st,v,dt),Ho(N,H,3,et-ut,v,dt)}function Gh(v,x,N,H,et){gc(v,x,N,H),et&&gc(v,x+16,N,H+4)}function Tf(v,x,N,H){Cc(v,x+0,N,H,1),Cc(v,x+32,N,H+128,1)}function ju(v,x,N,H){var et;for(v=v[x+0]+4,et=0;4>et;++et)for(x=0;4>x;++x)na(N,H,x,et,v)}function Uh(v,x,N,H){v[x+0]&&Ps(v,x+0,N,H),v[x+16]&&Ps(v,x+16,N,H+4),v[x+32]&&Ps(v,x+32,N,H+128),v[x+48]&&Ps(v,x+48,N,H+128+4)}function Sp(v,x,N,H){var et,st=b(16);for(et=0;4>et;++et){var ut=v[x+0+et]+v[x+12+et],dt=v[x+4+et]+v[x+8+et],gt=v[x+4+et]-v[x+8+et],Tt=v[x+0+et]-v[x+12+et];st[0+et]=ut+dt,st[8+et]=ut-dt,st[4+et]=Tt+gt,st[12+et]=Tt-gt}for(et=0;4>et;++et)ut=(v=st[0+4*et]+3)+st[3+4*et],dt=st[1+4*et]+st[2+4*et],gt=st[1+4*et]-st[2+4*et],Tt=v-st[3+4*et],N[H+0]=ut+dt>>3,N[H+16]=Tt+gt>>3,N[H+32]=ut-dt>>3,N[H+48]=Tt-gt>>3,H+=64}function en(v,x,N){var H,et=x-32,st=ka,ut=255-v[et-1];for(H=0;H<N;++H){var dt,gt=st,Tt=ut+v[x-1];for(dt=0;dt<N;++dt)v[x+dt]=gt[Tt+v[et+dt]];x+=32}}function mc(v,x){en(v,x,4)}function bf(v,x){en(v,x,8)}function bl(v,x){en(v,x,16)}function au(v,x){var N;for(N=0;16>N;++N)T(v,x+32*N,v,x-32,16)}function kh(v,x){var N;for(N=16;0<N;--N)F(v,x,v[x-1],16),x+=32}function Du(v,x,N){var H;for(H=0;16>H;++H)F(x,N+32*H,v,16)}function Vi(v,x){var N,H=16;for(N=0;16>N;++N)H+=v[x-1+32*N]+v[x+N-32];Du(H>>5,v,x)}function Cl(v,x){var N,H=8;for(N=0;16>N;++N)H+=v[x-1+32*N];Du(H>>4,v,x)}function su(v,x){var N,H=8;for(N=0;16>N;++N)H+=v[x+N-32];Du(H>>4,v,x)}function tl(v,x){Du(128,v,x)}function Sn(v,x,N){return v+2*x+N+2>>2}function wp(v,x){var N,H=x-32;for(H=new Uint8Array([Sn(v[H-1],v[H+0],v[H+1]),Sn(v[H+0],v[H+1],v[H+2]),Sn(v[H+1],v[H+2],v[H+3]),Sn(v[H+2],v[H+3],v[H+4])]),N=0;4>N;++N)T(v,x+32*N,H,0,H.length)}function ia(v,x){var N=v[x-1],H=v[x-1+32],et=v[x-1+64],st=v[x-1+96];gr(v,x+0,16843009*Sn(v[x-1-32],N,H)),gr(v,x+32,16843009*Sn(N,H,et)),gr(v,x+64,16843009*Sn(H,et,st)),gr(v,x+96,16843009*Sn(et,st,st))}function el(v,x){var N,H=4;for(N=0;4>N;++N)H+=v[x+N-32]+v[x-1+32*N];for(H>>=3,N=0;4>N;++N)F(v,x+32*N,H,4)}function Li(v,x){var N=v[x-1+0],H=v[x-1+32],et=v[x-1+64],st=v[x-1-32],ut=v[x+0-32],dt=v[x+1-32],gt=v[x+2-32],Tt=v[x+3-32];v[x+0+96]=Sn(H,et,v[x-1+96]),v[x+1+96]=v[x+0+64]=Sn(N,H,et),v[x+2+96]=v[x+1+64]=v[x+0+32]=Sn(st,N,H),v[x+3+96]=v[x+2+64]=v[x+1+32]=v[x+0+0]=Sn(ut,st,N),v[x+3+64]=v[x+2+32]=v[x+1+0]=Sn(dt,ut,st),v[x+3+32]=v[x+2+0]=Sn(gt,dt,ut),v[x+3+0]=Sn(Tt,gt,dt)}function Ll(v,x){var N=v[x+1-32],H=v[x+2-32],et=v[x+3-32],st=v[x+4-32],ut=v[x+5-32],dt=v[x+6-32],gt=v[x+7-32];v[x+0+0]=Sn(v[x+0-32],N,H),v[x+1+0]=v[x+0+32]=Sn(N,H,et),v[x+2+0]=v[x+1+32]=v[x+0+64]=Sn(H,et,st),v[x+3+0]=v[x+2+32]=v[x+1+64]=v[x+0+96]=Sn(et,st,ut),v[x+3+32]=v[x+2+64]=v[x+1+96]=Sn(st,ut,dt),v[x+3+64]=v[x+2+96]=Sn(ut,dt,gt),v[x+3+96]=Sn(dt,gt,gt)}function oa(v,x){var N=v[x-1+0],H=v[x-1+32],et=v[x-1+64],st=v[x-1-32],ut=v[x+0-32],dt=v[x+1-32],gt=v[x+2-32],Tt=v[x+3-32];v[x+0+0]=v[x+1+64]=st+ut+1>>1,v[x+1+0]=v[x+2+64]=ut+dt+1>>1,v[x+2+0]=v[x+3+64]=dt+gt+1>>1,v[x+3+0]=gt+Tt+1>>1,v[x+0+96]=Sn(et,H,N),v[x+0+64]=Sn(H,N,st),v[x+0+32]=v[x+1+96]=Sn(N,st,ut),v[x+1+32]=v[x+2+96]=Sn(st,ut,dt),v[x+2+32]=v[x+3+96]=Sn(ut,dt,gt),v[x+3+32]=Sn(dt,gt,Tt)}function Op(v,x){var N=v[x+0-32],H=v[x+1-32],et=v[x+2-32],st=v[x+3-32],ut=v[x+4-32],dt=v[x+5-32],gt=v[x+6-32],Tt=v[x+7-32];v[x+0+0]=N+H+1>>1,v[x+1+0]=v[x+0+64]=H+et+1>>1,v[x+2+0]=v[x+1+64]=et+st+1>>1,v[x+3+0]=v[x+2+64]=st+ut+1>>1,v[x+0+32]=Sn(N,H,et),v[x+1+32]=v[x+0+96]=Sn(H,et,st),v[x+2+32]=v[x+1+96]=Sn(et,st,ut),v[x+3+32]=v[x+2+96]=Sn(st,ut,dt),v[x+3+64]=Sn(ut,dt,gt),v[x+3+96]=Sn(dt,gt,Tt)}function zh(v,x){var N=v[x-1+0],H=v[x-1+32],et=v[x-1+64],st=v[x-1+96];v[x+0+0]=N+H+1>>1,v[x+2+0]=v[x+0+32]=H+et+1>>1,v[x+2+32]=v[x+0+64]=et+st+1>>1,v[x+1+0]=Sn(N,H,et),v[x+3+0]=v[x+1+32]=Sn(H,et,st),v[x+3+32]=v[x+1+64]=Sn(et,st,st),v[x+3+64]=v[x+2+64]=v[x+0+96]=v[x+1+96]=v[x+2+96]=v[x+3+96]=st}function Tp(v,x){var N=v[x-1+0],H=v[x-1+32],et=v[x-1+64],st=v[x-1+96],ut=v[x-1-32],dt=v[x+0-32],gt=v[x+1-32],Tt=v[x+2-32];v[x+0+0]=v[x+2+32]=N+ut+1>>1,v[x+0+32]=v[x+2+64]=H+N+1>>1,v[x+0+64]=v[x+2+96]=et+H+1>>1,v[x+0+96]=st+et+1>>1,v[x+3+0]=Sn(dt,gt,Tt),v[x+2+0]=Sn(ut,dt,gt),v[x+1+0]=v[x+3+32]=Sn(N,ut,dt),v[x+1+32]=v[x+3+64]=Sn(H,N,ut),v[x+1+64]=v[x+3+96]=Sn(et,H,N),v[x+1+96]=Sn(st,et,H)}function _c(v,x){var N;for(N=0;8>N;++N)T(v,x+32*N,v,x-32,8)}function Vh(v,x){var N;for(N=0;8>N;++N)F(v,x,v[x-1],8),x+=32}function Sr(v,x,N){var H;for(H=0;8>H;++H)F(x,N+32*H,v,8)}function Cf(v,x){var N,H=8;for(N=0;8>N;++N)H+=v[x+N-32]+v[x-1+32*N];Sr(H>>4,v,x)}function Al(v,x){var N,H=4;for(N=0;8>N;++N)H+=v[x+N-32];Sr(H>>3,v,x)}function Lf(v,x){var N,H=4;for(N=0;8>N;++N)H+=v[x-1+32*N];Sr(H>>3,v,x)}function bp(v,x){Sr(128,v,x)}function Bu(v,x,N){var H=v[x-N],et=v[x+0],st=3*(et-H)+Ip[1020+v[x-2*N]-v[x+N]],ut=Gf[112+(st+4>>3)];v[x-N]=ka[255+H+Gf[112+(st+3>>3)]],v[x+0]=ka[255+et-ut]}function Ec(v,x,N,H){var et=v[x+0],st=v[x+N];return is[255+v[x-2*N]-v[x-N]]>H||is[255+st-et]>H}function Af(v,x,N,H){return 4*is[255+v[x-N]-v[x+0]]+is[255+v[x-2*N]-v[x+N]]<=H}function Wh(v,x,N,H,et){var st=v[x-3*N],ut=v[x-2*N],dt=v[x-N],gt=v[x+0],Tt=v[x+N],ae=v[x+2*N],we=v[x+3*N];return 4*is[255+dt-gt]+is[255+ut-Tt]>H?0:is[255+v[x-4*N]-st]<=et&&is[255+st-ut]<=et&&is[255+ut-dt]<=et&&is[255+we-ae]<=et&&is[255+ae-Tt]<=et&&is[255+Tt-gt]<=et}function Rl(v,x,N,H){var et=2*H+1;for(H=0;16>H;++H)Af(v,x+H,N,et)&&Bu(v,x+H,N)}function Ts(v,x,N,H){var et=2*H+1;for(H=0;16>H;++H)Af(v,x+H*N,1,et)&&Bu(v,x+H*N,1)}function wa(v,x,N,H){var et;for(et=3;0<et;--et)Rl(v,x+=4*N,N,H)}function xc(v,x,N,H){var et;for(et=3;0<et;--et)Ts(v,x+=4,N,H)}function Ba(v,x,N,H,et,st,ut,dt){for(st=2*st+1;0<et--;){if(Wh(v,x,N,st,ut))if(Ec(v,x,N,dt))Bu(v,x,N);else{var gt=v,Tt=x,ae=N,we=gt[Tt-2*ae],Oe=gt[Tt-ae],de=gt[Tt+0],$e=gt[Tt+ae],Fe=gt[Tt+2*ae],se=27*(Ke=Ip[1020+3*(de-Oe)+Ip[1020+we-$e]])+63>>7,le=18*Ke+63>>7,Ke=9*Ke+63>>7;gt[Tt-3*ae]=ka[255+gt[Tt-3*ae]+Ke],gt[Tt-2*ae]=ka[255+we+le],gt[Tt-ae]=ka[255+Oe+se],gt[Tt+0]=ka[255+de-se],gt[Tt+ae]=ka[255+$e-le],gt[Tt+2*ae]=ka[255+Fe-Ke]}x+=H}}function rl(v,x,N,H,et,st,ut,dt){for(st=2*st+1;0<et--;){if(Wh(v,x,N,st,ut))if(Ec(v,x,N,dt))Bu(v,x,N);else{var gt=v,Tt=x,ae=N,we=gt[Tt-ae],Oe=gt[Tt+0],de=gt[Tt+ae],$e=Gf[112+((Fe=3*(Oe-we))+4>>3)],Fe=Gf[112+(Fe+3>>3)],se=$e+1>>1;gt[Tt-2*ae]=ka[255+gt[Tt-2*ae]+se],gt[Tt-ae]=ka[255+we+Fe],gt[Tt+0]=ka[255+Oe-$e],gt[Tt+ae]=ka[255+de-se]}x+=H}}function pr(v,x,N,H,et,st){Ba(v,x,N,1,16,H,et,st)}function nl(v,x,N,H,et,st){Ba(v,x,1,N,16,H,et,st)}function lu(v,x,N,H,et,st){var ut;for(ut=3;0<ut;--ut)rl(v,x+=4*N,N,1,16,H,et,st)}function Cp(v,x,N,H,et,st){var ut;for(ut=3;0<ut;--ut)rl(v,x+=4,1,N,16,H,et,st)}function Sc(v,x,N,H,et,st,ut,dt){Ba(v,x,et,1,8,st,ut,dt),Ba(N,H,et,1,8,st,ut,dt)}function Rf(v,x,N,H,et,st,ut,dt){Ba(v,x,1,et,8,st,ut,dt),Ba(N,H,1,et,8,st,ut,dt)}function Pf(v,x,N,H,et,st,ut,dt){rl(v,x+4*et,et,1,8,st,ut,dt),rl(N,H+4*et,et,1,8,st,ut,dt)}function wc(v,x,N,H,et,st,ut,dt){rl(v,x+4,1,et,8,st,ut,dt),rl(N,H+4,1,et,8,st,ut,dt)}function Gu(){this.ba=new Ea,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new no,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Yh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lp(){this.ua=0,this.Wa=new Dt,this.vb=new Dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new Pt}function uu(){this.xb=this.a=0,this.l=new dc,this.ca=new Ea,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ft,this.Pb=0,this.wd=new ft,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lp,this.ab=0,this.gc=D(4,Yh),this.Oc=0}function Mf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xo(v,x,N,H,et,st,ut){for(v=v==null?0:v[x+0],x=0;x<ut;++x)et[st+x]=v+N[H+x]&255,v=et[st+x]}function Pl(v,x,N,H,et,st,ut){var dt;if(v==null)Xo(null,null,N,H,et,st,ut);else for(dt=0;dt<ut;++dt)et[st+dt]=v[x+dt]+N[H+dt]&255}function Uu(v,x,N,H,et,st,ut){if(v==null)Xo(null,null,N,H,et,st,ut);else{var dt,gt=v[x+0],Tt=gt,ae=gt;for(dt=0;dt<ut;++dt)Tt=ae+(gt=v[x+dt])-Tt,ae=N[H+dt]+(-256&Tt?0>Tt?0:255:Tt)&255,Tt=gt,et[st+dt]=ae}}function L(v,x,N,H){var et=x.width,st=x.o;if(_(v!=null&&x!=null),0>N||0>=H||N+H>st)return null;if(!v.Cc){if(v.ga==null){var ut;if(v.ga=new Mf,(ut=v.ga==null)||(ut=x.width*x.o,_(v.Gb.length==0),v.Gb=b(ut),v.Uc=0,v.Gb==null?ut=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ut=1),ut=!ut),!ut){ut=v.ga;var dt=v.Fa,gt=v.P,Tt=v.qc,ae=v.mb,we=v.nb,Oe=gt+1,de=Tt-1,$e=ut.l;if(_(dt!=null&&ae!=null&&x!=null),ul[0]=null,ul[1]=Xo,ul[2]=Pl,ul[3]=Uu,ut.ca=ae,ut.tb=we,ut.c=x.width,ut.i=x.height,_(0<ut.c&&0<ut.i),1>=Tt)x=0;else if(ut.$a=dt[gt+0]>>0&3,ut.Z=dt[gt+0]>>2&3,ut.Lc=dt[gt+0]>>4&3,gt=dt[gt+0]>>6&3,0>ut.$a||1<ut.$a||4<=ut.Z||1<ut.Lc||gt)x=0;else if($e.put=Zs,$e.ac=Yo,$e.bc=$s,$e.ma=ut,$e.width=x.width,$e.height=x.height,$e.Da=x.Da,$e.v=x.v,$e.va=x.va,$e.j=x.j,$e.o=x.o,ut.$a)t:{_(ut.$a==1),x=ki();e:for(;;){if(x==null){x=0;break t}if(_(ut!=null),ut.mc=x,x.c=ut.c,x.i=ut.i,x.l=ut.l,x.l.ma=ut,x.l.width=ut.c,x.l.height=ut.i,x.a=0,Le(x.m,dt,Oe,de),!oi(ut.c,ut.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Tl(x.s)?(ut.ic=1,dt=x.c*x.i,x.Ta=null,x.Ua=0,x.V=b(dt),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(ut.ic=0,x=No(x,ut.c)),!x))break e;x=1;break t}ut.mc=null,x=0}else x=de>=ut.c*ut.i;ut=!x}if(ut)return null;v.ga.Lc!=1?v.Ga=0:H=st-N}_(v.ga!=null),_(N+H<=st);t:{if(x=(dt=v.ga).c,st=dt.l.o,dt.$a==0){if(Oe=v.rc,de=v.Vc,$e=v.Fa,gt=v.P+1+N*x,Tt=v.mb,ae=v.nb+N*x,_(gt<=v.P+v.qc),dt.Z!=0)for(_(ul[dt.Z]!=null),ut=0;ut<H;++ut)ul[dt.Z](Oe,de,$e,gt,Tt,ae,x),Oe=Tt,de=ae,ae+=x,gt+=x;else for(ut=0;ut<H;++ut)T(Tt,ae,$e,gt,x),Oe=Tt,de=ae,ae+=x,gt+=x;v.rc=Oe,v.Vc=de}else{if(_(dt.mc!=null),x=N+H,_((ut=dt.mc)!=null),_(x<=ut.i),ut.C>=x)x=1;else if(dt.ic||ze(),dt.ic){dt=ut.V,Oe=ut.Ba,de=ut.c;var Fe=ut.i,se=($e=1,gt=ut.$/de,Tt=ut.$%de,ae=ut.m,we=ut.s,ut.$),le=de*Fe,Ke=de*x,rr=we.wc,be=se<Ke?Cr(we,Tt,gt):null;_(se<=le),_(x<=Fe),_(Tl(we));e:for(;;){for(;!ae.h&&se<Ke;){if(Tt&rr||(be=Cr(we,Tt,gt)),_(be!=null),ve(ae),256>(Fe=xa(be.G[0],be.H[0],ae)))dt[Oe+se]=Fe,++se,++Tt>=de&&(Tt=0,++gt<=x&&!(gt%16)&&Zt(ut,gt));else{if(!(280>Fe)){$e=0;break e}Fe=_i(Fe-256,ae);var or,Tr=xa(be.G[4],be.H[4],ae);if(ve(ae),!(se>=(Tr=ja(de,Tr=_i(Tr,ae)))&&le-se>=Fe)){$e=0;break e}for(or=0;or<Fe;++or)dt[Oe+se+or]=dt[Oe+se+or-Tr];for(se+=Fe,Tt+=Fe;Tt>=de;)Tt-=de,++gt<=x&&!(gt%16)&&Zt(ut,gt);se<Ke&&Tt&rr&&(be=Cr(we,Tt,gt))}_(ae.h==Kt(ae))}Zt(ut,gt>x?x:gt);break e}!$e||ae.h&&se<le?($e=0,ut.a=ae.h?5:3):ut.$=se,x=$e}else x=ra(ut,ut.V,ut.Ba,ut.c,ut.i,x,uc);if(!x){H=0;break t}}N+H>=st&&(v.Cc=1),H=1}if(!H)return null;if(v.Cc&&((H=v.ga)!=null&&(H.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+N*et}function it(v,x,N,H,et,st){for(;0<et--;){var ut,dt=v,gt=x+(N?1:0),Tt=v,ae=x+(N?0:3);for(ut=0;ut<H;++ut){var we=Tt[ae+4*ut];we!=255&&(we*=32897,dt[gt+4*ut+0]=dt[gt+4*ut+0]*we>>23,dt[gt+4*ut+1]=dt[gt+4*ut+1]*we>>23,dt[gt+4*ut+2]=dt[gt+4*ut+2]*we>>23)}x+=st}}function Mt(v,x,N,H,et){for(;0<H--;){var st;for(st=0;st<N;++st){var ut=v[x+2*st+0],dt=15&(Tt=v[x+2*st+1]),gt=4369*dt,Tt=(240&Tt|Tt>>4)*gt>>16;v[x+2*st+0]=(240&ut|ut>>4)*gt>>16&240|(15&ut|ut<<4)*gt>>16>>4&15,v[x+2*st+1]=240&Tt|dt}x+=et}}function re(v,x,N,H,et,st,ut,dt){var gt,Tt,ae=255;for(Tt=0;Tt<et;++Tt){for(gt=0;gt<H;++gt){var we=v[x+gt];st[ut+4*gt]=we,ae&=we}x+=N,ut+=dt}return ae!=255}function me(v,x,N,H,et){var st;for(st=0;st<et;++st)N[H+st]=v[x+st]>>8}function ze(){Zi=it,Ac=Mt,Bf=re,Pp=me}function nr(v,x,N){pe[v]=function(H,et,st,ut,dt,gt,Tt,ae,we,Oe,de,$e,Fe,se,le,Ke,rr){var be,or=rr-1>>1,Tr=dt[gt+0]|Tt[ae+0]<<16,dn=we[Oe+0]|de[$e+0]<<16;_(H!=null);var Ce=3*Tr+dn+131074>>2;for(x(H[et+0],255&Ce,Ce>>16,Fe,se),st!=null&&(Ce=3*dn+Tr+131074>>2,x(st[ut+0],255&Ce,Ce>>16,le,Ke)),be=1;be<=or;++be){var Oi=dt[gt+be]|Tt[ae+be]<<16,Ei=we[Oe+be]|de[$e+be]<<16,di=Tr+Oi+dn+Ei+524296,ni=di+2*(Oi+dn)>>3;Ce=ni+Tr>>1,Tr=(di=di+2*(Tr+Ei)>>3)+Oi>>1,x(H[et+2*be-1],255&Ce,Ce>>16,Fe,se+(2*be-1)*N),x(H[et+2*be-0],255&Tr,Tr>>16,Fe,se+(2*be-0)*N),st!=null&&(Ce=di+dn>>1,Tr=ni+Ei>>1,x(st[ut+2*be-1],255&Ce,Ce>>16,le,Ke+(2*be-1)*N),x(st[ut+2*be+0],255&Tr,Tr>>16,le,Ke+(2*be+0)*N)),Tr=Oi,dn=Ei}1&rr||(Ce=3*Tr+dn+131074>>2,x(H[et+rr-1],255&Ce,Ce>>16,Fe,se+(rr-1)*N),st!=null&&(Ce=3*dn+Tr+131074>>2,x(st[ut+rr-1],255&Ce,Ce>>16,le,Ke+(rr-1)*N)))}}function jr(){Uo[Uf]=Om,Uo[Zh]=qh,Uo[bg]=Tm,Uo[kf]=Rg,Uo[$h]=Pg,Uo[zf]=Mg,Uo[Cg]=bm,Uo[Np]=qh,Uo[Fp]=Rg,Uo[Rc]=Pg,Uo[du]=Mg}function un(v){return v&~Ng?0>v?0:255:v>>Ig}function Yn(v,x){return un((19077*v>>8)+(26149*x>>8)-14234)}function In(v,x,N){return un((19077*v>>8)-(6419*x>>8)-(13320*N>>8)+8708)}function Kn(v,x){return un((19077*v>>8)+(33050*x>>8)-17685)}function Go(v,x,N,H,et){H[et+0]=Yn(v,N),H[et+1]=In(v,x,N),H[et+2]=Kn(v,x)}function qi(v,x,N,H,et){H[et+0]=Kn(v,x),H[et+1]=In(v,x,N),H[et+2]=Yn(v,N)}function mo(v,x,N,H,et){var st=In(v,x,N);x=st<<3&224|Kn(v,x)>>3,H[et+0]=248&Yn(v,N)|st>>5,H[et+1]=x}function Ki(v,x,N,H,et){var st=240&Kn(v,x)|15;H[et+0]=240&Yn(v,N)|In(v,x,N)>>4,H[et+1]=st}function io(v,x,N,H,et){H[et+0]=255,Go(v,x,N,H,et+1)}function Ga(v,x,N,H,et){qi(v,x,N,H,et),H[et+3]=255}function ku(v,x,N,H,et){Go(v,x,N,H,et),H[et+3]=255}function Os(v,x){return 0>v?0:v>x?x:v}function il(v,x,N){pe[v]=function(H,et,st,ut,dt,gt,Tt,ae,we){for(var Oe=ae+(-2&we)*N;ae!=Oe;)x(H[et+0],st[ut+0],dt[gt+0],Tt,ae),x(H[et+1],st[ut+0],dt[gt+0],Tt,ae+N),et+=2,++ut,++gt,ae+=2*N;1&we&&x(H[et+0],st[ut+0],dt[gt+0],Tt,ae)}}function Hh(v,x,N){return N==0?v==0?x==0?6:5:x==0?4:0:N}function If(v,x,N,H,et){switch(v>>>30){case 3:Cc(x,N,H,et,0);break;case 2:rs(x,N,H,et);break;case 1:Ps(x,N,H,et)}}function Nf(v,x){var N,H,et=x.M,st=x.Nb,ut=v.oc,dt=v.pc+40,gt=v.oc,Tt=v.pc+584,ae=v.oc,we=v.pc+600;for(N=0;16>N;++N)ut[dt+32*N-1]=129;for(N=0;8>N;++N)gt[Tt+32*N-1]=129,ae[we+32*N-1]=129;for(0<et?ut[dt-1-32]=gt[Tt-1-32]=ae[we-1-32]=129:(F(ut,dt-32-1,127,21),F(gt,Tt-32-1,127,9),F(ae,we-32-1,127,9)),H=0;H<v.za;++H){var Oe=x.ya[x.aa+H];if(0<H){for(N=-1;16>N;++N)T(ut,dt+32*N-4,ut,dt+32*N+12,4);for(N=-1;8>N;++N)T(gt,Tt+32*N-4,gt,Tt+32*N+4,4),T(ae,we+32*N-4,ae,we+32*N+4,4)}var de=v.Gd,$e=v.Hd+H,Fe=Oe.ad,se=Oe.Hc;if(0<et&&(T(ut,dt-32,de[$e].y,0,16),T(gt,Tt-32,de[$e].f,0,8),T(ae,we-32,de[$e].ea,0,8)),Oe.Za){var le=ut,Ke=dt-32+16;for(0<et&&(H>=v.za-1?F(le,Ke,de[$e].y[15],4):T(le,Ke,de[$e+1].y,0,4)),N=0;4>N;N++)le[Ke+128+N]=le[Ke+256+N]=le[Ke+384+N]=le[Ke+0+N];for(N=0;16>N;++N,se<<=2)le=ut,Ke=dt+pu[N],Is[Oe.Ob[N]](le,Ke),If(se,Fe,16*+N,le,Ke)}else if(le=Hh(H,et,Oe.Ob[0]),Ms[le](ut,dt),se!=0)for(N=0;16>N;++N,se<<=2)If(se,Fe,16*+N,ut,dt+pu[N]);for(N=Oe.Gc,le=Hh(H,et,Oe.Dd),os[le](gt,Tt),os[le](ae,we),se=Fe,le=gt,Ke=Tt,255&(Oe=N>>0)&&(170&Oe?Nl(se,256,le,Ke):Fl(se,256,le,Ke)),Oe=ae,se=we,255&(N>>=8)&&(170&N?Nl(Fe,320,Oe,se):Fl(Fe,320,Oe,se)),et<v.Ub-1&&(T(de[$e].y,0,ut,dt+480,16),T(de[$e].f,0,gt,Tt+224,8),T(de[$e].ea,0,ae,we+224,8)),N=8*st*v.B,de=v.sa,$e=v.ta+16*H+16*st*v.R,Fe=v.qa,Oe=v.ra+8*H+N,se=v.Ha,le=v.Ia+8*H+N,N=0;16>N;++N)T(de,$e+N*v.R,ut,dt+32*N,16);for(N=0;8>N;++N)T(Fe,Oe+N*v.B,gt,Tt+32*N,8),T(se,le+N*v.B,ae,we+32*N,8)}}function bs(v,x,N,H,et,st,ut,dt,gt){var Tt=[0],ae=[0],we=0,Oe=gt!=null?gt.kd:0,de=gt!=null?gt:new Oc;if(v==null||12>N)return 7;de.data=v,de.w=x,de.ha=N,x=[x],N=[N],de.gb=[de.gb];t:{var $e=x,Fe=N,se=de.gb;if(_(v!=null),_(Fe!=null),_(se!=null),se[0]=0,12<=Fe[0]&&!E(v,$e[0],"RIFF")){if(E(v,$e[0]+8,"WEBP")){se=3;break t}var le=Vr(v,$e[0]+4);if(12>le||4294967286<le){se=3;break t}if(Oe&&le>Fe[0]-8){se=7;break t}se[0]=le,$e[0]+=12,Fe[0]-=12}se=0}if(se!=0)return se;for(le=0<de.gb[0],N=N[0];;){t:{var Ke=v;Fe=x,se=N;var rr=Tt,be=ae,or=$e=[0];if((Ce=we=[we])[0]=0,8>se[0])se=7;else{if(!E(Ke,Fe[0],"VP8X")){if(Vr(Ke,Fe[0]+4)!=10){se=3;break t}if(18>se[0]){se=7;break t}var Tr=Vr(Ke,Fe[0]+8),dn=1+Mr(Ke,Fe[0]+12);if(2147483648<=dn*(Ke=1+Mr(Ke,Fe[0]+15))){se=3;break t}or!=null&&(or[0]=Tr),rr!=null&&(rr[0]=dn),be!=null&&(be[0]=Ke),Fe[0]+=18,se[0]-=18,Ce[0]=1}se=0}}if(we=we[0],$e=$e[0],se!=0)return se;if(Fe=!!(2&$e),!le&&we)return 3;if(st!=null&&(st[0]=!!(16&$e)),ut!=null&&(ut[0]=Fe),dt!=null&&(dt[0]=0),ut=Tt[0],$e=ae[0],we&&Fe&&gt==null){se=0;break}if(4>N){se=7;break}if(le&&we||!le&&!we&&!E(v,x[0],"ALPH")){N=[N],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];t:{Tr=v,se=x,le=N;var Ce=de.gb;rr=de.na,be=de.P,or=de.Sa,dn=22,_(Tr!=null),_(le!=null),Ke=se[0];var Oi=le[0];for(_(rr!=null),_(or!=null),rr[0]=null,be[0]=null,or[0]=0;;){if(se[0]=Ke,le[0]=Oi,8>Oi){se=7;break t}var Ei=Vr(Tr,Ke+4);if(4294967286<Ei){se=3;break t}var di=8+Ei+1&-2;if(dn+=di,0<Ce&&dn>Ce){se=3;break t}if(!E(Tr,Ke,"VP8 ")||!E(Tr,Ke,"VP8L")){se=0;break t}if(Oi[0]<di){se=7;break t}E(Tr,Ke,"ALPH")||(rr[0]=Tr,be[0]=Ke+8,or[0]=Ei),Ke+=di,Oi-=di}}if(N=N[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],se!=0)break}N=[N],de.Ja=[de.Ja],de.xa=[de.xa];t:if(Ce=v,se=x,le=N,rr=de.gb[0],be=de.Ja,or=de.xa,Tr=se[0],Ke=!E(Ce,Tr,"VP8 "),dn=!E(Ce,Tr,"VP8L"),_(Ce!=null),_(le!=null),_(be!=null),_(or!=null),8>le[0])se=7;else{if(Ke||dn){if(Ce=Vr(Ce,Tr+4),12<=rr&&Ce>rr-12){se=3;break t}if(Oe&&Ce>le[0]-8){se=7;break t}be[0]=Ce,se[0]+=8,le[0]-=8,or[0]=dn}else or[0]=5<=le[0]&&Ce[Tr+0]==47&&!(Ce[Tr+4]>>5),be[0]=le[0];se=0}if(N=N[0],de.Ja=de.Ja[0],de.xa=de.xa[0],x=x[0],se!=0)break;if(4294967286<de.Ja)return 3;if(dt==null||Fe||(dt[0]=de.xa?2:1),ut=[ut],$e=[$e],de.xa){if(5>N){se=7;break}dt=ut,Oe=$e,Fe=st,v==null||5>N?v=0:5<=N&&v[x+0]==47&&!(v[x+4]>>5)?(le=[0],Ce=[0],rr=[0],Le(be=new ft,v,x,N),ln(be,le,Ce,rr)?(dt!=null&&(dt[0]=le[0]),Oe!=null&&(Oe[0]=Ce[0]),Fe!=null&&(Fe[0]=rr[0]),v=1):v=0):v=0}else{if(10>N){se=7;break}dt=$e,v==null||10>N||!qs(v,x+3,N-3)?v=0:(Oe=v[x+0]|v[x+1]<<8|v[x+2]<<16,Fe=16383&(v[x+7]<<8|v[x+6]),v=16383&(v[x+9]<<8|v[x+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=de.Ja||!Fe||!v?v=0:(ut&&(ut[0]=Fe),dt&&(dt[0]=v),v=1))}if(!v||(ut=ut[0],$e=$e[0],we&&(Tt[0]!=ut||ae[0]!=$e)))return 3;gt!=null&&(gt[0]=de,gt.offset=x-gt.w,_(4294967286>x-gt.w),_(gt.offset==gt.ha-N));break}return se==0||se==7&&we&&gt==null?(st!=null&&(st[0]|=de.na!=null&&0<de.na.length),H!=null&&(H[0]=ut),et!=null&&(et[0]=$e),0):se}function Ff(v,x,N){var H=x.width,et=x.height,st=0,ut=0,dt=H,gt=et;if(x.Da=v!=null&&0<v.Da,x.Da&&(dt=v.cd,gt=v.bd,st=v.v,ut=v.j,11>N||(st&=-2,ut&=-2),0>st||0>ut||0>=dt||0>=gt||st+dt>H||ut+gt>et))return 0;if(x.v=st,x.j=ut,x.va=st+dt,x.o=ut+gt,x.U=dt,x.T=gt,x.da=v!=null&&0<v.da,x.da){if(!Bn(dt,gt,N=[v.ib],st=[v.hb]))return 0;x.ib=N[0],x.hb=st[0]}return x.ob=v!=null&&v.ob,x.Kb=v==null||!v.Sd,x.da&&(x.ob=x.ib<3*H/4&&x.hb<3*et/4,x.Kb=0),1}function jf(v){if(v==null)return 2;if(11>v.S){var x=v.f.RGBA;x.fb+=(v.height-1)*x.A,x.A=-x.A}else x=v.f.kb,v=v.height,x.O+=(v-1)*x.fa,x.fa=-x.fa,x.N+=(v-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(v-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(v-1)*x.lb,x.lb=-x.lb);return 0}function Gn(v,x,N,H){if(H==null||0>=v||0>=x)return 2;if(N!=null){if(N.Da){var et=N.cd,st=N.bd,ut=-2&N.v,dt=-2&N.j;if(0>ut||0>dt||0>=et||0>=st||ut+et>v||dt+st>x)return 2;v=et,x=st}if(N.da){if(!Bn(v,x,et=[N.ib],st=[N.hb]))return 2;v=et[0],x=st[0]}}H.width=v,H.height=x;t:{var gt=H.width,Tt=H.height;if(v=H.S,0>=gt||0>=Tt||!(v>=Uf&&13>v))v=2;else{if(0>=H.Rd&&H.sd==null){ut=st=et=x=0;var ae=(dt=gt*Fg[v])*Tt;if(11>v||(st=(Tt+1)/2*(x=(gt+1)/2),v==12&&(ut=(et=gt)*Tt)),(Tt=b(ae+2*st+ut))==null){v=1;break t}H.sd=Tt,11>v?((gt=H.f.RGBA).eb=Tt,gt.fb=0,gt.A=dt,gt.size=ae):((gt=H.f.kb).y=Tt,gt.O=0,gt.fa=dt,gt.Fd=ae,gt.f=Tt,gt.N=0+ae,gt.Ab=x,gt.Cd=st,gt.ea=Tt,gt.W=0+ae+st,gt.Db=x,gt.Ed=st,v==12&&(gt.F=Tt,gt.J=0+ae+2*st),gt.Tc=ut,gt.lb=et)}if(x=1,et=H.S,st=H.width,ut=H.height,et>=Uf&&13>et)if(11>et)v=H.f.RGBA,x&=(dt=Math.abs(v.A))*(ut-1)+st<=v.size,x&=dt>=st*Fg[et],x&=v.eb!=null;else{v=H.f.kb,dt=(st+1)/2,ae=(ut+1)/2,gt=Math.abs(v.fa),Tt=Math.abs(v.Ab);var we=Math.abs(v.Db),Oe=Math.abs(v.lb),de=Oe*(ut-1)+st;x&=gt*(ut-1)+st<=v.Fd,x&=Tt*(ae-1)+dt<=v.Cd,x=(x&=we*(ae-1)+dt<=v.Ed)&gt>=st&Tt>=dt&we>=dt,x&=v.y!=null,x&=v.f!=null,x&=v.ea!=null,et==12&&(x&=Oe>=st,x&=de<=v.Tc,x&=v.F!=null)}else x=0;v=x?0:2}}return v!=0||N!=null&&N.fd&&(v=jf(H)),v}var Oa=64,es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cu=24,Tc=32,zu=8,ha=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xr("Predictor0","PredictorAdd0"),pe.Predictor0=function(){return 4278190080},pe.Predictor1=function(v){return v},pe.Predictor2=function(v,x,N){return x[N+0]},pe.Predictor3=function(v,x,N){return x[N+1]},pe.Predictor4=function(v,x,N){return x[N-1]},pe.Predictor5=function(v,x,N){return Nr(Nr(v,x[N+1]),x[N+0])},pe.Predictor6=function(v,x,N){return Nr(v,x[N-1])},pe.Predictor7=function(v,x,N){return Nr(v,x[N+0])},pe.Predictor8=function(v,x,N){return Nr(x[N-1],x[N+0])},pe.Predictor9=function(v,x,N){return Nr(x[N+0],x[N+1])},pe.Predictor10=function(v,x,N){return Nr(Nr(v,x[N-1]),Nr(x[N+0],x[N+1]))},pe.Predictor11=function(v,x,N){var H=x[N+0];return 0>=Wn(H>>24&255,v>>24&255,(x=x[N-1])>>24&255)+Wn(H>>16&255,v>>16&255,x>>16&255)+Wn(H>>8&255,v>>8&255,x>>8&255)+Wn(255&H,255&v,255&x)?H:v},pe.Predictor12=function(v,x,N){var H=x[N+0];return(sn((v>>24&255)+(H>>24&255)-((x=x[N-1])>>24&255))<<24|sn((v>>16&255)+(H>>16&255)-(x>>16&255))<<16|sn((v>>8&255)+(H>>8&255)-(x>>8&255))<<8|sn((255&v)+(255&H)-(255&x)))>>>0},pe.Predictor13=function(v,x,N){var H=x[N-1];return(Mn((v=Nr(v,x[N+0]))>>24&255,H>>24&255)<<24|Mn(v>>16&255,H>>16&255)<<16|Mn(v>>8&255,H>>8&255)<<8|Mn(v>>0&255,H>>0&255))>>>0};var Xh=pe.PredictorAdd0;pe.PredictorAdd1=Jn,xr("Predictor2","PredictorAdd2"),xr("Predictor3","PredictorAdd3"),xr("Predictor4","PredictorAdd4"),xr("Predictor5","PredictorAdd5"),xr("Predictor6","PredictorAdd6"),xr("Predictor7","PredictorAdd7"),xr("Predictor8","PredictorAdd8"),xr("Predictor9","PredictorAdd9"),xr("Predictor10","PredictorAdd10"),xr("Predictor11","PredictorAdd11"),xr("Predictor12","PredictorAdd12"),xr("Predictor13","PredictorAdd13");var fu=pe.PredictorAdd2;qn("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),qn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Kh,Cs=pe.ColorIndexInverseTransform,bc=pe.MapARGB,Ap=pe.VP8LColorIndexInverseTransformAlpha,Rp=pe.MapAlpha,Ls=pe.VP8LPredictorsAdd=[];Ls.length=16,(pe.VP8LPredictors=[]).length=16,(pe.VP8LPredictorsAdd_C=[]).length=16,(pe.VP8LPredictors_C=[]).length=16;var Ua,As,al,Rs,Ml,Il,ai,Cc,rs,Nl,Ps,Fl,jl,Lc,sl,hu,Df,ns,Dl,Mi,si,oo,_o,ll,Zi,Ac,Bf,Pp,wg=b(511),Og=b(2041),Mp=b(225),ri=b(767),Tg=0,Ip=Og,Gf=Mp,ka=ri,is=wg,Uf=0,Zh=1,bg=2,kf=3,$h=4,zf=5,Cg=6,Np=7,Fp=8,Rc=9,du=10,gm=[2,3,7],ym=[3,3,11],Lg=[280,256,256,256,40],mm=[0,1,1,1,0],_m=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Em=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],za=8,Pc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Jh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mc=null,Ag=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ms=[],Is=[],os=[],wm=1,Ic=2,ul=[],Uo=[];nr("UpsampleRgbLinePair",Go,3),nr("UpsampleBgrLinePair",qi,3),nr("UpsampleRgbaLinePair",ku,4),nr("UpsampleBgraLinePair",Ga,4),nr("UpsampleArgbLinePair",io,4),nr("UpsampleRgba4444LinePair",Ki,2),nr("UpsampleRgb565LinePair",mo,2);var Om=pe.UpsampleRgbLinePair,Tm=pe.UpsampleBgrLinePair,qh=pe.UpsampleRgbaLinePair,Rg=pe.UpsampleBgraLinePair,Pg=pe.UpsampleArgbLinePair,Mg=pe.UpsampleRgba4444LinePair,bm=pe.UpsampleRgb565LinePair,Qh=16,td=1<<Qh-1,Wf=-227,Up=482,Ig=6,Ng=(256<<Ig)-1,Yf=0,kp=b(256),Cm=b(256),Lm=b(256),Am=b(256),Rm=b(Up-Wf),Pm=b(Up-Wf);il("YuvToRgbRow",Go,3),il("YuvToBgrRow",qi,3),il("YuvToRgbaRow",ku,4),il("YuvToBgraRow",Ga,4),il("YuvToArgbRow",io,4),il("YuvToRgba4444Row",Ki,2),il("YuvToRgb565Row",mo,2);var pu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ed=[0,2,8],Mm=[8,7,6,4,4,2,2,2,1,1,1,1],Im=1;this.WebPDecodeRGBA=function(v,x,N,H,et){var st=Zh,ut=new Gu,dt=new Ea;ut.ba=dt,dt.S=st,dt.width=[dt.width],dt.height=[dt.height];var gt=dt.width,Tt=dt.height,ae=new Ol;if(ae==null||v==null)var we=2;else _(ae!=null),we=bs(v,x,N,ae.width,ae.height,ae.Pd,ae.Qd,ae.format,null);if(we!=0?gt=0:(gt!=null&&(gt[0]=ae.width[0]),Tt!=null&&(Tt[0]=ae.height[0]),gt=1),gt){dt.width=dt.width[0],dt.height=dt.height[0],H!=null&&(H[0]=dt.width),et!=null&&(et[0]=dt.height);t:{if(H=new dc,(et=new Oc).data=v,et.w=x,et.ha=N,et.kd=1,x=[0],_(et!=null),((v=bs(et.data,et.w,et.ha,null,null,null,x,null,et))==0||v==7)&&x[0]&&(v=4),(x=v)==0){if(_(ut!=null),H.data=et.data,H.w=et.w+et.offset,H.ha=et.ha-et.offset,H.put=Zs,H.ac=Yo,H.bc=$s,H.ma=ut,et.xa){if((v=ki())==null){ut=1;break t}if(function(Oe,de){var $e=[0],Fe=[0],se=[0];e:for(;;){if(Oe==null)return 0;if(de==null)return Oe.a=2,0;if(Oe.l=de,Oe.a=0,Le(Oe.m,de.data,de.w,de.ha),!ln(Oe.m,$e,Fe,se)){Oe.a=3;break e}if(Oe.xb=Ic,de.width=$e[0],de.height=Fe[0],!oi($e[0],Fe[0],1,Oe,null))break e;return 1}return _(Oe.a!=0),0}(v,H)){if(H=(x=Gn(H.width,H.height,ut.Oa,ut.ba))==0){e:{H=v;r:for(;;){if(H==null){H=0;break e}if(_(H.s.yc!=null),_(H.s.Ya!=null),_(0<H.s.Wb),_((N=H.l)!=null),_((et=N.ma)!=null),H.xb!=0){if(H.ca=et.ba,H.tb=et.tb,_(H.ca!=null),!Ff(et.Oa,N,kf)){H.a=2;break r}if(!No(H,N.width)||N.da)break r;if((N.da||ci(H.ca.S))&&ze(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&ze()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!gn(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!ra(H,H.V,H.Ba,H.c,H.i,N.o,lc))break r;et.Dc=H.Ma,H=1;break e}_(H.a!=0),H=0}H=!H}H&&(x=v.a)}else x=v.a}else{if((v=new Of)==null){ut=1;break t}if(v.Fa=et.na,v.P=et.P,v.qc=et.Sa,pc(v,H)){if((x=Gn(H.width,H.height,ut.Oa,ut.ba))==0){if(v.Aa=0,N=ut.Oa,_((et=v)!=null),N!=null){if(0<(gt=0>(gt=N.Md)?0:100<gt?255:255*gt/100)){for(Tt=ae=0;4>Tt;++Tt)12>(we=et.pb[Tt]).lc&&(we.ia=gt*Mm[0>we.lc?0:we.lc]>>3),ae|=we.ia;ae&&(alert("todo:VP8InitRandom"),et.ia=1)}et.Ga=N.Id,100<et.Ga?et.Ga=100:0>et.Ga&&(et.Ga=0)}xp(v,H)||(x=v.a)}}else x=v.a}x==0&&ut.Oa!=null&&ut.Oa.fd&&(x=jf(ut.ba))}ut=x}st=ut!=0?null:11>st?dt.f.RGBA.eb:dt.f.kb.y}else st=null;return st};var Fg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function rt(pe,sr){for(var tr="",At=0;At<4;At++)tr+=String.fromCharCode(pe[sr++]);return tr}function vt(pe,sr){return(pe[sr+0]<<0|pe[sr+1]<<8|pe[sr+2]<<16)>>>0}function yt(pe,sr){return(pe[sr+0]<<0|pe[sr+1]<<8|pe[sr+2]<<16|pe[sr+3]<<24)>>>0}new Y;var Ot=[0],K=[0],kt=[],It=new Y,Qt=O,wt=function(pe,sr){var tr={},At=0,Pt=!1,ue=0,oe=0;if(tr.frames=[],!function(Ft,Kt,fe,ve){for(var Te=0;Te<ve;Te++)if(Ft[Kt+Te]!=fe.charCodeAt(Te))return!0;return!1}(pe,sr,"RIFF",4)){var He,We;for(yt(pe,sr+=4),sr+=8;sr<pe.length;){var ir=rt(pe,sr),Le=yt(pe,sr+=4);sr+=4;var Ne=Le+(1&Le);switch(ir){case"VP8 ":case"VP8L":tr.frames[At]===void 0&&(tr.frames[At]={}),(ft=tr.frames[At]).src_off=Pt?oe:sr-8,ft.src_size=ue+Le+8,At++,Pt&&(Pt=!1,ue=0,oe=0);break;case"VP8X":(ft=tr.header={}).feature_flags=pe[sr];var Ze=sr+4;ft.canvas_width=1+vt(pe,Ze),Ze+=3,ft.canvas_height=1+vt(pe,Ze),Ze+=3;break;case"ALPH":Pt=!0,ue=Ne+8,oe=sr-8;break;case"ANIM":(ft=tr.header).bgcolor=yt(pe,sr),Ze=sr+4,ft.loop_count=(He=pe)[(We=Ze)+0]<<0|He[We+1]<<8,Ze+=2;break;case"ANMF":var Xr,ft;(ft=tr.frames[At]={}).offset_x=2*vt(pe,sr),sr+=3,ft.offset_y=2*vt(pe,sr),sr+=3,ft.width=1+vt(pe,sr),sr+=3,ft.height=1+vt(pe,sr),sr+=3,ft.duration=vt(pe,sr),sr+=3,Xr=pe[sr++],ft.dispose=1&Xr,ft.blend=Xr>>1&1}ir!="ANMF"&&(sr+=Ne)}return tr}}(Qt,0);wt.response=Qt,wt.rgbaoutput=!0,wt.dataurl=!1;var Yt=wt.header?wt.header:null,xe=wt.frames?wt.frames:null;if(Yt){Yt.loop_counter=Yt.loop_count,Ot=[Yt.canvas_height],K=[Yt.canvas_width];for(var Be=0;Be<xe.length&&xe[Be].blend!=0;Be++);}var Qe=xe[0],Er=It.WebPDecodeRGBA(Qt,Qe.src_off,Qe.src_size,K,Ot);Qe.rgba=Er,Qe.imgwidth=K[0],Qe.imgheight=Ot[0];for(var De=0;De<K[0]*Ot[0]*4;De++)kt[De]=Er[De];return this.width=K,this.height=Ot,this.data=kt,this}(function(O){var _=function(){return typeof A.b=="function"},E=function(Ot,K,kt,It){var Qt=4,wt=D;switch(It){case O.image_compression.FAST:Qt=1,wt=b;break;case O.image_compression.MEDIUM:Qt=6,wt=k;break;case O.image_compression.SLOW:Qt=9,wt=Y}Ot=T(Ot,K,kt,wt);var Yt=Object(A.b)(Ot,{level:Qt});return O.__addimage__.arrayBufferToBinaryString(Yt)},T=function(Ot,K,kt,It){for(var Qt,wt,Yt,xe=Ot.length/K,Be=new Uint8Array(Ot.length+xe),Qe=vt(),Er=0;Er<xe;Er+=1){if(Yt=Er*K,Qt=Ot.subarray(Yt,Yt+K),It)Be.set(It(Qt,kt,wt),Yt+Er);else{for(var De,pe=Qe.length,sr=[];De<pe;De+=1)sr[De]=Qe[De](Qt,kt,wt);var tr=yt(sr.concat());Be.set(sr[tr],Yt+Er)}wt=Qt}return Be},F=function(Ot){var K=Array.apply([],Ot);return K.unshift(0),K},b=function(Ot,K){var kt,It=[],Qt=Ot.length;It[0]=1;for(var wt=0;wt<Qt;wt+=1)kt=Ot[wt-K]||0,It[wt+1]=Ot[wt]-kt+256&255;return It},D=function(Ot,K,kt){var It,Qt=[],wt=Ot.length;Qt[0]=2;for(var Yt=0;Yt<wt;Yt+=1)It=kt&&kt[Yt]||0,Qt[Yt+1]=Ot[Yt]-It+256&255;return Qt},k=function(Ot,K,kt){var It,Qt,wt=[],Yt=Ot.length;wt[0]=3;for(var xe=0;xe<Yt;xe+=1)It=Ot[xe-K]||0,Qt=kt&&kt[xe]||0,wt[xe+1]=Ot[xe]+256-(It+Qt>>>1)&255;return wt},Y=function(Ot,K,kt){var It,Qt,wt,Yt,xe=[],Be=Ot.length;xe[0]=4;for(var Qe=0;Qe<Be;Qe+=1)It=Ot[Qe-K]||0,Qt=kt&&kt[Qe]||0,wt=kt&&kt[Qe-K]||0,Yt=rt(It,Qt,wt),xe[Qe+1]=Ot[Qe]-Yt+256&255;return xe},rt=function(Ot,K,kt){if(Ot===K&&K===kt)return Ot;var It=Math.abs(K-kt),Qt=Math.abs(Ot-kt),wt=Math.abs(Ot+K-kt-kt);return It<=Qt&&It<=wt?Ot:Qt<=wt?K:kt},vt=function(){return[F,b,D,k,Y]},yt=function(Ot){var K=Ot.map(function(kt){return kt.reduce(function(It,Qt){return It+Math.abs(Qt)},0)});return K.indexOf(Math.min.apply(null,K))};O.processPNG=function(Ot,K,kt,It){var Qt,wt,Yt,xe,Be,Qe,Er,De,pe,sr,tr,At,Pt,ue,oe,He=this.decode.FLATE_DECODE,We="";if(this.__addimage__.isArrayBuffer(Ot)&&(Ot=new Uint8Array(Ot)),this.__addimage__.isArrayBufferView(Ot)){if(Ot=(Yt=new sc(Ot)).imgData,wt=Yt.bits,Qt=Yt.colorSpace,Be=Yt.colors,[4,6].indexOf(Yt.colorType)!==-1){if(Yt.bits===8){pe=(De=Yt.pixelBitlength==32?new Uint32Array(Yt.decodePixels().buffer):Yt.pixelBitlength==16?new Uint16Array(Yt.decodePixels().buffer):new Uint8Array(Yt.decodePixels().buffer)).length,tr=new Uint8Array(pe*Yt.colors),sr=new Uint8Array(pe);var ir,Le=Yt.pixelBitlength-Yt.bits;for(ue=0,oe=0;ue<pe;ue++){for(Pt=De[ue],ir=0;ir<Le;)tr[oe++]=Pt>>>ir&255,ir+=Yt.bits;sr[ue]=Pt>>>ir&255}}if(Yt.bits===16){pe=(De=new Uint32Array(Yt.decodePixels().buffer)).length,tr=new Uint8Array(pe*(32/Yt.pixelBitlength)*Yt.colors),sr=new Uint8Array(pe*(32/Yt.pixelBitlength)),At=Yt.colors>1,ue=0,oe=0;for(var Ne=0;ue<pe;)Pt=De[ue++],tr[oe++]=Pt>>>0&255,At&&(tr[oe++]=Pt>>>16&255,Pt=De[ue++],tr[oe++]=Pt>>>0&255),sr[Ne++]=Pt>>>16&255;wt=8}It!==O.image_compression.NONE&&_()?(Ot=E(tr,Yt.width*Yt.colors,Yt.colors,It),Er=E(sr,Yt.width,1,It)):(Ot=tr,Er=sr,He=void 0)}if(Yt.colorType===3&&(Qt=this.color_spaces.INDEXED,Qe=Yt.palette,Yt.transparency.indexed)){var Ze=Yt.transparency.indexed,Xr=0;for(ue=0,pe=Ze.length;ue<pe;++ue)Xr+=Ze[ue];if((Xr/=255)==pe-1&&Ze.indexOf(0)!==-1)xe=[Ze.indexOf(0)];else if(Xr!==pe){for(De=Yt.decodePixels(),sr=new Uint8Array(De.length),ue=0,pe=De.length;ue<pe;ue++)sr[ue]=Ze[De[ue]];Er=E(sr,Yt.width,1)}}var ft=function(Ft){var Kt;switch(Ft){case O.image_compression.FAST:Kt=11;break;case O.image_compression.MEDIUM:Kt=13;break;case O.image_compression.SLOW:Kt=14;break;default:Kt=12}return Kt}(It);return He===this.decode.FLATE_DECODE&&(We="/Predictor "+ft+" "),We+="/Colors "+Be+" /BitsPerComponent "+wt+" /Columns "+Yt.width,(this.__addimage__.isArrayBuffer(Ot)||this.__addimage__.isArrayBufferView(Ot))&&(Ot=this.__addimage__.arrayBufferToBinaryString(Ot)),(Er&&this.__addimage__.isArrayBuffer(Er)||this.__addimage__.isArrayBufferView(Er))&&(Er=this.__addimage__.arrayBufferToBinaryString(Er)),{alias:kt,data:Ot,index:K,filter:He,decodeParameters:We,transparency:xe,palette:Qe,sMask:Er,predictor:ft,width:Yt.width,height:Yt.height,bitsPerComponent:wt,colorSpace:Qt}}}})(ee.API),function(O){O.processGIF89A=function(_,E,T,F){var b=new nu(_),D=b.width,k=b.height,Y=[];b.decodeAndBlitFrameRGBA(0,Y);var rt={data:Y,width:D,height:k},vt=new Mh(100).encode(rt,100);return O.processJPEG.call(this,vt,E,T,F)},O.processGIF87A=O.processGIF89A}(ee.API),Mo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var O=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(O);for(var _=0;_<O;_++){var E=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),F=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0);this.palette[_]={red:F,green:T,blue:E,quad:b}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mo.prototype.parseBGR=function(){this.pos=this.offset;try{var O="bit"+this.bitPP,_=this.width*this.height*4;this.data=new Uint8Array(_),this[O]()}catch(E){U.log("bit decode error:"+E)}},Mo.prototype.bit1=function(){var O,_=Math.ceil(this.width/8),E=_%4;for(O=this.height-1;O>=0;O--){for(var T=this.bottom_up?O:this.height-1-O,F=0;F<_;F++)for(var b=this.datav.getUint8(this.pos++,!0),D=T*this.width*4+8*F*4,k=0;k<8&&8*F+k<this.width;k++){var Y=this.palette[b>>7-k&1];this.data[D+4*k]=Y.blue,this.data[D+4*k+1]=Y.green,this.data[D+4*k+2]=Y.red,this.data[D+4*k+3]=255}E!==0&&(this.pos+=4-E)}},Mo.prototype.bit4=function(){for(var O=Math.ceil(this.width/2),_=O%4,E=this.height-1;E>=0;E--){for(var T=this.bottom_up?E:this.height-1-E,F=0;F<O;F++){var b=this.datav.getUint8(this.pos++,!0),D=T*this.width*4+2*F*4,k=b>>4,Y=15&b,rt=this.palette[k];if(this.data[D]=rt.blue,this.data[D+1]=rt.green,this.data[D+2]=rt.red,this.data[D+3]=255,2*F+1>=this.width)break;rt=this.palette[Y],this.data[D+4]=rt.blue,this.data[D+4+1]=rt.green,this.data[D+4+2]=rt.red,this.data[D+4+3]=255}_!==0&&(this.pos+=4-_)}},Mo.prototype.bit8=function(){for(var O=this.width%4,_=this.height-1;_>=0;_--){for(var E=this.bottom_up?_:this.height-1-_,T=0;T<this.width;T++){var F=this.datav.getUint8(this.pos++,!0),b=E*this.width*4+4*T;if(F<this.palette.length){var D=this.palette[F];this.data[b]=D.red,this.data[b+1]=D.green,this.data[b+2]=D.blue,this.data[b+3]=255}else this.data[b]=255,this.data[b+1]=255,this.data[b+2]=255,this.data[b+3]=255}O!==0&&(this.pos+=4-O)}},Mo.prototype.bit15=function(){for(var O=this.width%3,_=parseInt("11111",2),E=this.height-1;E>=0;E--){for(var T=this.bottom_up?E:this.height-1-E,F=0;F<this.width;F++){var b=this.datav.getUint16(this.pos,!0);this.pos+=2;var D=(b&_)/_*255|0,k=(b>>5&_)/_*255|0,Y=(b>>10&_)/_*255|0,rt=b>>15?255:0,vt=T*this.width*4+4*F;this.data[vt]=Y,this.data[vt+1]=k,this.data[vt+2]=D,this.data[vt+3]=rt}this.pos+=O}},Mo.prototype.bit16=function(){for(var O=this.width%3,_=parseInt("11111",2),E=parseInt("111111",2),T=this.height-1;T>=0;T--){for(var F=this.bottom_up?T:this.height-1-T,b=0;b<this.width;b++){var D=this.datav.getUint16(this.pos,!0);this.pos+=2;var k=(D&_)/_*255|0,Y=(D>>5&E)/E*255|0,rt=(D>>11)/_*255|0,vt=F*this.width*4+4*b;this.data[vt]=rt,this.data[vt+1]=Y,this.data[vt+2]=k,this.data[vt+3]=255}this.pos+=O}},Mo.prototype.bit24=function(){for(var O=this.height-1;O>=0;O--){for(var _=this.bottom_up?O:this.height-1-O,E=0;E<this.width;E++){var T=this.datav.getUint8(this.pos++,!0),F=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0),D=_*this.width*4+4*E;this.data[D]=b,this.data[D+1]=F,this.data[D+2]=T,this.data[D+3]=255}this.pos+=this.width%4}},Mo.prototype.bit32=function(){for(var O=this.height-1;O>=0;O--)for(var _=this.bottom_up?O:this.height-1-O,E=0;E<this.width;E++){var T=this.datav.getUint8(this.pos++,!0),F=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),k=_*this.width*4+4*E;this.data[k]=b,this.data[k+1]=F,this.data[k+2]=T,this.data[k+3]=D}},Mo.prototype.getData=function(){return this.data},function(O){O.processBMP=function(_,E,T,F){var b=new Mo(_,!1),D=b.width,k=b.height,Y={data:b.getData(),width:D,height:k},rt=new Mh(100).encode(Y,100);return O.processJPEG.call(this,rt,E,T,F)}}(ee.API),yp.prototype.getData=function(){return this.data},function(O){O.processWEBP=function(_,E,T,F){var b=new yp(_,!1),D=b.width,k=b.height,Y={data:b.getData(),width:D,height:k},rt=new Mh(100).encode(Y,100);return O.processJPEG.call(this,rt,E,T,F)}}(ee.API),ee.API.processRGBA=function(O,_,E){for(var T=O.data,F=T.length,b=new Uint8Array(F/4*3),D=new Uint8Array(F/4),k=0,Y=0,rt=0;rt<F;rt+=4){var vt=T[rt],yt=T[rt+1],Ot=T[rt+2],K=T[rt+3];b[k++]=vt,b[k++]=yt,b[k++]=Ot,D[Y++]=K}var kt=this.__addimage__.arrayBufferToBinaryString(b);return{alpha:this.__addimage__.arrayBufferToBinaryString(D),data:kt,index:_,alias:E,colorSpace:"DeviceRGB",bitsPerComponent:8,width:O.width,height:O.height}},ee.API.setLanguage=function(O){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[O]!==void 0&&(this.internal.languageSettings.languageCode=O,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Na=ee.API,Es=Na.getCharWidthsArray=function(O,_){var E,T,F=(_=_||{}).font||this.internal.getFont(),b=_.fontSize||this.internal.getFontSize(),D=_.charSpace||this.internal.getCharSpace(),k=_.widths?_.widths:F.metadata.Unicode.widths,Y=k.fof?k.fof:1,rt=_.kerning?_.kerning:F.metadata.Unicode.kerning,vt=rt.fof?rt.fof:1,yt=_.doKerning!==!1,Ot=0,K=O.length,kt=0,It=k[0]||Y,Qt=[];for(E=0;E<K;E++)T=O.charCodeAt(E),typeof F.metadata.widthOfString=="function"?Qt.push((F.metadata.widthOfGlyph(F.metadata.characterToGlyph(T))+D*(1e3/b)||0)/1e3):(Ot=yt&&S()(rt[T])==="object"&&!isNaN(parseInt(rt[T][kt],10))?rt[T][kt]/vt:0,Qt.push((k[T]||It)/Y+Ot)),kt=T;return Qt},Xs=Na.getStringUnitWidth=function(O,_){var E=(_=_||{}).fontSize||this.internal.getFontSize(),T=_.font||this.internal.getFont(),F=_.charSpace||this.internal.getCharSpace();return Na.processArabic&&(O=Na.processArabic(O)),typeof T.metadata.widthOfString=="function"?T.metadata.widthOfString(O,E,F)/E:Es.apply(this,arguments).reduce(function(b,D){return b+D},0)},Ph=function(O,_,E,T){for(var F=[],b=0,D=O.length,k=0;b!==D&&k+_[b]<E;)k+=_[b],b++;F.push(O.slice(0,b));var Y=b;for(k=0;b!==D;)k+_[b]>T&&(F.push(O.slice(Y,b)),k=0,Y=b),k+=_[b],b++;return Y!==b&&F.push(O.slice(Y,b)),F},vp=function(O,_,E){E||(E={});var T,F,b,D,k,Y,rt,vt=[],yt=[vt],Ot=E.textIndent||0,K=0,kt=0,It=O.split(" "),Qt=Es.apply(this,[" ",E])[0];if(Y=E.lineIndent===-1?It[0].length+2:E.lineIndent||0){var wt=Array(Y).join(" "),Yt=[];It.map(function(Be){(Be=Be.split(/\s*\n/)).length>1?Yt=Yt.concat(Be.map(function(Qe,Er){return(Er&&Qe.length?`
`:"")+Qe})):Yt.push(Be[0])}),It=Yt,Y=Xs.apply(this,[wt,E])}for(b=0,D=It.length;b<D;b++){var xe=0;if(T=It[b],Y&&T[0]==`
`&&(T=T.substr(1),xe=1),Ot+K+(kt=(F=Es.apply(this,[T,E])).reduce(function(Be,Qe){return Be+Qe},0))>_||xe){if(kt>_){for(k=Ph.apply(this,[T,F,_-(Ot+K),_]),vt.push(k.shift()),vt=[k.pop()];k.length;)yt.push([k.shift()]);kt=F.slice(T.length-(vt[0]?vt[0].length:0)).reduce(function(Be,Qe){return Be+Qe},0)}else vt=[T];yt.push(vt),Ot=kt+Y,K=Qt}else vt.push(T),Ot+=K+kt,K=Qt}return rt=Y?function(Be,Qe){return(Qe?wt:"")+Be.join(" ")}:function(Be){return Be.join(" ")},yt.map(rt)},Na.splitTextToSize=function(O,_,E){var T,F=(E=E||{}).fontSize||this.internal.getFontSize(),b=function(vt){if(vt.widths&&vt.kerning)return{widths:vt.widths,kerning:vt.kerning};var yt=this.internal.getFont(vt.fontName,vt.fontStyle);return yt.metadata.Unicode?{widths:yt.metadata.Unicode.widths||{0:1},kerning:yt.metadata.Unicode.kerning||{}}:{font:yt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,E);T=Array.isArray(O)?O:String(O).split(/\r?\n/);var D=1*this.internal.scaleFactor*_/F;b.textIndent=E.textIndent?1*E.textIndent*this.internal.scaleFactor/F:0,b.lineIndent=E.lineIndent;var k,Y,rt=[];for(k=0,Y=T.length;k<Y;k++)rt=rt.concat(vp.apply(this,[T[k],D,b]));return rt},function(O){O.__fontmetrics__=O.__fontmetrics__||{};for(var _="klmnopqrstuvwxyz",E={},T={},F=0;F<_.length;F++)E[_[F]]="0123456789abcdef"[F],T["0123456789abcdef"[F]]=_[F];var b=function(yt){return"0x"+parseInt(yt,10).toString(16)},D=O.__fontmetrics__.compress=function(yt){var Ot,K,kt,It,Qt=["{"];for(var wt in yt){if(Ot=yt[wt],isNaN(parseInt(wt,10))?K="'"+wt+"'":(wt=parseInt(wt,10),K=(K=b(wt).slice(2)).slice(0,-1)+T[K.slice(-1)]),typeof Ot=="number")Ot<0?(kt=b(Ot).slice(3),It="-"):(kt=b(Ot).slice(2),It=""),kt=It+kt.slice(0,-1)+T[kt.slice(-1)];else{if(S()(Ot)!=="object")throw new Error("Don't know what to do with value type "+S()(Ot)+".");kt=D(Ot)}Qt.push(K+kt)}return Qt.push("}"),Qt.join("")},k=O.__fontmetrics__.uncompress=function(yt){if(typeof yt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ot,K,kt,It,Qt={},wt=1,Yt=Qt,xe=[],Be="",Qe="",Er=yt.length-1,De=1;De<Er;De+=1)(It=yt[De])=="'"?Ot?(kt=Ot.join(""),Ot=void 0):Ot=[]:Ot?Ot.push(It):It=="{"?(xe.push([Yt,kt]),Yt={},kt=void 0):It=="}"?((K=xe.pop())[0][K[1]]=Yt,kt=void 0,Yt=K[0]):It=="-"?wt=-1:kt===void 0?E.hasOwnProperty(It)?(Be+=E[It],kt=parseInt(Be,16)*wt,wt=1,Be=""):Be+=It:E.hasOwnProperty(It)?(Qe+=E[It],Yt[kt]=parseInt(Qe,16)*wt,wt=1,kt=void 0,Qe=""):Qe+=It;return Qt},Y={codePages:["WinAnsiEncoding"],WinAnsiEncoding:k("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},rt={Unicode:{Courier:Y,"Courier-Bold":Y,"Courier-BoldOblique":Y,"Courier-Oblique":Y,Helvetica:Y,"Helvetica-Bold":Y,"Helvetica-BoldOblique":Y,"Helvetica-Oblique":Y,"Times-Roman":Y,"Times-Bold":Y,"Times-BoldItalic":Y,"Times-Italic":Y}},vt={Unicode:{"Courier-Oblique":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":k("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":k("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":k("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:k("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:k("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":k("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:k("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":k("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":k("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":k("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};O.events.push(["addFont",function(yt){var Ot=yt.font,K=vt.Unicode[Ot.postScriptName];K&&(Ot.metadata.Unicode={},Ot.metadata.Unicode.widths=K.widths,Ot.metadata.Unicode.kerning=K.kerning);var kt=rt.Unicode[Ot.postScriptName];kt&&(Ot.metadata.Unicode.encoding=kt,Ot.encoding=kt.codePages[0])}])}(ee.API),function(O){var _=function(E){for(var T=E.length,F=new Uint8Array(T),b=0;b<T;b++)F[b]=E.charCodeAt(b);return F};O.API.events.push(["addFont",function(E){var T=void 0,F=E.font,b=E.instance;if(!F.isStandardFont){if(b===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+F.postScriptName+"').");if(typeof(T=b.existsFileInVFS(F.postScriptName)===!1?b.loadFile(F.postScriptName):b.getFileFromVFS(F.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+F.postScriptName+"').");(function(D,k){k=/^\x00\x01\x00\x00/.test(k)?_(k):_(W(k)),D.metadata=O.API.TTFFont.open(k),D.metadata.Unicode=D.metadata.Unicode||{encoding:{},kerning:{},widths:[]},D.metadata.glyIdsUsed=[0]})(F,T)}}])}(ee),function(O){function _(){return(R.canvg?Promise.resolve(R.canvg):u.e(1).then(u.bind(null,"0d73"))).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E})}ee.API.addSvgAsImage=function(E,T,F,b,D,k,Y,rt){if(isNaN(T)||isNaN(F))throw U.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(b)||isNaN(D))throw U.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var vt=document.createElement("canvas");vt.width=b,vt.height=D;var yt=vt.getContext("2d");yt.fillStyle="#fff",yt.fillRect(0,0,vt.width,vt.height);var Ot={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},K=this;return _().then(function(kt){return kt.fromString(yt,E,Ot)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(kt){return kt.render(Ot)}).then(function(){K.addImage(vt.toDataURL("image/jpeg",1),T,F,b,D,Y,rt)})}}(),ee.API.putTotalPages=function(O){var _,E=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(_=new RegExp(O,"g"),E=this.internal.getNumberOfPages()):(_=new RegExp(this.pdfEscape16(O,this.internal.getFont()),"g"),E=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var T=1;T<=this.internal.getNumberOfPages();T++)for(var F=0;F<this.internal.pages[T].length;F++)this.internal.pages[T][F]=this.internal.pages[T][F].replace(_,E);return this},ee.API.viewerPreferences=function(O,_){var E;O=O||{},_=_||!1;var T,F,b,D={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},k=Object.keys(D),Y=[],rt=0,vt=0,yt=0;function Ot(kt,It){var Qt,wt=!1;for(Qt=0;Qt<kt.length;Qt+=1)kt[Qt]===It&&(wt=!0);return wt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(D)),this.internal.viewerpreferences.isSubscribed=!1),E=this.internal.viewerpreferences.configuration,O==="reset"||_===!0){var K=k.length;for(yt=0;yt<K;yt+=1)E[k[yt]].value=E[k[yt]].defaultValue,E[k[yt]].explicitSet=!1}if(S()(O)==="object"){for(F in O)if(b=O[F],Ot(k,F)&&b!==void 0){if(E[F].type==="boolean"&&typeof b=="boolean")E[F].value=b;else if(E[F].type==="name"&&Ot(E[F].valueSet,b))E[F].value=b;else if(E[F].type==="integer"&&Number.isInteger(b))E[F].value=b;else if(E[F].type==="array"){for(rt=0;rt<b.length;rt+=1)if(T=!0,b[rt].length===1&&typeof b[rt][0]=="number")Y.push(String(b[rt]-1));else if(b[rt].length>1){for(vt=0;vt<b[rt].length;vt+=1)typeof b[rt][vt]!="number"&&(T=!1);T===!0&&Y.push([b[rt][0]-1,b[rt][1]-1].join(" "))}E[F].value="["+Y.join(" ")+"]"}else E[F].value=E[F].defaultValue;E[F].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var kt,It=[];for(kt in E)E[kt].explicitSet===!0&&(E[kt].type==="name"?It.push("/"+kt+" /"+E[kt].value):It.push("/"+kt+" "+E[kt].value));It.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+It.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=E,this},function(O){var _=function(){var T='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',F=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),b=unescape(encodeURIComponent(T)),D=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),k=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Y=unescape(encodeURIComponent("</x:xmpmeta>")),rt=b.length+D.length+k.length+F.length+Y.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+rt+" >>"),this.internal.write("stream"),this.internal.write(F+b+D+k+Y),this.internal.write("endstream"),this.internal.write("endobj")},E=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};O.addMetadata=function(T,F){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:T,namespaceuri:F||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",E),this.internal.events.subscribe("postPutResources",_)),this}}(ee.API),function(O){var _=O.API,E=_.pdfEscape16=function(b,D){for(var k,Y=D.metadata.Unicode.widths,rt=["","0","00","000","0000"],vt=[""],yt=0,Ot=b.length;yt<Ot;++yt){if(k=D.metadata.characterToGlyph(b.charCodeAt(yt)),D.metadata.glyIdsUsed.push(k),D.metadata.toUnicode[k]=b.charCodeAt(yt),Y.indexOf(k)==-1&&(Y.push(k),Y.push([parseInt(D.metadata.widthOfGlyph(k),10)])),k=="0")return vt.join("");k=k.toString(16),vt.push(rt[4-k.length],k)}return vt.join("")},T=function(b){var D,k,Y,rt,vt,yt,Ot;for(vt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Y=[],yt=0,Ot=(k=Object.keys(b).sort(function(K,kt){return K-kt})).length;yt<Ot;yt++)D=k[yt],Y.length>=100&&(vt+=`
`+Y.length+` beginbfchar
`+Y.join(`
`)+`
endbfchar`,Y=[]),b[D]!==void 0&&b[D]!==null&&typeof b[D].toString=="function"&&(rt=("0000"+b[D].toString(16)).slice(-4),D=("0000"+(+D).toString(16)).slice(-4),Y.push("<"+D+"><"+rt+">"));return Y.length&&(vt+=`
`+Y.length+` beginbfchar
`+Y.join(`
`)+`
endbfchar
`),vt+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};_.events.push(["putFont",function(b){(function(D){var k=D.font,Y=D.out,rt=D.newObject,vt=D.putStream;if(k.metadata instanceof O.API.TTFFont&&k.encoding==="Identity-H"){for(var yt=k.metadata.Unicode.widths,Ot=k.metadata.subset.encode(k.metadata.glyIdsUsed,1),K="",kt=0;kt<Ot.length;kt++)K+=String.fromCharCode(Ot[kt]);var It=rt();vt({data:K,addLength1:!0,objectId:It}),Y("endobj");var Qt=rt();vt({data:T(k.metadata.toUnicode),addLength1:!0,objectId:Qt}),Y("endobj");var wt=rt();Y("<<"),Y("/Type /FontDescriptor"),Y("/FontName /"+Xe(k.fontName)),Y("/FontFile2 "+It+" 0 R"),Y("/FontBBox "+O.API.PDFObject.convert(k.metadata.bbox)),Y("/Flags "+k.metadata.flags),Y("/StemV "+k.metadata.stemV),Y("/ItalicAngle "+k.metadata.italicAngle),Y("/Ascent "+k.metadata.ascender),Y("/Descent "+k.metadata.decender),Y("/CapHeight "+k.metadata.capHeight),Y(">>"),Y("endobj");var Yt=rt();Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Xe(k.fontName)),Y("/FontDescriptor "+wt+" 0 R"),Y("/W "+O.API.PDFObject.convert(yt)),Y("/CIDToGIDMap /Identity"),Y("/DW 1000"),Y("/Subtype /CIDFontType2"),Y("/CIDSystemInfo"),Y("<<"),Y("/Supplement 0"),Y("/Registry (Adobe)"),Y("/Ordering ("+k.encoding+")"),Y(">>"),Y(">>"),Y("endobj"),k.objectNumber=rt(),Y("<<"),Y("/Type /Font"),Y("/Subtype /Type0"),Y("/ToUnicode "+Qt+" 0 R"),Y("/BaseFont /"+Xe(k.fontName)),Y("/Encoding /"+k.encoding),Y("/DescendantFonts ["+Yt+" 0 R]"),Y(">>"),Y("endobj"),k.isAlreadyPutted=!0}})(b)}]),_.events.push(["putFont",function(b){(function(D){var k=D.font,Y=D.out,rt=D.newObject,vt=D.putStream;if(k.metadata instanceof O.API.TTFFont&&k.encoding==="WinAnsiEncoding"){for(var yt=k.metadata.rawData,Ot="",K=0;K<yt.length;K++)Ot+=String.fromCharCode(yt[K]);var kt=rt();vt({data:Ot,addLength1:!0,objectId:kt}),Y("endobj");var It=rt();vt({data:T(k.metadata.toUnicode),addLength1:!0,objectId:It}),Y("endobj");var Qt=rt();Y("<<"),Y("/Descent "+k.metadata.decender),Y("/CapHeight "+k.metadata.capHeight),Y("/StemV "+k.metadata.stemV),Y("/Type /FontDescriptor"),Y("/FontFile2 "+kt+" 0 R"),Y("/Flags 96"),Y("/FontBBox "+O.API.PDFObject.convert(k.metadata.bbox)),Y("/FontName /"+Xe(k.fontName)),Y("/ItalicAngle "+k.metadata.italicAngle),Y("/Ascent "+k.metadata.ascender),Y(">>"),Y("endobj"),k.objectNumber=rt();for(var wt=0;wt<k.metadata.hmtx.widths.length;wt++)k.metadata.hmtx.widths[wt]=parseInt(k.metadata.hmtx.widths[wt]*(1e3/k.metadata.head.unitsPerEm));Y("<</Subtype/TrueType/Type/Font/ToUnicode "+It+" 0 R/BaseFont/"+Xe(k.fontName)+"/FontDescriptor "+Qt+" 0 R/Encoding/"+k.encoding+" /FirstChar 29 /LastChar 255 /Widths "+O.API.PDFObject.convert(k.metadata.hmtx.widths)+">>"),Y("endobj"),k.isAlreadyPutted=!0}})(b)}]);var F=function(b){var D,k=b.text||"",Y=b.x,rt=b.y,vt=b.options||{},yt=b.mutex||{},Ot=yt.pdfEscape,K=yt.activeFontKey,kt=yt.fonts,It=K,Qt="",wt=0,Yt="",xe=kt[It].encoding;if(kt[It].encoding!=="Identity-H")return{text:k,x:Y,y:rt,options:vt,mutex:yt};for(Yt=k,It=K,Array.isArray(k)&&(Yt=k[0]),wt=0;wt<Yt.length;wt+=1)kt[It].metadata.hasOwnProperty("cmap")&&(D=kt[It].metadata.cmap.unicode.codeMap[Yt[wt].charCodeAt(0)]),D||Yt[wt].charCodeAt(0)<256&&kt[It].metadata.hasOwnProperty("Unicode")?Qt+=Yt[wt]:Qt+="";var Be="";return parseInt(It.slice(1))<14||xe==="WinAnsiEncoding"?Be=Ot(Qt,It).split("").map(function(Qe){return Qe.charCodeAt(0).toString(16)}).join(""):xe==="Identity-H"&&(Be=E(Qt,kt[It])),yt.isHex=!0,{text:Be,x:Y,y:rt,options:vt,mutex:yt}};_.events.push(["postProcessText",function(b){var D=b.text||"",k=[],Y={text:D,x:b.x,y:b.y,options:b.options,mutex:b.mutex};if(Array.isArray(D)){var rt=0;for(rt=0;rt<D.length;rt+=1)Array.isArray(D[rt])&&D[rt].length===3?k.push([F(Object.assign({},Y,{text:D[rt][0]})).text,D[rt][1],D[rt][2]]):k.push(F(Object.assign({},Y,{text:D[rt]})).text);b.text=k}else b.text=F(Object.assign({},Y,{text:D})).text}])}(ee),function(O){var _=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};O.existsFileInVFS=function(E){return _.call(this),this.internal.vFS[E]!==void 0},O.addFileToVFS=function(E,T){return _.call(this),this.internal.vFS[E]=T,this},O.getFileFromVFS=function(E){return _.call(this),this.internal.vFS[E]!==void 0?this.internal.vFS[E]:null}}(ee.API),function(O){O.__bidiEngine__=O.prototype.__bidiEngine__=function(T){var F,b,D,k,Y,rt,vt,yt=_,Ot=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],K=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],kt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},It={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Qt=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],wt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Yt=!1,xe=0;this.__bidiEngine__={};var Be=function(At){var Pt=At.charCodeAt(),ue=Pt>>8,oe=It[ue];return oe!==void 0?yt[256*oe+(255&Pt)]:ue===252||ue===253?"AL":wt.test(ue)?"L":ue===8?"R":"N"},Qe=function(At){for(var Pt,ue=0;ue<At.length;ue++){if((Pt=Be(At.charAt(ue)))==="L")return!1;if(Pt==="R")return!0}return!1},Er=function(At,Pt,ue,oe){var He,We,ir,Le,Ne=Pt[oe];switch(Ne){case"L":case"R":Yt=!1;break;case"N":case"AN":break;case"EN":Yt&&(Ne="AN");break;case"AL":Yt=!0,Ne="R";break;case"WS":Ne="N";break;case"CS":oe<1||oe+1>=Pt.length||(He=ue[oe-1])!=="EN"&&He!=="AN"||(We=Pt[oe+1])!=="EN"&&We!=="AN"?Ne="N":Yt&&(We="AN"),Ne=We===He?We:"N";break;case"ES":Ne=(He=oe>0?ue[oe-1]:"B")==="EN"&&oe+1<Pt.length&&Pt[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ue[oe-1]==="EN"){Ne="EN";break}if(Yt){Ne="N";break}for(ir=oe+1,Le=Pt.length;ir<Le&&Pt[ir]==="ET";)ir++;Ne=ir<Le&&Pt[ir]==="EN"?"EN":"N";break;case"NSM":if(D&&!k){for(Le=Pt.length,ir=oe+1;ir<Le&&Pt[ir]==="NSM";)ir++;if(ir<Le){var Ze=At[oe],Xr=Ze>=1425&&Ze<=2303||Ze===64286;if(He=Pt[ir],Xr&&(He==="R"||He==="AL")){Ne="R";break}}}Ne=oe<1||(He=Pt[oe-1])==="B"?"N":ue[oe-1];break;case"B":Yt=!1,F=!0,Ne=xe;break;case"S":b=!0,Ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Yt=!1;break;case"BN":Ne="N"}return Ne},De=function(At,Pt,ue){var oe=At.split("");return ue&&pe(oe,ue,{hiLevel:xe}),oe.reverse(),Pt&&Pt.reverse(),oe.join("")},pe=function(At,Pt,ue){var oe,He,We,ir,Le,Ne=-1,Ze=At.length,Xr=0,ft=[],Ft=xe?K:Ot,Kt=[];for(Yt=!1,F=!1,b=!1,He=0;He<Ze;He++)Kt[He]=Be(At[He]);for(We=0;We<Ze;We++){if(Le=Xr,ft[We]=Er(At,Kt,ft,We),oe=240&(Xr=Ft[Le][kt[ft[We]]]),Xr&=15,Pt[We]=ir=Ft[Xr][5],oe>0)if(oe===16){for(He=Ne;He<We;He++)Pt[He]=1;Ne=-1}else Ne=-1;if(Ft[Xr][6])Ne===-1&&(Ne=We);else if(Ne>-1){for(He=Ne;He<We;He++)Pt[He]=ir;Ne=-1}Kt[We]==="B"&&(Pt[We]=0),ue.hiLevel|=ir}b&&function(fe,ve,Te){for(var Ae=0;Ae<Te;Ae++)if(fe[Ae]==="S"){ve[Ae]=xe;for(var Re=Ae-1;Re>=0&&fe[Re]==="WS";Re--)ve[Re]=xe}}(Kt,Pt,Ze)},sr=function(At,Pt,ue,oe,He){if(!(He.hiLevel<At)){if(At===1&&xe===1&&!F)return Pt.reverse(),void(ue&&ue.reverse());for(var We,ir,Le,Ne,Ze=Pt.length,Xr=0;Xr<Ze;){if(oe[Xr]>=At){for(Le=Xr+1;Le<Ze&&oe[Le]>=At;)Le++;for(Ne=Xr,ir=Le-1;Ne<ir;Ne++,ir--)We=Pt[Ne],Pt[Ne]=Pt[ir],Pt[ir]=We,ue&&(We=ue[Ne],ue[Ne]=ue[ir],ue[ir]=We);Xr=Le}Xr++}}},tr=function(At,Pt,ue){var oe=At.split(""),He={hiLevel:xe};return ue||(ue=[]),pe(oe,ue,He),function(We,ir,Le){if(Le.hiLevel!==0&&vt)for(var Ne,Ze=0;Ze<We.length;Ze++)ir[Ze]===1&&(Ne=Qt.indexOf(We[Ze]))>=0&&(We[Ze]=Qt[Ne+1])}(oe,ue,He),sr(2,oe,Pt,ue,He),sr(1,oe,Pt,ue,He),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(At,Pt,ue){if(function(He,We){if(We)for(var ir=0;ir<He.length;ir++)We[ir]=ir;k===void 0&&(k=Qe(He)),rt===void 0&&(rt=Qe(He))}(At,Pt),D||!Y||rt)if(D&&Y&&k^rt)xe=k?1:0,At=De(At,Pt,ue);else if(!D&&Y&&rt)xe=k?1:0,At=tr(At,Pt,ue),At=De(At,Pt);else if(!D||k||Y||rt){if(D&&!Y&&k^rt)At=De(At,Pt),k?(xe=0,At=tr(At,Pt,ue)):(xe=1,At=tr(At,Pt,ue),At=De(At,Pt));else if(D&&k&&!Y&&rt)xe=1,At=tr(At,Pt,ue),At=De(At,Pt);else if(!D&&!Y&&k^rt){var oe=vt;k?(xe=1,At=tr(At,Pt,ue),xe=0,vt=!1,At=tr(At,Pt,ue),vt=oe):(xe=0,At=tr(At,Pt,ue),At=De(At,Pt),xe=1,vt=!1,At=tr(At,Pt,ue),vt=oe,At=De(At,Pt))}}else xe=0,At=tr(At,Pt,ue);else xe=k?1:0,At=tr(At,Pt,ue);return At},this.__bidiEngine__.setOptions=function(At){At&&(D=At.isInputVisual,Y=At.isOutputVisual,k=At.isInputRtl,rt=At.isOutputRtl,vt=At.isSymmetricSwapping)},this.__bidiEngine__.setOptions(T),this.__bidiEngine__};var _=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],E=new O.__bidiEngine__({isInputVisual:!0});O.API.events.push(["postProcessText",function(T){var F=T.text,b=(T.x,T.y,T.options||{}),D=(T.mutex,b.lang,[]);if(b.isInputVisual=typeof b.isInputVisual!="boolean"||b.isInputVisual,E.setOptions(b),Object.prototype.toString.call(F)==="[object Array]"){var k=0;for(D=[],k=0;k<F.length;k+=1)Object.prototype.toString.call(F[k])==="[object Array]"?D.push([E.doBidiReorder(F[k][0]),F[k][1],F[k][2]]):D.push([E.doBidiReorder(F[k])]);T.text=D}else T.text=E.doBidiReorder(F);E.setOptions({isInputVisual:!0})}])}(ee),ee.API.TTFFont=function(){function O(_){var E;if(this.rawData=_,E=this.contents=new fa(_),this.contents.pos=4,E.readString(4)==="ttcf")throw new Error("TTCF not supported.");E.pos=0,this.parse(),this.subset=new vm(this),this.registerTTF()}return O.open=function(_){return new O(_)},O.prototype.parse=function(){return this.directory=new cm(this.contents),this.head=new fm(this),this.name=new hm(this),this.cmap=new mp(this),this.toUnicode={},this.hhea=new Ih(this),this.maxp=new dm(this),this.hmtx=new _p(this),this.post=new mi(this),this.os2=new vo(this),this.loca=new pm(this),this.glyf=new Fa(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},O.prototype.registerTTF=function(){var _,E,T,F,b;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var D,k,Y,rt;for(rt=[],D=0,k=(Y=this.bbox).length;D<k;D++)_=Y[D],rt.push(Math.round(_*this.scaleFactor));return rt}.call(this),this.stemV=0,this.post.exists?(T=255&(F=this.post.italic_angle),(32768&(E=F>>16))!=0&&(E=-(1+(65535^E))),this.italicAngle=+(E+"."+T)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(b=this.familyClass)===1||b===2||b===3||b===4||b===5||b===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},O.prototype.characterToGlyph=function(_){var E;return((E=this.cmap.unicode)!=null?E.codeMap[_]:void 0)||0},O.prototype.widthOfGlyph=function(_){var E;return E=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(_).advance*E},O.prototype.widthOfString=function(_,E,T){var F,b,D,k;for(D=0,b=0,k=(_=""+_).length;0<=k?b<k:b>k;b=0<=k?++b:--b)F=_.charCodeAt(b),D+=this.widthOfGlyph(this.characterToGlyph(F))+T*(1e3/E)||0;return D*(E/1e3)},O.prototype.lineHeight=function(_,E){var T;return E==null&&(E=!1),T=E?this.lineGap:0,(this.ascender+T-this.decender)/1e3*_},O}();var Qa,fa=function(){function O(_){this.data=_!=null?_:[],this.pos=0,this.length=this.data.length}return O.prototype.readByte=function(){return this.data[this.pos++]},O.prototype.writeByte=function(_){return this.data[this.pos++]=_},O.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},O.prototype.writeUInt32=function(_){return this.writeByte(_>>>24&255),this.writeByte(_>>16&255),this.writeByte(_>>8&255),this.writeByte(255&_)},O.prototype.readInt32=function(){var _;return(_=this.readUInt32())>=2147483648?_-4294967296:_},O.prototype.writeInt32=function(_){return _<0&&(_+=4294967296),this.writeUInt32(_)},O.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},O.prototype.writeUInt16=function(_){return this.writeByte(_>>8&255),this.writeByte(255&_)},O.prototype.readInt16=function(){var _;return(_=this.readUInt16())>=32768?_-65536:_},O.prototype.writeInt16=function(_){return _<0&&(_+=65536),this.writeUInt16(_)},O.prototype.readString=function(_){var E,T;for(T=[],E=0;0<=_?E<_:E>_;E=0<=_?++E:--E)T[E]=String.fromCharCode(this.readByte());return T.join("")},O.prototype.writeString=function(_){var E,T,F;for(F=[],E=0,T=_.length;0<=T?E<T:E>T;E=0<=T?++E:--E)F.push(this.writeByte(_.charCodeAt(E)));return F},O.prototype.readShort=function(){return this.readInt16()},O.prototype.writeShort=function(_){return this.writeInt16(_)},O.prototype.readLongLong=function(){var _,E,T,F,b,D,k,Y;return _=this.readByte(),E=this.readByte(),T=this.readByte(),F=this.readByte(),b=this.readByte(),D=this.readByte(),k=this.readByte(),Y=this.readByte(),128&_?-1*(72057594037927940*(255^_)+281474976710656*(255^E)+1099511627776*(255^T)+4294967296*(255^F)+16777216*(255^b)+65536*(255^D)+256*(255^k)+(255^Y)+1):72057594037927940*_+281474976710656*E+1099511627776*T+4294967296*F+16777216*b+65536*D+256*k+Y},O.prototype.writeLongLong=function(_){var E,T;return E=Math.floor(_/4294967296),T=4294967295&_,this.writeByte(E>>24&255),this.writeByte(E>>16&255),this.writeByte(E>>8&255),this.writeByte(255&E),this.writeByte(T>>24&255),this.writeByte(T>>16&255),this.writeByte(T>>8&255),this.writeByte(255&T)},O.prototype.readInt=function(){return this.readInt32()},O.prototype.writeInt=function(_){return this.writeInt32(_)},O.prototype.read=function(_){var E,T;for(E=[],T=0;0<=_?T<_:T>_;T=0<=_?++T:--T)E.push(this.readByte());return E},O.prototype.write=function(_){var E,T,F,b;for(b=[],T=0,F=_.length;T<F;T++)E=_[T],b.push(this.writeByte(E));return b},O}(),cm=function(){var O;function _(E){var T,F,b;for(this.scalarType=E.readInt(),this.tableCount=E.readShort(),this.searchRange=E.readShort(),this.entrySelector=E.readShort(),this.rangeShift=E.readShort(),this.tables={},F=0,b=this.tableCount;0<=b?F<b:F>b;F=0<=b?++F:--F)T={tag:E.readString(4),checksum:E.readInt(),offset:E.readInt(),length:E.readInt()},this.tables[T.tag]=T}return _.prototype.encode=function(E){var T,F,b,D,k,Y,rt,vt,yt,Ot,K,kt,It;for(It in K=Object.keys(E).length,Y=Math.log(2),yt=16*Math.floor(Math.log(K)/Y),D=Math.floor(yt/Y),vt=16*K-yt,(F=new fa).writeInt(this.scalarType),F.writeShort(K),F.writeShort(yt),F.writeShort(D),F.writeShort(vt),b=16*K,rt=F.pos+b,k=null,kt=[],E)for(Ot=E[It],F.writeString(It),F.writeInt(O(Ot)),F.writeInt(rt),F.writeInt(Ot.length),kt=kt.concat(Ot),It==="head"&&(k=rt),rt+=Ot.length;rt%4;)kt.push(0),rt++;return F.write(kt),T=2981146554-O(F.data),F.pos=k+8,F.writeUInt32(T),F.data},O=function(E){var T,F,b,D;for(E=qr.call(E);E.length%4;)E.push(0);for(b=new fa(E),F=0,T=0,D=E.length;T<D;T=T+=4)F+=b.readUInt32();return 4294967295&F},_}(),xg={}.hasOwnProperty,xs=function(O,_){for(var E in _)xg.call(_,E)&&(O[E]=_[E]);function T(){this.constructor=O}return T.prototype=_.prototype,O.prototype=new T,O.__super__=_.prototype,O};Qa=function(){function O(_){var E;this.file=_,E=this.file.directory.tables[this.tag],this.exists=!!E,E&&(this.offset=E.offset,this.length=E.length,this.parse(this.file.contents))}return O.prototype.parse=function(){},O.prototype.encode=function(){},O.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},O}();var fm=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="head",_.prototype.parse=function(E){return E.pos=this.offset,this.version=E.readInt(),this.revision=E.readInt(),this.checkSumAdjustment=E.readInt(),this.magicNumber=E.readInt(),this.flags=E.readShort(),this.unitsPerEm=E.readShort(),this.created=E.readLongLong(),this.modified=E.readLongLong(),this.xMin=E.readShort(),this.yMin=E.readShort(),this.xMax=E.readShort(),this.yMax=E.readShort(),this.macStyle=E.readShort(),this.lowestRecPPEM=E.readShort(),this.fontDirectionHint=E.readShort(),this.indexToLocFormat=E.readShort(),this.glyphDataFormat=E.readShort()},_.prototype.encode=function(E){var T;return(T=new fa).writeInt(this.version),T.writeInt(this.revision),T.writeInt(this.checkSumAdjustment),T.writeInt(this.magicNumber),T.writeShort(this.flags),T.writeShort(this.unitsPerEm),T.writeLongLong(this.created),T.writeLongLong(this.modified),T.writeShort(this.xMin),T.writeShort(this.yMin),T.writeShort(this.xMax),T.writeShort(this.yMax),T.writeShort(this.macStyle),T.writeShort(this.lowestRecPPEM),T.writeShort(this.fontDirectionHint),T.writeShort(E),T.writeShort(this.glyphDataFormat),T.data},_}(),Sg=function(){function O(_,E){var T,F,b,D,k,Y,rt,vt,yt,Ot,K,kt,It,Qt,wt,Yt,xe;switch(this.platformID=_.readUInt16(),this.encodingID=_.readShort(),this.offset=E+_.readInt(),yt=_.pos,_.pos=this.offset,this.format=_.readUInt16(),this.length=_.readUInt16(),this.language=_.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Y=0;Y<256;++Y)this.codeMap[Y]=_.readByte();break;case 4:for(K=_.readUInt16(),Ot=K/2,_.pos+=6,b=function(){var Be,Qe;for(Qe=[],Y=Be=0;0<=Ot?Be<Ot:Be>Ot;Y=0<=Ot?++Be:--Be)Qe.push(_.readUInt16());return Qe}(),_.pos+=2,It=function(){var Be,Qe;for(Qe=[],Y=Be=0;0<=Ot?Be<Ot:Be>Ot;Y=0<=Ot?++Be:--Be)Qe.push(_.readUInt16());return Qe}(),rt=function(){var Be,Qe;for(Qe=[],Y=Be=0;0<=Ot?Be<Ot:Be>Ot;Y=0<=Ot?++Be:--Be)Qe.push(_.readUInt16());return Qe}(),vt=function(){var Be,Qe;for(Qe=[],Y=Be=0;0<=Ot?Be<Ot:Be>Ot;Y=0<=Ot?++Be:--Be)Qe.push(_.readUInt16());return Qe}(),F=(this.length-_.pos+this.offset)/2,k=function(){var Be,Qe;for(Qe=[],Y=Be=0;0<=F?Be<F:Be>F;Y=0<=F?++Be:--Be)Qe.push(_.readUInt16());return Qe}(),Y=wt=0,xe=b.length;wt<xe;Y=++wt)for(Qt=b[Y],T=Yt=kt=It[Y];kt<=Qt?Yt<=Qt:Yt>=Qt;T=kt<=Qt?++Yt:--Yt)vt[Y]===0?D=T+rt[Y]:(D=k[vt[Y]/2+(T-kt)-(Ot-Y)]||0)!==0&&(D+=rt[Y]),this.codeMap[T]=65535&D}_.pos=yt}return O.encode=function(_,E){var T,F,b,D,k,Y,rt,vt,yt,Ot,K,kt,It,Qt,wt,Yt,xe,Be,Qe,Er,De,pe,sr,tr,At,Pt,ue,oe,He,We,ir,Le,Ne,Ze,Xr,ft,Ft,Kt,fe,ve,Te,Ae,Re,gr,vr,Mr;switch(oe=new fa,D=Object.keys(_).sort(function(Vr,gn){return Vr-gn}),E){case"macroman":for(It=0,Qt=function(){var Vr=[];for(kt=0;kt<256;++kt)Vr.push(0);return Vr}(),Yt={0:0},b={},He=0,Ne=D.length;He<Ne;He++)Yt[Re=_[F=D[He]]]==null&&(Yt[Re]=++It),b[F]={old:_[F],new:Yt[_[F]]},Qt[F]=Yt[_[F]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(Qt),{charMap:b,subtable:oe.data,maxGlyphID:It+1};case"unicode":for(Pt=[],yt=[],xe=0,Yt={},T={},wt=rt=null,We=0,Ze=D.length;We<Ze;We++)Yt[Qe=_[F=D[We]]]==null&&(Yt[Qe]=++xe),T[F]={old:Qe,new:Yt[Qe]},k=Yt[Qe]-F,wt!=null&&k===rt||(wt&&yt.push(wt),Pt.push(F),rt=k),wt=F;for(wt&&yt.push(wt),yt.push(65535),Pt.push(65535),tr=2*(sr=Pt.length),pe=2*Math.pow(Math.log(sr)/Math.LN2,2),Ot=Math.log(pe/2)/Math.LN2,De=2*sr-pe,Y=[],Er=[],K=[],kt=ir=0,Xr=Pt.length;ir<Xr;kt=++ir){if(At=Pt[kt],vt=yt[kt],At===65535){Y.push(0),Er.push(0);break}if(At-(ue=T[At].new)>=32768)for(Y.push(0),Er.push(2*(K.length+sr-kt)),F=Le=At;At<=vt?Le<=vt:Le>=vt;F=At<=vt?++Le:--Le)K.push(T[F].new);else Y.push(ue-At),Er.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*sr+2*K.length),oe.writeUInt16(0),oe.writeUInt16(tr),oe.writeUInt16(pe),oe.writeUInt16(Ot),oe.writeUInt16(De),Te=0,ft=yt.length;Te<ft;Te++)F=yt[Te],oe.writeUInt16(F);for(oe.writeUInt16(0),Ae=0,Ft=Pt.length;Ae<Ft;Ae++)F=Pt[Ae],oe.writeUInt16(F);for(gr=0,Kt=Y.length;gr<Kt;gr++)k=Y[gr],oe.writeUInt16(k);for(vr=0,fe=Er.length;vr<fe;vr++)Be=Er[vr],oe.writeUInt16(Be);for(Mr=0,ve=K.length;Mr<ve;Mr++)It=K[Mr],oe.writeUInt16(It);return{charMap:T,subtable:oe.data,maxGlyphID:xe+1}}},O}(),mp=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="cmap",_.prototype.parse=function(E){var T,F,b;for(E.pos=this.offset,this.version=E.readUInt16(),b=E.readUInt16(),this.tables=[],this.unicode=null,F=0;0<=b?F<b:F>b;F=0<=b?++F:--F)T=new Sg(E,this.offset),this.tables.push(T),T.isUnicode&&this.unicode==null&&(this.unicode=T);return!0},_.encode=function(E,T){var F,b;return T==null&&(T="macroman"),F=Sg.encode(E,T),(b=new fa).writeUInt16(0),b.writeUInt16(1),F.table=b.data.concat(F.subtable),F},_}(),Ih=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="hhea",_.prototype.parse=function(E){return E.pos=this.offset,this.version=E.readInt(),this.ascender=E.readShort(),this.decender=E.readShort(),this.lineGap=E.readShort(),this.advanceWidthMax=E.readShort(),this.minLeftSideBearing=E.readShort(),this.minRightSideBearing=E.readShort(),this.xMaxExtent=E.readShort(),this.caretSlopeRise=E.readShort(),this.caretSlopeRun=E.readShort(),this.caretOffset=E.readShort(),E.pos+=8,this.metricDataFormat=E.readShort(),this.numberOfMetrics=E.readUInt16()},_}(),vo=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="OS/2",_.prototype.parse=function(E){if(E.pos=this.offset,this.version=E.readUInt16(),this.averageCharWidth=E.readShort(),this.weightClass=E.readUInt16(),this.widthClass=E.readUInt16(),this.type=E.readShort(),this.ySubscriptXSize=E.readShort(),this.ySubscriptYSize=E.readShort(),this.ySubscriptXOffset=E.readShort(),this.ySubscriptYOffset=E.readShort(),this.ySuperscriptXSize=E.readShort(),this.ySuperscriptYSize=E.readShort(),this.ySuperscriptXOffset=E.readShort(),this.ySuperscriptYOffset=E.readShort(),this.yStrikeoutSize=E.readShort(),this.yStrikeoutPosition=E.readShort(),this.familyClass=E.readShort(),this.panose=function(){var T,F;for(F=[],T=0;T<10;++T)F.push(E.readByte());return F}(),this.charRange=function(){var T,F;for(F=[],T=0;T<4;++T)F.push(E.readInt());return F}(),this.vendorID=E.readString(4),this.selection=E.readShort(),this.firstCharIndex=E.readShort(),this.lastCharIndex=E.readShort(),this.version>0&&(this.ascent=E.readShort(),this.descent=E.readShort(),this.lineGap=E.readShort(),this.winAscent=E.readShort(),this.winDescent=E.readShort(),this.codePageRange=function(){var T,F;for(F=[],T=0;T<2;T=++T)F.push(E.readInt());return F}(),this.version>1))return this.xHeight=E.readShort(),this.capHeight=E.readShort(),this.defaultChar=E.readShort(),this.breakChar=E.readShort(),this.maxContext=E.readShort()},_}(),mi=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="post",_.prototype.parse=function(E){var T,F,b;switch(E.pos=this.offset,this.format=E.readInt(),this.italicAngle=E.readInt(),this.underlinePosition=E.readShort(),this.underlineThickness=E.readShort(),this.isFixedPitch=E.readInt(),this.minMemType42=E.readInt(),this.maxMemType42=E.readInt(),this.minMemType1=E.readInt(),this.maxMemType1=E.readInt(),this.format){case 65536:break;case 131072:var D;for(F=E.readUInt16(),this.glyphNameIndex=[],D=0;0<=F?D<F:D>F;D=0<=F?++D:--D)this.glyphNameIndex.push(E.readUInt16());for(this.names=[],b=[];E.pos<this.offset+this.length;)T=E.readByte(),b.push(this.names.push(E.readString(T)));return b;case 151552:return F=E.readUInt16(),this.offsets=E.read(F);case 196608:break;case 262144:return this.map=function(){var k,Y,rt;for(rt=[],D=k=0,Y=this.file.maxp.numGlyphs;0<=Y?k<Y:k>Y;D=0<=Y?++k:--k)rt.push(E.readUInt32());return rt}.call(this)}},_}(),Pr=function(O,_){this.raw=O,this.length=O.length,this.platformID=_.platformID,this.encodingID=_.encodingID,this.languageID=_.languageID},hm=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="name",_.prototype.parse=function(E){var T,F,b,D,k,Y,rt,vt,yt,Ot,K;for(E.pos=this.offset,E.readShort(),T=E.readShort(),Y=E.readShort(),F=[],D=0;0<=T?D<T:D>T;D=0<=T?++D:--D)F.push({platformID:E.readShort(),encodingID:E.readShort(),languageID:E.readShort(),nameID:E.readShort(),length:E.readShort(),offset:this.offset+Y+E.readShort()});for(rt={},D=yt=0,Ot=F.length;yt<Ot;D=++yt)b=F[D],E.pos=b.offset,vt=E.readString(b.length),k=new Pr(vt,b),rt[K=b.nameID]==null&&(rt[K]=[]),rt[b.nameID].push(k);this.strings=rt,this.copyright=rt[0],this.fontFamily=rt[1],this.fontSubfamily=rt[2],this.uniqueSubfamily=rt[3],this.fontName=rt[4],this.version=rt[5];try{this.postscriptName=rt[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=rt[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=rt[7],this.manufacturer=rt[8],this.designer=rt[9],this.description=rt[10],this.vendorUrl=rt[11],this.designerUrl=rt[12],this.license=rt[13],this.licenseUrl=rt[14],this.preferredFamily=rt[15],this.preferredSubfamily=rt[17],this.compatibleFull=rt[18],this.sampleText=rt[19]},_}(),dm=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="maxp",_.prototype.parse=function(E){return E.pos=this.offset,this.version=E.readInt(),this.numGlyphs=E.readUInt16(),this.maxPoints=E.readUInt16(),this.maxContours=E.readUInt16(),this.maxCompositePoints=E.readUInt16(),this.maxComponentContours=E.readUInt16(),this.maxZones=E.readUInt16(),this.maxTwilightPoints=E.readUInt16(),this.maxStorage=E.readUInt16(),this.maxFunctionDefs=E.readUInt16(),this.maxInstructionDefs=E.readUInt16(),this.maxStackElements=E.readUInt16(),this.maxSizeOfInstructions=E.readUInt16(),this.maxComponentElements=E.readUInt16(),this.maxComponentDepth=E.readUInt16()},_}(),_p=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="hmtx",_.prototype.parse=function(E){var T,F,b,D,k,Y,rt;for(E.pos=this.offset,this.metrics=[],T=0,Y=this.file.hhea.numberOfMetrics;0<=Y?T<Y:T>Y;T=0<=Y?++T:--T)this.metrics.push({advance:E.readUInt16(),lsb:E.readInt16()});for(b=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var vt,yt;for(yt=[],T=vt=0;0<=b?vt<b:vt>b;T=0<=b?++vt:--vt)yt.push(E.readInt16());return yt}(),this.widths=function(){var vt,yt,Ot,K;for(K=[],vt=0,yt=(Ot=this.metrics).length;vt<yt;vt++)D=Ot[vt],K.push(D.advance);return K}.call(this),F=this.widths[this.widths.length-1],rt=[],T=k=0;0<=b?k<b:k>b;T=0<=b?++k:--k)rt.push(this.widths.push(F));return rt},_.prototype.forGlyph=function(E){return E in this.metrics?this.metrics[E]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[E-this.metrics.length]}},_}(),qr=[].slice,Fa=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="glyf",_.prototype.parse=function(){return this.cache={}},_.prototype.glyphFor=function(E){var T,F,b,D,k,Y,rt,vt,yt,Ot;return E in this.cache?this.cache[E]:(D=this.file.loca,T=this.file.contents,F=D.indexOf(E),(b=D.lengthOf(E))===0?this.cache[E]=null:(T.pos=this.offset+F,k=(Y=new fa(T.read(b))).readShort(),vt=Y.readShort(),Ot=Y.readShort(),rt=Y.readShort(),yt=Y.readShort(),this.cache[E]=k===-1?new Or(Y,vt,Ot,rt,yt):new Ss(Y,k,vt,Ot,rt,yt),this.cache[E]))},_.prototype.encode=function(E,T,F){var b,D,k,Y,rt;for(k=[],D=[],Y=0,rt=T.length;Y<rt;Y++)b=E[T[Y]],D.push(k.length),b&&(k=k.concat(b.encode(F)));return D.push(k.length),{table:k,offsets:D}},_}(),Ss=function(){function O(_,E,T,F,b,D){this.raw=_,this.numberOfContours=E,this.xMin=T,this.yMin=F,this.xMax=b,this.yMax=D,this.compound=!1}return O.prototype.encode=function(){return this.raw.data},O}(),Or=function(){function O(_,E,T,F,b){var D,k;for(this.raw=_,this.xMin=E,this.yMin=T,this.xMax=F,this.yMax=b,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],D=this.raw;k=D.readShort(),this.glyphOffsets.push(D.pos),this.glyphIDs.push(D.readUInt16()),32&k;)D.pos+=1&k?4:2,128&k?D.pos+=8:64&k?D.pos+=4:8&k&&(D.pos+=2)}return O.prototype.encode=function(){var _,E,T;for(E=new fa(qr.call(this.raw.data)),_=0,T=this.glyphIDs.length;_<T;++_)E.pos=this.glyphOffsets[_];return E.data},O}(),pm=function(O){function _(){return _.__super__.constructor.apply(this,arguments)}return xs(_,Qa),_.prototype.tag="loca",_.prototype.parse=function(E){var T,F;return E.pos=this.offset,T=this.file.head.indexToLocFormat,this.offsets=T===0?function(){var b,D;for(D=[],F=0,b=this.length;F<b;F+=2)D.push(2*E.readUInt16());return D}.call(this):function(){var b,D;for(D=[],F=0,b=this.length;F<b;F+=4)D.push(E.readUInt32());return D}.call(this)},_.prototype.indexOf=function(E){return this.offsets[E]},_.prototype.lengthOf=function(E){return this.offsets[E+1]-this.offsets[E]},_.prototype.encode=function(E,T){for(var F=new Uint32Array(this.offsets.length),b=0,D=0,k=0;k<F.length;++k)if(F[k]=b,D<T.length&&T[D]==k){++D,F[k]=b;var Y=this.offsets[k],rt=this.offsets[k+1]-Y;rt>0&&(b+=rt)}for(var vt=new Array(4*F.length),yt=0;yt<F.length;++yt)vt[4*yt+3]=255&F[yt],vt[4*yt+2]=(65280&F[yt])>>8,vt[4*yt+1]=(16711680&F[yt])>>16,vt[4*yt]=(4278190080&F[yt])>>24;return vt},_}(),vm=function(){function O(_){this.font=_,this.subset={},this.unicodes={},this.next=33}return O.prototype.generateCmap=function(){var _,E,T,F,b;for(E in F=this.font.cmap.tables[0].codeMap,_={},b=this.subset)T=b[E],_[E]=F[T];return _},O.prototype.glyphsFor=function(_){var E,T,F,b,D,k,Y;for(F={},D=0,k=_.length;D<k;D++)F[b=_[D]]=this.font.glyf.glyphFor(b);for(b in E=[],F)((T=F[b])!=null?T.compound:void 0)&&E.push.apply(E,T.glyphIDs);if(E.length>0)for(b in Y=this.glyphsFor(E))T=Y[b],F[b]=T;return F},O.prototype.encode=function(_,E){var T,F,b,D,k,Y,rt,vt,yt,Ot,K,kt,It,Qt,wt;for(F in T=mp.encode(this.generateCmap(),"unicode"),D=this.glyphsFor(_),K={0:0},wt=T.charMap)K[(Y=wt[F]).old]=Y.new;for(kt in Ot=T.maxGlyphID,D)kt in K||(K[kt]=Ot++);return vt=function(Yt){var xe,Be;for(xe in Be={},Yt)Be[Yt[xe]]=xe;return Be}(K),yt=Object.keys(vt).sort(function(Yt,xe){return Yt-xe}),It=function(){var Yt,xe,Be;for(Be=[],Yt=0,xe=yt.length;Yt<xe;Yt++)k=yt[Yt],Be.push(vt[k]);return Be}(),b=this.font.glyf.encode(D,It,K),rt=this.font.loca.encode(b.offsets,It),Qt={cmap:this.font.cmap.raw(),glyf:b.table,loca:rt,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(E)},this.font.os2.exists&&(Qt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Qt)},O}();ee.API.PDFObject=function(){var O;function _(){}return O=function(E,T){return(Array(T+1).join("0")+E).slice(-T)},_.convert=function(E){var T,F,b,D;if(Array.isArray(E))return"["+function(){var k,Y,rt;for(rt=[],k=0,Y=E.length;k<Y;k++)T=E[k],rt.push(_.convert(T));return rt}().join(" ")+"]";if(typeof E=="string")return"/"+E;if(E!=null?E.isString:void 0)return"("+E+")";if(E instanceof Date)return"(D:"+O(E.getUTCFullYear(),4)+O(E.getUTCMonth(),2)+O(E.getUTCDate(),2)+O(E.getUTCHours(),2)+O(E.getUTCMinutes(),2)+O(E.getUTCSeconds(),2)+"Z)";if({}.toString.call(E)==="[object Object]"){for(F in b=["<<"],E)D=E[F],b.push("/"+F+" "+_.convert(D));return b.push(">>"),b.join(`
`)}return""+E},_}()}).call(this,u("c8ba"))},"8bbf":function(f,p){f.exports=OY},"90e3":function(f,p,u){var g=u("e330"),m=0,S=Math.random(),A=g(1 .toString);f.exports=function(R){return"Symbol("+(R===void 0?"":R)+")_"+A(++m+S,36)}},"9112":function(f,p,u){var g=u("83ab"),m=u("9bf2"),S=u("5c6c");f.exports=g?function(A,R,j){return m.f(A,R,S(1,j))}:function(A,R,j){return A[R]=j,A}},"9152":function(f,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(u,g,m,S,A){var R,j,U=A*8-S-1,P=(1<<U)-1,B=P>>1,X=-7,W=m?A-1:0,$=m?-1:1,J=u[g+W];for(W+=$,R=J&(1<<-X)-1,J>>=-X,X+=U;X>0;R=R*256+u[g+W],W+=$,X-=8);for(j=R&(1<<-X)-1,R>>=-X,X+=S;X>0;j=j*256+u[g+W],W+=$,X-=8);if(R===0)R=1-B;else{if(R===P)return j?NaN:(J?-1:1)*(1/0);j=j+Math.pow(2,S),R=R-B}return(J?-1:1)*j*Math.pow(2,R-S)},p.write=function(u,g,m,S,A,R){var j,U,P,B=R*8-A-1,X=(1<<B)-1,W=X>>1,$=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,J=S?0:R-1,nt=S?1:-1,Q=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(U=isNaN(g)?1:0,j=X):(j=Math.floor(Math.log(g)/Math.LN2),g*(P=Math.pow(2,-j))<1&&(j--,P*=2),j+W>=1?g+=$/P:g+=$*Math.pow(2,1-W),g*P>=2&&(j++,P/=2),j+W>=X?(U=0,j=X):j+W>=1?(U=(g*P-1)*Math.pow(2,A),j=j+W):(U=g*Math.pow(2,W-1)*Math.pow(2,A),j=0));A>=8;u[m+J]=U&255,J+=nt,U/=256,A-=8);for(j=j<<A|U,B+=A;B>0;u[m+J]=j&255,J+=nt,j/=256,B-=8);u[m+J-nt]|=Q*128}},"9263":function(f,p,u){var g=u("c65b"),m=u("e330"),S=u("577e"),A=u("ad6d"),R=u("9f7f"),j=u("5692"),U=u("7c73"),P=u("69f3").get,B=u("fce3"),X=u("107c"),W=j("native-string-replace",String.prototype.replace),$=RegExp.prototype.exec,J=$,nt=m("".charAt),Q=m("".indexOf),St=m("".replace),ot=m("".slice),M=function(){var ct=/a/,Ut=/b*/g;return g($,ct,"a"),g($,Ut,"a"),ct.lastIndex!==0||Ut.lastIndex!==0}(),_t=R.BROKEN_CARET,Lt=/()??/.exec("")[1]!==void 0,Nt=M||Lt||_t||B||X;Nt&&(J=function(Ut){var mt=this,xt=P(mt),Bt=S(Ut),qt=xt.raw,Pe,q,bt,Vt,Xe,qe,Ue;if(qt)return qt.lastIndex=mt.lastIndex,Pe=g(J,qt,Bt),mt.lastIndex=qt.lastIndex,Pe;var yr=xt.groups,Ar=_t&&mt.sticky,Jr=g(A,mt),ee=mt.source,Ie=0,Je=Bt;if(Ar&&(Jr=St(Jr,"y",""),Q(Jr,"g")===-1&&(Jr+="g"),Je=ot(Bt,mt.lastIndex),mt.lastIndex>0&&(!mt.multiline||mt.multiline&&nt(Bt,mt.lastIndex-1)!==`
`)&&(ee="(?: "+ee+")",Je=" "+Je,Ie++),q=new RegExp("^(?:"+ee+")",Jr)),Lt&&(q=new RegExp("^"+ee+"$(?!\\s)",Jr)),M&&(bt=mt.lastIndex),Vt=g($,Ar?q:mt,Je),Ar?Vt?(Vt.input=ot(Vt.input,Ie),Vt[0]=ot(Vt[0],Ie),Vt.index=mt.lastIndex,mt.lastIndex+=Vt[0].length):mt.lastIndex=0:M&&Vt&&(mt.lastIndex=mt.global?Vt.index+Vt[0].length:bt),Lt&&Vt&&Vt.length>1&&g(W,Vt[0],q,function(){for(Xe=1;Xe<arguments.length-2;Xe++)arguments[Xe]===void 0&&(Vt[Xe]=void 0)}),Vt&&yr)for(Vt.groups=qe=U(null),Xe=0;Xe<yr.length;Xe++)Ue=yr[Xe],qe[Ue[0]]=Vt[Ue[1]];return Vt}),f.exports=J},"94ca":function(f,p,u){var g=u("d039"),m=u("1626"),S=/#|\.prototype\./,A=function(B,X){var W=j[R(B)];return W==P?!0:W==U?!1:m(X)?g(X):!!X},R=A.normalize=function(B){return String(B).replace(S,".").toLowerCase()},j=A.data={},U=A.NATIVE="N",P=A.POLYFILL="P";f.exports=A},"99af":function(f,p,u){var g=u("23e7"),m=u("da84"),S=u("d039"),A=u("e8b5"),R=u("861d"),j=u("7b0b"),U=u("07fa"),P=u("8418"),B=u("65f0"),X=u("1dde"),W=u("b622"),$=u("2d00"),J=W("isConcatSpreadable"),nt=9007199254740991,Q="Maximum allowed index exceeded",St=m.TypeError,ot=$>=51||!S(function(){var Nt=[];return Nt[J]=!1,Nt.concat()[0]!==Nt}),M=X("concat"),_t=function(Nt){if(!R(Nt))return!1;var ct=Nt[J];return ct!==void 0?!!ct:A(Nt)},Lt=!ot||!M;g({target:"Array",proto:!0,forced:Lt},{concat:function(ct){var Ut=j(this),mt=B(Ut,0),xt=0,Bt,qt,Pe,q,bt;for(Bt=-1,Pe=arguments.length;Bt<Pe;Bt++)if(bt=Bt===-1?Ut:arguments[Bt],_t(bt)){if(q=U(bt),xt+q>nt)throw St(Q);for(qt=0;qt<q;qt++,xt++)qt in bt&&P(mt,xt,bt[qt])}else{if(xt>=nt)throw St(Q);P(mt,xt++,bt)}return mt.length=xt,mt}})},"9a1f":function(f,p,u){var g=u("da84"),m=u("c65b"),S=u("59ed"),A=u("825a"),R=u("0d51"),j=u("35a1"),U=g.TypeError;f.exports=function(P,B){var X=arguments.length<2?j(P):B;if(S(X))return A(m(X,P));throw U(R(P)+" is not iterable")}},"9bdd":function(f,p,u){var g=u("825a"),m=u("2a62");f.exports=function(S,A,R,j){try{return j?A(g(R)[0],R[1]):A(R)}catch(U){m(S,"throw",U)}}},"9bf2":function(f,p,u){var g=u("da84"),m=u("83ab"),S=u("0cfb"),A=u("aed9"),R=u("825a"),j=u("a04b"),U=g.TypeError,P=Object.defineProperty,B=Object.getOwnPropertyDescriptor,X="enumerable",W="configurable",$="writable";p.f=m?A?function(nt,Q,St){if(R(nt),Q=j(Q),R(St),typeof nt=="function"&&Q==="prototype"&&"value"in St&&$ in St&&!St[$]){var ot=B(nt,Q);ot&&ot[$]&&(nt[Q]=St.value,St={configurable:W in St?St[W]:ot[W],enumerable:X in St?St[X]:ot[X],writable:!1})}return P(nt,Q,St)}:P:function(nt,Q,St){if(R(nt),Q=j(Q),R(St),S)try{return P(nt,Q,St)}catch{}if("get"in St||"set"in St)throw U("Accessors not supported");return"value"in St&&(nt[Q]=St.value),nt}},"9ed3":function(f,p,u){var g=u("ae93").IteratorPrototype,m=u("7c73"),S=u("5c6c"),A=u("d44e"),R=u("3f8c"),j=function(){return this};f.exports=function(U,P,B,X){var W=P+" Iterator";return U.prototype=m(g,{next:S(+!X,B)}),A(U,W,!1,!0),R[W]=j,U}},"9f5e":function(f,p,u){u.d(p,"a",function(){return g}),u.d(p,"i",function(){return m}),u.d(p,"f",function(){return S}),u.d(p,"h",function(){return A}),u.d(p,"j",function(){return R}),u.d(p,"c",function(){return j}),u.d(p,"d",function(){return U}),u.d(p,"b",function(){return P}),u.d(p,"e",function(){return B}),u.d(p,"g",function(){return X});function g(W,$,J){for(var nt,Q,St=J||m,ot=0,M=W.length,_t=!1;ot<M;)nt=ot+(M-ot>>1),Q=+St(W[nt],$),Q<0?ot=nt+1:(M=nt,_t=!Q);return _t?ot:~ot}function m(W,$){return W>$?1:W<$?-1:0}function S(W,$){return W.indexOf($)>=0}function A(W,$,J){var nt=W.length;if(W[0]<=$)return 0;if($<=W[nt-1])return nt-1;var Q=void 0;if(J>0){for(Q=1;Q<nt;++Q)if(W[Q]<$)return Q-1}else if(J<0){for(Q=1;Q<nt;++Q)if(W[Q]<=$)return Q}else for(Q=1;Q<nt;++Q){if(W[Q]==$)return Q;if(W[Q]<$)return typeof J=="function"?J($,W[Q-1],W[Q])>0?Q-1:Q:W[Q-1]-$<$-W[Q]?Q-1:Q}return nt-1}function R(W,$,J){for(;$<J;){var nt=W[$];W[$]=W[J],W[J]=nt,++$,--J}}function j(W,$){for(var J=Array.isArray($)?$:[$],nt=J.length,Q=0;Q<nt;Q++)W[W.length]=J[Q]}function U(W,$){for(var J=W.length>>>0,nt,Q=0;Q<J;Q++)if(nt=W[Q],$(nt,Q,W))return nt;return null}function P(W,$){var J=W.length;if(J!==$.length)return!1;for(var nt=0;nt<J;nt++)if(W[nt]!==$[nt])return!1;return!0}function B(W,$){var J,nt=!W.every(function(Q,St){return J=St,!$(Q,St,W)});return nt?J:-1}function X(W,$,J){var nt=$||m;return W.every(function(Q,St){if(St===0)return!0;var ot=nt(W[St-1],Q);return!(ot>0||J&&ot===0)})}},"9f7f":function(f,p,u){var g=u("d039"),m=u("da84"),S=m.RegExp,A=g(function(){var U=S("a","y");return U.lastIndex=2,U.exec("abcd")!=null}),R=A||g(function(){return!S("a","y").sticky}),j=A||g(function(){var U=S("^r","gy");return U.lastIndex=2,U.exec("str")!=null});f.exports={BROKEN_CARET:j,MISSED_STICKY:R,UNSUPPORTED_Y:A}},a04b:function(f,p,u){var g=u("c04e"),m=u("d9b5");f.exports=function(S){var A=g(S,"string");return m(A)?A:A+""}},a434:function(f,p,u){var g=u("23e7"),m=u("da84"),S=u("23cb"),A=u("5926"),R=u("07fa"),j=u("7b0b"),U=u("65f0"),P=u("8418"),B=u("1dde"),X=B("splice"),W=m.TypeError,$=Math.max,J=Math.min,nt=9007199254740991,Q="Maximum allowed length exceeded";g({target:"Array",proto:!0,forced:!X},{splice:function(ot,M){var _t=j(this),Lt=R(_t),Nt=S(ot,Lt),ct=arguments.length,Ut,mt,xt,Bt,qt,Pe;if(ct===0?Ut=mt=0:ct===1?(Ut=0,mt=Lt-Nt):(Ut=ct-2,mt=J($(A(M),0),Lt-Nt)),Lt+Ut-mt>nt)throw W(Q);for(xt=U(_t,mt),Bt=0;Bt<mt;Bt++)qt=Nt+Bt,qt in _t&&P(xt,Bt,_t[qt]);if(xt.length=mt,Ut<mt){for(Bt=Nt;Bt<Lt-mt;Bt++)qt=Bt+mt,Pe=Bt+Ut,qt in _t?_t[Pe]=_t[qt]:delete _t[Pe];for(Bt=Lt;Bt>Lt-mt+Ut;Bt--)delete _t[Bt-1]}else if(Ut>mt)for(Bt=Lt-mt;Bt>Nt;Bt--)qt=Bt+mt-1,Pe=Bt+Ut-1,qt in _t?_t[Pe]=_t[qt]:delete _t[Pe];for(Bt=0;Bt<Ut;Bt++)_t[Bt+Nt]=arguments[Bt+2];return _t.length=Lt-mt+Ut,xt}})},a4d3:function(f,p,u){var g=u("23e7"),m=u("da84"),S=u("d066"),A=u("2ba4"),R=u("c65b"),j=u("e330"),U=u("c430"),P=u("83ab"),B=u("4930"),X=u("d039"),W=u("1a2d"),$=u("e8b5"),J=u("1626"),nt=u("861d"),Q=u("3a9b"),St=u("d9b5"),ot=u("825a"),M=u("7b0b"),_t=u("fc6a"),Lt=u("a04b"),Nt=u("577e"),ct=u("5c6c"),Ut=u("7c73"),mt=u("df75"),xt=u("241c"),Bt=u("057f"),qt=u("7418"),Pe=u("06cf"),q=u("9bf2"),bt=u("37e8"),Vt=u("d1e7"),Xe=u("f36a"),qe=u("6eeb"),Ue=u("5692"),yr=u("f772"),Ar=u("d012"),Jr=u("90e3"),ee=u("b622"),Ie=u("e538"),Je=u("746f"),dr=u("d44e"),En=u("69f3"),mr=u("b727").forEach,Ir=yr("hidden"),_r="Symbol",Rt="prototype",ne=ee("toPrimitive"),Ct=En.set,Wt=En.getterFor(_r),jt=Object[Rt],Jt=m.Symbol,he=Jt&&Jt[Rt],ge=m.TypeError,Ve=m.QObject,tt=S("JSON","stringify"),z=Pe.f,V=q.f,at=Bt.f,Ht=Vt.f,ye=j([].push),Se=Ue("symbols"),cr=Ue("op-symbols"),wr=Ue("string-to-symbol-registry"),br=Ue("symbol-to-string-registry"),Ln=Ue("wks"),yn=!Ve||!Ve[Rt]||!Ve[Rt].findChild,Hn=P&&X(function(){return Ut(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(Gr,je,Rr){var on=z(jt,je);on&&delete jt[je],V(Gr,je,Rr),on&&Gr!==jt&&V(jt,je,on)}:V,bi=function(Gr,je){var Rr=Se[Gr]=Ut(he);return Ct(Rr,{type:_r,tag:Gr,description:je}),P||(Rr.description=je),Rr},Rn=function(je,Rr,on){je===jt&&Rn(cr,Rr,on),ot(je);var Pn=Lt(Rr);return ot(on),W(Se,Pn)?(on.enumerable?(W(je,Ir)&&je[Ir][Pn]&&(je[Ir][Pn]=!1),on=Ut(on,{enumerable:ct(0,!1)})):(W(je,Ir)||V(je,Ir,ct(1,{})),je[Ir][Pn]=!0),Hn(je,Pn,on)):V(je,Pn,on)},Dn=function(je,Rr){ot(je);var on=_t(Rr),Pn=mt(on).concat(Qo(on));return mr(Pn,function($n){(!P||R(kr,on,$n))&&Rn(je,$n,on[$n])}),je},fi=function(je,Rr){return Rr===void 0?Ut(je):Dn(Ut(je),Rr)},kr=function(je){var Rr=Lt(je),on=R(Ht,this,Rr);return this===jt&&W(Se,Rr)&&!W(cr,Rr)?!1:on||!W(this,Rr)||!W(Se,Rr)||W(this,Ir)&&this[Ir][Rr]?on:!0},Xi=function(je,Rr){var on=_t(je),Pn=Lt(Rr);if(!(on===jt&&W(Se,Pn)&&!W(cr,Pn))){var $n=z(on,Pn);return $n&&W(Se,Pn)&&!(W(on,Ir)&&on[Ir][Pn])&&($n.enumerable=!0),$n}},Xn=function(je){var Rr=at(_t(je)),on=[];return mr(Rr,function(Pn){!W(Se,Pn)&&!W(Ar,Pn)&&ye(on,Pn)}),on},Qo=function(je){var Rr=je===jt,on=at(Rr?cr:_t(je)),Pn=[];return mr(on,function($n){W(Se,$n)&&(!Rr||W(jt,$n))&&ye(Pn,Se[$n])}),Pn};if(B||(Jt=function(){if(Q(he,this))throw ge("Symbol is not a constructor");var je=!arguments.length||arguments[0]===void 0?void 0:Nt(arguments[0]),Rr=Jr(je),on=function(Pn){this===jt&&R(on,cr,Pn),W(this,Ir)&&W(this[Ir],Rr)&&(this[Ir][Rr]=!1),Hn(this,Rr,ct(1,Pn))};return P&&yn&&Hn(jt,Rr,{configurable:!0,set:on}),bi(Rr,je)},he=Jt[Rt],qe(he,"toString",function(){return Wt(this).tag}),qe(Jt,"withoutSetter",function(Gr){return bi(Jr(Gr),Gr)}),Vt.f=kr,q.f=Rn,bt.f=Dn,Pe.f=Xi,xt.f=Bt.f=Xn,qt.f=Qo,Ie.f=function(Gr){return bi(ee(Gr),Gr)},P&&(V(he,"description",{configurable:!0,get:function(){return Wt(this).description}}),U||qe(jt,"propertyIsEnumerable",kr,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:Jt}),mr(mt(Ln),function(Gr){Je(Gr)}),g({target:_r,stat:!0,forced:!B},{for:function(Gr){var je=Nt(Gr);if(W(wr,je))return wr[je];var Rr=Jt(je);return wr[je]=Rr,br[Rr]=je,Rr},keyFor:function(je){if(!St(je))throw ge(je+" is not a symbol");if(W(br,je))return br[je]},useSetter:function(){yn=!0},useSimple:function(){yn=!1}}),g({target:"Object",stat:!0,forced:!B,sham:!P},{create:fi,defineProperty:Rn,defineProperties:Dn,getOwnPropertyDescriptor:Xi}),g({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:Xn,getOwnPropertySymbols:Qo}),g({target:"Object",stat:!0,forced:X(function(){qt.f(1)})},{getOwnPropertySymbols:function(je){return qt.f(M(je))}}),tt){var Ji=!B||X(function(){var Gr=Jt();return tt([Gr])!="[null]"||tt({a:Gr})!="{}"||tt(Object(Gr))!="{}"});g({target:"JSON",stat:!0,forced:Ji},{stringify:function(je,Rr,on){var Pn=Xe(arguments),$n=Rr;if(!(!nt(Rr)&&je===void 0||St(je)))return $(Rr)||(Rr=function(po,cn){if(J($n)&&(cn=R($n,this,po,cn)),!St(cn))return cn}),Pn[1]=Rr,A(tt,null,Pn)}})}if(!he[ne]){var Ci=he.valueOf;qe(he,ne,function(Gr){return R(Ci,this)})}dr(Jt,_r),Ar[Ir]=!0},a630:function(f,p,u){var g=u("23e7"),m=u("4df4"),S=u("1c7e"),A=!S(function(R){Array.from(R)});g({target:"Array",stat:!0,forced:A},{from:m})},a640:function(f,p,u){var g=u("d039");f.exports=function(m,S){var A=[][m];return!!A&&g(function(){A.call(null,S||function(){throw 1},1)})}},a9e3:function(f,p,u){var g=u("83ab"),m=u("da84"),S=u("e330"),A=u("94ca"),R=u("6eeb"),j=u("1a2d"),U=u("7156"),P=u("3a9b"),B=u("d9b5"),X=u("c04e"),W=u("d039"),$=u("241c").f,J=u("06cf").f,nt=u("9bf2").f,Q=u("408a"),St=u("58a8").trim,ot="Number",M=m[ot],_t=M.prototype,Lt=m.TypeError,Nt=S("".slice),ct=S("".charCodeAt),Ut=function(q){var bt=X(q,"number");return typeof bt=="bigint"?bt:mt(bt)},mt=function(q){var bt=X(q,"number"),Vt,Xe,qe,Ue,yr,Ar,Jr,ee;if(B(bt))throw Lt("Cannot convert a Symbol value to a number");if(typeof bt=="string"&&bt.length>2){if(bt=St(bt),Vt=ct(bt,0),Vt===43||Vt===45){if(Xe=ct(bt,2),Xe===88||Xe===120)return NaN}else if(Vt===48){switch(ct(bt,1)){case 66:case 98:qe=2,Ue=49;break;case 79:case 111:qe=8,Ue=55;break;default:return+bt}for(yr=Nt(bt,2),Ar=yr.length,Jr=0;Jr<Ar;Jr++)if(ee=ct(yr,Jr),ee<48||ee>Ue)return NaN;return parseInt(yr,qe)}}return+bt};if(A(ot,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var xt=function(bt){var Vt=arguments.length<1?0:M(Ut(bt)),Xe=this;return P(_t,Xe)&&W(function(){Q(Xe)})?U(Object(Vt),Xe,xt):Vt},Bt=g?$(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),qt=0,Pe;Bt.length>qt;qt++)j(M,Pe=Bt[qt])&&!j(xt,Pe)&&nt(xt,Pe,J(M,Pe));xt.prototype=_t,_t.constructor=xt,R(m,ot,xt)}},ab13:function(f,p,u){var g=u("b622"),m=g("match");f.exports=function(S){var A=/./;try{"/./"[S](A)}catch{try{return A[m]=!1,"/./"[S](A)}catch{}}return!1}},ab36:function(f,p,u){var g=u("861d"),m=u("9112");f.exports=function(S,A){g(A)&&"cause"in A&&m(S,"cause",A.cause)}},ac1f:function(f,p,u){var g=u("23e7"),m=u("9263");g({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},ad6d:function(f,p,u){var g=u("825a");f.exports=function(){var m=g(this),S="";return m.global&&(S+="g"),m.ignoreCase&&(S+="i"),m.multiline&&(S+="m"),m.dotAll&&(S+="s"),m.unicode&&(S+="u"),m.sticky&&(S+="y"),S}},addb:function(f,p,u){var g=u("4dae"),m=Math.floor,S=function(j,U){var P=j.length,B=m(P/2);return P<8?A(j,U):R(j,S(g(j,0,B),U),S(g(j,B),U),U)},A=function(j,U){for(var P=j.length,B=1,X,W;B<P;){for(W=B,X=j[B];W&&U(j[W-1],X)>0;)j[W]=j[--W];W!==B++&&(j[W]=X)}return j},R=function(j,U,P,B){for(var X=U.length,W=P.length,$=0,J=0;$<X||J<W;)j[$+J]=$<X&&J<W?B(U[$],P[J])<=0?U[$++]:P[J++]:$<X?U[$++]:P[J++];return j};f.exports=S},ae93:function(f,p,u){var g=u("d039"),m=u("1626"),S=u("7c73"),A=u("e163"),R=u("6eeb"),j=u("b622"),U=u("c430"),P=j("iterator"),B=!1,X,W,$;[].keys&&($=[].keys(),"next"in $?(W=A(A($)),W!==Object.prototype&&(X=W)):B=!0);var J=X==null||g(function(){var nt={};return X[P].call(nt)!==nt});J?X={}:U&&(X=S(X)),m(X[P])||R(X,P,function(){return this}),f.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:B}},aed9:function(f,p,u){var g=u("83ab"),m=u("d039");f.exports=g&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},b041:function(f,p,u){var g=u("00ee"),m=u("f5df");f.exports=g?{}.toString:function(){return"[object "+m(this)+"]"}},b0c0:function(f,p,u){var g=u("83ab"),m=u("5e77").EXISTS,S=u("e330"),A=u("9bf2").f,R=Function.prototype,j=S(R.toString),U=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=S(U.exec),B="name";g&&!m&&A(R,B,{configurable:!0,get:function(){try{return P(U,j(this))[1]}catch{return""}}})},b622:function(f,p,u){var g=u("da84"),m=u("5692"),S=u("1a2d"),A=u("90e3"),R=u("4930"),j=u("fdbf"),U=m("wks"),P=g.Symbol,B=P&&P.for,X=j?P:P&&P.withoutSetter||A;f.exports=function(W){if(!S(U,W)||!(R||typeof U[W]=="string")){var $="Symbol."+W;R&&S(P,W)?U[W]=P[W]:j&&B?U[W]=B($):U[W]=X($)}return U[W]}},b639:function(f,p,u){(function(g){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var m=u("1fb5"),S=u("9152"),A=u("e3db");p.Buffer=P,p.SlowBuffer=M,p.INSPECT_MAX_BYTES=50,P.TYPED_ARRAY_SUPPORT=g.TYPED_ARRAY_SUPPORT!==void 0?g.TYPED_ARRAY_SUPPORT:R(),p.kMaxLength=j();function R(){try{var tt=new Uint8Array(1);return tt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},tt.foo()===42&&typeof tt.subarray=="function"&&tt.subarray(1,1).byteLength===0}catch{return!1}}function j(){return P.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function U(tt,z){if(j()<z)throw new RangeError("Invalid typed array length");return P.TYPED_ARRAY_SUPPORT?(tt=new Uint8Array(z),tt.__proto__=P.prototype):(tt===null&&(tt=new P(z)),tt.length=z),tt}function P(tt,z,V){if(!P.TYPED_ARRAY_SUPPORT&&!(this instanceof P))return new P(tt,z,V);if(typeof tt=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return $(this,tt)}return B(this,tt,z,V)}P.poolSize=8192,P._augment=function(tt){return tt.__proto__=P.prototype,tt};function B(tt,z,V,at){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&z instanceof ArrayBuffer?Q(tt,z,V,at):typeof z=="string"?J(tt,z,V):St(tt,z)}P.from=function(tt,z,V){return B(null,tt,z,V)},P.TYPED_ARRAY_SUPPORT&&(P.prototype.__proto__=Uint8Array.prototype,P.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&P[Symbol.species]===P&&Object.defineProperty(P,Symbol.species,{value:null,configurable:!0}));function X(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be a number');if(tt<0)throw new RangeError('"size" argument must not be negative')}function W(tt,z,V,at){return X(z),z<=0?U(tt,z):V!==void 0?typeof at=="string"?U(tt,z).fill(V,at):U(tt,z).fill(V):U(tt,z)}P.alloc=function(tt,z,V){return W(null,tt,z,V)};function $(tt,z){if(X(z),tt=U(tt,z<0?0:ot(z)|0),!P.TYPED_ARRAY_SUPPORT)for(var V=0;V<z;++V)tt[V]=0;return tt}P.allocUnsafe=function(tt){return $(null,tt)},P.allocUnsafeSlow=function(tt){return $(null,tt)};function J(tt,z,V){if((typeof V!="string"||V==="")&&(V="utf8"),!P.isEncoding(V))throw new TypeError('"encoding" must be a valid string encoding');var at=_t(z,V)|0;tt=U(tt,at);var Ht=tt.write(z,V);return Ht!==at&&(tt=tt.slice(0,Ht)),tt}function nt(tt,z){var V=z.length<0?0:ot(z.length)|0;tt=U(tt,V);for(var at=0;at<V;at+=1)tt[at]=z[at]&255;return tt}function Q(tt,z,V,at){if(z.byteLength,V<0||z.byteLength<V)throw new RangeError("'offset' is out of bounds");if(z.byteLength<V+(at||0))throw new RangeError("'length' is out of bounds");return V===void 0&&at===void 0?z=new Uint8Array(z):at===void 0?z=new Uint8Array(z,V):z=new Uint8Array(z,V,at),P.TYPED_ARRAY_SUPPORT?(tt=z,tt.__proto__=P.prototype):tt=nt(tt,z),tt}function St(tt,z){if(P.isBuffer(z)){var V=ot(z.length)|0;return tt=U(tt,V),tt.length===0||z.copy(tt,0,0,V),tt}if(z){if(typeof ArrayBuffer!="undefined"&&z.buffer instanceof ArrayBuffer||"length"in z)return typeof z.length!="number"||Ve(z.length)?U(tt,0):nt(tt,z);if(z.type==="Buffer"&&A(z.data))return nt(tt,z.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ot(tt){if(tt>=j())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j().toString(16)+" bytes");return tt|0}function M(tt){return+tt!=tt&&(tt=0),P.alloc(+tt)}P.isBuffer=function(z){return!!(z!=null&&z._isBuffer)},P.compare=function(z,V){if(!P.isBuffer(z)||!P.isBuffer(V))throw new TypeError("Arguments must be Buffers");if(z===V)return 0;for(var at=z.length,Ht=V.length,ye=0,Se=Math.min(at,Ht);ye<Se;++ye)if(z[ye]!==V[ye]){at=z[ye],Ht=V[ye];break}return at<Ht?-1:Ht<at?1:0},P.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},P.concat=function(z,V){if(!A(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return P.alloc(0);var at;if(V===void 0)for(V=0,at=0;at<z.length;++at)V+=z[at].length;var Ht=P.allocUnsafe(V),ye=0;for(at=0;at<z.length;++at){var Se=z[at];if(!P.isBuffer(Se))throw new TypeError('"list" argument must be an Array of Buffers');Se.copy(Ht,ye),ye+=Se.length}return Ht};function _t(tt,z){if(P.isBuffer(tt))return tt.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(tt)||tt instanceof ArrayBuffer))return tt.byteLength;typeof tt!="string"&&(tt=""+tt);var V=tt.length;if(V===0)return 0;for(var at=!1;;)switch(z){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":case void 0:return Wt(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return he(tt).length;default:if(at)return Wt(tt).length;z=(""+z).toLowerCase(),at=!0}}P.byteLength=_t;function Lt(tt,z,V){var at=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,z>>>=0,V<=z))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return Ar(this,z,V);case"utf8":case"utf-8":return Vt(this,z,V);case"ascii":return Ue(this,z,V);case"latin1":case"binary":return yr(this,z,V);case"base64":return bt(this,z,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jr(this,z,V);default:if(at)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),at=!0}}P.prototype._isBuffer=!0;function Nt(tt,z,V){var at=tt[z];tt[z]=tt[V],tt[V]=at}P.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<z;V+=2)Nt(this,V,V+1);return this},P.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<z;V+=4)Nt(this,V,V+3),Nt(this,V+1,V+2);return this},P.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<z;V+=8)Nt(this,V,V+7),Nt(this,V+1,V+6),Nt(this,V+2,V+5),Nt(this,V+3,V+4);return this},P.prototype.toString=function(){var z=this.length|0;return z===0?"":arguments.length===0?Vt(this,0,z):Lt.apply(this,arguments)},P.prototype.equals=function(z){if(!P.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:P.compare(this,z)===0},P.prototype.inspect=function(){var z="",V=p.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,V).match(/.{2}/g).join(" "),this.length>V&&(z+=" ... ")),"<Buffer "+z+">"},P.prototype.compare=function(z,V,at,Ht,ye){if(!P.isBuffer(z))throw new TypeError("Argument must be a Buffer");if(V===void 0&&(V=0),at===void 0&&(at=z?z.length:0),Ht===void 0&&(Ht=0),ye===void 0&&(ye=this.length),V<0||at>z.length||Ht<0||ye>this.length)throw new RangeError("out of range index");if(Ht>=ye&&V>=at)return 0;if(Ht>=ye)return-1;if(V>=at)return 1;if(V>>>=0,at>>>=0,Ht>>>=0,ye>>>=0,this===z)return 0;for(var Se=ye-Ht,cr=at-V,wr=Math.min(Se,cr),br=this.slice(Ht,ye),Ln=z.slice(V,at),yn=0;yn<wr;++yn)if(br[yn]!==Ln[yn]){Se=br[yn],cr=Ln[yn];break}return Se<cr?-1:cr<Se?1:0};function ct(tt,z,V,at,Ht){if(tt.length===0)return-1;if(typeof V=="string"?(at=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,isNaN(V)&&(V=Ht?0:tt.length-1),V<0&&(V=tt.length+V),V>=tt.length){if(Ht)return-1;V=tt.length-1}else if(V<0)if(Ht)V=0;else return-1;if(typeof z=="string"&&(z=P.from(z,at)),P.isBuffer(z))return z.length===0?-1:Ut(tt,z,V,at,Ht);if(typeof z=="number")return z=z&255,P.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ht?Uint8Array.prototype.indexOf.call(tt,z,V):Uint8Array.prototype.lastIndexOf.call(tt,z,V):Ut(tt,[z],V,at,Ht);throw new TypeError("val must be string, number or Buffer")}function Ut(tt,z,V,at,Ht){var ye=1,Se=tt.length,cr=z.length;if(at!==void 0&&(at=String(at).toLowerCase(),at==="ucs2"||at==="ucs-2"||at==="utf16le"||at==="utf-16le")){if(tt.length<2||z.length<2)return-1;ye=2,Se/=2,cr/=2,V/=2}function wr(bi,Rn){return ye===1?bi[Rn]:bi.readUInt16BE(Rn*ye)}var br;if(Ht){var Ln=-1;for(br=V;br<Se;br++)if(wr(tt,br)===wr(z,Ln===-1?0:br-Ln)){if(Ln===-1&&(Ln=br),br-Ln+1===cr)return Ln*ye}else Ln!==-1&&(br-=br-Ln),Ln=-1}else for(V+cr>Se&&(V=Se-cr),br=V;br>=0;br--){for(var yn=!0,Hn=0;Hn<cr;Hn++)if(wr(tt,br+Hn)!==wr(z,Hn)){yn=!1;break}if(yn)return br}return-1}P.prototype.includes=function(z,V,at){return this.indexOf(z,V,at)!==-1},P.prototype.indexOf=function(z,V,at){return ct(this,z,V,at,!0)},P.prototype.lastIndexOf=function(z,V,at){return ct(this,z,V,at,!1)};function mt(tt,z,V,at){V=Number(V)||0;var Ht=tt.length-V;at?(at=Number(at),at>Ht&&(at=Ht)):at=Ht;var ye=z.length;if(ye%2!=0)throw new TypeError("Invalid hex string");at>ye/2&&(at=ye/2);for(var Se=0;Se<at;++Se){var cr=parseInt(z.substr(Se*2,2),16);if(isNaN(cr))return Se;tt[V+Se]=cr}return Se}function xt(tt,z,V,at){return ge(Wt(z,tt.length-V),tt,V,at)}function Bt(tt,z,V,at){return ge(jt(z),tt,V,at)}function qt(tt,z,V,at){return Bt(tt,z,V,at)}function Pe(tt,z,V,at){return ge(he(z),tt,V,at)}function q(tt,z,V,at){return ge(Jt(z,tt.length-V),tt,V,at)}P.prototype.write=function(z,V,at,Ht){if(V===void 0)Ht="utf8",at=this.length,V=0;else if(at===void 0&&typeof V=="string")Ht=V,at=this.length,V=0;else if(isFinite(V))V=V|0,isFinite(at)?(at=at|0,Ht===void 0&&(Ht="utf8")):(Ht=at,at=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-V;if((at===void 0||at>ye)&&(at=ye),z.length>0&&(at<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ht||(Ht="utf8");for(var Se=!1;;)switch(Ht){case"hex":return mt(this,z,V,at);case"utf8":case"utf-8":return xt(this,z,V,at);case"ascii":return Bt(this,z,V,at);case"latin1":case"binary":return qt(this,z,V,at);case"base64":return Pe(this,z,V,at);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,z,V,at);default:if(Se)throw new TypeError("Unknown encoding: "+Ht);Ht=(""+Ht).toLowerCase(),Se=!0}},P.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function bt(tt,z,V){return z===0&&V===tt.length?m.fromByteArray(tt):m.fromByteArray(tt.slice(z,V))}function Vt(tt,z,V){V=Math.min(tt.length,V);for(var at=[],Ht=z;Ht<V;){var ye=tt[Ht],Se=null,cr=ye>239?4:ye>223?3:ye>191?2:1;if(Ht+cr<=V){var wr,br,Ln,yn;switch(cr){case 1:ye<128&&(Se=ye);break;case 2:wr=tt[Ht+1],(wr&192)==128&&(yn=(ye&31)<<6|wr&63,yn>127&&(Se=yn));break;case 3:wr=tt[Ht+1],br=tt[Ht+2],(wr&192)==128&&(br&192)==128&&(yn=(ye&15)<<12|(wr&63)<<6|br&63,yn>2047&&(yn<55296||yn>57343)&&(Se=yn));break;case 4:wr=tt[Ht+1],br=tt[Ht+2],Ln=tt[Ht+3],(wr&192)==128&&(br&192)==128&&(Ln&192)==128&&(yn=(ye&15)<<18|(wr&63)<<12|(br&63)<<6|Ln&63,yn>65535&&yn<1114112&&(Se=yn))}}Se===null?(Se=65533,cr=1):Se>65535&&(Se-=65536,at.push(Se>>>10&1023|55296),Se=56320|Se&1023),at.push(Se),Ht+=cr}return qe(at)}var Xe=4096;function qe(tt){var z=tt.length;if(z<=Xe)return String.fromCharCode.apply(String,tt);for(var V="",at=0;at<z;)V+=String.fromCharCode.apply(String,tt.slice(at,at+=Xe));return V}function Ue(tt,z,V){var at="";V=Math.min(tt.length,V);for(var Ht=z;Ht<V;++Ht)at+=String.fromCharCode(tt[Ht]&127);return at}function yr(tt,z,V){var at="";V=Math.min(tt.length,V);for(var Ht=z;Ht<V;++Ht)at+=String.fromCharCode(tt[Ht]);return at}function Ar(tt,z,V){var at=tt.length;(!z||z<0)&&(z=0),(!V||V<0||V>at)&&(V=at);for(var Ht="",ye=z;ye<V;++ye)Ht+=Ct(tt[ye]);return Ht}function Jr(tt,z,V){for(var at=tt.slice(z,V),Ht="",ye=0;ye<at.length;ye+=2)Ht+=String.fromCharCode(at[ye]+at[ye+1]*256);return Ht}P.prototype.slice=function(z,V){var at=this.length;z=~~z,V=V===void 0?at:~~V,z<0?(z+=at,z<0&&(z=0)):z>at&&(z=at),V<0?(V+=at,V<0&&(V=0)):V>at&&(V=at),V<z&&(V=z);var Ht;if(P.TYPED_ARRAY_SUPPORT)Ht=this.subarray(z,V),Ht.__proto__=P.prototype;else{var ye=V-z;Ht=new P(ye,void 0);for(var Se=0;Se<ye;++Se)Ht[Se]=this[Se+z]}return Ht};function ee(tt,z,V){if(tt%1!=0||tt<0)throw new RangeError("offset is not uint");if(tt+z>V)throw new RangeError("Trying to access beyond buffer length")}P.prototype.readUIntLE=function(z,V,at){z=z|0,V=V|0,at||ee(z,V,this.length);for(var Ht=this[z],ye=1,Se=0;++Se<V&&(ye*=256);)Ht+=this[z+Se]*ye;return Ht},P.prototype.readUIntBE=function(z,V,at){z=z|0,V=V|0,at||ee(z,V,this.length);for(var Ht=this[z+--V],ye=1;V>0&&(ye*=256);)Ht+=this[z+--V]*ye;return Ht},P.prototype.readUInt8=function(z,V){return V||ee(z,1,this.length),this[z]},P.prototype.readUInt16LE=function(z,V){return V||ee(z,2,this.length),this[z]|this[z+1]<<8},P.prototype.readUInt16BE=function(z,V){return V||ee(z,2,this.length),this[z]<<8|this[z+1]},P.prototype.readUInt32LE=function(z,V){return V||ee(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},P.prototype.readUInt32BE=function(z,V){return V||ee(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},P.prototype.readIntLE=function(z,V,at){z=z|0,V=V|0,at||ee(z,V,this.length);for(var Ht=this[z],ye=1,Se=0;++Se<V&&(ye*=256);)Ht+=this[z+Se]*ye;return ye*=128,Ht>=ye&&(Ht-=Math.pow(2,8*V)),Ht},P.prototype.readIntBE=function(z,V,at){z=z|0,V=V|0,at||ee(z,V,this.length);for(var Ht=V,ye=1,Se=this[z+--Ht];Ht>0&&(ye*=256);)Se+=this[z+--Ht]*ye;return ye*=128,Se>=ye&&(Se-=Math.pow(2,8*V)),Se},P.prototype.readInt8=function(z,V){return V||ee(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},P.prototype.readInt16LE=function(z,V){V||ee(z,2,this.length);var at=this[z]|this[z+1]<<8;return at&32768?at|4294901760:at},P.prototype.readInt16BE=function(z,V){V||ee(z,2,this.length);var at=this[z+1]|this[z]<<8;return at&32768?at|4294901760:at},P.prototype.readInt32LE=function(z,V){return V||ee(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},P.prototype.readInt32BE=function(z,V){return V||ee(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},P.prototype.readFloatLE=function(z,V){return V||ee(z,4,this.length),S.read(this,z,!0,23,4)},P.prototype.readFloatBE=function(z,V){return V||ee(z,4,this.length),S.read(this,z,!1,23,4)},P.prototype.readDoubleLE=function(z,V){return V||ee(z,8,this.length),S.read(this,z,!0,52,8)},P.prototype.readDoubleBE=function(z,V){return V||ee(z,8,this.length),S.read(this,z,!1,52,8)};function Ie(tt,z,V,at,Ht,ye){if(!P.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>Ht||z<ye)throw new RangeError('"value" argument is out of bounds');if(V+at>tt.length)throw new RangeError("Index out of range")}P.prototype.writeUIntLE=function(z,V,at,Ht){if(z=+z,V=V|0,at=at|0,!Ht){var ye=Math.pow(2,8*at)-1;Ie(this,z,V,at,ye,0)}var Se=1,cr=0;for(this[V]=z&255;++cr<at&&(Se*=256);)this[V+cr]=z/Se&255;return V+at},P.prototype.writeUIntBE=function(z,V,at,Ht){if(z=+z,V=V|0,at=at|0,!Ht){var ye=Math.pow(2,8*at)-1;Ie(this,z,V,at,ye,0)}var Se=at-1,cr=1;for(this[V+Se]=z&255;--Se>=0&&(cr*=256);)this[V+Se]=z/cr&255;return V+at},P.prototype.writeUInt8=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,1,255,0),P.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[V]=z&255,V+1};function Je(tt,z,V,at){z<0&&(z=65535+z+1);for(var Ht=0,ye=Math.min(tt.length-V,2);Ht<ye;++Ht)tt[V+Ht]=(z&255<<8*(at?Ht:1-Ht))>>>(at?Ht:1-Ht)*8}P.prototype.writeUInt16LE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,2,65535,0),P.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8):Je(this,z,V,!0),V+2},P.prototype.writeUInt16BE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,2,65535,0),P.TYPED_ARRAY_SUPPORT?(this[V]=z>>>8,this[V+1]=z&255):Je(this,z,V,!1),V+2};function dr(tt,z,V,at){z<0&&(z=4294967295+z+1);for(var Ht=0,ye=Math.min(tt.length-V,4);Ht<ye;++Ht)tt[V+Ht]=z>>>(at?Ht:3-Ht)*8&255}P.prototype.writeUInt32LE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,4,4294967295,0),P.TYPED_ARRAY_SUPPORT?(this[V+3]=z>>>24,this[V+2]=z>>>16,this[V+1]=z>>>8,this[V]=z&255):dr(this,z,V,!0),V+4},P.prototype.writeUInt32BE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,4,4294967295,0),P.TYPED_ARRAY_SUPPORT?(this[V]=z>>>24,this[V+1]=z>>>16,this[V+2]=z>>>8,this[V+3]=z&255):dr(this,z,V,!1),V+4},P.prototype.writeIntLE=function(z,V,at,Ht){if(z=+z,V=V|0,!Ht){var ye=Math.pow(2,8*at-1);Ie(this,z,V,at,ye-1,-ye)}var Se=0,cr=1,wr=0;for(this[V]=z&255;++Se<at&&(cr*=256);)z<0&&wr===0&&this[V+Se-1]!==0&&(wr=1),this[V+Se]=(z/cr>>0)-wr&255;return V+at},P.prototype.writeIntBE=function(z,V,at,Ht){if(z=+z,V=V|0,!Ht){var ye=Math.pow(2,8*at-1);Ie(this,z,V,at,ye-1,-ye)}var Se=at-1,cr=1,wr=0;for(this[V+Se]=z&255;--Se>=0&&(cr*=256);)z<0&&wr===0&&this[V+Se+1]!==0&&(wr=1),this[V+Se]=(z/cr>>0)-wr&255;return V+at},P.prototype.writeInt8=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,1,127,-128),P.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[V]=z&255,V+1},P.prototype.writeInt16LE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,2,32767,-32768),P.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8):Je(this,z,V,!0),V+2},P.prototype.writeInt16BE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,2,32767,-32768),P.TYPED_ARRAY_SUPPORT?(this[V]=z>>>8,this[V+1]=z&255):Je(this,z,V,!1),V+2},P.prototype.writeInt32LE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,4,2147483647,-2147483648),P.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8,this[V+2]=z>>>16,this[V+3]=z>>>24):dr(this,z,V,!0),V+4},P.prototype.writeInt32BE=function(z,V,at){return z=+z,V=V|0,at||Ie(this,z,V,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),P.TYPED_ARRAY_SUPPORT?(this[V]=z>>>24,this[V+1]=z>>>16,this[V+2]=z>>>8,this[V+3]=z&255):dr(this,z,V,!1),V+4};function En(tt,z,V,at,Ht,ye){if(V+at>tt.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function mr(tt,z,V,at,Ht){return Ht||En(tt,z,V,4),S.write(tt,z,V,at,23,4),V+4}P.prototype.writeFloatLE=function(z,V,at){return mr(this,z,V,!0,at)},P.prototype.writeFloatBE=function(z,V,at){return mr(this,z,V,!1,at)};function Ir(tt,z,V,at,Ht){return Ht||En(tt,z,V,8),S.write(tt,z,V,at,52,8),V+8}P.prototype.writeDoubleLE=function(z,V,at){return Ir(this,z,V,!0,at)},P.prototype.writeDoubleBE=function(z,V,at){return Ir(this,z,V,!1,at)},P.prototype.copy=function(z,V,at,Ht){if(at||(at=0),!Ht&&Ht!==0&&(Ht=this.length),V>=z.length&&(V=z.length),V||(V=0),Ht>0&&Ht<at&&(Ht=at),Ht===at||z.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(at<0||at>=this.length)throw new RangeError("sourceStart out of bounds");if(Ht<0)throw new RangeError("sourceEnd out of bounds");Ht>this.length&&(Ht=this.length),z.length-V<Ht-at&&(Ht=z.length-V+at);var ye=Ht-at,Se;if(this===z&&at<V&&V<Ht)for(Se=ye-1;Se>=0;--Se)z[Se+V]=this[Se+at];else if(ye<1e3||!P.TYPED_ARRAY_SUPPORT)for(Se=0;Se<ye;++Se)z[Se+V]=this[Se+at];else Uint8Array.prototype.set.call(z,this.subarray(at,at+ye),V);return ye},P.prototype.fill=function(z,V,at,Ht){if(typeof z=="string"){if(typeof V=="string"?(Ht=V,V=0,at=this.length):typeof at=="string"&&(Ht=at,at=this.length),z.length===1){var ye=z.charCodeAt(0);ye<256&&(z=ye)}if(Ht!==void 0&&typeof Ht!="string")throw new TypeError("encoding must be a string");if(typeof Ht=="string"&&!P.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht)}else typeof z=="number"&&(z=z&255);if(V<0||this.length<V||this.length<at)throw new RangeError("Out of range index");if(at<=V)return this;V=V>>>0,at=at===void 0?this.length:at>>>0,z||(z=0);var Se;if(typeof z=="number")for(Se=V;Se<at;++Se)this[Se]=z;else{var cr=P.isBuffer(z)?z:Wt(new P(z,Ht).toString()),wr=cr.length;for(Se=0;Se<at-V;++Se)this[Se+V]=cr[Se%wr]}return this};var _r=/[^+\/0-9A-Za-z-_]/g;function Rt(tt){if(tt=ne(tt).replace(_r,""),tt.length<2)return"";for(;tt.length%4!=0;)tt=tt+"=";return tt}function ne(tt){return tt.trim?tt.trim():tt.replace(/^\s+|\s+$/g,"")}function Ct(tt){return tt<16?"0"+tt.toString(16):tt.toString(16)}function Wt(tt,z){z=z||1/0;for(var V,at=tt.length,Ht=null,ye=[],Se=0;Se<at;++Se){if(V=tt.charCodeAt(Se),V>55295&&V<57344){if(!Ht){if(V>56319){(z-=3)>-1&&ye.push(239,191,189);continue}else if(Se+1===at){(z-=3)>-1&&ye.push(239,191,189);continue}Ht=V;continue}if(V<56320){(z-=3)>-1&&ye.push(239,191,189),Ht=V;continue}V=(Ht-55296<<10|V-56320)+65536}else Ht&&(z-=3)>-1&&ye.push(239,191,189);if(Ht=null,V<128){if((z-=1)<0)break;ye.push(V)}else if(V<2048){if((z-=2)<0)break;ye.push(V>>6|192,V&63|128)}else if(V<65536){if((z-=3)<0)break;ye.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((z-=4)<0)break;ye.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return ye}function jt(tt){for(var z=[],V=0;V<tt.length;++V)z.push(tt.charCodeAt(V)&255);return z}function Jt(tt,z){for(var V,at,Ht,ye=[],Se=0;Se<tt.length&&!((z-=2)<0);++Se)V=tt.charCodeAt(Se),at=V>>8,Ht=V%256,ye.push(Ht),ye.push(at);return ye}function he(tt){return m.toByteArray(Rt(tt))}function ge(tt,z,V,at){for(var Ht=0;Ht<at&&!(Ht+V>=z.length||Ht>=tt.length);++Ht)z[Ht+V]=tt[Ht];return Ht}function Ve(tt){return tt!==tt}}).call(this,u("c8ba"))},b64b:function(f,p,u){var g=u("23e7"),m=u("7b0b"),S=u("df75"),A=u("d039"),R=A(function(){S(1)});g({target:"Object",stat:!0,forced:R},{keys:function(U){return S(m(U))}})},b727:function(f,p,u){var g=u("0366"),m=u("e330"),S=u("44ad"),A=u("7b0b"),R=u("07fa"),j=u("65f0"),U=m([].push),P=function(B){var X=B==1,W=B==2,$=B==3,J=B==4,nt=B==6,Q=B==7,St=B==5||nt;return function(ot,M,_t,Lt){for(var Nt=A(ot),ct=S(Nt),Ut=g(M,_t),mt=R(ct),xt=0,Bt=Lt||j,qt=X?Bt(ot,mt):W||Q?Bt(ot,0):void 0,Pe,q;mt>xt;xt++)if((St||xt in ct)&&(Pe=ct[xt],q=Ut(Pe,xt,Nt),B))if(X)qt[xt]=q;else if(q)switch(B){case 3:return!0;case 5:return Pe;case 6:return xt;case 2:U(qt,Pe)}else switch(B){case 4:return!1;case 7:U(qt,Pe)}return nt?-1:$||J?J:qt}};f.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},b980:function(f,p,u){var g=u("d039"),m=u("5c6c");f.exports=!g(function(){var S=Error("a");return"stack"in S?(Object.defineProperty(S,"stack",m(1,7)),S.stack!==7):!0})},c04e:function(f,p,u){var g=u("da84"),m=u("c65b"),S=u("861d"),A=u("d9b5"),R=u("dc4a"),j=u("485a"),U=u("b622"),P=g.TypeError,B=U("toPrimitive");f.exports=function(X,W){if(!S(X)||A(X))return X;var $=R(X,B),J;if($){if(W===void 0&&(W="default"),J=m($,X,W),!S(J)||A(J))return J;throw P("Can't convert object to primitive value")}return W===void 0&&(W="number"),j(X,W)}},c430:function(f,p){f.exports=!1},c65b:function(f,p,u){var g=u("40d5"),m=Function.prototype.call;f.exports=g?m.bind(m):function(){return m.apply(m,arguments)}},c6b6:function(f,p,u){var g=u("e330"),m=g({}.toString),S=g("".slice);f.exports=function(A){return S(m(A),8,-1)}},c6cd:function(f,p,u){var g=u("da84"),m=u("ce4e"),S="__core-js_shared__",A=g[S]||m(S,{});f.exports=A},c740:function(f,p,u){var g=u("23e7"),m=u("b727").findIndex,S=u("44d2"),A="findIndex",R=!0;A in[]&&Array(1)[A](function(){R=!1}),g({target:"Array",proto:!0,forced:R},{findIndex:function(U){return m(this,U,arguments.length>1?arguments[1]:void 0)}}),S(A)},c770:function(f,p,u){var g=u("e330"),m=g("".replace),S=function(j){return String(Error(j).stack)}("zxcasd"),A=/\n\s*at [^:]*:[^\n]*/,R=A.test(S);f.exports=function(j,U){if(R&&typeof j=="string")for(;U--;)j=m(j,A,"");return j}},c8ba:function(f,p){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}f.exports=u},ca84:function(f,p,u){var g=u("e330"),m=u("1a2d"),S=u("fc6a"),A=u("4d64").indexOf,R=u("d012"),j=g([].push);f.exports=function(U,P){var B=S(U),X=0,W=[],$;for($ in B)!m(R,$)&&m(B,$)&&j(W,$);for(;P.length>X;)m(B,$=P[X++])&&(~A(W,$)||j(W,$));return W}},caad:function(f,p,u){var g=u("23e7"),m=u("4d64").includes,S=u("44d2");g({target:"Array",proto:!0},{includes:function(R){return m(this,R,arguments.length>1?arguments[1]:void 0)}}),S("includes")},cc12:function(f,p,u){var g=u("da84"),m=u("861d"),S=g.document,A=m(S)&&m(S.createElement);f.exports=function(R){return A?S.createElement(R):{}}},ce4e:function(f,p,u){var g=u("da84"),m=Object.defineProperty;f.exports=function(S,A){try{m(g,S,{value:A,configurable:!0,writable:!0})}catch{g[S]=A}return A}},cef7:function(f,p,u){u.d(p,"b",function(){return m});var g=function(){function S(A){this.propagationStopped,this.defaultPrevented,this.type=A,this.target=null}return S.prototype.preventDefault=function(){this.defaultPrevented=!0},S.prototype.stopPropagation=function(){this.propagationStopped=!0},S}();function m(S){S.stopPropagation()}p.a=g},d012:function(f,p){f.exports={}},d039:function(f,p){f.exports=function(u){try{return!!u()}catch{return!0}}},d066:function(f,p,u){var g=u("da84"),m=u("1626"),S=function(A){return m(A)?A:void 0};f.exports=function(A,R){return arguments.length<2?S(g[A]):g[A]&&g[A][R]}},d1e7:function(f,p,u){var g={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,S=m&&!g.call({1:2},1);p.f=S?function(R){var j=m(this,R);return!!j&&j.enumerable}:g},d28b:function(f,p,u){var g=u("746f");g("iterator")},d2bb:function(f,p,u){var g=u("e330"),m=u("825a"),S=u("3bbe");f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var A=!1,R={},j;try{j=g(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),j(R,[]),A=R instanceof Array}catch{}return function(P,B){return m(P),S(B),A?j(P,B):P.__proto__=B,P}}():void 0)},d3b7:function(f,p,u){var g=u("00ee"),m=u("6eeb"),S=u("b041");g||m(Object.prototype,"toString",S,{unsafe:!0})},d44e:function(f,p,u){var g=u("9bf2").f,m=u("1a2d"),S=u("b622"),A=S("toStringTag");f.exports=function(R,j,U){R&&!U&&(R=R.prototype),R&&!m(R,A)&&g(R,A,{configurable:!0,value:j})}},d784:function(f,p,u){u("ac1f");var g=u("e330"),m=u("6eeb"),S=u("9263"),A=u("d039"),R=u("b622"),j=u("9112"),U=R("species"),P=RegExp.prototype;f.exports=function(B,X,W,$){var J=R(B),nt=!A(function(){var M={};return M[J]=function(){return 7},""[B](M)!=7}),Q=nt&&!A(function(){var M=!1,_t=/a/;return B==="split"&&(_t={},_t.constructor={},_t.constructor[U]=function(){return _t},_t.flags="",_t[J]=/./[J]),_t.exec=function(){return M=!0,null},_t[J](""),!M});if(!nt||!Q||W){var St=g(/./[J]),ot=X(J,""[B],function(M,_t,Lt,Nt,ct){var Ut=g(M),mt=_t.exec;return mt===S||mt===P.exec?nt&&!ct?{done:!0,value:St(_t,Lt,Nt)}:{done:!0,value:Ut(Lt,_t,Nt)}:{done:!1}});m(String.prototype,B,ot[0]),m(P,J,ot[1])}$&&j(P[J],"sham",!0)}},d81d:function(f,p,u){var g=u("23e7"),m=u("b727").map,S=u("1dde"),A=S("map");g({target:"Array",proto:!0,forced:!A},{map:function(j){return m(this,j,arguments.length>1?arguments[1]:void 0)}})},d998:function(f,p,u){var g=u("342f");f.exports=/MSIE|Trident/.test(g)},d9b5:function(f,p,u){var g=u("da84"),m=u("d066"),S=u("1626"),A=u("3a9b"),R=u("fdbf"),j=g.Object;f.exports=R?function(U){return typeof U=="symbol"}:function(U){var P=m("Symbol");return S(P)&&A(P.prototype,j(U))}},d9e2:function(f,p,u){var g=u("23e7"),m=u("da84"),S=u("2ba4"),A=u("e5cb"),R="WebAssembly",j=m[R],U=Error("e",{cause:7}).cause!==7,P=function(X,W){var $={};$[X]=A(X,W,U),g({global:!0,forced:U},$)},B=function(X,W){if(j&&j[X]){var $={};$[X]=A(R+"."+X,W,U),g({target:R,stat:!0,forced:U},$)}};P("Error",function(X){return function($){return S(X,this,arguments)}}),P("EvalError",function(X){return function($){return S(X,this,arguments)}}),P("RangeError",function(X){return function($){return S(X,this,arguments)}}),P("ReferenceError",function(X){return function($){return S(X,this,arguments)}}),P("SyntaxError",function(X){return function($){return S(X,this,arguments)}}),P("TypeError",function(X){return function($){return S(X,this,arguments)}}),P("URIError",function(X){return function($){return S(X,this,arguments)}}),B("CompileError",function(X){return function($){return S(X,this,arguments)}}),B("LinkError",function(X){return function($){return S(X,this,arguments)}}),B("RuntimeError",function(X){return function($){return S(X,this,arguments)}})},da5c:function(f,p,u){var g=function(){function m(){this.disposed=!1}return m.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},m.prototype.disposeInternal=function(){},m}();p.a=g},da84:function(f,p,u){(function(g){var m=function(S){return S&&S.Math==Math&&S};f.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof g=="object"&&g)||function(){return this}()||Function("return this")()}).call(this,u("c8ba"))},dbb4:function(f,p,u){var g=u("23e7"),m=u("83ab"),S=u("56ef"),A=u("fc6a"),R=u("06cf"),j=u("8418");g({target:"Object",stat:!0,sham:!m},{getOwnPropertyDescriptors:function(P){for(var B=A(P),X=R.f,W=S(B),$={},J=0,nt,Q;W.length>J;)Q=X(B,nt=W[J++]),Q!==void 0&&j($,nt,Q);return $}})},dbd0:function(f,p,u){},dc4a:function(f,p,u){var g=u("59ed");f.exports=function(m,S){var A=m[S];return A==null?void 0:g(A)}},ddb0:function(f,p,u){var g=u("da84"),m=u("fdbc"),S=u("785a"),A=u("e260"),R=u("9112"),j=u("b622"),U=j("iterator"),P=j("toStringTag"),B=A.values,X=function($,J){if($){if($[U]!==B)try{R($,U,B)}catch{$[U]=B}if($[P]||R($,P,J),m[J]){for(var nt in A)if($[nt]!==A[nt])try{R($,nt,A[nt])}catch{$[nt]=A[nt]}}}};for(var W in m)X(g[W]&&g[W].prototype,W);X(S,"DOMTokenList")},df75:function(f,p,u){var g=u("ca84"),m=u("7839");f.exports=Object.keys||function(A){return g(A,m)}},e01a:function(f,p,u){var g=u("23e7"),m=u("83ab"),S=u("da84"),A=u("e330"),R=u("1a2d"),j=u("1626"),U=u("3a9b"),P=u("577e"),B=u("9bf2").f,X=u("e893"),W=S.Symbol,$=W&&W.prototype;if(m&&j(W)&&(!("description"in $)||W().description!==void 0)){var J={},nt=function(){var ct=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),Ut=U($,this)?new W(ct):ct===void 0?W():W(ct);return ct===""&&(J[Ut]=!0),Ut};X(nt,W),nt.prototype=$,$.constructor=nt;var Q=String(W("test"))=="Symbol(test)",St=A($.toString),ot=A($.valueOf),M=/^Symbol\((.*)\)[^)]+$/,_t=A("".replace),Lt=A("".slice);B($,"description",{configurable:!0,get:function(){var ct=ot(this),Ut=St(ct);if(R(J,ct))return"";var mt=Q?Lt(Ut,7,-1):_t(Ut,M,"$1");return mt===""?void 0:mt}}),g({global:!0,forced:!0},{Symbol:nt})}},e163:function(f,p,u){var g=u("da84"),m=u("1a2d"),S=u("1626"),A=u("7b0b"),R=u("f772"),j=u("e177"),U=R("IE_PROTO"),P=g.Object,B=P.prototype;f.exports=j?P.getPrototypeOf:function(X){var W=A(X);if(m(W,U))return W[U];var $=W.constructor;return S($)&&W instanceof $?$.prototype:W instanceof P?B:null}},e177:function(f,p,u){var g=u("d039");f.exports=!g(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},e260:function(f,p,u){var g=u("fc6a"),m=u("44d2"),S=u("3f8c"),A=u("69f3"),R=u("9bf2").f,j=u("7dd0"),U=u("c430"),P=u("83ab"),B="Array Iterator",X=A.set,W=A.getterFor(B);f.exports=j(Array,"Array",function(J,nt){X(this,{type:B,target:g(J),index:0,kind:nt})},function(){var J=W(this),nt=J.target,Q=J.kind,St=J.index++;return!nt||St>=nt.length?(J.target=void 0,{value:void 0,done:!0}):Q=="keys"?{value:St,done:!1}:Q=="values"?{value:nt[St],done:!1}:{value:[St,nt[St]],done:!1}},"values");var $=S.Arguments=S.Array;if(m("keys"),m("values"),m("entries"),!U&&P&&$.name!=="values")try{R($,"name",{value:"values"})}catch{}},e269:function(f,p,u){var g=u("cef7"),m=u("7b4f"),S=u("35a7"),A=u("38f3"),R=u("1300"),j=function(){var B=function(X,W){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,J){$.__proto__=J}||function($,J){for(var nt in J)Object.prototype.hasOwnProperty.call(J,nt)&&($[nt]=J[nt])},B(X,W)};return function(X,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");B(X,W);function $(){this.constructor=X}X.prototype=W===null?Object.create(W):($.prototype=W.prototype,new $)}}(),U=function(B){j(X,B);function X(W,$,J){var nt=B.call(this,W)||this;return nt.key=$,nt.oldValue=J,nt}return X}(g.a),P=function(B){j(X,B);function X(W){var $=B.call(this)||this;return $.on,$.once,$.un,Object(R.c)($),$.values_=null,W!==void 0&&$.setProperties(W),$}return X.prototype.get=function(W){var $;return this.values_&&this.values_.hasOwnProperty(W)&&($=this.values_[W]),$},X.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},X.prototype.getProperties=function(){return this.values_&&Object(A.a)({},this.values_)||{}},X.prototype.hasProperties=function(){return!!this.values_},X.prototype.notify=function(W,$){var J;J="change:"+W,this.dispatchEvent(new U(J,W,$)),J=m.a.PROPERTYCHANGE,this.dispatchEvent(new U(J,W,$))},X.prototype.addChangeListener=function(W,$){this.addEventListener("change:"+W,$)},X.prototype.removeChangeListener=function(W,$){this.removeEventListener("change:"+W,$)},X.prototype.set=function(W,$,J){var nt=this.values_||(this.values_={});if(J)nt[W]=$;else{var Q=nt[W];nt[W]=$,Q!==$&&this.notify(W,Q)}},X.prototype.setProperties=function(W,$){for(var J in W)this.set(J,W[J],$)},X.prototype.applyProperties=function(W){!W.values_||Object(A.a)(this.values_||(this.values_={}),W.values_)},X.prototype.unset=function(W,$){if(this.values_&&W in this.values_){var J=this.values_[W];delete this.values_[W],Object(A.d)(this.values_)&&(this.values_=null),$||this.notify(W,J)}},X}(S.a);p.a=P},e330:function(f,p,u){var g=u("40d5"),m=Function.prototype,S=m.bind,A=m.call,R=g&&S.bind(A,A);f.exports=g?function(j){return j&&R(j)}:function(j){return j&&function(){return A.apply(j,arguments)}}},e391:function(f,p,u){var g=u("577e");f.exports=function(m,S){return m===void 0?arguments.length<2?"":S:g(m)}},e3db:function(f,p){var u={}.toString;f.exports=Array.isArray||function(g){return u.call(g)=="[object Array]"}},e439:function(f,p,u){var g=u("23e7"),m=u("d039"),S=u("fc6a"),A=u("06cf").f,R=u("83ab"),j=m(function(){A(1)}),U=!R||j;g({target:"Object",stat:!0,forced:U,sham:!R},{getOwnPropertyDescriptor:function(B,X){return A(S(B),X)}})},e4e0:function(f,p,u){(function(g){u.d(p,"a",function(){return A});var m=u("1300"),S=function(){var R=function(j,U){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,B){P.__proto__=B}||function(P,B){for(var X in B)Object.prototype.hasOwnProperty.call(B,X)&&(P[X]=B[X])},R(j,U)};return function(j,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");R(j,U);function P(){this.constructor=j}j.prototype=U===null?Object.create(U):(P.prototype=U.prototype,new P)}}();function A(R,j,U,P){var B=document.createElement("script"),X="olc_"+Object(m.c)(j);function W(){delete window[X],B.parentNode.removeChild(B)}B.async=!0,B.src=R+(R.indexOf("?")==-1?"?":"&")+(P||"callback")+"="+X;var $=setTimeout(function(){W(),U&&U()},1e4);window[X]=function(J){clearTimeout($),W(),j(J)},document.getElementsByTagName("head")[0].appendChild(B)}(function(R){S(j,R);function j(U){var P=this,B="Unexpected response status: "+U.status;return P=R.call(this,B)||this,P.name="ResponseError",P.response=U,P}return j})(Error),function(R){S(j,R);function j(U){var P=R.call(this,"Failed to issue request")||this;return P.name="ClientError",P.client=U,P}return j}(Error)}).call(this,u("c8ba"))},e538:function(f,p,u){var g=u("b622");p.f=g},e5cb:function(f,p,u){var g=u("d066"),m=u("1a2d"),S=u("9112"),A=u("3a9b"),R=u("d2bb"),j=u("e893"),U=u("7156"),P=u("e391"),B=u("ab36"),X=u("c770"),W=u("b980"),$=u("c430");f.exports=function(J,nt,Q,St){var ot=St?2:1,M=J.split("."),_t=M[M.length-1],Lt=g.apply(null,M);if(!!Lt){var Nt=Lt.prototype;if(!$&&m(Nt,"cause")&&delete Nt.cause,!Q)return Lt;var ct=g("Error"),Ut=nt(function(mt,xt){var Bt=P(St?xt:mt,void 0),qt=St?new Lt(mt):new Lt;return Bt!==void 0&&S(qt,"message",Bt),W&&S(qt,"stack",X(qt.stack,2)),this&&A(Nt,this)&&U(qt,this,Ut),arguments.length>ot&&B(qt,arguments[ot]),qt});if(Ut.prototype=Nt,_t!=="Error"&&(R?R(Ut,ct):j(Ut,ct,{name:!0})),j(Ut,Lt),!$)try{Nt.name!==_t&&S(Nt,"name",_t),Nt.constructor=Ut}catch{}return Ut}}},e893:function(f,p,u){var g=u("1a2d"),m=u("56ef"),S=u("06cf"),A=u("9bf2");f.exports=function(R,j,U){for(var P=m(j),B=A.f,X=S.f,W=0;W<P.length;W++){var $=P[W];!g(R,$)&&!(U&&g(U,$))&&B(R,$,X(j,$))}}},e8b5:function(f,p,u){var g=u("c6b6");f.exports=Array.isArray||function(S){return g(S)=="Array"}},e95a:function(f,p,u){var g=u("b622"),m=u("3f8c"),S=g("iterator"),A=Array.prototype;f.exports=function(R){return R!==void 0&&(m.Array===R||A[S]===R)}},f36a:function(f,p,u){var g=u("e330");f.exports=g([].slice)},f5df:function(f,p,u){var g=u("da84"),m=u("00ee"),S=u("1626"),A=u("c6b6"),R=u("b622"),j=R("toStringTag"),U=g.Object,P=A(function(){return arguments}())=="Arguments",B=function(X,W){try{return X[W]}catch{}};f.exports=m?A:function(X){var W,$,J;return X===void 0?"Undefined":X===null?"Null":typeof($=B(W=U(X),j))=="string"?$:P?A(W):(J=A(W))=="Object"&&S(W.callee)?"Arguments":J}},f772:function(f,p,u){var g=u("5692"),m=u("90e3"),S=g("keys");f.exports=function(A){return S[A]||(S[A]=m(A))}},f8c9:function(f,p,u){var g=u("23e7"),m=u("da84"),S=u("d44e");g({global:!0},{Reflect:{}}),S(m.Reflect,"Reflect",!0)},fb15:function(f,p,u){u.r(p),u.d(p,"install",function(){return h0}),u.d(p,"Map",function(){return A}),u.d(p,"Layers",function(){return j}),u.d(p,"Sources",function(){return U}),u.d(p,"MapControls",function(){return P}),u.d(p,"Geometries",function(){return B}),u.d(p,"Styles",function(){return X}),u.d(p,"Interactions",function(){return W}),u.d(p,"Animations",function(){return $});var g={};u.r(g),u.d(g,"boundingExtent",function(){return Rt}),u.d(g,"buffer",function(){return Ct}),u.d(g,"clone",function(){return Wt}),u.d(g,"closestSquaredDistanceXY",function(){return jt}),u.d(g,"containsCoordinate",function(){return Jt}),u.d(g,"containsExtent",function(){return he}),u.d(g,"containsXY",function(){return ge}),u.d(g,"coordinateRelationship",function(){return Ve}),u.d(g,"createEmpty",function(){return tt}),u.d(g,"createOrUpdate",function(){return z}),u.d(g,"createOrUpdateEmpty",function(){return V}),u.d(g,"createOrUpdateFromCoordinate",function(){return at}),u.d(g,"createOrUpdateFromCoordinates",function(){return Ht}),u.d(g,"createOrUpdateFromFlatCoordinates",function(){return ye}),u.d(g,"createOrUpdateFromRings",function(){return Se}),u.d(g,"equals",function(){return cr}),u.d(g,"approximatelyEquals",function(){return wr}),u.d(g,"extend",function(){return br}),u.d(g,"extendCoordinate",function(){return Ln}),u.d(g,"extendCoordinates",function(){return yn}),u.d(g,"extendFlatCoordinates",function(){return Hn}),u.d(g,"extendRings",function(){return bi}),u.d(g,"extendXY",function(){return Rn}),u.d(g,"forEachCorner",function(){return Dn}),u.d(g,"getArea",function(){return fi}),u.d(g,"getBottomLeft",function(){return kr}),u.d(g,"getBottomRight",function(){return Xi}),u.d(g,"getCenter",function(){return Xn}),u.d(g,"getCorner",function(){return Qo}),u.d(g,"getEnlargedArea",function(){return Ji}),u.d(g,"getForViewAndSize",function(){return Ci}),u.d(g,"getHeight",function(){return Gr}),u.d(g,"getIntersectionArea",function(){return je}),u.d(g,"getIntersection",function(){return Rr}),u.d(g,"getMargin",function(){return on}),u.d(g,"getSize",function(){return Pn}),u.d(g,"getTopLeft",function(){return $n}),u.d(g,"getTopRight",function(){return po}),u.d(g,"getWidth",function(){return cn}),u.d(g,"intersects",function(){return hi}),u.d(g,"isEmpty",function(){return Ro}),u.d(g,"returnOrUpdate",function(){return Bo}),u.d(g,"scaleFromCenter",function(){return Po}),u.d(g,"intersectsSegment",function(){return eu}),u.d(g,"applyTransform",function(){return Hs}),u.d(g,"wrapX",function(){return wl});var m={};u.r(m),u.d(m,"easeIn",function(){return Ts}),u.d(m,"easeOut",function(){return wa}),u.d(m,"inAndOut",function(){return xc}),u.d(m,"linear",function(){return Ba}),u.d(m,"upAndDown",function(){return rl});var S={};u.r(S),u.d(S,"all",function(){return Pc}),u.d(S,"altKeyOnly",function(){return Jh}),u.d(S,"altShiftKeysOnly",function(){return Mc}),u.d(S,"focus",function(){return Ag}),u.d(S,"focusWithTabindex",function(){return Dp}),u.d(S,"always",function(){return Vf}),u.d(S,"click",function(){return xm}),u.d(S,"mouseActionButton",function(){return Bp}),u.d(S,"never",function(){return Gp}),u.d(S,"pointerMove",function(){return Sm}),u.d(S,"singleClick",function(){return Ms}),u.d(S,"doubleClick",function(){return Is}),u.d(S,"noModifierKeys",function(){return os}),u.d(S,"platformModifierKeyOnly",function(){return wm}),u.d(S,"shiftKeyOnly",function(){return Ic}),u.d(S,"targetNotEditable",function(){return ul}),u.d(S,"mouseOnly",function(){return Uo}),u.d(S,"touchOnly",function(){return Om}),u.d(S,"penOnly",function(){return Tm}),u.d(S,"primaryAction",function(){return qh});var A={};u.r(A),u.d(A,"default",function(){return gP}),u.d(A,"install",function(){return ry}),u.d(A,"Map",function(){return Ei}),u.d(A,"View",function(){return Nn}),u.d(A,"Feature",function(){return So}),u.d(A,"Overlay",function(){return Hf}),u.d(A,"GeoLocation",function(){return nd}),u.d(A,"Projection",function(){return Hm});var R={};u.r(R),u.d(R,"all",function(){return N5}),u.d(R,"bbox",function(){return QI}),u.d(R,"tile",function(){return tN});var j={};u.r(j),u.d(j,"default",function(){return xN}),u.d(j,"install",function(){return wy}),u.d(j,"TileLayer",function(){return $m}),u.d(j,"WebGLTileLayer",function(){return u1}),u.d(j,"ImageLayer",function(){return c1}),u.d(j,"VectorLayer",function(){return y1}),u.d(j,"AnimatedClusterLayer",function(){return _1}),u.d(j,"WebglPointsLayer",function(){return E1});var U={};u.r(U),u.d(U,"default",function(){return D3}),u.d(U,"install",function(){return Ry}),u.d(U,"SourceXYZ",function(){return w1}),u.d(U,"SourceOSM",function(){return O1}),u.d(U,"SourceImageStatic",function(){return C1}),u.d(U,"SourceWMTS",function(){return A1}),u.d(U,"SourceVector",function(){return R1}),u.d(U,"SourceCluster",function(){return P1}),u.d(U,"SourceTianDiTu",function(){return I1}),u.d(U,"SourceImageWMS",function(){return N1}),u.d(U,"SourceWebglPoints",function(){return F1});var P={};u.r(P),u.d(P,"default",function(){return MF}),u.d(P,"install",function(){return Dy}),u.d(P,"FullScreenControl",function(){return D1}),u.d(P,"MousePositionControl",function(){return G1}),u.d(P,"AttributionControl",function(){return U1}),u.d(P,"OverviewMapControl",function(){return z1}),u.d(P,"ScaleLineControl",function(){return Y1}),u.d(P,"ZoomControl",function(){return H1}),u.d(P,"ZoomSliderControl",function(){return X1}),u.d(P,"ZoomToExtentControl",function(){return K1}),u.d(P,"ContextMenuControl",function(){return Z1}),u.d(P,"SwipeControl",function(){return $1}),u.d(P,"ControlBar",function(){return J1}),u.d(P,"ToggleControl",function(){return Q1}),u.d(P,"ButtonControl",function(){return t_}),u.d(P,"PrintDialog",function(){return i_}),u.d(P,"VideoRecorderControl",function(){return o_}),u.d(P,"LayerSwitcherControl",function(){return Fy}),u.d(P,"LayerSwitcherImageControl",function(){return s_}),u.d(P,"ZoneControl",function(){return l_});var B={};u.r(B),u.d(B,"default",function(){return JF}),u.d(B,"install",function(){return Gy}),u.d(B,"Point",function(){return u_}),u.d(B,"LineString",function(){return c_}),u.d(B,"Polygon",function(){return f_}),u.d(B,"MultiPoint",function(){return h_}),u.d(B,"MultiLineString",function(){return d_}),u.d(B,"MultiPolygon",function(){return p_});var X={};u.r(X),u.d(X,"default",function(){return E6}),u.d(X,"install",function(){return zy}),u.d(X,"Style",function(){return E_}),u.d(X,"Stroke",function(){return S_}),u.d(X,"Fill",function(){return w_}),u.d(X,"Icon",function(){return O_}),u.d(X,"Text",function(){return T_}),u.d(X,"FlowLine",function(){return b_}),u.d(X,"Circle",function(){return x_});var W={};u.r(W),u.d(W,"default",function(){return X6}),u.d(W,"install",function(){return Yy}),u.d(W,"SelectInteraction",function(){return C_}),u.d(W,"ClusterSelectInteraction",function(){return L_}),u.d(W,"DrawInteraction",function(){return A_}),u.d(W,"SnapInteraction",function(){return R_}),u.d(W,"ModifyInteraction",function(){return P_}),u.d(W,"TransformInteraction",function(){return M_}),u.d(W,"DragRotateAndZoomInteraction",function(){return I_});var $={};u.r($),u.d($,"default",function(){return m8}),u.d($,"install",function(){return Hy}),u.d($,"FeatureAnimation",function(){return Zl}),u.d($,"DropAnimation",function(){return F_}),u.d($,"ShakeAnimation",function(){return D_}),u.d($,"ZoomAnimation",function(){return B_}),u.d($,"TeleportAnimation",function(){return U_}),u.d($,"FadeAnimation",function(){return z_}),u.d($,"PathAnimation",function(){return H_}),u.d($,"SlideAnimation",function(){return W_});var J={};u.r(J),u.d(J,"Circle",function(){return v_}),u.d(J,"Geometry",function(){return Gu}),u.d(J,"GeometryCollection",function(){return Ma}),u.d(J,"LinearRing",function(){return bs}),u.d(J,"LineString",function(){return Bi}),u.d(J,"MultiLineString",function(){return fs}),u.d(J,"MultiPoint",function(){return ml}),u.d(J,"MultiPolygon",function(){return Pa}),u.d(J,"Point",function(){return Gn}),u.d(J,"Polygon",function(){return ai}),u.d(J,"SimpleGeometry",function(){return Xo});var nt={};if(u.r(nt),u.d(nt,"EsriJSON",function(){return G8}),u.d(nt,"GeoJSON",function(){return rj}),u.d(nt,"GML",function(){return yj}),u.d(nt,"GPX",function(){return Jj}),u.d(nt,"IGC",function(){return a7}),u.d(nt,"IIIFInfo",function(){return d7}),u.d(nt,"KML",function(){return qD}),u.d(nt,"MVT",function(){return lB}),u.d(nt,"OWS",function(){return gw}),u.d(nt,"Polyline",function(){return qB}),u.d(nt,"TopoJSON",function(){return fG}),u.d(nt,"WFS",function(){return o9}),u.d(nt,"WKB",function(){return f9}),u.d(nt,"WKT",function(){return T9}),u.d(nt,"WMSCapabilities",function(){return sU}),u.d(nt,"WMSGetFeatureInfo",function(){return hU}),u.d(nt,"WMTSCapabilities",function(){return DU}),typeof window!="undefined"){var Q=window.document.currentScript;{var St=u("8875");Q=St(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:St})}var ot=Q&&Q.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);ot&&(u.p=ot[1])}u("b0c0");var M=u("8bbf");function _t(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",{ref:function(s){return e.mapRef=s}},[Object(M.renderSlot)(n.$slots,"default")],512)}u("a9e3");var Lt=u("da5c"),Nt=u("57cb"),ct=u("1300"),Ut=u("617d"),mt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xt=function(n){mt(r,n);function r(t){var e=this,i=ct.a==="latest"?ct.a:"v"+ct.a.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return e=n.call(this,o)||this,e.code=t,e.name="AssertionError",e.message=o,e}return r}(Error),Bt=xt;function qt(n,r){if(!n)throw new Bt(r)}var Pe=new Array(6);function q(){return[1,0,0,1,0,0]}function bt(n){return Xe(n,1,0,0,1,0,0)}function Vt(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=r[0],h=r[1],d=r[2],y=r[3],w=r[4],C=r[5];return n[0]=t*l+i*h,n[1]=e*l+o*h,n[2]=t*d+i*y,n[3]=e*d+o*y,n[4]=t*w+i*C+a,n[5]=e*w+o*C+s,n}function Xe(n,r,t,e,i,o,a){return n[0]=r,n[1]=t,n[2]=e,n[3]=i,n[4]=o,n[5]=a,n}function qe(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function Ue(n,r){var t=r[0],e=r[1];return r[0]=n[0]*t+n[2]*e+n[4],r[1]=n[1]*t+n[3]*e+n[5],r}function yr(n,r){var t=Math.cos(r),e=Math.sin(r);return Vt(n,Xe(Pe,t,e,-e,t,0,0))}function Ar(n,r,t){return Vt(n,Xe(Pe,r,0,0,t,0,0))}function Jr(n,r,t){return Xe(n,r,0,0,t,0,0)}function ee(n,r,t){return Vt(n,Xe(Pe,1,0,0,1,r,t))}function Ie(n,r,t,e,i,o,a,s){var l=Math.sin(o),h=Math.cos(o);return n[0]=e*h,n[1]=i*l,n[2]=-e*l,n[3]=i*h,n[4]=a*e*h-s*e*l+r,n[5]=a*i*l+s*i*h+t,n}function Je(n,r){var t=dr(r);qt(t!==0,32);var e=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5];return n[0]=a/t,n[1]=-i/t,n[2]=-o/t,n[3]=e/t,n[4]=(o*l-a*s)/t,n[5]=-(e*l-i*s)/t,n}function dr(n){return n[0]*n[3]-n[1]*n[2]}var En;function mr(n){var r="matrix("+n.join(", ")+")";if(Ut.g)return r;var t=En||(En=document.createElement("div"));return t.style.transform=r,t.style.transform}var Ir={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},_r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Rt(n){for(var r=tt(),t=0,e=n.length;t<e;++t)Ln(r,n[t]);return r}function ne(n,r,t){var e=Math.min.apply(null,n),i=Math.min.apply(null,r),o=Math.max.apply(null,n),a=Math.max.apply(null,r);return z(e,i,o,a,t)}function Ct(n,r,t){return t?(t[0]=n[0]-r,t[1]=n[1]-r,t[2]=n[2]+r,t[3]=n[3]+r,t):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function Wt(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function jt(n,r,t){var e,i;return r<n[0]?e=n[0]-r:n[2]<r?e=r-n[2]:e=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,e*e+i*i}function Jt(n,r){return ge(n,r[0],r[1])}function he(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function ge(n,r,t){return n[0]<=r&&r<=n[2]&&n[1]<=t&&t<=n[3]}function Ve(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],a=r[0],s=r[1],l=_r.UNKNOWN;return a<t?l=l|_r.LEFT:a>i&&(l=l|_r.RIGHT),s<e?l=l|_r.BELOW:s>o&&(l=l|_r.ABOVE),l===_r.UNKNOWN&&(l=_r.INTERSECTING),l}function tt(){return[1/0,1/0,-1/0,-1/0]}function z(n,r,t,e,i){return i?(i[0]=n,i[1]=r,i[2]=t,i[3]=e,i):[n,r,t,e]}function V(n){return z(1/0,1/0,-1/0,-1/0,n)}function at(n,r){var t=n[0],e=n[1];return z(t,e,t,e,r)}function Ht(n,r){var t=V(r);return yn(t,n)}function ye(n,r,t,e,i){var o=V(i);return Hn(o,n,r,t,e)}function Se(n,r){var t=V(r);return bi(t,n)}function cr(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function wr(n,r,t){return Math.abs(n[0]-r[0])<t&&Math.abs(n[2]-r[2])<t&&Math.abs(n[1]-r[1])<t&&Math.abs(n[3]-r[3])<t}function br(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function Ln(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function yn(n,r){for(var t=0,e=r.length;t<e;++t)Ln(n,r[t]);return n}function Hn(n,r,t,e,i){for(;t<e;t+=i)Rn(n,r[t],r[t+1]);return n}function bi(n,r){for(var t=0,e=r.length;t<e;++t)yn(n,r[t]);return n}function Rn(n,r,t){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],t)}function Dn(n,r){var t;return t=r(kr(n)),t||(t=r(Xi(n)),t)||(t=r(po(n)),t)||(t=r($n(n)),t)?t:!1}function fi(n){var r=0;return Ro(n)||(r=cn(n)*Gr(n)),r}function kr(n){return[n[0],n[1]]}function Xi(n){return[n[2],n[1]]}function Xn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Qo(n,r){var t;return r===Ir.BOTTOM_LEFT?t=kr(n):r===Ir.BOTTOM_RIGHT?t=Xi(n):r===Ir.TOP_LEFT?t=$n(n):r===Ir.TOP_RIGHT?t=po(n):qt(!1,13),t}function Ji(n,r){var t=Math.min(n[0],r[0]),e=Math.min(n[1],r[1]),i=Math.max(n[2],r[2]),o=Math.max(n[3],r[3]);return(i-t)*(o-e)}function Ci(n,r,t,e,i){var o=r*e[0]/2,a=r*e[1]/2,s=Math.cos(t),l=Math.sin(t),h=o*s,d=o*l,y=a*s,w=a*l,C=n[0],I=n[1],G=C-h+w,Z=C-h-w,lt=C+h-w,pt=C+h+w,Et=I-d-y,ht=I-d+y,zt=I+d+y,Gt=I+d-y;return z(Math.min(G,Z,lt,pt),Math.min(Et,ht,zt,Gt),Math.max(G,Z,lt,pt),Math.max(Et,ht,zt,Gt),i)}function Gr(n){return n[3]-n[1]}function je(n,r){var t=Rr(n,r);return fi(t)}function Rr(n,r,t){var e=t||tt();return hi(n,r)?(n[0]>r[0]?e[0]=n[0]:e[0]=r[0],n[1]>r[1]?e[1]=n[1]:e[1]=r[1],n[2]<r[2]?e[2]=n[2]:e[2]=r[2],n[3]<r[3]?e[3]=n[3]:e[3]=r[3]):V(e),e}function on(n){return cn(n)+Gr(n)}function Pn(n){return[n[2]-n[0],n[3]-n[1]]}function $n(n){return[n[0],n[3]]}function po(n){return[n[2],n[3]]}function cn(n){return n[2]-n[0]}function hi(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function Ro(n){return n[2]<n[0]||n[3]<n[1]}function Bo(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function Po(n,r){var t=(n[2]-n[0])/2*(r-1),e=(n[3]-n[1])/2*(r-1);n[0]-=t,n[2]+=t,n[1]-=e,n[3]+=e}function eu(n,r,t){var e=!1,i=Ve(n,r),o=Ve(n,t);if(i===_r.INTERSECTING||o===_r.INTERSECTING)e=!0;else{var a=n[0],s=n[1],l=n[2],h=n[3],d=r[0],y=r[1],w=t[0],C=t[1],I=(C-y)/(w-d),G=void 0,Z=void 0;!!(o&_r.ABOVE)&&!(i&_r.ABOVE)&&(G=w-(C-h)/I,e=G>=a&&G<=l),!e&&!!(o&_r.RIGHT)&&!(i&_r.RIGHT)&&(Z=C-(w-l)*I,e=Z>=s&&Z<=h),!e&&!!(o&_r.BELOW)&&!(i&_r.BELOW)&&(G=w-(C-s)/I,e=G>=a&&G<=l),!e&&!!(o&_r.LEFT)&&!(i&_r.LEFT)&&(Z=C-(w-a)*I,e=Z>=s&&Z<=h)}return e}function Hs(n,r,t,e){var i=[];if(e>1)for(var o=n[2]-n[0],a=n[3]-n[1],s=0;s<e;++s)i.push(n[0]+o*s/e,n[1],n[2],n[1]+a*s/e,n[2]-o*s/e,n[3],n[0],n[3]-a*s/e);else i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];r(i,i,2);for(var l=[],h=[],s=0,d=i.length;s<d;s+=2)l.push(i[s]),h.push(i[s+1]);return ne(l,h,t)}function wl(n,r){var t=r.getExtent(),e=Xn(n);if(r.canWrapX()&&(e[0]<t[0]||e[0]>=t[2])){var i=cn(t),o=Math.floor((e[0]-t[0])/i),a=o*i;n[0]-=a,n[2]-=a}return n}function Pi(n,r,t){return Math.min(Math.max(n,r),t)}var Ah=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(r){var t=Math.exp(r);return(t+1/t)/2},n}(),wf=function(){var n;return"log2"in Math?n=Math.log2:n=function(r){return Math.log(r)*Math.LOG2E},n}();function Iu(n,r,t,e,i,o){var a=i-t,s=o-e;if(a!==0||s!==0){var l=((n-t)*a+(r-e)*s)/(a*a+s*s);l>1?(t=i,e=o):l>0&&(t+=a*l,e+=s*l)}return ru(n,r,t,e)}function ru(n,r,t,e){var i=t-n,o=e-r;return i*i+o*o}function ac(n){for(var r=n.length,t=0;t<r;t++){for(var e=t,i=Math.abs(n[t][t]),o=t+1;o<r;o++){var a=Math.abs(n[o][t]);a>i&&(i=a,e=o)}if(i===0)return null;var s=n[e];n[e]=n[t],n[t]=s;for(var l=t+1;l<r;l++)for(var h=-n[l][t]/n[t][t],d=t;d<r+1;d++)t==d?n[l][d]=0:n[l][d]+=h*n[t][d]}for(var y=new Array(r),w=r-1;w>=0;w--){y[w]=n[w][r]/n[w][w];for(var C=w-1;C>=0;C--)n[C][r]-=n[C][w]*y[w]}return y}function Rh(n){return n*180/Math.PI}function Na(n){return n*Math.PI/180}function Es(n,r){var t=n%r;return t*r<0?t+r:t}function Xs(n,r,t){return n+t*(r-n)}function Ph(n,r){var t=Math.pow(10,r);return Math.round(n*t)/t}function vp(n,r){return Math.round(Ph(n,r))}function sc(n,r){return Math.floor(Ph(n,r))}function nu(n,r){return Math.ceil(Ph(n,r))}var gp=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Mh=/^([a-z]*)$|^hsla?\(.*\)$/i;function Mo(n){return typeof n=="string"?n:xs(n)}function yp(n){var r=document.createElement("div");if(r.style.color=n,r.style.color!==""){document.body.appendChild(r);var t=getComputedStyle(r).color;return document.body.removeChild(r),t}else return""}var Qa=function(){var n=1024,r={},t=0;return function(e){var i;if(r.hasOwnProperty(e))i=r[e];else{if(t>=n){var o=0;for(var a in r)(o++&3)==0&&(delete r[a],--t)}i=cm(e),r[e]=i,++t}return i}}();function fa(n){return Array.isArray(n)?n:Qa(n)}function cm(n){var r,t,e,i,o;if(Mh.exec(n)&&(n=yp(n)),gp.exec(n)){var a=n.length-1,s=void 0;a<=4?s=1:s=2;var l=a===4||a===8;r=parseInt(n.substr(1+0*s,s),16),t=parseInt(n.substr(1+1*s,s),16),e=parseInt(n.substr(1+2*s,s),16),l?i=parseInt(n.substr(1+3*s,s),16):i=255,s==1&&(r=(r<<4)+r,t=(t<<4)+t,e=(e<<4)+e,l&&(i=(i<<4)+i)),o=[r,t,e,i/255]}else n.indexOf("rgba(")==0?(o=n.slice(5,-1).split(",").map(Number),xg(o)):n.indexOf("rgb(")==0?(o=n.slice(4,-1).split(",").map(Number),o.push(1),xg(o)):qt(!1,14);return o}function xg(n){return n[0]=Pi(n[0]+.5|0,0,255),n[1]=Pi(n[1]+.5|0,0,255),n[2]=Pi(n[2]+.5|0,0,255),n[3]=Pi(n[3],0,1),n}function xs(n){var r=n[0];r!=(r|0)&&(r=r+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var e=n[2];e!=(e|0)&&(e=e+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+r+","+t+","+e+","+i+")"}function fm(n){return Mh.test(n)&&(n=yp(n)),gp.test(n)||n.indexOf("rgba(")===0||n.indexOf("rgb(")===0}var Sg=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var t in this.cache_){var e=this.cache_[t];(r++&3)==0&&!e.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(r,t,e){var i=mp(r,t,e);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(r,t,e,i){var o=mp(r,t,e);this.cache_[o]=i,++this.cacheSize_},n.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},n}();function mp(n,r,t){var e=t?Mo(t):"null";return r+":"+n+":"+e}var Ih=new Sg,vo=u("e269"),mi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},Pr=u("38f3"),hm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dm=function(n){hm(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.background_=t.background;var i=Object(Pr.a)({},t);return typeof t.properties=="object"&&(delete i.properties,Object(Pr.a)(i,t.properties)),i[mi.OPACITY]=t.opacity!==void 0?t.opacity:1,qt(typeof i[mi.OPACITY]=="number",64),i[mi.VISIBLE]=t.visible!==void 0?t.visible:!0,i[mi.Z_INDEX]=t.zIndex,i[mi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[mi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[mi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[mi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,e.className_=i.className!==void 0?t.className:"ol-layer",delete i.className,e.setProperties(i),e.state_=null,e}return r.prototype.getBackground=function(){return this.background_},r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return e.opacity=Pi(Math.round(this.getOpacity()*100)/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(t){return Object(ct.b)()},r.prototype.getLayerStatesArray=function(t){return Object(ct.b)()},r.prototype.getExtent=function(){return this.get(mi.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(mi.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(mi.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(mi.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(mi.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(mi.OPACITY)},r.prototype.getSourceState=function(){return Object(ct.b)()},r.prototype.getVisible=function(){return this.get(mi.VISIBLE)},r.prototype.getZIndex=function(){return this.get(mi.Z_INDEX)},r.prototype.setBackground=function(t){this.background_=t,this.changed()},r.prototype.setExtent=function(t){this.set(mi.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(mi.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(mi.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(mi.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(mi.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){qt(typeof t=="number",64),this.set(mi.OPACITY,t)},r.prototype.setVisible=function(t){this.set(mi.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(mi.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},r}(vo.a),_p=dm,qr=u("01d4"),Fa={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Ss={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Or=u("1e8d"),pm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vm=function(n){pm(r,n);function r(t){var e=this,i=Object(Pr.a)({},t);delete i.source,e=n.call(this,i)||this,e.on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(mi.SOURCE,e.handleSourcePropertyChange_);var o=t.source?t.source:null;return e.setSource(o),e}return r.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},r.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},r.prototype.getSource=function(){return this.get(mi.SOURCE)||null},r.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Ss.UNDEFINED},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(Or.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(Or.a)(t,qr.a.CHANGE,this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(e){return e([])})},r.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},r.prototype.setMapInternal=function(t){this.set(mi.MAP,t)},r.prototype.getMapInternal=function(){return this.get(mi.MAP)},r.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(Or.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(Or.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(Or.a)(t,Fa.PRECOMPOSE,function(e){var i=e,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);qt(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Object(Or.a)(this,qr.a.CHANGE,t.render,t),this.changed())},r.prototype.setSource=function(t){this.set(mi.SOURCE,t)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},r}(_p);function O(n,r){if(!n.visible)return!1;var t=r.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var e=r.zoom;return e>n.minZoom&&e<=n.maxZoom}var _=vm;function E(n,r,t){var e=t!==void 0?n.toFixed(t):""+n,i=e.indexOf(".");return i=i===-1?e.length:i,i>r?e:new Array(1+r-i).join("0")+e}function T(n,r){for(var t=(""+n).split("."),e=(""+r).split("."),i=0;i<Math.max(t.length,e.length);i++){var o=parseInt(t[i]||"0",10),a=parseInt(e[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}function F(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function b(n,r){var t=r.getRadius(),e=r.getCenter(),i=e[0],o=e[1],a=n[0],s=n[1],l=a-i,h=s-o;l===0&&h===0&&(l=1);var d=Math.sqrt(l*l+h*h),y=i+t*l/d,w=o+t*h/d;return[y,w]}function D(n,r){var t=n[0],e=n[1],i=r[0],o=r[1],a=i[0],s=i[1],l=o[0],h=o[1],d=l-a,y=h-s,w=d===0&&y===0?0:(d*(t-a)+y*(e-s))/(d*d+y*y||0),C,I;return w<=0?(C=a,I=s):w>=1?(C=l,I=h):(C=a+w*d,I=s+w*y),[C,I]}function k(n,r){for(var t=!0,e=n.length-1;e>=0;--e)if(n[e]!=r[e]){t=!1;break}return t}function Y(n,r){var t=Math.cos(r),e=Math.sin(r),i=n[0]*t-n[1]*e,o=n[1]*t+n[0]*e;return n[0]=i,n[1]=o,n}function rt(n,r){return n[0]*=r,n[1]*=r,n}function vt(n,r){var t=n[0]-r[0],e=n[1]-r[1];return t*t+e*e}function yt(n,r){return Math.sqrt(vt(n,r))}function Ot(n,r){return vt(n,D(n,r))}function K(n,r){if(r.canWrapX()){var t=cn(r.getExtent()),e=kt(n,r,t);e&&(n[0]-=e*t)}return n}function kt(n,r,t){var e=r.getExtent(),i=0;if(r.canWrapX()&&(n[0]<e[0]||n[0]>e[2])){var o=t||cn(e);i=Math.floor((n[0]-e[0])/o)}return i}var It=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qt=function(n){It(r,n);function r(t){var e=n.call(this)||this;return e.map_=t,e}return r.prototype.dispatchRenderEvent=function(t,e){Object(ct.b)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;Ie(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Je(o,i)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a,s,l,h){var d,y=e.viewState;function w(Br,Yr,$r,On){return a.call(s,Yr,Br?$r:null,On)}var C=y.projection,I=K(t.slice(),C),G=[[0,0]];if(C.canWrapX()&&o){var Z=C.getExtent(),lt=cn(Z);G.push([-lt,0],[lt,0])}for(var pt=e.layerStatesArray,Et=pt.length,ht=[],zt=[],Gt=0;Gt<G.length;Gt++)for(var $t=Et-1;$t>=0;--$t){var Xt=pt[$t],ce=Xt.layer;if(ce.hasRenderer()&&O(Xt,y)&&l.call(h,ce)){var Ge=ce.getRenderer(),Me=ce.getSource();if(Ge&&Me){var Ee=Me.getWrapX()?I:t,er=w.bind(null,Xt.managed);zt[0]=Ee[0]+G[Gt][0],zt[1]=Ee[1]+G[Gt][1],d=Ge.forEachFeatureAtCoordinate(zt,e,i,er,ht)}if(d)return d}}if(ht.length!==0){var Lr=1/ht.length;return ht.forEach(function(Br,Yr){return Br.distanceSq+=Yr*Lr}),ht.sort(function(Br,Yr){return Br.distanceSq-Yr.distanceSq}),ht.some(function(Br){return d=Br.callback(Br.feature,Br.layer,Br.geometry)}),d}},r.prototype.forEachLayerAtPixel=function(t,e,i,o,a){return Object(ct.b)()},r.prototype.hasFeatureAtCoordinate=function(t,e,i,o,a,s){var l=this.forEachFeatureAtCoordinate(t,e,i,o,Nt.b,this,a,s);return l!==void 0},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){Object(ct.b)()},r.prototype.scheduleExpireIconCache=function(t){Ih.canExpireCache()&&t.postRenderFunctions.push(wt)},r}(Lt.a);function wt(n,r){Ih.expire()}var Yt=Qt,xe=u("7b4f"),Be=u("cef7"),Qe=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Er=function(n){Qe(r,n);function r(t,e,i,o){var a=n.call(this,t)||this;return a.inversePixelTransform=e,a.frameState=i,a.context=o,a}return r}(Be.a),De=Er,pe="ol-hidden",sr="ol-selectable",tr="ol-unselectable",At="ol-unsupported",Pt="ol-control",ue="ol-collapsed",oe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),He=["style","variant","weight","size","lineHeight","family"],We=function(n){var r=n.match(oe);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},e=0,i=He.length;e<i;++e){var o=r[e+1];o!==void 0&&(t[He[e]]=o)}return t.families=t.family.split(/,\s?/),t};function ir(n){return n===1?"":String(Math.round(n*100)/100)}var Le=u("0ec0"),Ne=u("0999"),Ze="10px sans-serif",Xr="#000",ft="round",Ft=[],Kt=0,fe="round",ve=10,Te="#000",Ae="center",Re="middle",gr=[0,0,0,0],vr=1,Mr=new vo.a,Vr=new Le.a;Vr.setSize=function(){console.warn("labelCache is deprecated.")};var gn=null,ke,Dt={},Bn=function(){var n=100,r="32px ",t=["monospace","serif"],e=t.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function s(h,d,y){for(var w=!0,C=0;C<e;++C){var I=t[C];if(a=xr(h+" "+d+" "+r+I,i),y!=I){var G=xr(h+" "+d+" "+r+y+","+I,i);w=w&&G!=a}}return!!w}function l(){for(var h=!0,d=Mr.getKeys(),y=0,w=d.length;y<w;++y){var C=d[y];Mr.get(C)<n&&(s.apply(this,C.split(`
`))?(Object(Pr.b)(Dt),gn=null,ke=void 0,Mr.set(C,n)):(Mr.set(C,Mr.get(C)+1,!0),h=!1))}h&&(clearInterval(o),o=void 0)}return function(h){var d=We(h);if(!!d)for(var y=d.families,w=0,C=y.length;w<C;++w){var I=y[w],G=d.style+`
`+d.weight+`
`+I;Mr.get(G)===void 0&&(Mr.set(G,n,!0),s(d.style,d.weight,I)||(Mr.set(G,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),Qr=function(){var n;return function(r){var t=Dt[r];if(t==null){if(Ut.g){var e=We(r),i=fr(r,"\u017Dg"),o=isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=r,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Dt[r]=t}return t}}();function fr(n,r){return gn||(gn=Object(Ne.a)(1,1)),n!=ke&&(gn.font=n,ke=gn.font),gn.measureText(r)}function xr(n,r){return fr(n,r).width}function Ur(n,r,t){if(r in t)return t[r];var e=xr(n,r);return t[r]=e,e}function Nr(n,r,t){for(var e=r.length,i=0,o=0;o<e;++o){var a=xr(n,r[o]);i=Math.max(i,a),t.push(a)}return i}function sn(n,r,t,e,i,o,a,s,l,h,d){n.save(),t!==1&&(n.globalAlpha*=t),r&&n.setTransform.apply(n,r),e.contextInstructions?(n.translate(l,h),n.scale(d[0],d[1]),Mn(e,n)):d[0]<0||d[1]<0?(n.translate(l,h),n.scale(d[0],d[1]),n.drawImage(e,i,o,a,s,0,0,a,s)):n.drawImage(e,i,o,a,s,l,h,a*d[0],s*d[1]),n.restore()}function Mn(n,r){for(var t=n.contextInstructions,e=0,i=t.length;e<i;e+=2)Array.isArray(t[e+1])?r[t[e]].apply(r,t[e+1]):r[t[e]]=t[e+1]}var Wn=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jn=function(n){Wn(r,n);function r(t){var e=n.call(this,t)||this;e.fontChangeListenerKey_=Object(Or.a)(Mr,xe.a.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var i=e.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",e.element_.className=tr+" ol-layers";var o=t.getViewport();return o.insertBefore(e.element_,o.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return r.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var o=new De(t,void 0,e);i.dispatchEvent(o)}},r.prototype.disposeInternal=function(){Object(Or.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Fa.PRECOMPOSE,t);var e=t.layerStatesArray.sort(function(w,C){return w.zIndex-C.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],a=null,s=0,l=e.length;s<l;++s){var h=e[s];if(t.layerIndex=s,!(!O(h,i)||h.sourceState!=Ss.READY&&h.sourceState!=Ss.UNDEFINED)){var d=h.layer,y=d.render(t,a);!y||(y!==a&&(this.children_.push(y),a=y),"getDeclutter"in d&&o.push(d))}}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(t);Object(Ne.f)(this.element_,this.children_),this.dispatchRenderEvent(Fa.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},r.prototype.forEachLayerAtPixel=function(t,e,i,o,a){for(var s=e.viewState,l=e.layerStatesArray,h=l.length,d=h-1;d>=0;--d){var y=l[d],w=y.layer;if(w.hasRenderer()&&O(y,s)&&a(w)){var C=w.getRenderer(),I=C.getDataAtPixel(t,e,i);if(I){var G=o(w,I);if(G)return G}}}},r}(Yt),li=Jn,mn={ADD:"add",REMOVE:"remove"},xn=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qn={LENGTH:"length"},Fr=function(n){xn(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.element=e,o.index=i,o}return r}(Be.a),ta=function(n){xn(r,n);function r(t,e){var i=n.call(this)||this;i.on,i.once,i.un;var o=e||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},r.prototype.forEach=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)t(e[i],i,e)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(t){return this.array_[t]},r.prototype.getLength=function(){return this.get(qn.LENGTH)},r.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Fr(mn.ADD,e,t))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},r.prototype.remove=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)if(e[i]===t)return this.removeAt(i)},r.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Fr(mn.REMOVE,e,t)),e},r.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Fr(mn.REMOVE,o,t)),this.dispatchEvent(new Fr(mn.ADD,e,t))}else{for(var a=i;a<t;++a)this.insertAt(a,void 0);this.insertAt(t,e)}},r.prototype.updateLength_=function(){this.set(qn.LENGTH,this.array_.length)},r.prototype.assertUnique_=function(t,e){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==e)throw new Bt(58)},r}(vo.a),fn=ta,ts=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ui=function(n){ts(r,n);function r(t,e){var i=n.call(this,t)||this;return i.layer=e,i}return r}(Be.a),Ui={LAYERS:"layers"},Ks=function(n){ts(r,n);function r(t){var e=this,i=t||{},o=Object(Pr.a)({},i);delete o.layers;var a=i.layers;return e=n.call(this,o)||this,e.on,e.once,e.un,e.layersListenerKeys_=[],e.listenerKeys_={},e.addChangeListener(Ui.LAYERS,e.handleLayersChanged_),a?Array.isArray(a)?a=new fn(a.slice(),{unique:!0}):qt(typeof a.getArray=="function",43):a=new fn(void 0,{unique:!0}),e.setLayers(a),e}return r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Or.c),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Object(Or.a)(t,mn.ADD,this.handleLayersAdd_,this),Object(Or.a)(t,mn.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach(Or.c);Object(Pr.b)(this.listenerKeys_);for(var i=t.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new ui("addlayer",s))}this.changed()},r.prototype.registerLayerListeners_=function(t){var e=[Object(Or.a)(t,xe.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(Or.a)(t,qr.a.CHANGE,this.handleLayerChange_,this)];t instanceof r&&e.push(Object(Or.a)(t,"addlayer",this.handleLayerGroupAdd_,this),Object(Or.a)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(ct.c)(t)]=e},r.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new ui("addlayer",t.layer))},r.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new ui("removelayer",t.layer))},r.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new ui("addlayer",e)),this.changed()},r.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(ct.c)(e);this.listenerKeys_[i].forEach(Or.c),delete this.listenerKeys_[i],this.dispatchEvent(new ui("removelayer",e)),this.changed()},r.prototype.getLayers=function(){return this.get(Ui.LAYERS)},r.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var i=e.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new ui("removelayer",i[o]));this.set(Ui.LAYERS,t)},r.prototype.getLayersArray=function(t){var e=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(e)}),e},r.prototype.getLayerStatesArray=function(t){var e=t!==void 0?t:[],i=e.length;this.getLayers().forEach(function(d){d.getLayerStatesArray(e)});var o=this.getLayerState(),a=o.zIndex;!t&&o.zIndex===void 0&&(a=0);for(var s=i,l=e.length;s<l;s++){var h=e[s];h.opacity*=o.opacity,h.visible=h.visible&&o.visible,h.maxResolution=Math.min(h.maxResolution,o.maxResolution),h.minResolution=Math.max(h.minResolution,o.minResolution),h.minZoom=Math.max(h.minZoom,o.minZoom),h.maxZoom=Math.min(h.maxZoom,o.maxZoom),o.extent!==void 0&&(h.extent!==void 0?h.extent=Rr(h.extent,o.extent):h.extent=o.extent),h.zIndex===void 0&&(h.zIndex=a)}return e},r.prototype.getSourceState=function(){return Ss.READY},r}(_p),ci=Ks,Nu=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ro=function(n){Nu(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.map=e,o.frameState=i!==void 0?i:null,o}return r}(Be.a),Ea=ro,Ol=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),no=function(n){Ol(r,n);function r(t,e,i,o,a){var s=n.call(this,t,e,a)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},r}(Ea),hn=no,Wr={SINGLECLICK:"singleclick",CLICK:qr.a.CLICK,DBLCLICK:qr.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ea={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Yo=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zs=function(n){Yo(r,n);function r(t,e){var i=n.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=e===void 0?1:e,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Object(Or.a)(o,ea.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Object(Or.a)(o,ea.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(qr.a.TOUCHMOVE,i.boundHandleTouchMove_,Ut.e?{passive:!1}:!1),i}return r.prototype.emulateClick_=function(t){var e=new hn(Wr.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new hn(Wr.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new hn(Wr.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(t){var e=t;e.type==Wr.POINTERUP||e.type==Wr.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Wr.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new hn(Wr.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(Or.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(t){return t.button===0},r.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var e=new hn(Wr.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?Nt.c:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(Or.a)(a,Wr.POINTERMOVE,this.handlePointerMove_,this),Object(Or.a)(a,Wr.POINTERUP,this.handlePointerUp_,this),Object(Or.a)(this.element_,Wr.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Object(Or.a)(this.element_.getRootNode(),Wr.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new hn(Wr.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},r.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new hn(t.type,this.map_,t,e))},r.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},r.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(Or.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(qr.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(Or.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Or.c),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},r}(Le.a),$s=Zs,ln=u("592d"),_i={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ja=1/0,xa=function(){function n(r,t){this.priorityFunction_=r,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(Pr.b)(this.queuedElements_)},n.prototype.dequeue=function(){var r=this.elements_,t=this.priorities_,e=r[0];r.length==1?(r.length=0,t.length=0):(r[0]=r.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(e);return delete this.queuedElements_[i],e},n.prototype.enqueue=function(r){qt(!(this.keyFunction_(r)in this.queuedElements_),31);var t=this.priorityFunction_(r);return t!=ja?(this.elements_.push(r),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(r){return r*2+1},n.prototype.getRightChildIndex_=function(r){return r*2+2},n.prototype.getParentIndex_=function(r){return r-1>>1},n.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(r){return r in this.queuedElements_},n.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},n.prototype.siftUp_=function(r){for(var t=this.elements_,e=this.priorities_,i=t.length,o=t[r],a=e[r],s=r;r<i>>1;){var l=this.getLeftChildIndex_(r),h=this.getRightChildIndex_(r),d=h<i&&e[h]<e[l]?h:l;t[r]=t[d],e[r]=e[d],r=d}t[r]=o,e[r]=a,this.siftDown_(s,r)},n.prototype.siftDown_=function(r,t){for(var e=this.elements_,i=this.priorities_,o=e[t],a=i[t];t>r;){var s=this.getParentIndex_(t);if(i[s]>a)e[t]=e[s],i[t]=i[s],t=s;else break}e[t]=o,i[t]=a},n.prototype.reprioritize=function(){var r=this.priorityFunction_,t=this.elements_,e=this.priorities_,i=0,o=t.length,a,s,l;for(s=0;s<o;++s)a=t[s],l=r(a),l==ja?delete this.queuedElements_[this.keyFunction_(a)]:(e[i]=l,t[i++]=a);t.length=i,e.length=i,this.heapify_()},n}(),Io=xa,Cr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Da=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lc=function(n){Da(r,n);function r(t,e){var i=n.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=e,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return r.prototype.enqueue=function(t){var e=n.prototype.enqueue.call(this,t);if(e){var i=t[0];i.addEventListener(qr.a.CHANGE,this.boundHandleTileChange_)}return e},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===Cr.LOADED||i===Cr.ERROR||i===Cr.EMPTY){e.removeEventListener(qr.a.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(t,e){for(var i=0,o,a,s;this.tilesLoading_<t&&i<e&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===Cr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},r}(Io),Tl=lc;function ws(n,r,t,e,i){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][r.getKey()])return ja;var o=n.viewState.center,a=e[0]-o[0],s=e[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}var Zt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ra={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},go={};go[ra.RADIANS]=6370997/(2*Math.PI),go[ra.DEGREES]=2*Math.PI*6370997/360,go[ra.FEET]=.3048,go[ra.METERS]=1,go[ra.USFEET]=1200/3937;var ki=ra,oi={ANIMATING:0,INTERACTING:1},No={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},uc=42,iu=256,cc=function(){function n(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||go[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},n.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)},n.prototype.setWorldExtent=function(r){this.worldExtent_=r},n.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),Sa=cc,Nh=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fu=6378137,ou=Math.PI*Fu,fc=[-ou,-ou,ou,ou],Fh=[-180,-85,180,85],hc=Fu*Math.log(Math.tan(Math.PI/2)),Js=function(n){Nh(r,n);function r(t){return n.call(this,{code:t,units:ki.METERS,extent:fc,global:!0,worldExtent:Fh,getPointResolution:function(e,i){return e/Ah(i[1]/Fu)}})||this}return r}(Sa),jh=[new Js("EPSG:3857"),new Js("EPSG:102100"),new Js("EPSG:102113"),new Js("EPSG:900913"),new Js("http://www.opengis.net/def/crs/EPSG/0/3857"),new Js("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Dh(n,r,t){var e=n.length,i=t>1?t:2,o=r;o===void 0&&(i>2?o=n.slice():o=new Array(e));for(var a=0;a<e;a+=i){o[a]=ou*n[a]/180;var s=Fu*Math.log(Math.tan(Math.PI*(+n[a+1]+90)/360));s>hc?s=hc:s<-hc&&(s=-hc),o[a+1]=s}return o}function Ep(n,r,t){var e=n.length,i=t>1?t:2,o=r;o===void 0&&(i>2?o=n.slice():o=new Array(e));for(var a=0;a<e;a+=i)o[a]=180*n[a]/ou,o[a+1]=360*Math.atan(Math.exp(n[a+1]/Fu))/Math.PI-90;return o}var Os=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dc=6378137,Of=[-180,-90,180,90],yo=Math.PI*dc/180,qs=function(n){Os(r,n);function r(t,e){return n.call(this,{code:t,units:ki.DEGREES,extent:Of,axisOrientation:e,global:!0,metersPerUnit:yo,worldExtent:Of})||this}return r}(Sa),pc=[new qs("CRS:84"),new qs("EPSG:4326","neu"),new qs("urn:ogc:def:crs:OGC:1.3:CRS84"),new qs("urn:ogc:def:crs:OGC:2:84"),new qs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new qs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new qs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],vc={};function Bh(n){return vc[n]||vc[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function xp(n,r){vc[n]=r}var na={};function Ho(n,r,t){var e=n.getCode(),i=r.getCode();e in na||(na[e]={}),na[e][i]=t}function Qs(n,r){var t;return n in na&&r in na[n]&&(t=na[n][r]),t}var gc=63710088e-1;function yc(n,r,t){var e=t||gc,i=Na(n[1]),o=Na(r[1]),a=(o-i)/2,s=Na(r[0]-n[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*e*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Gh(n,r,t,e){var i=e||gc,o=Na(n[1]),a=Na(n[0]),s=r/i,l=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(t)),h=a+Math.atan2(Math.sin(t)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(l));return[Rh(h),Rh(l)]}function Tf(n,r,t){var e;if(r!==void 0){for(var i=0,o=n.length;i<o;++i)r[i]=n[i];e=r}else e=n.slice();return e}function ju(n,r,t){if(r!==void 0&&n!==r){for(var e=0,i=n.length;e<i;++e)r[e]=n[e];n=r}return n}function Uh(n){xp(n.getCode(),n),Ho(n,n,Tf)}function Sp(n){n.forEach(Uh)}function en(n){return typeof n=="string"?Bh(n):n||null}function mc(n,r,t,e){n=en(n);var i,o=n.getPointResolutionFunc();if(o){if(i=o(r,t),e&&e!==n.getUnits()){var a=n.getMetersPerUnit();a&&(i=i*a/go[e])}}else{var s=n.getUnits();if(s==ki.DEGREES&&!e||e==ki.DEGREES)i=r;else{var l=Cl(n,en("EPSG:4326"));if(l===ju&&s!==ki.DEGREES)i=r*n.getMetersPerUnit();else{var h=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];h=l(h,h,2);var d=yc(h.slice(0,2),h.slice(2,4)),y=yc(h.slice(4,6),h.slice(6,8));i=(d+y)/2}var a=e?go[e]:n.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function bf(n){Sp(n),n.forEach(function(r){n.forEach(function(t){r!==t&&Ho(r,t,Tf)})})}function bl(n,r,t,e){n.forEach(function(i){r.forEach(function(o){Ho(i,o,t),Ho(o,i,e)})})}function au(n,r){return n?typeof n=="string"?en(n):n:en(r)}function kh(n){return function(r,t,e){for(var i=r.length,o=e!==void 0?e:2,a=t!==void 0?t:new Array(i),s=0;s<i;s+=o){var l=n([r[s],r[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var h=o-1;h>=2;--h)a[s+h]=r[s+h]}return a}}function Du(n,r,t,e){var i=en(n),o=en(r);Ho(i,o,kh(t)),Ho(o,i,kh(e))}function Vi(n,r){if(n===r)return!0;var t=n.getUnits()===r.getUnits();if(n.getCode()===r.getCode())return t;var e=Cl(n,r);return e===Tf&&t}function Cl(n,r){var t=n.getCode(),e=r.getCode(),i=Qs(t,e);return i||(i=ju),i}function su(n,r){var t=en(n),e=en(r);return Cl(t,e)}function tl(n,r,t){var e=su(r,t);return e(n,void 0,n.length)}function Sn(n,r,t,e){var i=su(r,t);return Hs(n,i,void 0,e)}var wp=null;function ia(){return wp}function el(n,r){return n}function Li(n,r){return n}function Ll(n,r){return n}function oa(n,r){return n}function Op(n,r){return n}function zh(n,r,t){return function(e){var i=e[0],o=e[1],a,s;if(n.canWrapX()){var l=n.getExtent(),h=cn(l);s=kt(e,n,h),s&&(i=i-s*h),i=Pi(i,l[0],l[2]),o=Pi(o,l[1],l[3]),a=t([i,o])}else a=t(e);return s&&r.canWrapX()&&(a[0]+=s*cn(r.getExtent())),a}}function Tp(){bf(jh),bf(pc),bl(pc,jh,Dh,Ep)}Tp();function _c(n,r,t){return function(e,i,o,a,s){if(e){var l=r?0:o[0]*i,h=r?0:o[1]*i,d=s?s[0]:0,y=s?s[1]:0,w=n[0]+l/2+d,C=n[2]-l/2+d,I=n[1]+h/2+y,G=n[3]-h/2+y;w>C&&(w=(C+w)/2,C=w),I>G&&(I=(G+I)/2,G=I);var Z=Pi(e[0],w,C),lt=Pi(e[1],I,G),pt=30*i;return a&&t&&(Z+=-pt*Math.log(1+Math.max(0,w-e[0])/pt)+pt*Math.log(1+Math.max(0,e[0]-C)/pt),lt+=-pt*Math.log(1+Math.max(0,I-e[1])/pt)+pt*Math.log(1+Math.max(0,e[1]-G)/pt)),[Z,lt]}else return}}function Vh(n){return n}var Sr=u("9f5e");function Cf(n,r,t,e){var i=cn(r)/t[0],o=Gr(r)/t[1];return e?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function Al(n,r,t){var e=Math.min(n,r),i=50;return e*=Math.log(1+i*Math.max(0,n/r-1))/i+1,t&&(e=Math.max(e,t),e/=Math.log(1+i*Math.max(0,t/n-1))/i+1),Pi(e,t/2,r*2)}function Lf(n,r,t,e){return function(i,o,a,s){if(i!==void 0){var l=n[0],h=n[n.length-1],d=t?Cf(l,t,a,e):l;if(s){var y=r!==void 0?r:!0;return y?Al(i,d,h):Pi(i,h,d)}var w=Math.min(d,i),C=Math.floor(Object(Sr.h)(n,w,o));return n[C]>d&&C<n.length-1?n[C+1]:n[C]}else return}}function bp(n,r,t,e,i,o){return function(a,s,l,h){if(a!==void 0){var d=i?Cf(r,i,l,o):r,y=t!==void 0?t:0;if(h){var w=e!==void 0?e:!0;return w?Al(a,d,y):Pi(a,y,d)}var C=1e-9,I=Math.ceil(Math.log(r/d)/Math.log(n)-C),G=-s*(.5-C)+.5,Z=Math.min(d,a),lt=Math.floor(Math.log(r/Z)/Math.log(n)+G),pt=Math.max(I,lt),Et=r/Math.pow(n,pt);return Pi(Et,y,d)}else return}}function Bu(n,r,t,e,i){return function(o,a,s,l){if(o!==void 0){var h=e?Cf(n,e,s,i):n,d=t!==void 0?t:!0;return!d||!l?Pi(o,r,h):Al(o,h,r)}else return}}function Ec(n){if(n!==void 0)return 0}function Af(n){if(n!==void 0)return n}function Wh(n){var r=2*Math.PI/n;return function(t,e){if(e)return t;if(t!==void 0)return t=Math.floor(t/r+.5)*r,t}}function Rl(n){var r=n||Na(5);return function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=r?0:t}}function Ts(n){return Math.pow(n,3)}function wa(n){return 1-Ts(1-n)}function xc(n){return 3*n*n-2*n*n*n}function Ba(n){return n}function rl(n){return n<.5?xc(2*n):1-xc(2*(n-.5))}var pr={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function nl(n,r,t,e,i,o){for(var a=o||[],s=0,l=r;l<t;l+=e){var h=n[l],d=n[l+1];a[s++]=i[0]*h+i[2]*d+i[4],a[s++]=i[1]*h+i[3]*d+i[5]}return o&&a.length!=s&&(a.length=s),a}function lu(n,r,t,e,i,o,a){for(var s=a||[],l=Math.cos(i),h=Math.sin(i),d=o[0],y=o[1],w=0,C=r;C<t;C+=e){var I=n[C]-d,G=n[C+1]-y;s[w++]=d+I*l-G*h,s[w++]=y+I*h+G*l;for(var Z=C+2;Z<C+e;++Z)s[w++]=n[Z]}return a&&s.length!=w&&(s.length=w),s}function Cp(n,r,t,e,i,o,a,s){for(var l=s||[],h=a[0],d=a[1],y=0,w=r;w<t;w+=e){var C=n[w]-h,I=n[w+1]-d;l[y++]=h+i*C,l[y++]=d+o*I;for(var G=w+2;G<w+e;++G)l[y++]=n[G]}return s&&l.length!=y&&(l.length=y),l}function Sc(n,r,t,e,i,o,a){for(var s=a||[],l=0,h=r;h<t;h+=e){s[l++]=n[h]+i,s[l++]=n[h+1]+o;for(var d=h+2;d<h+e;++d)s[l++]=n[d]}return a&&s.length!=l&&(s.length=l),s}var Rf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pf=q(),wc=function(n){Rf(r,n);function r(){var t=n.call(this)||this;return t.extent_=tt(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(Nt.d)(function(e,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),t}return r.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},r.prototype.clone=function(){return Object(ct.b)()},r.prototype.closestPointXY=function(t,e,i,o){return Object(ct.b)()},r.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},r.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},r.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},r.prototype.computeExtent=function(t){return Object(ct.b)()},r.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&V(e),this.extentRevision_=this.getRevision()}return Bo(this.extent_,t)},r.prototype.rotate=function(t,e){Object(ct.b)()},r.prototype.scale=function(t,e,i){Object(ct.b)()},r.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},r.prototype.getSimplifiedGeometry=function(t){return Object(ct.b)()},r.prototype.getType=function(){return Object(ct.b)()},r.prototype.applyTransform=function(t){Object(ct.b)()},r.prototype.intersectsExtent=function(t){return Object(ct.b)()},r.prototype.translate=function(t,e){Object(ct.b)()},r.prototype.transform=function(t,e){var i=en(t),o=i.getUnits()==ki.TILE_PIXELS?function(a,s,l){var h=i.getExtent(),d=i.getWorldExtent(),y=Gr(d)/Gr(h);return Ie(Pf,d[0],d[3],y,-y,0,0,0),nl(a,0,a.length,l,Pf,s),su(i,e)(a,s,l)}:su(i,e);return this.applyTransform(o),this},r}(vo.a),Gu=wc,Oc=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yh=function(n){Oc(r,n);function r(){var t=n.call(this)||this;return t.layout=pr.XY,t.stride=2,t.flatCoordinates=null,t}return r.prototype.computeExtent=function(t){return ye(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinates=function(){return Object(ct.b)()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),i=e.getFlatCoordinates();return i.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},r.prototype.getSimplifiedGeometryInternal=function(t){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(t,e){this.stride=uu(t),this.layout=t,this.flatCoordinates=e},r.prototype.setCoordinates=function(t,e){Object(ct.b)()},r.prototype.setLayout=function(t,e,i){var o;if(t)o=uu(t);else{for(var a=0;a<i;++a)if(e.length===0){this.layout=pr.XY,this.stride=2;return}else e=e[0];o=e.length,t=Lp(o)}this.layout=t,this.stride=o},r.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var o=this.getStride();lu(i,0,i.length,o,t,e,i),this.changed()}},r.prototype.scale=function(t,e,i){var o=e;o===void 0&&(o=t);var a=i;a||(a=Xn(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();Cp(s,0,s.length,l,t,o,a,s),this.changed()}},r.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Sc(i,0,i.length,o,t,e,i),this.changed()}},r}(Gu);function Lp(n){var r;return n==2?r=pr.XY:n==3?r=pr.XYZ:n==4&&(r=pr.XYZM),r}function uu(n){var r;return n==pr.XY?r=2:n==pr.XYZ||n==pr.XYM?r=3:n==pr.XYZM&&(r=4),r}function Mf(n,r,t){var e=n.getFlatCoordinates();if(e){var i=n.getStride();return nl(e,0,e.length,i,r,t)}else return null}var Xo=Yh;function Pl(n,r,t,e,i,o,a){var s=n[r],l=n[r+1],h=n[t]-s,d=n[t+1]-l,y;if(h===0&&d===0)y=r;else{var w=((i-s)*h+(o-l)*d)/(h*h+d*d);if(w>1)y=t;else if(w>0){for(var C=0;C<e;++C)a[C]=Xs(n[r+C],n[t+C],w);a.length=e;return}else y=r}for(var C=0;C<e;++C)a[C]=n[y+C];a.length=e}function Uu(n,r,t,e,i){var o=n[r],a=n[r+1];for(r+=e;r<t;r+=e){var s=n[r],l=n[r+1],h=ru(o,a,s,l);h>i&&(i=h),o=s,a=l}return i}function L(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=Uu(n,r,s,e,i),r=s}return i}function it(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=L(n,r,s,e,i),r=s[s.length-1]}return i}function Mt(n,r,t,e,i,o,a,s,l,h,d){if(r==t)return h;var y,w;if(i===0)if(w=ru(a,s,n[r],n[r+1]),w<h){for(y=0;y<e;++y)l[y]=n[r+y];return l.length=e,w}else return h;for(var C=d||[NaN,NaN],I=r+e;I<t;)if(Pl(n,I-e,I,e,a,s,C),w=ru(a,s,C[0],C[1]),w<h){for(h=w,y=0;y<e;++y)l[y]=C[y];l.length=e,I+=e}else I+=e*Math.max((Math.sqrt(w)-Math.sqrt(h))/i|0,1);if(o&&(Pl(n,t-e,r,e,a,s,C),w=ru(a,s,C[0],C[1]),w<h)){for(h=w,y=0;y<e;++y)l[y]=C[y];l.length=e}return h}function re(n,r,t,e,i,o,a,s,l,h,d){for(var y=d||[NaN,NaN],w=0,C=t.length;w<C;++w){var I=t[w];h=Mt(n,r,I,e,i,o,a,s,l,h,y),r=I}return h}function me(n,r,t,e,i,o,a,s,l,h,d){for(var y=d||[NaN,NaN],w=0,C=t.length;w<C;++w){var I=t[w];h=re(n,r,I,e,i,o,a,s,l,h,y),r=I[I.length-1]}return h}function ze(n,r,t,e){for(var i=0,o=t.length;i<o;++i)n[r++]=t[i];return r}function nr(n,r,t,e){for(var i=0,o=t.length;i<o;++i)for(var a=t[i],s=0;s<e;++s)n[r++]=a[s];return r}function jr(n,r,t,e,i){for(var o=i||[],a=0,s=0,l=t.length;s<l;++s){var h=nr(n,r,t[s],e);o[a++]=h,r=h}return o.length=a,o}function un(n,r,t,e,i){for(var o=i||[],a=0,s=0,l=t.length;s<l;++s){var h=jr(n,r,t[s],e,o[a]);o[a++]=h,r=h[h.length-1]}return o.length=a,o}function Yn(n,r,t,e,i,o,a){var s=(t-r)/e;if(s<3){for(;r<t;r+=e)o[a++]=n[r],o[a++]=n[r+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var h=[r,t-e],d=0;h.length>0;){for(var y=h.pop(),w=h.pop(),C=0,I=n[w],G=n[w+1],Z=n[y],lt=n[y+1],pt=w+e;pt<y;pt+=e){var Et=n[pt],ht=n[pt+1],zt=Iu(Et,ht,I,G,Z,lt);zt>C&&(d=pt,C=zt)}C>i&&(l[(d-r)/e]=1,w+e<d&&h.push(w,d),d+e<y&&h.push(d,y))}for(var pt=0;pt<s;++pt)l[pt]&&(o[a++]=n[r+pt*e],o[a++]=n[r+pt*e+1]);return a}function In(n,r,t,e,i,o,a,s){for(var l=0,h=t.length;l<h;++l){var d=t[l];a=Yn(n,r,d,e,i,o,a),s.push(a),r=d}return a}function Kn(n,r){return r*Math.round(n/r)}function Go(n,r,t,e,i,o,a){if(r==t)return a;var s=Kn(n[r],i),l=Kn(n[r+1],i);r+=e,o[a++]=s,o[a++]=l;var h,d;do if(h=Kn(n[r],i),d=Kn(n[r+1],i),r+=e,r==t)return o[a++]=h,o[a++]=d,a;while(h==s&&d==l);for(;r<t;){var y=Kn(n[r],i),w=Kn(n[r+1],i);if(r+=e,!(y==h&&w==d)){var C=h-s,I=d-l,G=y-s,Z=w-l;if(C*Z==I*G&&(C<0&&G<C||C==G||C>0&&G>C)&&(I<0&&Z<I||I==Z||I>0&&Z>I)){h=y,d=w;continue}o[a++]=h,o[a++]=d,s=h,l=d,h=y,d=w}}return o[a++]=h,o[a++]=d,a}function qi(n,r,t,e,i,o,a,s){for(var l=0,h=t.length;l<h;++l){var d=t[l];a=Go(n,r,d,e,i,o,a),s.push(a),r=d}return a}function mo(n,r,t,e,i,o,a,s){for(var l=0,h=t.length;l<h;++l){var d=t[l],y=[];a=qi(n,r,d,e,i,o,a,y),s.push(y),r=d[d.length-1]}return a}function Ki(n,r,t,e,i){for(var o=i!==void 0?i:[],a=0,s=r;s<t;s+=e)o[a++]=n.slice(s,s+e);return o.length=a,o}function io(n,r,t,e,i){for(var o=i!==void 0?i:[],a=0,s=0,l=t.length;s<l;++s){var h=t[s];o[a++]=Ki(n,r,h,e,o[a]),r=h}return o.length=a,o}function Ga(n,r,t,e,i){for(var o=i!==void 0?i:[],a=0,s=0,l=t.length;s<l;++s){var h=t[s];o[a++]=io(n,r,h,e,o[a]),r=h[h.length-1]}return o.length=a,o}function ku(n,r,t,e){for(var i=0,o=n[t-e],a=n[t-e+1];r<t;r+=e){var s=n[r],l=n[r+1];i+=a*s-o*l,o=s,a=l}return i/2}function il(n,r,t,e){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=ku(n,r,s,e),r=s}return i}function Hh(n,r,t,e){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=il(n,r,s,e),r=s[s.length-1]}return i}var If=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nf=function(n){If(r,n);function r(t,e){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(t,e,i,o){return o<jt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Uu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Mt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.getArea=function(){return ku(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return Ki(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Yn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,pr.XY)},r.prototype.getType=function(){return Zt.LINEAR_RING},r.prototype.intersectsExtent=function(t){return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Xo),bs=Nf,Ff=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jf=function(n){Ff(r,n);function r(t,e){var i=n.call(this)||this;return i.setCoordinates(t,e),i}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){var a=this.flatCoordinates,s=ru(t,e,a[0],a[1]);if(s<o){for(var l=this.stride,h=0;h<l;++h)i[h]=a[h];return i.length=l,s}else return o},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(t){return at(this.flatCoordinates,t)},r.prototype.getType=function(){return Zt.POINT},r.prototype.intersectsExtent=function(t){return ge(t,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ze(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Xo),Gn=jf;function Oa(n,r,t,e,i){var o=Dn(i,function(a){return!es(n,r,t,e,a[0],a[1])});return!o}function es(n,r,t,e,i,o){for(var a=0,s=n[t-e],l=n[t-e+1];r<t;r+=e){var h=n[r],d=n[r+1];l<=o?d>o&&(h-s)*(o-l)-(i-s)*(d-l)>0&&a++:d<=o&&(h-s)*(o-l)-(i-s)*(d-l)<0&&a--,s=h,l=d}return a!==0}function cu(n,r,t,e,i,o){if(t.length===0||!es(n,r,t[0],e,i,o))return!1;for(var a=1,s=t.length;a<s;++a)if(es(n,t[a-1],t[a],e,i,o))return!1;return!0}function Tc(n,r,t,e,i,o){if(t.length===0)return!1;for(var a=0,s=t.length;a<s;++a){var l=t[a];if(cu(n,r,l,e,i,o))return!0;r=l[l.length-1]}return!1}function zu(n,r,t,e,i,o,a){for(var s,l,h,d,y,w,C,I=i[o+1],G=[],Z=0,lt=t.length;Z<lt;++Z){var pt=t[Z];for(d=n[pt-e],w=n[pt-e+1],s=r;s<pt;s+=e)y=n[s],C=n[s+1],(I<=w&&C<=I||w<=I&&I<=C)&&(h=(I-w)/(C-w)*(y-d)+d,G.push(h)),d=y,w=C}var Et=NaN,ht=-1/0;for(G.sort(Sr.i),d=G[0],s=1,l=G.length;s<l;++s){y=G[s];var zt=Math.abs(y-d);zt>ht&&(h=(d+y)/2,cu(n,r,t,e,h,I)&&(Et=h,ht=zt)),d=y}return isNaN(Et)&&(Et=i[o]),a?(a.push(Et,I,ht),a):[Et,I,ht]}function ha(n,r,t,e,i){for(var o=[],a=0,s=t.length;a<s;++a){var l=t[a];o=zu(n,r,l,e,i,2*a,o),r=l[l.length-1]}return o}function Xh(n,r,t,e,i){var o;for(r+=e;r<t;r+=e)if(o=i(n.slice(r-e,r),n.slice(r,r+e)),o)return o;return!1}function fu(n,r,t,e,i){var o=Hn(tt(),n,r,t,e);return hi(i,o)?he(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:Xh(n,r,t,e,function(a,s){return eu(i,a,s)}):!1}function Kh(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){if(fu(n,r,t[o],e,i))return!0;r=t[o]}return!1}function Cs(n,r,t,e,i){return!!(fu(n,r,t,e,i)||es(n,r,t,e,i[0],i[1])||es(n,r,t,e,i[0],i[3])||es(n,r,t,e,i[2],i[1])||es(n,r,t,e,i[2],i[3]))}function bc(n,r,t,e,i){if(!Cs(n,r,t[0],e,i))return!1;if(t.length===1)return!0;for(var o=1,a=t.length;o<a;++o)if(Oa(n,t[o-1],t[o],e,i)&&!fu(n,t[o-1],t[o],e,i))return!1;return!0}function Ap(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(bc(n,r,s,e,i))return!0;r=s[s.length-1]}return!1}function Rp(n,r,t,e){for(;r<t-e;){for(var i=0;i<e;++i){var o=n[r+i];n[r+i]=n[t-e+i],n[t-e+i]=o}r+=e,t-=e}}function Ls(n,r,t,e){for(var i=0,o=n[t-e],a=n[t-e+1];r<t;r+=e){var s=n[r],l=n[r+1];i+=(s-o)*(l+a),o=s,a=l}return i===0?void 0:i>0}function Ua(n,r,t,e,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var l=t[a],h=Ls(n,r,l,e);if(a===0){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;r=l}return!0}function As(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(!Ua(n,r,s,e,i))return!1;s.length&&(r=s[s.length-1])}return!0}function al(n,r,t,e,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var l=t[a],h=Ls(n,r,l,e),d=a===0?o&&h||!o&&!h:o&&!h||!o&&h;d&&Rp(n,r,l,e),r=l}return r}function Rs(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o)r=al(n,r,t[o],e,i);return r}var Ml=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Il=function(n){Ml(r,n);function r(t,e,i){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,e!==void 0&&i?(o.setFlatCoordinates(e,t),o.ends_=i):o.setCoordinates(t,e),o}return r.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(Sr.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<jt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(L(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),re(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.containsXY=function(t,e){return cu(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},r.prototype.getArea=function(){return il(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),al(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,io(e,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Xn(this.getExtent());this.flatInteriorPoint_=zu(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new Gn(this.getFlatInteriorPoint(),pr.XYM)},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new bs(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,l=i.length;s<l;++s){var h=i[s],d=new bs(e.slice(a,h),t);o.push(d),a=h}return o},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Ua(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=al(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=qi(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new r(e,pr.XY,i)},r.prototype.getType=function(){return Zt.POLYGON},r.prototype.intersectsExtent=function(t){return bc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=jr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(Xo),ai=Il;function Cc(n,r,t,e){for(var i=t||32,o=[],a=0;a<i;++a)Object(Sr.c)(o,Gh(n,r,2*Math.PI*a/i,e));return o.push(o[0],o[1]),new Il(o,pr.XY,[o.length])}function rs(n){var r=n[0],t=n[1],e=n[2],i=n[3],o=[r,t,r,i,e,i,e,t,r,t];return new Il(o,pr.XY,[o.length])}function Nl(n,r,t){for(var e=r||32,i=n.getStride(),o=n.getLayout(),a=n.getCenter(),s=i*(e+1),l=new Array(s),h=0;h<s;h+=i){l[h]=0,l[h+1]=0;for(var d=2;d<i;d++)l[h+d]=a[d]}var y=[l.length],w=new Il(l,o,y);return Ps(w,a,n.getRadius(),t),w}function Ps(n,r,t,e){for(var i=n.getFlatCoordinates(),o=n.getStride(),a=i.length/o-1,s=e||0,l=0;l<=a;++l){var h=l*o,d=s+Es(l,a)*2*Math.PI/a;i[h]=r[0]+t*Math.cos(d),i[h+1]=r[1]+t*Math.sin(d)}n.changed()}var Fl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jl=0,Lc=function(n){Fl(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=Object(Pr.a)({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=au(i.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,i.center&&(i.center=Li(i.center,e.projection_)),i.extent&&(i.extent=oa(i.extent,e.projection_)),e.applyOptions_(i),e}return r.prototype.applyOptions_=function(t){var e=Object(Pr.a)({},t);for(var i in No)delete e[i];this.setProperties(e,!0);var o=Df(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var a=hu(t),s=o.constraint,l=ns(t);this.constraints_={center:a,resolution:s,rotation:l},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(r.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];e=e||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-e[3]+e[1]-o[1]),l=a/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-l])}},enumerable:!1,configurable:!0}),r.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(Pr.a)({},e,t)},r.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var o=arguments[i];o.center&&(o=Object(Pr.a)({},o),o.center=Li(o.center,this.getProjection())),o.anchor&&(o=Object(Pr.a)({},o),o.anchor=Li(o.anchor,this.getProjection())),e[i]=o}this.animateInternal.apply(this,e)},r.prototype.animateInternal=function(t){var e=arguments.length,i;e>1&&typeof arguments[e-1]=="function"&&(i=arguments[e-1],--e);for(var o=0;o<e&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===e){i&&sl(i,!0);return}for(var s=Date.now(),l=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_,y=[];o<e;++o){var w=arguments[o],C={start:s,complete:!1,anchor:w.anchor,duration:w.duration!==void 0?w.duration:1e3,easing:w.easing||xc,callback:i};if(w.center&&(C.sourceCenter=l,C.targetCenter=w.center.slice(),l=C.targetCenter),w.zoom!==void 0?(C.sourceResolution=h,C.targetResolution=this.getResolutionForZoom(w.zoom),h=C.targetResolution):w.resolution&&(C.sourceResolution=h,C.targetResolution=w.resolution,h=C.targetResolution),w.rotation!==void 0){C.sourceRotation=d;var I=Es(w.rotation-d+Math.PI,2*Math.PI)-Math.PI;C.targetRotation=d+I,d=C.targetRotation}Dl(C)?C.complete=!0:s+=C.duration,y.push(C)}this.animations_.push(y),this.setHint(oi.ANIMATING,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[oi.ANIMATING]>0},r.prototype.getInteracting=function(){return this.hints_[oi.INTERACTING]>0},r.prototype.cancelAnimations=function(){this.setHint(oi.ANIMATING,-this.hints_[oi.ANIMATING]);for(var t,e=0,i=this.animations_.length;e<i;++e){var o=this.animations_[e];if(o[0].callback&&sl(o[0].callback,!1),!t)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},r.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,l=o.length;s<l;++s){var h=o[s];if(!h.complete){var d=t-h.start,y=h.duration>0?d/h.duration:1;y>=1?(h.complete=!0,y=1):a=!1;var w=h.easing(y);if(h.sourceCenter){var C=h.sourceCenter[0],I=h.sourceCenter[1],G=h.targetCenter[0],Z=h.targetCenter[1];this.nextCenter_=h.targetCenter;var lt=C+w*(G-C),pt=I+w*(Z-I);this.targetCenter_=[lt,pt]}if(h.sourceResolution&&h.targetResolution){var Et=w===1?h.targetResolution:h.sourceResolution+w*(h.targetResolution-h.sourceResolution);if(h.anchor){var ht=this.getViewportSize_(this.getRotation()),zt=this.constraints_.resolution(Et,0,ht,!0);this.targetCenter_=this.calculateCenterZoom(zt,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=Et,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var Gt=w===1?Es(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+w*(h.targetRotation-h.sourceRotation);if(h.anchor){var $t=this.constraints_.rotation(Gt,!0);this.targetCenter_=this.calculateCenterRotate($t,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=Gt}if(this.applyTargetState_(!0),e=!0,!h.complete)break}}if(a){this.animations_[i]=null,this.setHint(oi.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var Xt=o[0].callback;Xt&&sl(Xt,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-e[0],o[1]-e[1]],Y(i,t-this.getRotation()),F(i,e)),i},r.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=e[0]-t*(e[0]-o[0])/a,l=e[1]-t*(e[1]-o[1])/a;i=[s,l]}return i},r.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],o=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return e},r.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&el(t,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get(No.CENTER)},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},r.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},r.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Ll(e,this.getProjection())},r.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();qt(i,1);var o=this.getResolution();qt(o!==void 0,2);var a=this.getRotation();return qt(a!==void 0,3),Ci(i,o,a,e)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},r.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get(No.RESOLUTION)},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(oa(t,this.getProjection()),e)},r.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSizeMinusPadding_(),o=cn(t)/i[0],a=Gr(t)/i[1];return Math.max(o,a)},r.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(e);return function(s){var l=i/Math.pow(e,s*a);return l}},r.prototype.getRotation=function(){return this.get(No.ROTATION)},r.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/e;return function(s){var l=Math.log(i/s)/e/a;return l}},r.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e},r.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=Mi(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],e,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var t,e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t},r.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0,i,o;if(this.resolutions_){var a=Object(Sr.h)(this.resolutions_,t,1);e=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return e+Math.log(i/t)/Math.log(o)},r.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Pi(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,Pi(t-e,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},r.prototype.fit=function(t,e){var i;if(qt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){qt(!Ro(t),25);var o=oa(t,this.getProjection());i=rs(o)}else if(t.getType()===Zt.CIRCLE){var o=oa(t.getExtent(),this.getProjection());i=rs(o),i.rotate(this.getRotation(),Xn(o))}else{var a=ia();a?i=t.clone().transform(a,this.getProjection()):i=t}this.fitInternal(i,e)},r.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),i=Math.cos(e),o=Math.sin(-e),a=t.getFlatCoordinates(),s=t.getStride(),l=1/0,h=1/0,d=-1/0,y=-1/0,w=0,C=a.length;w<C;w+=s){var I=a[w]*i-a[w+1]*o,G=a[w]*o+a[w+1]*i;l=Math.min(l,I),h=Math.min(h,G),d=Math.max(d,I),y=Math.max(y,G)}return[l,h,d,y]},r.prototype.fitInternal=function(t,e){var i=e||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,l;i.minResolution!==void 0?l=i.minResolution:i.maxZoom!==void 0?l=this.getResolutionForZoom(i.maxZoom):l=0;var h=this.rotatedExtentForGeometry(t),d=this.getResolutionForExtentInternal(h,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);d=isNaN(d)?l:Math.max(d,l),d=this.getConstrainedResolution(d,s?0:1);var y=this.getRotation(),w=Math.sin(y),C=Math.cos(y),I=Xn(h);I[0]+=(a[1]-a[3])/2*d,I[1]+=(a[0]-a[2])/2*d;var G=I[0]*C-I[1]*w,Z=I[1]*C+I[0]*w,lt=this.getConstrainedCenter([G,Z],d),pt=i.callback?i.callback:Nt.c;i.duration!==void 0?this.animateInternal({resolution:d,center:lt,duration:i.duration,easing:i.easing},pt):(this.targetResolution_=d,this.targetCenter_=lt,this.applyTargetState_(!1,!0),sl(pt,!0))},r.prototype.centerOn=function(t,e,i){this.centerOnInternal(Li(t,this.getProjection()),e,i)},r.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(Mi(t,e,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(t,e,i,o){var a,s=this.padding_;if(s&&t){var l=this.getViewportSizeMinusPadding_(-i),h=Mi(t,o,[l[0]/2+s[3],l[1]/2+s[0]],e,i);a=[t[0]-h[0],t[1]-h[1]]}return a},r.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},r.prototype.adjustCenter=function(t){var e=el(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustResolution=function(t,e){var i=e&&Li(e,this.getProjection());this.adjustResolutionInternal(t,i)},r.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,o,i);e&&(this.targetCenter_=this.calculateCenterZoom(a,e)),this.targetResolution_*=t,this.applyTargetState_()},r.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},r.prototype.adjustRotation=function(t,e){e&&(e=Li(e,this.getProjection())),this.adjustRotationInternal(t,e)},r.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},r.prototype.setCenter=function(t){this.setCenterInternal(Li(t,this.getProjection()))},r.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},r.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},r.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},r.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},r.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},r.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),l=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(No.ROTATION)!==o&&this.set(No.ROTATION,o),this.get(No.RESOLUTION)!==s&&(this.set(No.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(No.CENTER)||!k(this.get(No.CENTER),l))&&this.set(No.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(t,e,i){var o=t!==void 0?t:200,a=e||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),h=this.constraints_.resolution(this.targetResolution_,a,l),d=this.constraints_.center(this.targetCenter_,h,l,!1,this.calculateCenterShift(this.targetCenter_,h,s,l));if(o===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=s,this.targetCenter_=d,this.applyTargetState_();return}var y=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==s||!this.getCenterInternal()||!k(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:d,resolution:h,duration:o,easing:wa,anchor:y}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(oi.INTERACTING,1)},r.prototype.endInteraction=function(t,e,i){var o=i&&Li(i,this.getProjection());this.endInteractionInternal(t,e,o)},r.prototype.endInteractionInternal=function(t,e,i){this.setHint(oi.INTERACTING,-1),this.resolveConstraints(t,e,i)},r.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(t,e){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))},r.prototype.getConstrainedResolution=function(t,e){var i=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},r}(vo.a);function sl(n,r){setTimeout(function(){n(r)},0)}function hu(n){if(n.extent!==void 0){var r=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return _c(n.extent,n.constrainOnlyCenter,r)}var t=au(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,_c(e,!1,!1)}return Vh}function Df(n){var r,t,e,i=28,o=2,a=n.minZoom!==void 0?n.minZoom:jl,s=n.maxZoom!==void 0?n.maxZoom:i,l=n.zoomFactor!==void 0?n.zoomFactor:o,h=n.multiWorld!==void 0?n.multiWorld:!1,d=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,y=n.showFullExtent!==void 0?n.showFullExtent:!1,w=au(n.projection,"EPSG:3857"),C=w.getExtent(),I=n.constrainOnlyCenter,G=n.extent;if(!h&&!G&&w.isGlobal()&&(I=!1,G=C),n.resolutions!==void 0){var Z=n.resolutions;t=Z[a],e=Z[s]!==void 0?Z[s]:Z[Z.length-1],n.constrainResolution?r=Lf(Z,d,!I&&G,y):r=Bu(t,e,d,!I&&G,y)}else{var lt=C?Math.max(cn(C),Gr(C)):360*go[ki.DEGREES]/w.getMetersPerUnit(),pt=lt/iu/Math.pow(o,jl),Et=pt/Math.pow(o,i-jl);t=n.maxResolution,t!==void 0?a=0:t=pt/Math.pow(l,a),e=n.minResolution,e===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?e=t/Math.pow(l,s):e=pt/Math.pow(l,s):e=Et),s=a+Math.floor(Math.log(t/e)/Math.log(l)),e=t/Math.pow(l,s-a),n.constrainResolution?r=bp(l,t,e,d,!I&&G,y):r=Bu(t,e,d,!I&&G,y)}return{constraint:r,maxResolution:t,minResolution:e,minZoom:a,zoomFactor:l}}function ns(n){var r=n.enableRotation!==void 0?n.enableRotation:!0;if(r){var t=n.constrainRotation;return t===void 0||t===!0?Rl():t===!1?Af:typeof t=="number"?Wh(t):Af}else return Ec}function Dl(n){return!(n.sourceCenter&&n.targetCenter&&!k(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Mi(n,r,t,e,i){var o=Math.cos(-i),a=Math.sin(-i),s=n[0]*o-n[1]*a,l=n[1]*o+n[0]*a;s+=(r[0]/2-t[0])*e,l+=(t[1]-r[1]/2)*e,a=-a;var h=s*o-l*a,d=l*o+s*a;return[h,d]}var si=Lc;function oo(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]+2*r,t[1]=n[1]+2*r,t}function _o(n){return n[0]>0&&n[1]>0}function ll(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*r+.5|0,t[1]=n[1]*r+.5|0,t}function Zi(n,r){return Array.isArray(n)?n:(r===void 0?r=[n,n]:(r[0]=n,r[1]=n),r)}var Ac=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Bf(n){if(n instanceof _){n.setMapInternal(null);return}n instanceof ci&&n.getLayers().forEach(Bf)}function Pp(n,r){if(n instanceof _){n.setMapInternal(r);return}if(n instanceof ci)for(var t=n.getLayers().getArray(),e=0,i=t.length;e<i;++e)Pp(t[e],r)}var wg=function(n){Ac(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=Og(t);e.renderComplete_,e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,e.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Ut.a,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=q(),e.pixelToCoordinateTransform_=q(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=i.keyboardEventTarget,e.targetChangeHandlerKeys_=null,e.controls=i.controls||new fn,e.interactions=i.interactions||new fn,e.overlays_=i.overlays,e.overlayIdIndex_={},e.renderer_=null,e.postRenderFunctions_=[],e.tileQueue_=new Tl(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addChangeListener(_i.LAYERGROUP,e.handleLayerGroupChanged_),e.addChangeListener(_i.VIEW,e.handleViewChanged_),e.addChangeListener(_i.SIZE,e.handleSizeChanged_),e.addChangeListener(_i.TARGET,e.handleTargetChanged_),e.setProperties(i.values);var o=e;return t.view&&!(t.view instanceof si)&&t.view.then(function(a){o.setView(new si(a))}),e.controls.addEventListener(mn.ADD,function(a){a.element.setMap(this)}.bind(e)),e.controls.addEventListener(mn.REMOVE,function(a){a.element.setMap(null)}.bind(e)),e.interactions.addEventListener(mn.ADD,function(a){a.element.setMap(this)}.bind(e)),e.interactions.addEventListener(mn.REMOVE,function(a){a.element.setMap(null)}.bind(e)),e.overlays_.addEventListener(mn.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(e)),e.overlays_.addEventListener(mn.REMOVE,function(a){var s=a.element,l=s.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],a.element.setMap(null)}.bind(e)),e.controls.forEach(function(a){a.setMap(this)}.bind(e)),e.interactions.forEach(function(a){a.setMap(this)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e}return r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(t){this.getControls().push(t)},r.prototype.addInteraction=function(t){this.getInteractions().push(t)},r.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},r.prototype.handleLayerAdd_=function(t){Pp(t.layer,this)},r.prototype.addOverlay=function(t){this.getOverlays().push(t)},r.prototype.addOverlayInternal_=function(t){var e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(t,e,i){if(!!this.frameState_){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Nt.b,l=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,l,e,null,s,null)}},r.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},e),i},r.prototype.getAllLayers=function(){var t=[];function e(i){i.forEach(function(o){o instanceof ci?e(o.getLayers()):t.push(o)})}return e(this.getLayers()),t},r.prototype.forEachLayerAtPixel=function(t,e,i){if(!!this.frameState_){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||Nt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,a,e,s)}},r.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};var o=e.layerFilter!==void 0?e.layerFilter:Nt.b,a=e.hitTolerance!==void 0?e.hitTolerance:0,s=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},r.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},r.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},r.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},r.prototype.getTarget=function(){return this.get(_i.TARGET)},r.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},r.prototype.getCoordinateFromPixel=function(t){return el(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Ue(e.pixelToCoordinateTransform,t.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get(_i.LAYERGROUP)},r.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof fn){e.setLayers(t);return}var i=e.getLayers();i.clear(),i.extend(t)},r.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},r.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var o=t[e].layer,a=o.getSource();if(a&&a.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(t){var e=Li(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},r.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Ue(e.coordinateToPixelTransform,t.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get(_i.SIZE)},r.prototype.getView=function(){return this.get(_i.VIEW)},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},r.prototype.getTilePriority=function(t,e,i,o){return ws(this.frameState_,t,e,i,o)},r.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new hn(i,this,t);this.handleMapBrowserEvent(o)},r.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var e=t.originalEvent,i=e.type;if(i===ea.POINTERDOWN||i===qr.a.WHEEL||i===qr.a.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=e.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var l=this.getInteractions().getArray().slice(),h=l.length-1;h>=0;h--){var d=l[h];if(!(d.getMap()!==this||!d.getActive()||!this.getTargetElement())){var y=d.handleEvent(t);if(!y||t.propagationStopped)break}}}},r.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var a=t.viewHints;if(a[oi.ANIMATING]||a[oi.INTERACTING]){var s=Date.now()-t.time>8;i=s?0:8,o=s?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}t&&this.hasListener(Fa.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Fa.RENDERCOMPLETE,t);for(var l=this.postRenderFunctions_,h=0,d=l.length;h<d;++h)l[h](this,t);l.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Object(Or.c)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(qr.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(qr.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(Ne.e)(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new $s(this,this.moveTolerance_);for(var o in Wr)this.mapBrowserEventHandler_.addEventListener(Wr[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(qr.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(qr.a.WHEEL,this.boundHandleBrowserEvent_,Ut.e?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Object(Or.a)(s,qr.a.KEYDOWN,this.handleBrowserEvent,this),Object(Or.a)(s,qr.a.KEYPRESS,this.handleBrowserEvent,this),Object(Or.a)(a,qr.a.RESIZE,this.updateSize,this)]}this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(Or.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(Or.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(Or.a)(t,xe.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(Or.a)(t,qr.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Or.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new ui("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Object(Or.a)(t,xe.a.PROPERTYCHANGE,this.render,this),Object(Or.a)(t,qr.a.CHANGE,this.render,this),Object(Or.a)(t,"addlayer",this.handleLayerAdd_,this),Object(Or.a)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(t){return this.getControls().remove(t)},r.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},r.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},r.prototype.handleLayerRemove_=function(t){Bf(t.layer)},r.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},r.prototype.renderFrame_=function(t){var e=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&_o(i)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Ci(h.center,h.resolution,h.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:l,wantedTiles:{},mapId:Object(ct.c)(this),renderTargets:{}},h.nextCenter&&h.nextResolution){var d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;s.nextExtent=Ci(h.nextCenter,h.nextResolution,d,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var y=!this.previousExtent_||!Ro(this.previousExtent_)&&!cr(s.extent,this.previousExtent_);y&&(this.dispatchEvent(new Ea(ln.a.MOVESTART,this,a)),this.previousExtent_=V(this.previousExtent_))}var w=this.previousExtent_&&!s.viewHints[oi.ANIMATING]&&!s.viewHints[oi.INTERACTING]&&!cr(s.extent,this.previousExtent_);w&&(this.dispatchEvent(new Ea(ln.a.MOVEEND,this,s)),Wt(s.extent,this.previousExtent_))}this.dispatchEvent(new Ea(ln.a.POSTRENDER,this,s)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},r.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new ui("removelayer",e)),this.set(_i.LAYERGROUP,t)},r.prototype.setSize=function(t){this.set(_i.SIZE,t)},r.prototype.setTarget=function(t){this.set(_i.TARGET,t)},r.prototype.setView=function(t){if(!t||t instanceof si){this.set(_i.VIEW,t);return}this.set(_i.VIEW,new si);var e=this;t.then(function(i){e.setView(new si(i))})},r.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(e=[o,a],!_o(e)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}},r}(vo.a);function Og(n){var r=null;n.keyboardEventTarget!==void 0&&(r=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},e=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new ci({layers:n.layers});t[_i.LAYERGROUP]=e,t[_i.TARGET]=n.target,t[_i.VIEW]=n.view instanceof si?n.view:new si;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new fn(n.controls.slice()):(qt(typeof n.controls.getArray=="function",47),i=n.controls));var o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new fn(n.interactions.slice()):(qt(typeof n.interactions.getArray=="function",48),o=n.interactions));var a;return n.overlays!==void 0?Array.isArray(n.overlays)?a=new fn(n.overlays.slice()):(qt(typeof n.overlays.getArray=="function",49),a=n.overlays):a=new fn,{controls:i,interactions:o,keyboardEventTarget:r,overlays:a,values:t}}var Mp=wg,ri=u("3900"),Tg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ip=function(n){Tg(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.ulElement_=document.createElement("ul"),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=i.collapsible!==void 0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",l=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",h=i.collapseClassName!==void 0?i.collapseClassName:o+"-collpase";typeof l=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=l,e.collapseLabel_.className=h):e.collapseLabel_=l;var d=i.label!==void 0?i.label:"i";typeof d=="string"?(e.label_=document.createElement("span"),e.label_.textContent=d,e.label_.className=s):e.label_=d;var y=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;e.toggleButton_=document.createElement("button"),e.toggleButton_.setAttribute("type","button"),e.toggleButton_.setAttribute("aria-expanded",String(!e.collapsed_)),e.toggleButton_.title=a,e.toggleButton_.appendChild(y),e.toggleButton_.addEventListener(qr.a.CLICK,e.handleClick_.bind(e),!1);var w=o+" "+tr+" "+Pt+(e.collapsed_&&e.collapsible_?" "+ue:"")+(e.collapsible_?"":" ol-uncollapsible"),C=e.element;return C.className=w,C.appendChild(e.toggleButton_),C.appendChild(e.ulElement_),e.renderedAttributions_=[],e.renderedVisible_=!0,e}return r.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],o=!0,a=t.layerStatesArray,s=0,l=a.length;s<l;++s){var h=a[s];if(!!O(h,t.viewState)){var d=h.layer.getSource();if(!!d){var y=d.getAttributions();if(!!y){var w=y(t);if(!!w)if(o=o&&d.getAttributionsCollapsible()!==!1,Array.isArray(w))for(var C=0,I=w.length;C<I;++C)w[C]in e||(i.push(w[C]),e[w[C]]=!0);else w in e||(i.push(w),e[w]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},r.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(Sr.b)(e,this.renderedAttributions_)){Object(Ne.d)(this.ulElement_);for(var o=0,a=e.length;o<a;++o){var s=document.createElement("li");s.innerHTML=e[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(ue),this.collapsed_?Object(Ne.g)(this.collapseLabel_,this.label_):Object(Ne.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(t){this.updateElement_(t.frameState)},r}(ri.default),Gf=Ip,ka=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),is=function(n){ka(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"\u21E7",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";e.label_=null,typeof a=="string"?(e.label_=document.createElement("span"),e.label_.className=s,e.label_.textContent=a):(e.label_=a,e.label_.classList.add(s));var l=i.tipLabel?i.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=l,h.appendChild(e.label_),h.addEventListener(qr.a.CLICK,e.handleClick_.bind(e),!1);var d=o+" "+tr+" "+Pt,y=e.element;return y.className=d,y.appendChild(h),e.callResetNorth_=i.resetNorth?i.resetNorth:void 0,e.duration_=i.duration!==void 0?i.duration:250,e.autoHide_=i.autoHide!==void 0?i.autoHide:!0,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(pe),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(!!e){var i=e.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:wa}):e.setRotation(0))}},r.prototype.render=function(t){var e=t.frameState;if(!!e){var i=e.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(pe);!a&&i===0?this.element.classList.add(pe):a&&i!==0&&this.element.classList.remove(pe)}this.label_.style.transform=o}this.rotation_=i}},r}(ri.default),Uf=is,Zh=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bg=function(n){Zh(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",l=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",h=i.zoomInLabel!==void 0?i.zoomInLabel:"+",d=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",y=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",w=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",C=document.createElement("button");C.className=s,C.setAttribute("type","button"),C.title=y,C.appendChild(typeof h=="string"?document.createTextNode(h):h),C.addEventListener(qr.a.CLICK,e.handleClick_.bind(e,a),!1);var I=document.createElement("button");I.className=l,I.setAttribute("type","button"),I.title=w,I.appendChild(typeof d=="string"?document.createTextNode(d):d),I.addEventListener(qr.a.CLICK,e.handleClick_.bind(e,-a),!1);var G=o+" "+tr+" "+Pt,Z=e.element;return Z.className=G,Z.appendChild(C),Z.appendChild(I),e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},r.prototype.zoomByDelta_=function(t){var e=this.getMap(),i=e.getView();if(!!i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:wa})):i.setZoom(a)}}},r}(ri.default),kf=bg;function $h(n){var r=n||{},t=new fn,e=r.zoom!==void 0?r.zoom:!0;e&&t.push(new kf(r.zoomOptions));var i=r.rotate!==void 0?r.rotate:!0;i&&t.push(new Uf(r.rotateOptions));var o=r.attribution!==void 0?r.attribution:!0;return o&&t.push(new Gf(r.attributionOptions)),t}var zf={ACTIVE:"active"},Cg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Np=function(n){Cg(r,n);function r(t){var e=n.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return r.prototype.getActive=function(){return this.get(zf.ACTIVE)},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(t){return!0},r.prototype.setActive=function(t){this.set(zf.ACTIVE,t)},r.prototype.setMap=function(t){this.map_=t},r}(vo.a);function Fp(n,r,t){var e=n.getCenterInternal();if(e){var i=[e[0]+r[0],e[1]+r[1]];n.animateInternal({duration:t!==void 0?t:250,easing:Ba,center:n.getConstrainedCenter(i)})}}function Rc(n,r,t,e){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+r),a=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:a,anchor:t,duration:e!==void 0?e:250,easing:wa})}}var du=Np,gm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ym=function(n){gm(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==Wr.DBLCLICK){var i=t.originalEvent,o=t.map,a=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,l=o.getView();Rc(l,s,a,this.duration_),i.preventDefault(),e=!0}return!e},r}(du),Lg=ym,mm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_m=function(n){mm(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,i.handleDownEvent&&(e.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(e.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(e.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(e.handleUpEvent=i.handleUpEvent),i.stopDown&&(e.stopDown=i.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}return r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(t){return!1},r.prototype.handleDragEvent=function(t){},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Wr.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Wr.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Wr.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==Wr.POINTERMOVE&&this.handleMoveEvent(t);return!e},r.prototype.handleMoveEvent=function(t){},r.prototype.handleUpEvent=function(t){return!1},r.prototype.stopDown=function(t){return t},r.prototype.updateTrackedPointers_=function(t){if(Em(t)){var e=t.originalEvent,i=e.pointerId.toString();t.type==Wr.POINTERUP?delete this.trackedPointers_[i]:t.type==Wr.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=Object(Pr.c)(this.trackedPointers_)}},r}(du);function jp(n){for(var r=n.length,t=0,e=0,i=0;i<r;i++)t+=n[i].clientX,e+=n[i].clientY;return[t/r,e/r]}function Em(n){var r=n.type;return r===Wr.POINTERDOWN||r===Wr.POINTERDRAG||r===Wr.POINTERUP}var za=_m;function Pc(n){var r=arguments;return function(t){for(var e=!0,i=0,o=r.length;i<o&&(e=e&&r[i](t),!!e);++i);return e}}var Jh=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},Mc=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},Ag=function(n){var r=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return r.contains(t)},Dp=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?Ag(n):!0},Vf=Nt.b,xm=function(n){return n.type==Wr.CLICK},Bp=function(n){var r=n.originalEvent;return r.button==0&&!(Ut.f&&Ut.d&&r.ctrlKey)},Gp=Nt.a,Sm=function(n){return n.type=="pointermove"},Ms=function(n){return n.type==Wr.SINGLECLICK},Is=function(n){return n.type==Wr.DBLCLICK},os=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},wm=function(n){var r=n.originalEvent;return!r.altKey&&(Ut.d?r.metaKey:r.ctrlKey)&&!r.shiftKey},Ic=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},ul=function(n){var r=n.originalEvent,t=r.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Uo=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.pointerType=="mouse"},Om=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.pointerType==="touch"},Tm=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.pointerType==="pen"},qh=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.isPrimary&&r.button===0},Rg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pg=function(n){Rg(r,n);function r(t){var e=n.call(this,{stopDown:Nt.a})||this,i=t||{};e.kinetic_=i.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;var o=i.condition?i.condition:Pc(os,qh);return e.condition_=i.onFocusOnly?Pc(Dp,o):o,e.noKinetic_=!1,e}return r.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,i=jp(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=t.map,s=a.getView();rt(o,s.getResolution()),Y(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),l=e.getPixelFromCoordinateInternal(s),h=e.getCoordinateFromPixelInternal([l[0]-o*Math.cos(a),l[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(h),duration:500,easing:wa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},r}(za),Mg=Pg,bm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qh=function(n){bm(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{stopDown:Nt.a})||this,e.condition_=i.condition?i.condition:Mc,e.lastAngle_=void 0,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){if(!!Uo(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==Ec){var o=e.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;i.adjustRotationInternal(-l)}this.lastAngle_=s}}},r.prototype.handleUpEvent=function(t){if(!Uo(t))return!0;var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1},r.prototype.handleDownEvent=function(t){if(!Uo(t))return!1;if(Bp(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},r}(za),td=Qh,Wf=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Up=function(n){Wf(r,n);function r(t){var e=n.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}return r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+i,o.top=Math.min(t[1],e[1])+i,o.width=Math.abs(e[0]-t[0])+i,o.height=Math.abs(e[1]-t[1])+i},r.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new ai([o])},r.prototype.getGeometry=function(){return this.geometry_},r}(Lt.a),Ig=Up,Ng=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yf={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},kp=function(n){Ng(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.coordinate=e,o.mapBrowserEvent=i,o}return r}(Be.a),Cm=function(n){Ng(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.box_=new Ig(i.className||"ol-dragbox"),e.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(e.onBoxEnd=i.onBoxEnd),e.startPixel_=null,e.condition_=i.condition?i.condition:Bp,e.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:e.defaultBoxEndCondition,e}return r.prototype.defaultBoxEndCondition=function(t,e,i){var o=i[0]-e[0],a=i[1]-e[1];return o*o+a*a>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new kp(Yf.BOXDRAG,t.coordinate,t))},r.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new kp(e?Yf.BOXEND:Yf.BOXCANCEL,t.coordinate,t)),!1},r.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new kp(Yf.BOXSTART,t.coordinate,t)),!0):!1},r.prototype.onBoxEnd=function(t){},r}(za),Lm=Cm,Am=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rm=function(n){Am(r,n);function r(t){var e=this,i=t||{},o=i.condition?i.condition:Ic;return e=n.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,e.duration_=i.duration!==void 0?i.duration:200,e.out_=i.out!==void 0?i.out:!1,e}return r.prototype.onBoxEnd=function(t){var e=this.getMap(),i=e.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),l=i.getResolution()/s;o=o.clone(),o.scale(l*l)}i.fitInternal(o,{duration:this.duration_,easing:wa})},r}(Lm),Pm=Rm,pu={LEFT:37,UP:38,RIGHT:39,DOWN:40},ed=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mm=function(n){ed(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.defaultCondition_=function(o){return os(o)&&ul(o)},e.condition_=i.condition!==void 0?i.condition:e.defaultCondition_,e.duration_=i.duration!==void 0?i.duration:100,e.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==qr.a.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==pu.DOWN||o==pu.LEFT||o==pu.RIGHT||o==pu.UP)){var a=t.map,s=a.getView(),l=s.getResolution()*this.pixelDelta_,h=0,d=0;o==pu.DOWN?d=-l:o==pu.LEFT?h=-l:o==pu.RIGHT?h=l:d=l;var y=[h,d];Y(y,s.getRotation()),Fp(s,y,this.duration_),i.preventDefault(),e=!0}}return!e},r}(du),Im=Mm,Fg=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),v=function(n){Fg(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.condition_=i.condition?i.condition:ul,e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:100,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==qr.a.KEYDOWN||t.type==qr.a.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=t.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();Rc(l,s,void 0,this.duration_),i.preventDefault(),e=!0}}return!e},r}(du),x=v,N=function(){function n(r,t,e){this.decay_=r,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(r,t){this.points_.push(r,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<r)return!1;for(var e=t-3;e>0&&this.points_[e+2]>r;)e-=3;var i=this.points_[t+2]-this.points_[e+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[e],a=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),H=N,et=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),st={TRACKPAD:"trackpad",WHEEL:"wheel"},ut=function(n){et(r,n);function r(t){var e=this,i=t||{};e=n.call(this,i)||this,e.totalDelta_=0,e.lastDelta_=0,e.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,e.duration_=i.duration!==void 0?i.duration:250,e.timeout_=i.timeout!==void 0?i.timeout:80,e.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,e.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:Vf;return e.condition_=i.onFocusOnly?Pc(Dp,o):o,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==qr.a.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var a;if(t.type==qr.a.WHEEL&&(a=o.deltaY,Ut.b&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Ut.a),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?st.TRACKPAD:st.WHEEL);var l=i.getView();if(this.mode_===st.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var h=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),h),!1},r.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=-Pi(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Rc(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},r}(du),dt=ut,gt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tt=function(n){gt(r,n);function r(t){var e=this,i=t||{},o=i;return o.stopDown||(o.stopDown=Nt.a),e=n.call(this,o)||this,e.anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=i.threshold!==void 0?i.threshold:.3,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=a;var l=t.map,h=l.getView();if(h.getConstraints().rotation!==Ec){var d=l.getViewport().getBoundingClientRect(),y=jp(this.targetPointers);y[0]-=d.left,y[1]-=d.top,this.anchor_=l.getCoordinateFromPixelInternal(y),this.rotating_&&(l.render(),h.adjustRotationInternal(e,this.anchor_))}},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(za),ae=Tt,we=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oe=function(n){we(r,n);function r(t){var e=this,i=t||{},o=i;return o.stopDown||(o.stopDown=Nt.a),e=n.call(this,o)||this,e.anchor_=null,e.duration_=i.duration!==void 0?i.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}return r.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,l=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(e=this.lastDistance_/l),this.lastDistance_=l;var h=t.map,d=h.getView();e!=1&&(this.lastScaleDelta_=e);var y=h.getViewport().getBoundingClientRect(),w=jp(this.targetPointers);w[0]-=y.left,w[1]-=y.top,this.anchor_=h.getCoordinateFromPixelInternal(w),h.render(),d.adjustResolutionInternal(e,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(za),de=Oe;function $e(n){var r=n||{},t=new fn,e=new H(-.005,.05,100),i=r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0;i&&t.push(new td);var o=r.doubleClickZoom!==void 0?r.doubleClickZoom:!0;o&&t.push(new Lg({delta:r.zoomDelta,duration:r.zoomDuration}));var a=r.dragPan!==void 0?r.dragPan:!0;a&&t.push(new Mg({onFocusOnly:r.onFocusOnly,kinetic:e}));var s=r.pinchRotate!==void 0?r.pinchRotate:!0;s&&t.push(new ae);var l=r.pinchZoom!==void 0?r.pinchZoom:!0;l&&t.push(new de({duration:r.zoomDuration}));var h=r.keyboard!==void 0?r.keyboard:!0;h&&(t.push(new Im),t.push(new x({delta:r.zoomDelta,duration:r.zoomDuration})));var d=r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0;d&&t.push(new dt({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration}));var y=r.shiftDragZoom!==void 0?r.shiftDragZoom:!0;return y&&t.push(new Pm({duration:r.zoomDuration})),t}var Fe=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),se=function(n){Fe(r,n);function r(t){var e=this;return t=Object(Pr.a)({},t),t.controls||(t.controls=$h()),t.interactions||(t.interactions=$e({onFocusOnly:!0})),e=n.call(this,t)||this,e}return r.prototype.createRenderer=function(){return new li(this)},r}(Mp),le=se;u("b64b"),u("a4d3"),u("4de4"),u("d3b7"),u("e439"),u("159b"),u("dbb4");function Ke(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function rr(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);r&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,e)}return t}function be(n){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rr(Object(t),!0).forEach(function(e){Ke(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}u("caad"),u("2532");function or(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=Object(M.toRefs)(n);Object.keys(t).forEach(function(i){t[i]=t[i].value});var e=Object(M.reactive)(be({},t));return Object(M.watch)(n,function(){t=Object(M.toRefs)(n),Object.keys(t).forEach(function(i){e[i]!=t[i].value&&!r.includes(i)&&(e[i]=t[i].value)})}),{properties:e}}var Tr={name:"ol-map",setup:function(r,t){var e=t.emit,i=or(r),o=i.properties,a=Object(M.ref)(null),s=new le(o);Object(M.watch)(o,function(){s.setProperties(o)}),Object(M.onMounted)(function(){s.setTarget(a.value)}),Object(M.onUnmounted)(function(){s.setTarget(null),s=null}),Object(M.provide)("map",s);var l=function(){return s.focus()},h=function(Z,lt){var pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.forEachFeatureAtPixel(Z,lt,pt)},d=function(Z,lt,pt){return s.forEachLayerAtPixel(Z,lt,pt)},y=function(Z){return s.getCoordinateFromPixel(Z)},w=function(){return s.refresh()},C=function(){return s.render()},I=function(){return s.updateSize()};return s.on("click",function(G){return e("click",G)}),s.on("dblclick",function(G){return e("dblclick",G)}),s.on("singleclick",function(G){return e("singleclick",G)}),s.on("pointerdrag",function(G){return e("pointerdrag",G)}),s.on("pointermove",function(G){return e("pointermove",G)}),s.on("movestart",function(G){return e("movestart",G)}),s.on("moveend",function(G){return e("moveend",G)}),s.on("postrender",function(G){return e("postrender",G)}),s.on("precompose",function(G){return e("precompose",G)}),s.on("postcompose",function(G){return e("postcompose",G)}),{map:s,mapRef:a,focus:l,forEachFeatureAtPixel:h,forEachLayerAtPixel:d,getCoordinateFromPixel:y,refresh:w,render:C,updateSize:I}},props:{loadTilesWhileAnimating:{type:Boolean,default:!1},loadTilesWhileInteracting:{type:Boolean,default:!1},moveTolerance:{type:Number,default:1},pixelRatio:{type:Number,default:1},controls:{type:Array,default:function(){return[]}}}},dn=u("6b0d"),Ce=u.n(dn),Ei=Ce()(Tr,[["render",_t]]);function di(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}function ni(n,r){var t=Object(M.inject)("map"),e=or(n),i=e.properties,o=function(){return be(be({},i),{},{projection:typeof i.projection=="string"?i.projection:new Sa(be({},i.projection))})},a=new si(o());Object(M.onMounted)(function(){t.setView(a)}),a.on("change:center",function(){r("centerChanged",Gt()),r("zoomChanged",jn())}),a.on("change:resolution",function(){return r("resolutionChanged",Br())}),a.on("change:rotation",function(){return r("rotationChanged",Fn())}),Object(M.watch)(i,function(){var _n=o();a.setProperties(_n),a.applyOptions_(_n)});var s=function(vn){return a.adjustCenter(vn)},l=function(vn,bo){return a.adjustResolution(vn,bo)},h=function(vn,bo){return a.adjustRotation(vn,bo)},d=function(vn,bo){return a.adjustZoom(vn,bo)},y=function(vn){return a.animate(vn)},w=function(){return a.beginInteraction()},C=function(vn){return a.calculateExtent(vn)},I=function(){return a.cancelAnimations()},G=function(vn,bo,$l){return a.centerOn(vn,bo,$l)},Z=function(){return a.changed()},lt=function(vn){return a.dispatchEvent(vn)},pt=function(vn,bo,$l){return a.endInteraction(vn,bo,$l)},Et=function(vn,bo){return a.fit(vn,bo)},ht=function(vn){return a.get(vn)},zt=function(){return a.getAnimating()},Gt=function(){return a.getCenter()},$t=function(){return a.getInteracting()},Xt=function(){return a.getKeys()},ce=function(){return a.getMaxResolution()},Ge=function(){return a.getMaxZoom()},Me=function(){return a.getMinResolution()},Ee=function(){return a.getMinZoom()},er=function(){return a.getProjection()},Lr=function(){return a.getProperties()},Br=function(){return a.getResolution()},Yr=function(vn,bo){return a.getResolutionForExtent(vn,bo)},$r=function(vn){return a.getResolutionForZoom(vn)},On=function(){return a.getResolutions()},Tn=function(){return a.getRevision()},Fn=function(){return a.getRotation()},jn=function(){return a.getZoom()},lr=function(vn){return a.getZoomForResolution(vn)},jo=function(vn){return a.setCenter(vn)},Vn=function(vn){return a.setConstrainResolution(vn)},Yi=function(vn){return a.setMaxZoom(vn)},To=function(vn){return a.setMinZoom(vn)},Wo=function(vn){return a.setResolution(vn)},Do=function(vn){return a.setRotation(vn)},to=function(vn){return a.setZoom(vn)};return{view:a,adjustCenter:s,adjustResolution:l,adjustRotation:h,adjustZoom:d,animate:y,beginInteraction:w,calculateExtent:C,cancelAnimations:I,centerOn:G,changed:Z,dispatchEvent:lt,endInteraction:pt,fit:Et,get:ht,getAnimating:zt,getCenter:Gt,getInteracting:$t,getKeys:Xt,getMaxResolution:ce,getMaxZoom:Ge,getMinResolution:Me,getMinZoom:Ee,getProjection:er,getProperties:Lr,getResolution:Br,getResolutionForExtent:Yr,getResolutionForZoom:$r,getResolutions:On,getRevision:Tn,getRotation:Fn,getZoom:jn,getZoomForResolution:lr,setCenter:jo,setConstrainResolution:Vn,setMaxZoom:Yi,setMinZoom:To,setResolution:Wo,setRotation:Do,setZoom:to}}var ji={name:"ol-view",setup:function(r,t){var e=t.emit,i=ni(r,e);return be({},i)},props:{center:{type:Array,default:function(){return[0,0]}},constrainRotation:{type:Boolean,default:!0},enableRotation:{type:Boolean,default:!0},extent:{type:Array},constrainOnlyCenter:{type:Boolean,default:!1},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{type:Number},minResolution:{type:Number},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},multiWorld:{type:Boolean,default:!1},constrainResolution:{type:Boolean,default:!1},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean,default:!1},projection:{type:[String,Object],default:"EPSG:3857"},resolution:{type:Number},resolutions:{type:Array},rotation:{type:Number},zoom:{type:Number,default:0},zoomFactor:{type:Number,default:2},padding:{type:Array,default:function(){return[0,0,0,0]}}}},Nn=Ce()(ji,[["render",di]]);function Eo(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var Ta=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xo=function(n){Ta(r,n);function r(t){var e=n.call(this)||this;if(e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;e.setGeometry(i)}else{var o=t;e.setProperties(o)}return e}return r.prototype.clone=function(){var t=new r(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var i=this.getStyle();return i&&t.setStyle(i),t},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(Or.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(Or.a)(t,qr.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},r.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?ba(t):void 0,this.changed()},r.prototype.setId=function(t){this.id_=t,this.changed()},r.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(vo.a);function ba(n){if(typeof n=="function")return n;var r;if(Array.isArray(n))r=n;else{qt(typeof n.getZIndex=="function",41);var t=n;r=[t]}return function(){return r}}var Hr=xo,Va={name:"ol-feature",setup:function(r){var t=Object(M.inject)("vectorSource"),e=Object(M.inject)("vectorLayer"),i=Object(M.inject)("animation",null),o=or(r),a=o.properties,s=Object(M.computed)(function(){var l=new Hr(be({},a.properties));return l});return Object(M.watch)(s,function(l,h){t.value.removeFeature(h),t.value.addFeature(l),t.value.changed()}),Object(M.watch)(t,function(l,h){h.removeFeature(s.value),l.addFeature(s.value),l.changed()}),Object(M.onMounted)(function(){t.value.addFeature(s.value),i!=null&&e.value.animateFeature(s.value,i.value)}),Object(M.onUnmounted)(function(){t.value.removeFeature(s.value)}),Object(M.provide)("feature",s),Object(M.provide)("stylable",s),{feature:s}},props:{properties:{type:[Gu,Object,Array]}}},So=Ce()(Va,[["render",Eo]]),Ko={ref:"htmlContent"};function da(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",Ko,[Object(M.renderSlot)(n.$slots,"default",{position:t.position})],512)}var Wi={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},cl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pi={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Bl=function(n){cl(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.options=t,e.id=t.id,e.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,e.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,e.element=document.createElement("div"),e.element.className=t.className!==void 0?t.className:"ol-overlay-container "+sr,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=i||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addChangeListener(pi.ELEMENT,e.handleElementChanged),e.addChangeListener(pi.MAP,e.handleMapChanged),e.addChangeListener(pi.OFFSET,e.handleOffsetChanged),e.addChangeListener(pi.POSITION,e.handlePositionChanged),e.addChangeListener(pi.POSITIONING,e.handlePositioningChanged),t.element!==void 0&&e.setElement(t.element),e.setOffset(t.offset!==void 0?t.offset:[0,0]),e.setPositioning(t.positioning!==void 0?t.positioning:Wi.TOP_LEFT),t.position!==void 0&&e.setPosition(t.position),e}return r.prototype.getElement=function(){return this.get(pi.ELEMENT)},r.prototype.getId=function(){return this.id},r.prototype.getMap=function(){return this.get(pi.MAP)},r.prototype.getOffset=function(){return this.get(pi.OFFSET)},r.prototype.getPosition=function(){return this.get(pi.POSITION)},r.prototype.getPositioning=function(){return this.get(pi.POSITIONING)},r.prototype.handleElementChanged=function(){Object(Ne.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},r.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(Ne.e)(this.element),Object(Or.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(Or.a)(t,ln.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},r.prototype.render=function(){this.updatePixelPosition()},r.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},r.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},r.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},r.prototype.setElement=function(t){this.set(pi.ELEMENT,t)},r.prototype.setMap=function(t){this.set(pi.MAP,t)},r.prototype.setOffset=function(t){this.set(pi.OFFSET,t)},r.prototype.setPosition=function(t){this.set(pi.POSITION,t)},r.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},r.prototype.panIntoView=function(t){var e=this.getMap();if(!(!e||!e.getTargetElement()||!this.get(pi.POSITION))){var i=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),a=this.getRect(o,[Object(Ne.c)(o),Object(Ne.b)(o)]),s=t||{},l=s.margin===void 0?20:s.margin;if(!he(i,a)){var h=a[0]-i[0],d=i[2]-a[2],y=a[1]-i[1],w=i[3]-a[3],C=[0,0];if(h<0?C[0]=h-l:d<0&&(C[0]=Math.abs(d)+l),y<0?C[1]=y-l:w<0&&(C[1]=Math.abs(w)+l),C[0]!==0||C[1]!==0){var I=e.getView().getCenterInternal(),G=e.getPixelFromCoordinateInternal(I);if(!G)return;var Z=[G[0]+C[0],G[1]+C[1]],lt=s.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(Z),duration:lt.duration,easing:lt.easing})}}}},r.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,a=i.top+window.pageYOffset;return[o,a,o+e[0],a+e[1]]},r.prototype.setPositioning=function(t){this.set(pi.POSITIONING,t)},r.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},r.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(e),o=t.getSize();this.updateRenderedPosition(i,o)},r.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,o=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(t[0]+o[0])+"px",l=Math.round(t[1]+o[1])+"px",h="0%",d="0%";a==Wi.BOTTOM_RIGHT||a==Wi.CENTER_RIGHT||a==Wi.TOP_RIGHT?h="-100%":(a==Wi.BOTTOM_CENTER||a==Wi.CENTER_CENTER||a==Wi.TOP_CENTER)&&(h="-50%"),a==Wi.BOTTOM_LEFT||a==Wi.BOTTOM_CENTER||a==Wi.BOTTOM_RIGHT?d="-100%":(a==Wi.CENTER_LEFT||a==Wi.CENTER_CENTER||a==Wi.CENTER_RIGHT)&&(d="-50%");var y="translate("+h+", "+d+") translate("+s+", "+l+")";this.rendered.transform_!=y&&(this.rendered.transform_=y,i.transform=y,i.msTransform=y)},r.prototype.getOptions=function(){return this.options},r}(vo.a),vu=Bl;function Nc(n,r){var t=Object(M.inject)("map"),e=Object(M.ref)(null),i=or(n),o=i.properties,a=Object(M.computed)(function(){return new vu(o)});Object(M.onMounted)(function(){t.addOverlay(a.value)}),Object(M.onUnmounted)(function(){t.removeOverlay(a.value)}),Object(M.watch)(a,function(Z,lt){t.removeOverlay(lt),t.addOverlay(Z)}),Object(M.watchEffect)(function(){w(e.value)},{flush:"post"}),a.value.on("change:element",function(){return r("elementChanged",s())}),a.value.on("change:offset",function(){return r("offsetChanged",l())}),a.value.on("change:position",function(){return r("positionChanged",h())}),a.value.on("change:positioning",function(){return r("positioningChanged",d())});var s=function(){return a.value.getElement()},l=function(){return a.value.getOffset()},h=function(){return a.value.getPosition()},d=function(){return a.value.getPositioning()},y=function(lt){return a.value.panIntoView(lt)},w=function(lt){return a.value.setElement(lt)},C=function(lt){return a.value.setOffset(lt)},I=function(lt){return a.value.setPosition(lt)},G=function(lt){return a.value.setPositioning(lt)};return{overlay:a,htmlContent:e,getOffset:l,getPosition:h,getPositioning:d,panIntoView:y,setElement:w,setOffset:C,setPosition:I,setPositioning:G}}var gu={name:"ol-overlay",setup:function(r,t){var e=t.emit,i=new Nc(r,e);return be({},i)},props:{position:{type:Array},offset:{type:Array},positioning:{type:String},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:Boolean,default:!1},autoPanMargin:{type:Number,default:20},autoPanAnimation:{type:Object,default:void 0}}},Hf=Ce()(gu,[["render",da]]);function jg(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default",{position:e.position,speed:e.speed,heading:e.heading,accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,accuracyGeometry:e.accuracyGeometry})}var zp=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zi={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},Xf=function(n){zp(r,n);function r(t){var e=n.call(this,qr.a.ERROR)||this;return e.code=t.code,e.message=t.message,e}return r}(Be.a),rd=function(n){zp(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.position_=null,e.transform_=ju,e.watchId_=void 0,e.addChangeListener(zi.PROJECTION,e.handleProjectionChanged_),e.addChangeListener(zi.TRACKING,e.handleTrackingChanged_),i.projection!==void 0&&e.setProjection(i.projection),i.trackingOptions!==void 0&&e.setTrackingOptions(i.trackingOptions),e.setTracking(i.tracking!==void 0?i.tracking:!1),e}return r.prototype.disposeInternal=function(){this.setTracking(!1),n.prototype.disposeInternal.call(this)},r.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Cl(en("EPSG:4326"),t),this.position_&&this.set(zi.POSITION,this.transform_(this.position_)))},r.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!t&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},r.prototype.positionChange_=function(t){var e=t.coords;this.set(zi.ACCURACY,e.accuracy),this.set(zi.ALTITUDE,e.altitude===null?void 0:e.altitude),this.set(zi.ALTITUDE_ACCURACY,e.altitudeAccuracy===null?void 0:e.altitudeAccuracy),this.set(zi.HEADING,e.heading===null?void 0:Na(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(zi.POSITION,i),this.set(zi.SPEED,e.speed===null?void 0:e.speed);var o=Cc(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(zi.ACCURACY_GEOMETRY,o),this.changed()},r.prototype.positionError_=function(t){this.dispatchEvent(new Xf(t))},r.prototype.getAccuracy=function(){return this.get(zi.ACCURACY)},r.prototype.getAccuracyGeometry=function(){return this.get(zi.ACCURACY_GEOMETRY)||null},r.prototype.getAltitude=function(){return this.get(zi.ALTITUDE)},r.prototype.getAltitudeAccuracy=function(){return this.get(zi.ALTITUDE_ACCURACY)},r.prototype.getHeading=function(){return this.get(zi.HEADING)},r.prototype.getPosition=function(){return this.get(zi.POSITION)},r.prototype.getProjection=function(){return this.get(zi.PROJECTION)},r.prototype.getSpeed=function(){return this.get(zi.SPEED)},r.prototype.getTracking=function(){return this.get(zi.TRACKING)},r.prototype.getTrackingOptions=function(){return this.get(zi.TRACKING_OPTIONS)},r.prototype.setProjection=function(t){this.set(zi.PROJECTION,en(t))},r.prototype.setTracking=function(t){this.set(zi.TRACKING,t)},r.prototype.setTrackingOptions=function(t){this.set(zi.TRACKING_OPTIONS,t)},r}(vo.a),Ns=rd,Fc={name:"ol-geolocation",emits:["positionChanged","speedChanged","headingChanged","altitudeChanged","altitudeAccuracyChanged","accuracyGeometryChanged"],setup:function(r,t){var e=t.emit,i=or(r),o=i.properties,a=Object(M.computed)(function(){var G=new Ns(o);return G.on("change",I),G}),s=Object(M.ref)([]),l=Object(M.ref)(0),h=Object(M.ref)(0),d=Object(M.ref)(0),y=Object(M.ref)(0),w=Object(M.ref)(0),C=Object(M.ref)({});Object(M.watch)(s,function(){e("positionChanged",s.value)}),Object(M.watch)(y,function(){e("speedChanged",y.value)}),Object(M.watch)(w,function(){e("headingChanged",w.value)}),Object(M.watch)(h,function(){e("altitudeChanged",h.value)}),Object(M.watch)(d,function(){e("altitudeAccuracyChanged",d.value)}),Object(M.watch)(C,function(){e("accuracyGeometryChanged",C.value)});var I=function(){s.value=a.value.getPosition(),y.value=a.value.getSpeed(),w.value=a.value.getHeading(),l.value=a.value.getAccuracy(),h.value=a.value.getAltitude(),d.value=a.value.getAltitudeAccuracy(),C.value=a.value.getAccuracyGeometry()};return Object(M.watch)(a,function(G,Z){Z.un("change",I),G.on("change",I)}),{geoLoc:a,position:s,accuracy:l,altitude:h,altitudeAccuracy:d,speed:y,heading:w,accuracyGeometry:C}},props:{projection:{type:[String,Object],default:"EPSG:3857"},tracking:{type:Boolean,default:!0},trackingOptions:{type:Object,default:function(){return{enableHighAccuracy:!0}}}}},nd=Ce()(Fc,[["render",jg]]);function id(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var Dg=function(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]},fl=1,Gl=2,Vu=3,Zf=4,Vp=5,Bg=6378137,Wp=6356752314e-3,Ul=.0066943799901413165,$f=484813681109536e-20,hr=Math.PI/2,Nm=.16666666666666666,Gg=.04722222222222222,od=.022156084656084655,Dr=1e-10,ko=.017453292519943295,Wa=57.29577951308232,yi=Math.PI/4,kl=Math.PI*2,ao=3.14159265359,Ca={};Ca.greenwich=0,Ca.lisbon=-9.131906111111,Ca.paris=2.337229166667,Ca.bogota=-74.080916666667,Ca.madrid=-3.687938888889,Ca.rome=12.452333333333,Ca.bern=7.439583333333,Ca.jakarta=106.807719444444,Ca.ferro=-17.666666666667,Ca.brussels=4.367975,Ca.stockholm=18.058277777778,Ca.athens=23.7163375,Ca.oslo=10.722916666667;var ad={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Yp=/[\s_\-\/\(\)]/g;function hl(n,r){if(n[r])return n[r];for(var t=Object.keys(n),e=r.toLowerCase().replace(Yp,""),i=-1,o,a;++i<t.length;)if(o=t[i],a=o.toLowerCase().replace(Yp,""),a===e)return n[o]}var dl=function(n){var r={},t=n.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,l){var h=l.split("=");return h.push(!0),s[h[0].toLowerCase()]=h[1],s},{}),e,i,o,a={proj:"projName",datum:"datumCode",rf:function(s){r.rf=parseFloat(s)},lat_0:function(s){r.lat0=s*ko},lat_1:function(s){r.lat1=s*ko},lat_2:function(s){r.lat2=s*ko},lat_ts:function(s){r.lat_ts=s*ko},lon_0:function(s){r.long0=s*ko},lon_1:function(s){r.long1=s*ko},lon_2:function(s){r.long2=s*ko},alpha:function(s){r.alpha=parseFloat(s)*ko},gamma:function(s){r.rectified_grid_angle=parseFloat(s)},lonc:function(s){r.longc=s*ko},x_0:function(s){r.x0=parseFloat(s)},y_0:function(s){r.y0=parseFloat(s)},k_0:function(s){r.k0=parseFloat(s)},k:function(s){r.k0=parseFloat(s)},a:function(s){r.a=parseFloat(s)},b:function(s){r.b=parseFloat(s)},r_a:function(){r.R_A=!0},zone:function(s){r.zone=parseInt(s,10)},south:function(){r.utmSouth=!0},towgs84:function(s){r.datum_params=s.split(",").map(function(l){return parseFloat(l)})},to_meter:function(s){r.to_meter=parseFloat(s)},units:function(s){r.units=s;var l=hl(ad,s);l&&(r.to_meter=l.to_meter)},from_greenwich:function(s){r.from_greenwich=s*ko},pm:function(s){var l=hl(Ca,s);r.from_greenwich=(l||parseFloat(s))*ko},nadgrids:function(s){s==="@null"?r.datumCode="none":r.nadgrids=s},axis:function(s){var l="ewnsud";s.length===3&&l.indexOf(s.substr(0,1))!==-1&&l.indexOf(s.substr(1,1))!==-1&&l.indexOf(s.substr(2,1))!==-1&&(r.axis=s)},approx:function(){r.approx=!0}};for(e in t)i=t[e],e in a?(o=a[e],typeof o=="function"?o(i):r[o]=i):r[e]=i;return typeof r.datumCode=="string"&&r.datumCode!=="WGS84"&&(r.datumCode=r.datumCode.toLowerCase()),r},Ug=Vl,jc=1,kg=2,Hp=3,zl=4,zg=5,sd=-1,Fm=/\s/,Vg=/[A-Za-z]/,jm=/[A-Za-z84_]/,yu=/[,\]]/,ld=/[\d\.E\-\+]/;function ss(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=jc}ss.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==zl)for(;Fm.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case jc:return this.neutral(n);case kg:return this.keyword(n);case zl:return this.quoted(n);case zg:return this.afterquote(n);case Hp:return this.number(n);case sd:return}},ss.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=zl;return}if(yu.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)},ss.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=jc;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=jc,this.currentObject=this.stack.pop(),this.currentObject||(this.state=sd);return}},ss.prototype.number=function(n){if(ld.test(n)){this.word+=n;return}if(yu.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)},ss.prototype.quoted=function(n){if(n==='"'){this.state=zg;return}this.word+=n},ss.prototype.keyword=function(n){if(jm.test(n)){this.word+=n;return}if(n==="["){var r=[];r.push(this.word),this.level++,this.root===null?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,this.state=jc;return}if(yu.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)},ss.prototype.neutral=function(n){if(Vg.test(n)){this.word=n,this.state=kg;return}if(n==='"'){this.word="",this.state=zl;return}if(ld.test(n)){this.word=n,this.state=Hp;return}if(yu.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)},ss.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===sd)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Vl(n){var r=new ss(n);return r.output()}function Wl(n,r,t){Array.isArray(r)&&(t.unshift(r),r=null);var e=r?{}:n,i=t.reduce(function(o,a){return Ya(a,o),o},e);r&&(n[r]=i)}function Ya(n,r){if(!Array.isArray(n)){r[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){r[t]={},Ya(n[0],r[t]);return}r[t]=n[0];return}if(!n.length){r[t]=!0;return}if(t==="TOWGS84"){r[t]=n;return}if(t==="AXIS"){t in r||(r[t]=[]),r[t].push(n);return}Array.isArray(t)||(r[t]={});var e;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":r[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&Ya(n[2],r[t]);return;case"SPHEROID":case"ELLIPSOID":r[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&Ya(n[3],r[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],Wl(r,t,n);return;default:for(e=-1;++e<n.length;)if(!Array.isArray(n[e]))return Ya(n,r[t]);return Wl(r,t,n)}}var ud=.017453292519943295;function Xp(n,r){var t=r[0],e=r[1];!(t in n)&&e in n&&(n[t]=n[e],r.length===3&&(n[t]=r[2](n[t])))}function pl(n){return n*ud}function Dm(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var r="",t=0,e=n.AXIS.length;t<e;++t){var i=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?r+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?r+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?r+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(n.axis=r)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var o=n.GEOGCS;n.type==="GEOGCS"&&(o=n),o&&(o.DATUM?n.datumCode=o.DATUM.name.toLowerCase():n.datumCode=o.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(n.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=o.DATUM.SPHEROID.a,n.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(n.datum_params=o.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function a(h){var d=n.to_meter||1;return h*d}var s=function(h){return Xp(n,h)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",pl],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",pl],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",pl],["lat0","latitude_of_origin",pl],["lat0","standard_parallel_1",pl],["lat1","standard_parallel_1",pl],["lat2","standard_parallel_2",pl],["azimuth","Azimuth"],["alpha","azimuth",pl],["srsCode","name"]];l.forEach(s),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")&&(n.lat0=pl(n.lat1>0?90:-90),n.lat_ts=n.lat1)}var cd=function(n){var r=Ug(n),t=r.shift(),e=r.shift();r.unshift(["name",e]),r.unshift(["type",t]);var i={};return Ya(r,i),Dm(i),i};function La(n){var r=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?La[n]=dl(arguments[1]):La[n]=cd(arguments[1]):La[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(e){Array.isArray(e)?La.apply(r,e):La(e)});if(typeof n=="string"){if(n in La)return La[n]}else"EPSG"in n?La["EPSG:"+n.EPSG]=n:"ESRI"in n?La["ESRI:"+n.ESRI]=n:"IAU2000"in n?La["IAU2000:"+n.IAU2000]=n:console.log(n);return}}Dg(La);var Wg=La;function Jb(n){return typeof n=="string"}function qb(n){return n in Wg}var Qb=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function tC(n){return Qb.some(function(r){return n.indexOf(r)>-1})}var eC=["3857","900913","3785","102113"];function rC(n){var r=hl(n,"authority");if(!!r){var t=hl(r,"epsg");return t&&eC.indexOf(t)>-1}}function nC(n){var r=hl(n,"extension");if(!!r)return hl(r,"proj4")}function iC(n){return n[0]==="+"}function oC(n){if(Jb(n)){if(qb(n))return Wg[n];if(tC(n)){var r=cd(n);if(rC(r))return Wg["EPSG:3857"];var t=nC(r);return t?dl(t):r}if(iC(n))return dl(n)}else return n}var aC=oC,qE=function(n,r){n=n||{};var t,e;if(!r)return n;for(e in r)t=r[e],t!==void 0&&(n[e]=t);return n},mu=function(n,r,t){var e=n*r;return t/Math.sqrt(1-e*e)},Kp=function(n){return n<0?-1:1},Zr=function(n){return Math.abs(n)<=ao?n:n-Kp(n)*kl},Yl=function(n,r,t){var e=n*t,i=.5*n;return e=Math.pow((1-e)/(1+e),i),Math.tan(.5*(hr-r))/e},Zp=function(n,r){for(var t=.5*n,e,i,o=hr-2*Math.atan(r),a=0;a<=15;a++)if(e=n*Math.sin(o),i=hr-2*Math.atan(r*Math.pow((1-e)/(1+e),t))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999};function sC(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=mu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function lC(n){var r=n.x,t=n.y;if(t*Wa>90&&t*Wa<-90&&r*Wa>180&&r*Wa<-180)return null;var e,i;if(Math.abs(Math.abs(t)-hr)<=Dr)return null;if(this.sphere)e=this.x0+this.a*this.k0*Zr(r-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(yi+.5*t));else{var o=Math.sin(t),a=Yl(this.e,t,o);e=this.x0+this.a*this.k0*Zr(r-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return n.x=e,n.y=i,n}function uC(n){var r=n.x-this.x0,t=n.y-this.y0,e,i;if(this.sphere)i=hr-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(i=Zp(this.e,o),i===-9999)return null}return e=Zr(this.long0+r/(this.a*this.k0)),n.x=e,n.y=i,n}var cC=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],fC={init:sC,forward:lC,inverse:uC,names:cC};function hC(){}function QE(n){return n}var dC=["longlat","identity"],pC={init:hC,forward:QE,inverse:QE,names:dC},vC=[fC,pC],Yg={},Hg=[];function tx(n,r){var t=Hg.length;return n.names?(Hg[t]=n,n.names.forEach(function(e){Yg[e.toLowerCase()]=t}),this):(console.log(r),!0)}function gC(n){if(!n)return!1;var r=n.toLowerCase();if(typeof Yg[r]!="undefined"&&Hg[Yg[r]])return Hg[Yg[r]]}function yC(){vC.forEach(tx)}var mC={start:yC,add:tx,get:gC},zn={};zn.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},zn.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},zn.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},zn.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},zn.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},zn.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},zn.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},zn.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},zn.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},zn.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},zn.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},zn.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},zn.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},zn.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},zn.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},zn.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},zn.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},zn.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},zn.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},zn.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},zn.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},zn.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},zn.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},zn.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},zn.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},zn.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},zn.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},zn.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},zn.hough={a:6378270,rf:297,ellipseName:"Hough"},zn.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},zn.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},zn.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},zn.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},zn.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},zn.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},zn.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},zn.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},zn.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},zn.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},zn.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},zn.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var _C=zn.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};zn.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function EC(n,r,t,e){var i=n*n,o=r*r,a=(i-o)/i,s=0;e?(n*=1-a*(Nm+a*(Gg+a*od)),i=n*n,a=0):s=Math.sqrt(a);var l=(i-o)/o;return{es:a,e:s,ep2:l}}function xC(n,r,t,e,i){if(!n){var o=hl(zn,e);o||(o=_C),n=o.a,r=o.b,t=o.rf}return t&&!r&&(r=(1-1/t)*n),(t===0||Math.abs(n-r)<Dr)&&(i=!0,r=n),{a:n,b:r,rf:t,sphere:i}}var aa={};aa.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},aa.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},aa.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},aa.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},aa.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},aa.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},aa.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},aa.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},aa.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},aa.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},aa.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},aa.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},aa.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},aa.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},aa.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},aa.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},aa.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function SC(n,r,t,e,i,o,a){var s={};return n===void 0||n==="none"?s.datum_type=Vp:s.datum_type=Zf,r&&(s.datum_params=r.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=fl),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=Gl,s.datum_params[3]*=$f,s.datum_params[4]*=$f,s.datum_params[5]*=$f,s.datum_params[6]=s.datum_params[6]/1e6+1)),a&&(s.datum_type=Vu,s.grids=a),s.a=t,s.b=e,s.es=i,s.ep2=o,s}var wC=SC,ex={};function OC(n,r){var t=new DataView(r),e=CC(t),i=LC(t,e);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=AC(t,i,e),a={header:i,subgrids:o};return ex[n]=a,a}function TC(n){if(n===void 0)return null;var r=n.split(",");return r.map(bC)}function bC(n){if(n.length===0)return null;var r=n[0]==="@";return r&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!r,grid:null,isNull:!0}:{name:n,mandatory:!r,grid:ex[n]||null,isNull:!1}}function fd(n){return n/3600*Math.PI/180}function CC(n){var r=n.getInt32(8,!1);return r===11?!1:(r=n.getInt32(8,!0),r!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function LC(n,r){return{nFields:n.getInt32(8,r),nSubgridFields:n.getInt32(24,r),nSubgrids:n.getInt32(40,r),shiftType:Bm(n,56,56+8).trim(),fromSemiMajorAxis:n.getFloat64(120,r),fromSemiMinorAxis:n.getFloat64(136,r),toSemiMajorAxis:n.getFloat64(152,r),toSemiMinorAxis:n.getFloat64(168,r)}}function Bm(n,r,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(r,t)))}function AC(n,r,t){for(var e=176,i=[],o=0;o<r.nSubgrids;o++){var a=PC(n,e,t),s=MC(n,e,a,t),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),h=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[fd(a.lowerLongitude),fd(a.lowerLatitude)],del:[fd(a.longitudeInterval),fd(a.latitudeInterval)],lim:[l,h],count:a.gridNodeCount,cvs:RC(s)})}return i}function RC(n){return n.map(function(r){return[fd(r.longitudeShift),fd(r.latitudeShift)]})}function PC(n,r,t){return{name:Bm(n,r+8,r+16).trim(),parent:Bm(n,r+24,r+24+8).trim(),lowerLatitude:n.getFloat64(r+72,t),upperLatitude:n.getFloat64(r+88,t),lowerLongitude:n.getFloat64(r+104,t),upperLongitude:n.getFloat64(r+120,t),latitudeInterval:n.getFloat64(r+136,t),longitudeInterval:n.getFloat64(r+152,t),gridNodeCount:n.getInt32(r+168,t)}}function MC(n,r,t,e){for(var i=r+176,o=16,a=[],s=0;s<t.gridNodeCount;s++){var l={latitudeShift:n.getFloat32(i+s*o,e),longitudeShift:n.getFloat32(i+s*o+4,e),latitudeAccuracy:n.getFloat32(i+s*o+8,e),longitudeAccuracy:n.getFloat32(i+s*o+12,e)};a.push(l)}return a}function hd(n,r){if(!(this instanceof hd))return new hd(n);r=r||function(h){if(h)throw h};var t=aC(n);if(typeof t!="object"){r(n);return}var e=hd.projections.get(t.projName);if(!e){r(n);return}if(t.datumCode&&t.datumCode!=="none"){var i=hl(aa,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=xC(t.a,t.b,t.rf,t.ellps,t.sphere),a=EC(o.a,o.b,o.rf,t.R_A),s=TC(t.nadgrids),l=t.datum||wC(t.datumCode,t.datum_params,o.a,o.b,a.es,a.ep2,s);qE(this,t),qE(this,e),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),r(null,this)}hd.projections=mC,hd.projections.start();var $p=hd;function IC(n,r){return n.datum_type!==r.datum_type||n.a!==r.a||Math.abs(n.es-r.es)>5e-11?!1:n.datum_type===fl?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]:n.datum_type===Gl?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]&&n.datum_params[3]===r.datum_params[3]&&n.datum_params[4]===r.datum_params[4]&&n.datum_params[5]===r.datum_params[5]&&n.datum_params[6]===r.datum_params[6]:!0}function rx(n,r,t){var e=n.x,i=n.y,o=n.z?n.z:0,a,s,l,h;if(i<-hr&&i>-1.001*hr)i=-hr;else if(i>hr&&i<1.001*hr)i=hr;else{if(i<-hr)return{x:-1/0,y:-1/0,z:n.z};if(i>hr)return{x:1/0,y:1/0,z:n.z}}return e>Math.PI&&(e-=2*Math.PI),s=Math.sin(i),h=Math.cos(i),l=s*s,a=t/Math.sqrt(1-r*l),{x:(a+o)*h*Math.cos(e),y:(a+o)*h*Math.sin(e),z:(a*(1-r)+o)*s}}function nx(n,r,t,e){var i=1e-12,o=i*i,a=30,s,l,h,d,y,w,C,I,G,Z,lt,pt,Et,ht=n.x,zt=n.y,Gt=n.z?n.z:0,$t,Xt,ce;if(s=Math.sqrt(ht*ht+zt*zt),l=Math.sqrt(ht*ht+zt*zt+Gt*Gt),s/t<i){if($t=0,l/t<i)return Xt=hr,ce=-e,{x:n.x,y:n.y,z:n.z}}else $t=Math.atan2(zt,ht);h=Gt/l,d=s/l,y=1/Math.sqrt(1-r*(2-r)*d*d),I=d*(1-r)*y,G=h*y,Et=0;do Et++,C=t/Math.sqrt(1-r*G*G),ce=s*I+Gt*G-C*(1-r*G*G),w=r*C/(C+ce),y=1/Math.sqrt(1-w*(2-w)*d*d),Z=d*(1-w)*y,lt=h*y,pt=lt*I-Z*G,I=Z,G=lt;while(pt*pt>o&&Et<a);return Xt=Math.atan(lt/Math.abs(Z)),{x:$t,y:Xt,z:ce}}function NC(n,r,t){if(r===fl)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(r===Gl){var e=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],h=t[6];return{x:h*(n.x-l*n.y+s*n.z)+e,y:h*(l*n.x+n.y-a*n.z)+i,z:h*(-s*n.x+a*n.y+n.z)+o}}}function FC(n,r,t){if(r===fl)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(r===Gl){var e=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],h=t[6],d=(n.x-e)/h,y=(n.y-i)/h,w=(n.z-o)/h;return{x:d+l*y-s*w,y:-l*d+y+a*w,z:s*d-a*y+w}}}function Xg(n){return n===fl||n===Gl}var jC=function(n,r,t){if(IC(n,r)||n.datum_type===Vp||r.datum_type===Vp)return t;var e=n.a,i=n.es;if(n.datum_type===Vu){var o=ix(n,!1,t);if(o!==0)return;e=Bg,i=Ul}var a=r.a,s=r.b,l=r.es;if(r.datum_type===Vu&&(a=Bg,s=Wp,l=Ul),i===l&&e===a&&!Xg(n.datum_type)&&!Xg(r.datum_type))return t;if(t=rx(t,i,e),Xg(n.datum_type)&&(t=NC(t,n.datum_type,n.datum_params)),Xg(r.datum_type)&&(t=FC(t,r.datum_type,r.datum_params)),t=nx(t,l,a,s),r.datum_type===Vu){var h=ix(r,!0,t);if(h!==0)return}return t};function ix(n,r,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var e={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},o=[],a=0;a<n.grids.length;a++){var s=n.grids[a];if(o.push(s.name),s.isNull){i=e;break}if(s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}var l=s.grid.subgrids[0],h=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,d=l.ll[0]-h,y=l.ll[1]-h,w=l.ll[0]+(l.lim[0]-1)*l.del[0]+h,C=l.ll[1]+(l.lim[1]-1)*l.del[1]+h;if(!(y>e.y||d>e.x||C<e.y||w<e.x)&&(i=DC(e,r,l),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*Wa+" "+e.y*Wa+" tried: '"+o+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function DC(n,r,t){var e={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return e;var i={x:n.x,y:n.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=Zr(i.x-Math.PI)+Math.PI;var o=ox(i,t);if(r){if(isNaN(o.x))return e;o.x=i.x-o.x,o.y=i.y-o.y;var a=9,s=1e-12,l,h;do{if(h=ox(o,t),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(h.x+o.x),y:i.y-(h.y+o.y)},o.x+=l.x,o.y+=l.y}while(a--&&Math.abs(l.x)>s&&Math.abs(l.y)>s);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=Zr(o.x+t.ll[0]),e.y=o.y+t.ll[1]}else isNaN(o.x)||(e.x=n.x+o.x,e.y=n.y+o.y);return e}function ox(n,r){var t={x:n.x/r.del[0],y:n.y/r.del[1]},e={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*e.x,y:t.y-1*e.y},o={x:Number.NaN,y:Number.NaN},a;if(e.x<0||e.x>=r.lim[0]||e.y<0||e.y>=r.lim[1])return o;a=e.y*r.lim[0]+e.x;var s={x:r.cvs[a][0],y:r.cvs[a][1]};a++;var l={x:r.cvs[a][0],y:r.cvs[a][1]};a+=r.lim[0];var h={x:r.cvs[a][0],y:r.cvs[a][1]};a--;var d={x:r.cvs[a][0],y:r.cvs[a][1]},y=i.x*i.y,w=i.x*(1-i.y),C=(1-i.x)*(1-i.y),I=(1-i.x)*i.y;return o.x=C*s.x+w*l.x+I*d.x+y*h.x,o.y=C*s.y+w*l.y+I*d.y+y*h.y,o}var ax=function(n,r,t){var e=t.x,i=t.y,o=t.z||0,a,s,l,h={};for(l=0;l<3;l++)if(!(r&&l===2&&t.z===void 0))switch(l===0?(a=e,"ew".indexOf(n.axis[l])!==-1?s="x":s="y"):l===1?(a=i,"ns".indexOf(n.axis[l])!==-1?s="y":s="x"):(a=o,s="z"),n.axis[l]){case"e":h[s]=a;break;case"w":h[s]=-a;break;case"n":h[s]=a;break;case"s":h[s]=-a;break;case"u":t[s]!==void 0&&(h.z=a);break;case"d":t[s]!==void 0&&(h.z=-a);break;default:return null}return h},sx=function(n){var r={x:n[0],y:n[1]};return n.length>2&&(r.z=n[2]),n.length>3&&(r.m=n[3]),r},BC=function(n){lx(n.x),lx(n.y)};function lx(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function GC(n,r){return(n.datum.datum_type===fl||n.datum.datum_type===Gl)&&r.datumCode!=="WGS84"||(r.datum.datum_type===fl||r.datum.datum_type===Gl)&&n.datumCode!=="WGS84"}function Kg(n,r,t,e){var i;if(Array.isArray(t)&&(t=sx(t)),BC(t),n.datum&&r.datum&&GC(n,r)&&(i=new $p("WGS84"),t=Kg(n,i,t,e),n=i),e&&n.axis!=="enu"&&(t=ax(n,!1,t)),n.projName==="longlat")t={x:t.x*ko,y:t.y*ko,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=jC(n.datum,r.datum,t),!!t)return r.from_greenwich&&(t={x:t.x-r.from_greenwich,y:t.y,z:t.z||0}),r.projName==="longlat"?t={x:t.x*Wa,y:t.y*Wa,z:t.z||0}:(t=r.forward(t),r.to_meter&&(t={x:t.x/r.to_meter,y:t.y/r.to_meter,z:t.z||0})),e&&r.axis!=="enu"?ax(r,!0,t):t}var ux=$p("WGS84");function Gm(n,r,t,e){var i,o,a;return Array.isArray(t)?(i=Kg(n,r,t,e)||{x:NaN,y:NaN},t.length>2?typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.splice(3)):[i.x,i.y,t[2]].concat(t.splice(3)):[i.x,i.y].concat(t.splice(2)):[i.x,i.y]):(o=Kg(n,r,t,e),a=Object.keys(t),a.length===2||a.forEach(function(s){if(typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;o[s]=t[s]}),o)}function cx(n){return n instanceof $p?n:n.oProj?n.oProj:$p(n)}function UC(n,r,t){n=cx(n);var e=!1,i;return typeof r=="undefined"?(r=n,n=ux,e=!0):(typeof r.x!="undefined"||Array.isArray(r))&&(t=r,r=n,n=ux,e=!0),r=cx(r),t?Gm(n,r,t):(i={forward:function(o,a){return Gm(n,r,o,a)},inverse:function(o,a){return Gm(r,n,o,a)}},e&&(i.oProj=r),i)}var Fs=UC,fx=6,hx="AJSAJS",dx="AFAFAF",dd=65,ls=73,vl=79,Jp=86,qp=90,kC={forward:px,inverse:zC,toPoint:vx};function px(n,r){return r=r||5,YC(VC({lat:n[1],lon:n[0]}),r)}function zC(n){var r=km(mx(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat,r.lon,r.lat]:[r.left,r.bottom,r.right,r.top]}function vx(n){var r=km(mx(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat]:[(r.left+r.right)/2,(r.top+r.bottom)/2]}function Um(n){return n*(Math.PI/180)}function gx(n){return 180*(n/Math.PI)}function VC(n){var r=n.lat,t=n.lon,e=6378137,i=.00669438,o=.9996,a,s,l,h,d,y,w,C=Um(r),I=Um(t),G,Z;Z=Math.floor((t+180)/6)+1,t===180&&(Z=60),r>=56&&r<64&&t>=3&&t<12&&(Z=32),r>=72&&r<84&&(t>=0&&t<9?Z=31:t>=9&&t<21?Z=33:t>=21&&t<33?Z=35:t>=33&&t<42&&(Z=37)),a=(Z-1)*6-180+3,G=Um(a),s=i/(1-i),l=e/Math.sqrt(1-i*Math.sin(C)*Math.sin(C)),h=Math.tan(C)*Math.tan(C),d=s*Math.cos(C)*Math.cos(C),y=Math.cos(C)*(I-G),w=e*((1-i/4-3*i*i/64-5*i*i*i/256)*C-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*C)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*C)-35*i*i*i/3072*Math.sin(6*C));var lt=o*l*(y+(1-h+d)*y*y*y/6+(5-18*h+h*h+72*d-58*s)*y*y*y*y*y/120)+5e5,pt=o*(w+l*Math.tan(C)*(y*y/2+(5-h+9*d+4*d*d)*y*y*y*y/24+(61-58*h+h*h+600*d-330*s)*y*y*y*y*y*y/720));return r<0&&(pt+=1e7),{northing:Math.round(pt),easting:Math.round(lt),zoneNumber:Z,zoneLetter:WC(r)}}function km(n){var r=n.northing,t=n.easting,e=n.zoneLetter,i=n.zoneNumber;if(i<0||i>60)return null;var o=.9996,a=6378137,s=.00669438,l,h=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),d,y,w,C,I,G,Z,lt,pt,Et=t-5e5,ht=r;e<"N"&&(ht-=1e7),Z=(i-1)*6-180+3,l=s/(1-s),G=ht/o,lt=G/(a*(1-s/4-3*s*s/64-5*s*s*s/256)),pt=lt+(3*h/2-27*h*h*h/32)*Math.sin(2*lt)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*lt)+151*h*h*h/96*Math.sin(6*lt),d=a/Math.sqrt(1-s*Math.sin(pt)*Math.sin(pt)),y=Math.tan(pt)*Math.tan(pt),w=l*Math.cos(pt)*Math.cos(pt),C=a*(1-s)/Math.pow(1-s*Math.sin(pt)*Math.sin(pt),1.5),I=Et/(d*o);var zt=pt-d*Math.tan(pt)/C*(I*I/2-(5+3*y+10*w-4*w*w-9*l)*I*I*I*I/24+(61+90*y+298*w+45*y*y-252*l-3*w*w)*I*I*I*I*I*I/720);zt=gx(zt);var Gt=(I-(1+2*y+w)*I*I*I/6+(5-2*w+28*y-3*w*w+8*l+24*y*y)*I*I*I*I*I/120)/Math.cos(pt);Gt=Z+gx(Gt);var $t;if(n.accuracy){var Xt=km({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});$t={top:Xt.lat,right:Xt.lon,bottom:zt,left:Gt}}else $t={lat:zt,lon:Gt};return $t}function WC(n){var r="Z";return 84>=n&&n>=72?r="X":72>n&&n>=64?r="W":64>n&&n>=56?r="V":56>n&&n>=48?r="U":48>n&&n>=40?r="T":40>n&&n>=32?r="S":32>n&&n>=24?r="R":24>n&&n>=16?r="Q":16>n&&n>=8?r="P":8>n&&n>=0?r="N":0>n&&n>=-8?r="M":-8>n&&n>=-16?r="L":-16>n&&n>=-24?r="K":-24>n&&n>=-32?r="J":-32>n&&n>=-40?r="H":-40>n&&n>=-48?r="G":-48>n&&n>=-56?r="F":-56>n&&n>=-64?r="E":-64>n&&n>=-72?r="D":-72>n&&n>=-80&&(r="C"),r}function YC(n,r){var t="00000"+n.easting,e="00000"+n.northing;return n.zoneNumber+n.zoneLetter+HC(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,r)+e.substr(e.length-5,r)}function HC(n,r,t){var e=yx(t),i=Math.floor(n/1e5),o=Math.floor(r/1e5)%20;return XC(i,o,e)}function yx(n){var r=n%fx;return r===0&&(r=fx),r}function XC(n,r,t){var e=t-1,i=hx.charCodeAt(e),o=dx.charCodeAt(e),a=i+n-1,s=o+r,l=!1;a>qp&&(a=a-qp+dd-1,l=!0),(a===ls||i<ls&&a>ls||(a>ls||i<ls)&&l)&&a++,(a===vl||i<vl&&a>vl||(a>vl||i<vl)&&l)&&(a++,a===ls&&a++),a>qp&&(a=a-qp+dd-1),s>Jp?(s=s-Jp+dd-1,l=!0):l=!1,(s===ls||o<ls&&s>ls||(s>ls||o<ls)&&l)&&s++,(s===vl||o<vl&&s>vl||(s>vl||o<vl)&&l)&&(s++,s===ls&&s++),s>Jp&&(s=s-Jp+dd-1);var h=String.fromCharCode(a)+String.fromCharCode(s);return h}function mx(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var r=n.length,t=null,e="",i,o=0;!/[A-Z]/.test(i=n.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+n;e+=i,o++}var a=parseInt(e,10);if(o===0||o+3>r)throw"MGRSPoint bad conversion from: "+n;var s=n.charAt(o++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+n;t=n.substring(o,o+=2);for(var l=yx(a),h=KC(t.charAt(0),l),d=ZC(t.charAt(1),l);d<$C(s);)d+=2e6;var y=r-o;if(y%2!=0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var w=y/2,C=0,I=0,G,Z,lt,pt,Et;return w>0&&(G=1e5/Math.pow(10,w),Z=n.substring(o,o+w),C=parseFloat(Z)*G,lt=n.substring(o+w),I=parseFloat(lt)*G),pt=C+h,Et=I+d,{easting:pt,northing:Et,zoneLetter:s,zoneNumber:a,accuracy:G}}function KC(n,r){for(var t=hx.charCodeAt(r-1),e=1e5,i=!1;t!==n.charCodeAt(0);){if(t++,t===ls&&t++,t===vl&&t++,t>qp){if(i)throw"Bad character: "+n;t=dd,i=!0}e+=1e5}return e}function ZC(n,r){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=dx.charCodeAt(r-1),e=0,i=!1;t!==n.charCodeAt(0);){if(t++,t===ls&&t++,t===vl&&t++,t>Jp){if(i)throw"Bad character: "+n;t=dd,i=!0}e+=1e5}return e}function $C(n){var r;switch(n){case"C":r=11e5;break;case"D":r=2e6;break;case"E":r=28e5;break;case"F":r=37e5;break;case"G":r=46e5;break;case"H":r=55e5;break;case"J":r=64e5;break;case"K":r=73e5;break;case"L":r=82e5;break;case"M":r=91e5;break;case"N":r=0;break;case"P":r=8e5;break;case"Q":r=17e5;break;case"R":r=26e5;break;case"S":r=35e5;break;case"T":r=44e5;break;case"U":r=53e5;break;case"V":r=62e5;break;case"W":r=7e6;break;case"X":r=79e5;break;default:r=-1}if(r>=0)return r;throw"Invalid zone letter: "+n}function pd(n,r,t){if(!(this instanceof pd))return new pd(n,r,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof r=="undefined"){var e=n.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=n,this.y=r,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}pd.fromMGRS=function(n){return new pd(vx(n))},pd.prototype.toMGRS=function(n){return px([this.x,this.y],n)};var JC=pd,qC=1,QC=.25,_x=.046875,Ex=.01953125,xx=.01068115234375,tL=.75,eL=.46875,rL=.013020833333333334,nL=.007120768229166667,iL=.3645833333333333,oL=.005696614583333333,aL=.3076171875,Sx=function(n){var r=[];r[0]=qC-n*(QC+n*(_x+n*(Ex+n*xx))),r[1]=n*(tL-n*(_x+n*(Ex+n*xx)));var t=n*n;return r[2]=t*(eL-n*(rL+n*nL)),t*=n,r[3]=t*(iL-n*oL),r[4]=t*n*aL,r},Zg=function(n,r,t,e){return t*=r,r*=r,e[0]*n-t*(e[1]+r*(e[2]+r*(e[3]+r*e[4])))},sL=20,wx=function(n,r,t){for(var e=1/(1-r),i=n,o=sL;o;--o){var a=Math.sin(i),s=1-r*a*a;if(s=(Zg(i,a,Math.cos(i),t)-n)*(s*Math.sqrt(s))*e,i-=s,Math.abs(s)<Dr)return i}return i};function lL(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Sx(this.es),this.ml0=Zg(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function uL(n){var r=n.x,t=n.y,e=Zr(r-this.long0),i,o,a,s=Math.sin(t),l=Math.cos(t);if(this.es){var d=l*e,y=Math.pow(d,2),w=this.ep2*Math.pow(l,2),C=Math.pow(w,2),I=Math.abs(l)>Dr?Math.tan(t):0,G=Math.pow(I,2),Z=Math.pow(G,2);i=1-this.es*Math.pow(s,2),d=d/Math.sqrt(i);var lt=Zg(t,s,l,this.en);o=this.a*(this.k0*d*(1+y/6*(1-G+w+y/20*(5-18*G+Z+14*w-58*G*w+y/42*(61+179*Z-Z*G-479*G)))))+this.x0,a=this.a*(this.k0*(lt-this.ml0+s*e*d/2*(1+y/12*(5-G+9*w+4*C+y/30*(61+Z-58*G+270*w-330*G*w+y/56*(1385+543*Z-Z*G-3111*G))))))+this.y0}else{var h=l*Math.sin(e);if(Math.abs(Math.abs(h)-1)<Dr)return 93;if(o=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,a=l*Math.cos(e)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(a),h>=1){if(h-1>Dr)return 93;a=0}else a=Math.acos(a);t<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return n.x=o,n.y=a,n}function cL(n){var r,t,e,i,o=(n.x-this.x0)*(1/this.a),a=(n.y-this.y0)*(1/this.a);if(this.es)if(r=this.ml0+a/this.k0,t=wx(r,this.es,this.en),Math.abs(t)<hr){var y=Math.sin(t),w=Math.cos(t),C=Math.abs(w)>Dr?Math.tan(t):0,I=this.ep2*Math.pow(w,2),G=Math.pow(I,2),Z=Math.pow(C,2),lt=Math.pow(Z,2);r=1-this.es*Math.pow(y,2);var pt=o*Math.sqrt(r)/this.k0,Et=Math.pow(pt,2);r=r*C,e=t-r*Et/(1-this.es)*.5*(1-Et/12*(5+3*Z-9*I*Z+I-4*G-Et/30*(61+90*Z-252*I*Z+45*lt+46*I-Et/56*(1385+3633*Z+4095*lt+1574*lt*Z)))),i=Zr(this.long0+pt*(1-Et/6*(1+2*Z+I-Et/20*(5+28*Z+24*lt+8*I*Z+6*I-Et/42*(61+662*Z+1320*lt+720*lt*Z))))/w)}else e=hr*Kp(a),i=0;else{var s=Math.exp(o/this.k0),l=.5*(s-1/s),h=this.lat0+a/this.k0,d=Math.cos(h);r=Math.sqrt((1-Math.pow(d,2))/(1+Math.pow(l,2))),e=Math.asin(r),a<0&&(e=-e),l===0&&d===0?i=0:i=Zr(Math.atan2(l,d)+this.long0)}return n.x=i,n.y=e,n}var fL=["Fast_Transverse_Mercator","Fast Transverse Mercator"],$g={init:lL,forward:uL,inverse:cL,names:fL},Ox=function(n){var r=Math.exp(n);return r=(r-1/r)/2,r},Jg=function(n,r){n=Math.abs(n),r=Math.abs(r);var t=Math.max(n,r),e=Math.min(n,r)/(t||1);return t*Math.sqrt(1+Math.pow(e,2))},hL=function(n){var r=1+n,t=r-1;return t===0?n:n*Math.log(r)/t},dL=function(n){var r=Math.abs(n);return r=hL(r*(1+r/(Jg(1,r)+1))),n<0?-r:r},zm=function(n,r){for(var t=2*Math.cos(2*r),e=n.length-1,i=n[e],o=0,a;--e>=0;)a=-o+t*i+n[e],o=i,i=a;return r+a*Math.sin(2*r)},pL=function(n,r){for(var t=2*Math.cos(r),e=n.length-1,i=n[e],o=0,a;--e>=0;)a=-o+t*i+n[e],o=i,i=a;return Math.sin(r)*a},vL=function(n){var r=Math.exp(n);return r=(r+1/r)/2,r},Tx=function(n,r,t){for(var e=Math.sin(r),i=Math.cos(r),o=Ox(t),a=vL(t),s=2*i*a,l=-2*e*o,h=n.length-1,d=n[h],y=0,w=0,C=0,I,G;--h>=0;)I=w,G=y,w=d,y=C,d=-I+s*w-l*y+n[h],C=-G+l*w+s*y;return s=e*a,l=i*o,[s*d-l*C,s*C+l*d]};function gL(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&($g.init.apply(this),this.forward=$g.forward,this.inverse=$g.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),r=n/(2-n),t=r;this.cgb[0]=r*(2+r*(-2/3+r*(-2+r*(116/45+r*(26/45+r*(-2854/675)))))),this.cbg[0]=r*(-2+r*(2/3+r*(4/3+r*(-82/45+r*(32/45+r*(4642/4725)))))),t=t*r,this.cgb[1]=t*(7/3+r*(-8/5+r*(-227/45+r*(2704/315+r*(2323/945))))),this.cbg[1]=t*(5/3+r*(-16/15+r*(-13/9+r*(904/315+r*(-1522/945))))),t=t*r,this.cgb[2]=t*(56/15+r*(-136/35+r*(-1262/105+r*(73814/2835)))),this.cbg[2]=t*(-26/15+r*(34/21+r*(8/5+r*(-12686/2835)))),t=t*r,this.cgb[3]=t*(4279/630+r*(-332/35+r*(-399572/14175))),this.cbg[3]=t*(1237/630+r*(-12/5+r*(-24832/14175))),t=t*r,this.cgb[4]=t*(4174/315+r*(-144838/6237)),this.cbg[4]=t*(-734/315+r*(109598/31185)),t=t*r,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(r,2),this.Qn=this.k0/(1+r)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=r*(-.5+r*(2/3+r*(-37/96+r*(1/360+r*(81/512+r*(-96199/604800)))))),this.gtu[0]=r*(.5+r*(-2/3+r*(5/16+r*(41/180+r*(-127/288+r*(7891/37800)))))),this.utg[1]=t*(-1/48+r*(-1/15+r*(437/1440+r*(-46/105+r*(1118711/3870720))))),this.gtu[1]=t*(13/48+r*(-3/5+r*(557/1440+r*(281/630+r*(-1983433/1935360))))),t=t*r,this.utg[2]=t*(-17/480+r*(37/840+r*(209/4480+r*(-5569/90720)))),this.gtu[2]=t*(61/240+r*(-103/140+r*(15061/26880+r*(167603/181440)))),t=t*r,this.utg[3]=t*(-4397/161280+r*(11/504+r*(830251/7257600))),this.gtu[3]=t*(49561/161280+r*(-179/168+r*(6601661/7257600))),t=t*r,this.utg[4]=t*(-4583/161280+r*(108847/3991680)),this.gtu[4]=t*(34729/80640+r*(-3418889/1995840)),t=t*r,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var e=zm(this.cbg,this.lat0);this.Zb=-this.Qn*(e+pL(this.gtu,2*e))}function yL(n){var r=Zr(n.x-this.long0),t=n.y;t=zm(this.cbg,t);var e=Math.sin(t),i=Math.cos(t),o=Math.sin(r),a=Math.cos(r);t=Math.atan2(e,a*i),r=Math.atan2(o*i,Jg(e,i*a)),r=dL(Math.tan(r));var s=Tx(this.gtu,2*t,2*r);t=t+s[0],r=r+s[1];var l,h;return Math.abs(r)<=2.623395162778?(l=this.a*(this.Qn*r)+this.x0,h=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,h=1/0),n.x=l,n.y=h,n}function mL(n){var r=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,r=r/this.Qn;var e,i;if(Math.abs(r)<=2.623395162778){var o=Tx(this.utg,2*t,2*r);t=t+o[0],r=r+o[1],r=Math.atan(Ox(r));var a=Math.sin(t),s=Math.cos(t),l=Math.sin(r),h=Math.cos(r);t=Math.atan2(a*h,Jg(l,h*s)),r=Math.atan2(l,h*s),e=Zr(r+this.long0),i=zm(this.cgb,t)}else e=1/0,i=1/0;return n.x=e,n.y=i,n}var _L=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],qg={init:gL,forward:yL,inverse:mL,names:_L},EL=function(n,r){if(n===void 0){if(n=Math.floor((Zr(r)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n},xL="etmerc";function SL(){var n=EL(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*ko,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qg.init.apply(this),this.forward=qg.forward,this.inverse=qg.inverse}var wL=["Universal Transverse Mercator System","utm"],OL={init:SL,names:wL,dependsOn:xL},Vm=function(n,r){return Math.pow((1-n)/(1+n),r)},TL=20;function bL(){var n=Math.sin(this.lat0),r=Math.cos(this.lat0);r*=r,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*r*r/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+yi)/(Math.pow(Math.tan(.5*this.lat0+yi),this.C)*Vm(this.e*n,this.ratexp))}function CL(n){var r=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+yi),this.C)*Vm(this.e*Math.sin(t),this.ratexp))-hr,n.x=this.C*r,n}function LL(n){for(var r=1e-14,t=n.x/this.C,e=n.y,i=Math.pow(Math.tan(.5*e+yi)/this.K,1/this.C),o=TL;o>0&&(e=2*Math.atan(i*Vm(this.e*Math.sin(n.y),-.5*this.e))-hr,!(Math.abs(e-n.y)<r));--o)n.y=e;return o?(n.x=t,n.y=e,n):null}var AL=["gauss"],Wm={init:bL,forward:CL,inverse:LL,names:AL};function RL(){Wm.init.apply(this),!!this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function PL(n){var r,t,e,i;return n.x=Zr(n.x-this.long0),Wm.forward.apply(this,[n]),r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i=this.k0*this.R2/(1+this.sinc0*r+this.cosc0*t*e),n.x=i*t*Math.sin(n.x),n.y=i*(this.cosc0*r-this.sinc0*t*e),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function ML(n){var r,t,e,i,o;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,o=Math.sqrt(n.x*n.x+n.y*n.y)){var a=2*Math.atan2(o,this.R2);r=Math.sin(a),t=Math.cos(a),i=Math.asin(t*this.sinc0+n.y*r*this.cosc0/o),e=Math.atan2(n.x*r,o*this.cosc0*t-n.y*this.sinc0*r)}else i=this.phic0,e=0;return n.x=e,n.y=i,Wm.inverse.apply(this,[n]),n.x=Zr(n.x+this.long0),n}var IL=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],NL={init:RL,forward:PL,inverse:ML,names:IL};function FL(n,r,t){return r*=t,Math.tan(.5*(hr+n))*Math.pow((1-r)/(1+r),.5*t)}function jL(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dr&&(this.k0=.5*(1+Kp(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Dr&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Dr&&(this.k0=.5*this.cons*mu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=mu(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-hr,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function DL(n){var r=n.x,t=n.y,e=Math.sin(t),i=Math.cos(t),o,a,s,l,h,d,y=Zr(r-this.long0);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=Dr&&Math.abs(t+this.lat0)<=Dr?(n.x=NaN,n.y=NaN,n):this.sphere?(o=2*this.k0/(1+this.sinlat0*e+this.coslat0*i*Math.cos(y)),n.x=this.a*o*i*Math.sin(y)+this.x0,n.y=this.a*o*(this.coslat0*e-this.sinlat0*i*Math.cos(y))+this.y0,n):(a=2*Math.atan(this.ssfn_(t,e,this.e))-hr,l=Math.cos(a),s=Math.sin(a),Math.abs(this.coslat0)<=Dr?(h=Yl(this.e,t*this.con,this.con*e),d=2*this.a*this.k0*h/this.cons,n.x=this.x0+d*Math.sin(r-this.long0),n.y=this.y0-this.con*d*Math.cos(r-this.long0),n):(Math.abs(this.sinlat0)<Dr?(o=2*this.a*this.k0/(1+l*Math.cos(y)),n.y=o*s):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*l*Math.cos(y))),n.y=o*(this.cosX0*s-this.sinX0*l*Math.cos(y))+this.y0),n.x=o*l*Math.sin(y)+this.x0,n))}function BL(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,o,a=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return r=this.long0,t=this.lat0,a<=Dr?(n.x=r,n.y=t,n):(t=Math.asin(Math.cos(s)*this.sinlat0+n.y*Math.sin(s)*this.coslat0/a),Math.abs(this.coslat0)<Dr?this.lat0>0?r=Zr(this.long0+Math.atan2(n.x,-1*n.y)):r=Zr(this.long0+Math.atan2(n.x,n.y)):r=Zr(this.long0+Math.atan2(n.x*Math.sin(s),a*this.coslat0*Math.cos(s)-n.y*this.sinlat0*Math.sin(s))),n.x=r,n.y=t,n)}else if(Math.abs(this.coslat0)<=Dr){if(a<=Dr)return t=this.lat0,r=this.long0,n.x=r,n.y=t,n;n.x*=this.con,n.y*=this.con,e=a*this.cons/(2*this.a*this.k0),t=this.con*Zp(this.e,e),r=this.con*Zr(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),r=this.long0,a<=Dr?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+n.y*Math.sin(i)*this.cosX0/a),r=Zr(this.long0+Math.atan2(n.x*Math.sin(i),a*this.cosX0*Math.cos(i)-n.y*this.sinX0*Math.sin(i)))),t=-1*Zp(this.e,Math.tan(.5*(hr+o)));return n.x=r,n.y=t,n}var GL=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],UL={init:jL,forward:DL,inverse:BL,names:GL,ssfn_:FL};function kL(){var n=this.lat0;this.lambda0=this.long0;var r=Math.sin(n),t=this.a,e=this.rf,i=1/e,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(r,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(r/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+n/2)),h=Math.log((1+a*r)/(1-a*r));this.K=s-this.alpha*l+this.alpha*a/2*h}function zL(n){var r=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),e=-this.alpha*(r+t)+this.K,i=2*(Math.atan(Math.exp(e))-Math.PI/4),o=this.alpha*(n.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return n.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,n.x=this.R*a+this.x0,n}function VL(n){for(var r=n.x-this.x0,t=n.y-this.y0,e=r/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),a=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,h=o,d=-1e3,y=0;Math.abs(h-d)>1e-7;){if(++y>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),d=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return n.x=s,n.y=h,n}var WL=["somerc"],YL={init:kL,forward:zL,inverse:VL,names:WL},vd=1e-7;function HL(n){var r=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||r.indexOf(t)!==-1}function XL(){var n,r,t,e,i,o,a,s,l,h,d=0,y,w=0,C=0,I=0,G=0,Z=0,lt=0;this.no_off=HL(this),this.no_rot="no_rot"in this;var pt=!1;"alpha"in this&&(pt=!0);var Et=!1;if("rectified_grid_angle"in this&&(Et=!0),pt&&(lt=this.alpha),Et&&(d=this.rectified_grid_angle*ko),pt||Et)w=this.longc;else if(C=this.long1,G=this.lat1,I=this.long2,Z=this.lat2,Math.abs(G-Z)<=vd||(n=Math.abs(G))<=vd||Math.abs(n-hr)<=vd||Math.abs(Math.abs(this.lat0)-hr)<=vd||Math.abs(Math.abs(Z)-hr)<=vd)throw new Error;var ht=1-this.es;r=Math.sqrt(ht),Math.abs(this.lat0)>Dr?(s=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*s*s,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/ht),this.A=this.B*this.k0*r/n,e=this.B*r/(t*Math.sqrt(n)),i=e*e-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=e,this.E*=Math.pow(Yl(this.e,this.lat0,s),this.B)):(this.B=1/r,this.A=this.k0,this.E=e=i=1),pt||Et?(pt?(y=Math.asin(Math.sin(lt)/e),Et||(d=lt)):(y=d,lt=Math.asin(e*Math.sin(y))),this.lam0=w-Math.asin(.5*(i-1/i)*Math.tan(y))/this.B):(o=Math.pow(Yl(this.e,G,Math.sin(G)),this.B),a=Math.pow(Yl(this.e,Z,Math.sin(Z)),this.B),i=this.E/o,l=(a-o)/(a+o),h=this.E*this.E,h=(h-a*o)/(h+a*o),n=C-I,n<-Math.pi?I-=kl:n>Math.pi&&(I+=kl),this.lam0=Zr(.5*(C+I)-Math.atan(h*Math.tan(.5*this.B*(C-I))/l)/this.B),y=Math.atan(2*Math.sin(this.B*Zr(C-this.lam0))/(i-1/i)),d=lt=Math.asin(e*Math.sin(y))),this.singam=Math.sin(y),this.cosgam=Math.cos(y),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(lt))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*y,this.v_pole_n=this.ArB*Math.log(Math.tan(yi-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(yi+i))}function KL(n){var r={},t,e,i,o,a,s,l,h;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-hr)>Dr){if(a=this.E/Math.pow(Yl(this.e,n.y,Math.sin(n.y)),this.B),s=1/a,t=.5*(a-s),e=.5*(a+s),o=Math.sin(this.B*n.x),i=(t*this.singam-o*this.cosgam)/e,Math.abs(Math.abs(i)-1)<Dr)throw new Error;h=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*n.x),Math.abs(s)<vd?l=this.A*n.x:l=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,s)}else h=n.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*n.y;return this.no_rot?(r.x=l,r.y=h):(l-=this.u_0,r.x=h*this.cosrot+l*this.sinrot,r.y=l*this.cosrot-h*this.sinrot),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function ZL(n){var r,t,e,i,o,a,s,l={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,r=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,r=n.y*this.cosrot+n.x*this.sinrot+this.u_0),e=Math.exp(-this.BrA*t),i=.5*(e-1/e),o=.5*(e+1/e),a=Math.sin(this.BrA*r),s=(a*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(s)-1)<Dr)l.x=0,l.y=s<0?-hr:hr;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=Zp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*r))}return l.x+=this.lam0,l}var $L=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],JL={init:XL,forward:KL,inverse:ZL,names:$L};function qL(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Dr)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var r=Math.sin(this.lat1),t=Math.cos(this.lat1),e=mu(this.e,r,t),i=Yl(this.e,this.lat1,r),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=mu(this.e,o,a),l=Yl(this.e,this.lat2,o),h=Yl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Dr?this.ns=Math.log(e/s)/Math.log(i/l):this.ns=r,isNaN(this.ns)&&(this.ns=r),this.f0=e/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function QL(n){var r=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=Dr&&(t=Kp(t)*(hr-2*Dr));var e=Math.abs(Math.abs(t)-hr),i,o;if(e>Dr)i=Yl(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(i,this.ns);else{if(e=t*this.ns,e<=0)return null;o=0}var a=this.ns*Zr(r-this.long0);return n.x=this.k0*(o*Math.sin(a))+this.x0,n.y=this.k0*(this.rh-o*Math.cos(a))+this.y0,n}function tA(n){var r,t,e,i,o,a=(n.x-this.x0)/this.k0,s=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(r=Math.sqrt(a*a+s*s),t=1):(r=-Math.sqrt(a*a+s*s),t=-1);var l=0;if(r!==0&&(l=Math.atan2(t*a,t*s)),r!==0||this.ns>0){if(t=1/this.ns,e=Math.pow(r/(this.a*this.f0),t),i=Zp(this.e,e),i===-9999)return null}else i=-hr;return o=Zr(l/this.ns+this.long0),n.x=o,n.y=i,n}var eA=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"],rA={init:qL,forward:QL,inverse:tA,names:eA};function nA(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function iA(n){var r,t,e,i,o,a,s,l=n.x,h=n.y,d=Zr(l-this.long0);return r=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/r)-this.s45),e=-d*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(e)),o=Math.asin(Math.cos(t)*Math.sin(e)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),n.y=s*Math.cos(a)/1,n.x=s*Math.sin(a)/1,this.czech||(n.y*=-1,n.x*=-1),n}function oA(n){var r,t,e,i,o,a,s,l,h=n.x;n.x=n.y,n.y=h,this.czech||(n.y*=-1,n.x*=-1),a=Math.sqrt(n.x*n.x+n.y*n.y),o=Math.atan2(n.y,n.x),i=o/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),r=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),t=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(r)),n.x=this.long0-t/this.alfa,s=r,l=0;var d=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(r/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-n.y)<1e-10&&(l=1),s=n.y,d+=1;while(l===0&&d<15);return d>=15?null:n}var aA=["Krovak","krovak"],sA={init:nA,forward:iA,inverse:oA,names:aA},Ha=function(n,r,t,e,i){return n*i-r*Math.sin(2*i)+t*Math.sin(4*i)-e*Math.sin(6*i)},Qp=function(n){return 1-.25*n*(1+n/16*(3+1.25*n))},tv=function(n){return .375*n*(1+.25*n*(1+.46875*n))},ev=function(n){return .05859375*n*n*(1+.75*n)},rv=function(n){return n*n*n*(35/3072)},gd=function(n,r,t){var e=r*t;return n/Math.sqrt(1-e*e)},yd=function(n){return Math.abs(n)<hr?n:n-Kp(n)*Math.PI},Qg=function(n,r,t,e,i){var o,a;o=n/r;for(var s=0;s<15;s++)if(a=(n-(r*o-t*Math.sin(2*o)+e*Math.sin(4*o)-i*Math.sin(6*o)))/(r-2*t*Math.cos(2*o)+4*e*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN};function lA(){this.sphere||(this.e0=Qp(this.es),this.e1=tv(this.es),this.e2=ev(this.es),this.e3=rv(this.es),this.ml0=this.a*Ha(this.e0,this.e1,this.e2,this.e3,this.lat0))}function uA(n){var r,t,e=n.x,i=n.y;if(e=Zr(e-this.long0),this.sphere)r=this.a*Math.asin(Math.cos(i)*Math.sin(e)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(e))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=gd(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),h=e*Math.cos(i),d=h*h,y=this.es*a*a/(1-this.es),w=this.a*Ha(this.e0,this.e1,this.e2,this.e3,i);r=s*h*(1-d*l*(1/6-(8-l+8*y)*d/120)),t=w-this.ml0+s*o/a*d*(.5+(5-l+6*y)*d/24)}return n.x=r+this.x0,n.y=t+this.y0,n}function cA(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i;if(this.sphere){var o=t+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),i=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+t,s=Qg(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-hr)<=Dr)return n.x=this.long0,n.y=hr,t<0&&(n.y*=-1),n;var l=gd(this.a,this.e,Math.sin(s)),h=l*l*l/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(s),2),y=r*this.a/l,w=y*y;e=s-l*Math.tan(s)/h*y*y*(.5-(1+3*d)*y*y/24),i=y*(1-w*(d/3+(1+3*d)*d*w/15))/Math.cos(s)}return n.x=Zr(i+this.long0),n.y=yd(e),n}var fA=["Cassini","Cassini_Soldner","cass"],hA={init:lA,forward:uA,inverse:cA,names:fA},Dc=function(n,r){var t;return n>1e-7?(t=n*r,(1-n*n)*(r/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*r},dA=1,pA=2,vA=3,gA=4;function yA(){var n=Math.abs(this.lat0);if(Math.abs(n-hr)<Dr?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<Dr?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var r;switch(this.qp=Dc(this.e,1),this.mmf=.5/(1-this.es),this.apa=bA(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),r=Math.sin(this.lat0),this.sinb1=Dc(this.e,r)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*r*r)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function mA(n){var r,t,e,i,o,a,s,l,h,d,y=n.x,w=n.y;if(y=Zr(y-this.long0),this.sphere){if(o=Math.sin(w),d=Math.cos(w),e=Math.cos(y),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+d*e:1+this.sinph0*o+this.cosph0*d*e,t<=Dr)return null;t=Math.sqrt(2/t),r=t*d*Math.sin(y),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*d*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(w+this.lat0)<Dr)return null;t=yi-w*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),r=t*Math.sin(y),t*=e}}else{switch(s=0,l=0,h=0,e=Math.cos(y),i=Math.sin(y),o=Math.sin(w),a=Dc(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:h=1+this.sinb1*s+this.cosb1*l*e;break;case this.EQUIT:h=1+l*e;break;case this.N_POLE:h=hr+w,a=this.qp-a;break;case this.S_POLE:h=w-hr,a=this.qp+a;break}if(Math.abs(h)<Dr)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?t=this.ymf*h*(this.cosb1*s-this.sinb1*l*e):t=(h=Math.sqrt(2/(1+l*e)))*s*this.ymf,r=this.xmf*h*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(r=(h=Math.sqrt(a))*i,t=e*(this.mode===this.S_POLE?h:-h)):r=t=0;break}}return n.x=this.a*r+this.x0,n.y=this.a*t+this.y0,n}function _A(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i,o,a,s,l,h;if(this.sphere){var d=0,y,w=0;if(y=Math.sqrt(r*r+t*t),i=y*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(w=Math.sin(i),d=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(y)<=Dr?0:Math.asin(t*w/y),r*=w,t=d*y;break;case this.OBLIQ:i=Math.abs(y)<=Dr?this.lat0:Math.asin(d*this.sinph0+t*w*this.cosph0/y),r*=w*this.cosph0,t=(d-Math.sin(i)*this.sinph0)*y;break;case this.N_POLE:t=-t,i=hr-i;break;case this.S_POLE:i-=hr;break}e=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(r,t)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r/=this.dd,t*=this.dd,l=Math.sqrt(r*r+t*t),l<Dr)return n.x=this.long0,n.y=this.lat0,n;a=2*Math.asin(.5*l/this.rq),o=Math.cos(a),r*=a=Math.sin(a),this.mode===this.OBLIQ?(h=o*this.sinb1+t*a*this.cosb1/l,s=this.qp*h,t=l*this.cosb1*o-t*this.sinb1*a):(h=t*a/l,s=this.qp*h,t=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),s=r*r+t*t,!s)return n.x=this.long0,n.y=this.lat0,n;h=1-s/this.qp,this.mode===this.S_POLE&&(h=-h)}e=Math.atan2(r,t),i=CA(Math.asin(h),this.apa)}return n.x=Zr(this.long0+e),n.y=i,n}var EA=.3333333333333333,xA=.17222222222222222,SA=.10257936507936508,wA=.06388888888888888,OA=.0664021164021164,TA=.016415012942191543;function bA(n){var r,t=[];return t[0]=n*EA,r=n*n,t[0]+=r*xA,t[1]=r*wA,r*=n,t[0]+=r*SA,t[1]+=r*OA,t[2]=r*TA,t}function CA(n,r){var t=n+n;return n+r[0]*Math.sin(t)+r[1]*Math.sin(t+t)+r[2]*Math.sin(t+t+t)}var LA=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],AA={init:yA,forward:mA,inverse:_A,names:LA,S_POLE:dA,N_POLE:pA,EQUIT:vA,OBLIQ:gA},Bc=function(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)};function RA(){Math.abs(this.lat1+this.lat2)<Dr||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=mu(this.e3,this.sin_po,this.cos_po),this.qs1=Dc(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=mu(this.e3,this.sin_po,this.cos_po),this.qs2=Dc(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Dc(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Dr?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function PA(n){var r=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var e=Dc(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,o=this.ns0*Zr(r-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return n.x=a,n.y=s,n}function MA(n){var r,t,e,i,o,a;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(r=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(r=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1),i=0,r!==0&&(i=Math.atan2(e*n.x,e*n.y)),e=r*this.ns0/this.a,this.sphere?a=Math.asin((this.c-e*e)/(2*this.ns0)):(t=(this.c-e*e)/this.ns0,a=this.phi1z(this.e3,t)),o=Zr(i/this.ns0+this.long0),n.x=o,n.y=a,n}function IA(n,r){var t,e,i,o,a,s=Bc(.5*r);if(n<Dr)return s;for(var l=n*n,h=1;h<=25;h++)if(t=Math.sin(s),e=Math.cos(s),i=n*t,o=1-i*i,a=.5*o*o/e*(r/(1-l)-t/o+.5/n*Math.log((1-i)/(1+i))),s=s+a,Math.abs(a)<=1e-7)return s;return null}var NA=["Albers_Conic_Equal_Area","Albers","aea"],FA={init:RA,forward:PA,inverse:MA,names:NA,phi1z:IA};function jA(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function DA(n){var r,t,e,i,o,a,s,l,h=n.x,d=n.y;return e=Zr(h-this.long0),r=Math.sin(d),t=Math.cos(d),i=Math.cos(e),a=this.sin_p14*r+this.cos_p14*t*i,o=1,a>0||Math.abs(a)<=Dr?(s=this.x0+this.a*o*t*Math.sin(e)/a,l=this.y0+this.a*o*(this.cos_p14*r-this.sin_p14*t*i)/a):(s=this.x0+this.infinity_dist*t*Math.sin(e),l=this.y0+this.infinity_dist*(this.cos_p14*r-this.sin_p14*t*i)),n.x=s,n.y=l,n}function BA(n){var r,t,e,i,o,a;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(r=Math.sqrt(n.x*n.x+n.y*n.y))?(i=Math.atan2(r,this.rc),t=Math.sin(i),e=Math.cos(i),a=Bc(e*this.sin_p14+n.y*t*this.cos_p14/r),o=Math.atan2(n.x*t,r*this.cos_p14*e-n.y*this.sin_p14*t),o=Zr(this.long0+o)):(a=this.phic0,o=0),n.x=o,n.y=a,n}var GA=["gnom"],UA={init:jA,forward:DA,inverse:BA,names:GA},kA=function(n,r){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(r)-t)<1e-6)return r<0?-1*hr:hr;for(var e=Math.asin(.5*r),i,o,a,s,l=0;l<30;l++)if(o=Math.sin(e),a=Math.cos(e),s=n*o,i=Math.pow(1-s*s,2)/(2*a)*(r/(1-n*n)-o/(1-s*s)+.5/n*Math.log((1-s)/(1+s))),e+=i,Math.abs(i)<=1e-10)return e;return NaN};function zA(){this.sphere||(this.k0=mu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function VA(n){var r=n.x,t=n.y,e,i,o=Zr(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var a=Dc(this.e,Math.sin(t));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*a*.5/this.k0}return n.x=e,n.y=i,n}function WA(n){n.x-=this.x0,n.y-=this.y0;var r,t;return this.sphere?(r=Zr(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=kA(this.e,2*n.y*this.k0/this.a),r=Zr(this.long0+n.x/(this.a*this.k0))),n.x=r,n.y=t,n}var YA=["cea"],HA={init:zA,forward:VA,inverse:WA,names:YA};function XA(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function KA(n){var r=n.x,t=n.y,e=Zr(r-this.long0),i=yd(t-this.lat0);return n.x=this.x0+this.a*e*this.rc,n.y=this.y0+this.a*i,n}function ZA(n){var r=n.x,t=n.y;return n.x=Zr(this.long0+(r-this.x0)/(this.a*this.rc)),n.y=yd(this.lat0+(t-this.y0)/this.a),n}var $A=["Equirectangular","Equidistant_Cylindrical","eqc"],JA={init:XA,forward:KA,inverse:ZA,names:$A},bx=20;function qA(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Qp(this.es),this.e1=tv(this.es),this.e2=ev(this.es),this.e3=rv(this.es),this.ml0=this.a*Ha(this.e0,this.e1,this.e2,this.e3,this.lat0)}function QA(n){var r=n.x,t=n.y,e,i,o,a=Zr(r-this.long0);if(o=a*Math.sin(t),this.sphere)Math.abs(t)<=Dr?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(o)/Math.tan(t),i=this.a*(yd(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=Dr)e=this.a*a,i=-1*this.ml0;else{var s=gd(this.a,this.e,Math.sin(t))/Math.tan(t);e=s*Math.sin(o),i=this.a*Ha(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+s*(1-Math.cos(o))}return n.x=e+this.x0,n.y=i+this.y0,n}function tR(n){var r,t,e,i,o,a,s,l,h;if(e=n.x-this.x0,i=n.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Dr)r=Zr(e/this.a+this.long0),t=0;else{a=this.lat0+i/this.a,s=e*e/this.a/this.a+a*a,l=a;var d;for(o=bx;o;--o)if(d=Math.tan(l),h=-1*(a*(l*d+1)-l-.5*(l*l+s)*d)/((l-a)/d-1),l+=h,Math.abs(h)<=Dr){t=l;break}r=Zr(this.long0+Math.asin(e*Math.tan(l)/this.a)/Math.sin(t))}else if(Math.abs(i+this.ml0)<=Dr)t=0,r=Zr(this.long0+e/this.a);else{a=(this.ml0+i)/this.a,s=e*e/this.a/this.a+a*a,l=a;var y,w,C,I,G;for(o=bx;o;--o)if(G=this.e*Math.sin(l),y=Math.sqrt(1-G*G)*Math.tan(l),w=this.a*Ha(this.e0,this.e1,this.e2,this.e3,l),C=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),I=w/this.a,h=(a*(y*I+1)-I-.5*y*(I*I+s))/(this.es*Math.sin(2*l)*(I*I+s-2*a*I)/(4*y)+(a-I)*(y*C-2/Math.sin(2*l))-C),l-=h,Math.abs(h)<=Dr){t=l;break}y=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),r=Zr(this.long0+Math.asin(e*y/this.a)/Math.sin(t))}return n.x=r,n.y=t,n}var eR=["Polyconic","poly"],rR={init:qA,forward:QA,inverse:tR,names:eR};function nR(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function iR(n){var r,t=n.x,e=n.y,i=e-this.lat0,o=t-this.long0,a=i/$f*1e-5,s=o,l=1,h=0;for(r=1;r<=10;r++)l=l*a,h=h+this.A[r]*l;var d=h,y=s,w=1,C=0,I,G,Z=0,lt=0;for(r=1;r<=6;r++)I=w*d-C*y,G=C*d+w*y,w=I,C=G,Z=Z+this.B_re[r]*w-this.B_im[r]*C,lt=lt+this.B_im[r]*w+this.B_re[r]*C;return n.x=lt*this.a+this.x0,n.y=Z*this.a+this.y0,n}function oR(n){var r,t=n.x,e=n.y,i=t-this.x0,o=e-this.y0,a=o/this.a,s=i/this.a,l=1,h=0,d,y,w=0,C=0;for(r=1;r<=6;r++)d=l*a-h*s,y=h*a+l*s,l=d,h=y,w=w+this.C_re[r]*l-this.C_im[r]*h,C=C+this.C_im[r]*l+this.C_re[r]*h;for(var I=0;I<this.iterations;I++){var G=w,Z=C,lt,pt,Et=a,ht=s;for(r=2;r<=6;r++)lt=G*w-Z*C,pt=Z*w+G*C,G=lt,Z=pt,Et=Et+(r-1)*(this.B_re[r]*G-this.B_im[r]*Z),ht=ht+(r-1)*(this.B_im[r]*G+this.B_re[r]*Z);G=1,Z=0;var zt=this.B_re[1],Gt=this.B_im[1];for(r=2;r<=6;r++)lt=G*w-Z*C,pt=Z*w+G*C,G=lt,Z=pt,zt=zt+r*(this.B_re[r]*G-this.B_im[r]*Z),Gt=Gt+r*(this.B_im[r]*G+this.B_re[r]*Z);var $t=zt*zt+Gt*Gt;w=(Et*zt+ht*Gt)/$t,C=(ht*zt-Et*Gt)/$t}var Xt=w,ce=C,Ge=1,Me=0;for(r=1;r<=9;r++)Ge=Ge*Xt,Me=Me+this.D[r]*Ge;var Ee=this.lat0+Me*$f*1e5,er=this.long0+ce;return n.x=er,n.y=Ee,n}var aR=["New_Zealand_Map_Grid","nzmg"],sR={init:nR,forward:iR,inverse:oR,names:aR};function lR(){}function uR(n){var r=n.x,t=n.y,e=Zr(r-this.long0),i=this.x0+this.a*e,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=i,n.y=o,n}function cR(n){n.x-=this.x0,n.y-=this.y0;var r=Zr(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=r,n.y=t,n}var fR=["Miller_Cylindrical","mill"],hR={init:lR,forward:uR,inverse:cR,names:fR},dR=20;function pR(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Sx(this.es)}function vR(n){var r,t,e=n.x,i=n.y;if(e=Zr(e-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var o=this.n*Math.sin(i),a=dR;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<Dr)break}r=this.a*this.C_x*e*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var l=Math.sin(i),h=Math.cos(i);t=this.a*Zg(i,l,h,this.en),r=this.a*e*h/Math.sqrt(1-this.es*l*l)}return n.x=r,n.y=t,n}function gR(n){var r,t,e,i;return n.x-=this.x0,e=n.x/this.a,n.y-=this.y0,r=n.y/this.a,this.sphere?(r/=this.C_y,e=e/(this.C_x*(this.m+Math.cos(r))),this.m?r=Bc((this.m*r+Math.sin(r))/this.n):this.n!==1&&(r=Bc(Math.sin(r)/this.n)),e=Zr(e+this.long0),r=yd(r)):(r=wx(n.y/this.a,this.es,this.en),i=Math.abs(r),i<hr?(i=Math.sin(r),t=this.long0+n.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(r)),e=Zr(t)):i-Dr<hr&&(e=this.long0)),n.x=e,n.y=r,n}var yR=["Sinusoidal","sinu"],mR={init:pR,forward:vR,inverse:gR,names:yR};function _R(){}function ER(n){for(var r=n.x,t=n.y,e=Zr(r-this.long0),i=t,o=Math.PI*Math.sin(t);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<Dr)break}i/=2,Math.PI/2-Math.abs(t)<Dr&&(e=0);var s=.900316316158*this.a*e*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return n.x=s,n.y=l,n}function xR(n){var r,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),r=Math.asin(t);var e=Zr(this.long0+n.x/(.900316316158*this.a*Math.cos(r)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),t=(2*r+Math.sin(2*r))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return n.x=e,n.y=i,n}var SR=["Mollweide","moll"],wR={init:_R,forward:ER,inverse:xR,names:SR};function OR(){Math.abs(this.lat1+this.lat2)<Dr||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Qp(this.es),this.e1=tv(this.es),this.e2=ev(this.es),this.e3=rv(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=mu(this.e,this.sinphi,this.cosphi),this.ml1=Ha(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Dr?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=mu(this.e,this.sinphi,this.cosphi),this.ml2=Ha(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ha(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function TR(n){var r=n.x,t=n.y,e;if(this.sphere)e=this.a*(this.g-t);else{var i=Ha(this.e0,this.e1,this.e2,this.e3,t);e=this.a*(this.g-i)}var o=this.ns*Zr(r-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return n.x=a,n.y=s,n}function bR(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var r,t,e,i;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1);var o=0;if(t!==0&&(o=Math.atan2(r*n.x,r*n.y)),this.sphere)return i=Zr(this.long0+o/this.ns),e=yd(this.g-t/this.a),n.x=i,n.y=e,n;var a=this.g-t/this.a;return e=Qg(a,this.e0,this.e1,this.e2,this.e3),i=Zr(this.long0+o/this.ns),n.x=i,n.y=e,n}var CR=["Equidistant_Conic","eqdc"],LR={init:OR,forward:TR,inverse:bR,names:CR};function AR(){this.R=this.a}function RR(n){var r=n.x,t=n.y,e=Zr(r-this.long0),i,o;Math.abs(t)<=Dr&&(i=this.x0+this.R*e,o=this.y0);var a=Bc(2*Math.abs(t/Math.PI));(Math.abs(e)<=Dr||Math.abs(Math.abs(t)-hr)<=Dr)&&(i=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*a):o=this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/e-e/Math.PI),l=s*s,h=Math.sin(a),d=Math.cos(a),y=d/(h+d-1),w=y*y,C=y*(2/h-1),I=C*C,G=Math.PI*this.R*(s*(y-I)+Math.sqrt(l*(y-I)*(y-I)-(I+l)*(w-I)))/(I+l);e<0&&(G=-G),i=this.x0+G;var Z=l+y;return G=Math.PI*this.R*(C*Z-s*Math.sqrt((I+l)*(l+1)-Z*Z))/(I+l),t>=0?o=this.y0+G:o=this.y0-G,n.x=i,n.y=o,n}function PR(n){var r,t,e,i,o,a,s,l,h,d,y,w,C;return n.x-=this.x0,n.y-=this.y0,y=Math.PI*this.R,e=n.x/y,i=n.y/y,o=e*e+i*i,a=-Math.abs(i)*(1+o),s=a-2*i*i+e*e,l=-2*a+1+2*i*i+o*o,C=i*i/l+(2*s*s*s/l/l/l-9*a*s/l/l)/27,h=(a-s*s/3/l)/l,d=2*Math.sqrt(-h/3),y=3*C/h/d,Math.abs(y)>1&&(y>=0?y=1:y=-1),w=Math.acos(y)/3,n.y>=0?t=(-d*Math.cos(w+Math.PI/3)-s/3/l)*Math.PI:t=-(-d*Math.cos(w+Math.PI/3)-s/3/l)*Math.PI,Math.abs(e)<Dr?r=this.long0:r=Zr(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(e*e-i*i)+o*o))/2/e),n.x=r,n.y=t,n}var MR=["Van_der_Grinten_I","VanDerGrinten","vandg"],IR={init:AR,forward:RR,inverse:PR,names:MR};function NR(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function FR(n){var r=n.x,t=n.y,e=Math.sin(n.y),i=Math.cos(n.y),o=Zr(r-this.long0),a,s,l,h,d,y,w,C,I,G,Z,lt,pt,Et,ht,zt,Gt,$t,Xt,ce,Ge,Me,Ee;return this.sphere?Math.abs(this.sin_p12-1)<=Dr?(n.x=this.x0+this.a*(hr-t)*Math.sin(o),n.y=this.y0-this.a*(hr-t)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Dr?(n.x=this.x0+this.a*(hr+t)*Math.sin(o),n.y=this.y0+this.a*(hr+t)*Math.cos(o),n):($t=this.sin_p12*e+this.cos_p12*i*Math.cos(o),zt=Math.acos($t),Gt=zt?zt/Math.sin(zt):1,n.x=this.x0+this.a*Gt*i*Math.sin(o),n.y=this.y0+this.a*Gt*(this.cos_p12*e-this.sin_p12*i*Math.cos(o)),n):(a=Qp(this.es),s=tv(this.es),l=ev(this.es),h=rv(this.es),Math.abs(this.sin_p12-1)<=Dr?(d=this.a*Ha(a,s,l,h,hr),y=this.a*Ha(a,s,l,h,t),n.x=this.x0+(d-y)*Math.sin(o),n.y=this.y0-(d-y)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Dr?(d=this.a*Ha(a,s,l,h,hr),y=this.a*Ha(a,s,l,h,t),n.x=this.x0+(d+y)*Math.sin(o),n.y=this.y0+(d+y)*Math.cos(o),n):(w=e/i,C=gd(this.a,this.e,this.sin_p12),I=gd(this.a,this.e,e),G=Math.atan((1-this.es)*w+this.es*C*this.sin_p12/(I*i)),Z=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(G)-this.sin_p12*Math.cos(o)),Z===0?Xt=Math.asin(this.cos_p12*Math.sin(G)-this.sin_p12*Math.cos(G)):Math.abs(Math.abs(Z)-Math.PI)<=Dr?Xt=-Math.asin(this.cos_p12*Math.sin(G)-this.sin_p12*Math.cos(G)):Xt=Math.asin(Math.sin(o)*Math.cos(G)/Math.sin(Z)),lt=this.e*this.sin_p12/Math.sqrt(1-this.es),pt=this.e*this.cos_p12*Math.cos(Z)/Math.sqrt(1-this.es),Et=lt*pt,ht=pt*pt,ce=Xt*Xt,Ge=ce*Xt,Me=Ge*Xt,Ee=Me*Xt,zt=C*Xt*(1-ce*ht*(1-ht)/6+Ge/8*Et*(1-2*ht)+Me/120*(ht*(4-7*ht)-3*lt*lt*(1-7*ht))-Ee/48*Et),n.x=this.x0+zt*Math.sin(Z),n.y=this.y0+zt*Math.cos(Z),n))}function jR(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,o,a,s,l,h,d,y,w,C,I,G,Z,lt,pt,Et,ht,zt,Gt,$t,Xt;return this.sphere?(r=Math.sqrt(n.x*n.x+n.y*n.y),r>2*hr*this.a?void 0:(t=r/this.a,e=Math.sin(t),i=Math.cos(t),o=this.long0,Math.abs(r)<=Dr?a=this.lat0:(a=Bc(i*this.sin_p12+n.y*e*this.cos_p12/r),s=Math.abs(this.lat0)-hr,Math.abs(s)<=Dr?this.lat0>=0?o=Zr(this.long0+Math.atan2(n.x,-n.y)):o=Zr(this.long0-Math.atan2(-n.x,n.y)):o=Zr(this.long0+Math.atan2(n.x*e,r*this.cos_p12*i-n.y*this.sin_p12*e))),n.x=o,n.y=a,n)):(l=Qp(this.es),h=tv(this.es),d=ev(this.es),y=rv(this.es),Math.abs(this.sin_p12-1)<=Dr?(w=this.a*Ha(l,h,d,y,hr),r=Math.sqrt(n.x*n.x+n.y*n.y),C=w-r,a=Qg(C/this.a,l,h,d,y),o=Zr(this.long0+Math.atan2(n.x,-1*n.y)),n.x=o,n.y=a,n):Math.abs(this.sin_p12+1)<=Dr?(w=this.a*Ha(l,h,d,y,hr),r=Math.sqrt(n.x*n.x+n.y*n.y),C=r-w,a=Qg(C/this.a,l,h,d,y),o=Zr(this.long0+Math.atan2(n.x,n.y)),n.x=o,n.y=a,n):(r=Math.sqrt(n.x*n.x+n.y*n.y),Z=Math.atan2(n.x,n.y),I=gd(this.a,this.e,this.sin_p12),lt=Math.cos(Z),pt=this.e*this.cos_p12*lt,Et=-pt*pt/(1-this.es),ht=3*this.es*(1-Et)*this.sin_p12*this.cos_p12*lt/(1-this.es),zt=r/I,Gt=zt-Et*(1+Et)*Math.pow(zt,3)/6-ht*(1+3*Et)*Math.pow(zt,4)/24,$t=1-Et*Gt*Gt/2-zt*Gt*Gt*Gt/6,G=Math.asin(this.sin_p12*Math.cos(Gt)+this.cos_p12*Math.sin(Gt)*lt),o=Zr(this.long0+Math.asin(Math.sin(Z)*Math.sin(Gt)/Math.cos(G))),Xt=Math.sin(G),a=Math.atan2((Xt-this.es*$t*this.sin_p12)*Math.tan(G),Xt*(1-this.es)),n.x=o,n.y=a,n))}var DR=["Azimuthal_Equidistant","aeqd"],BR={init:NR,forward:FR,inverse:jR,names:DR};function GR(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function UR(n){var r,t,e,i,o,a,s,l,h=n.x,d=n.y;return e=Zr(h-this.long0),r=Math.sin(d),t=Math.cos(d),i=Math.cos(e),a=this.sin_p14*r+this.cos_p14*t*i,o=1,(a>0||Math.abs(a)<=Dr)&&(s=this.a*o*t*Math.sin(e),l=this.y0+this.a*o*(this.cos_p14*r-this.sin_p14*t*i)),n.x=s,n.y=l,n}function kR(n){var r,t,e,i,o,a,s;return n.x-=this.x0,n.y-=this.y0,r=Math.sqrt(n.x*n.x+n.y*n.y),t=Bc(r/this.a),e=Math.sin(t),i=Math.cos(t),a=this.long0,Math.abs(r)<=Dr?(s=this.lat0,n.x=a,n.y=s,n):(s=Bc(i*this.sin_p14+n.y*e*this.cos_p14/r),o=Math.abs(this.lat0)-hr,Math.abs(o)<=Dr?(this.lat0>=0?a=Zr(this.long0+Math.atan2(n.x,-n.y)):a=Zr(this.long0-Math.atan2(-n.x,n.y)),n.x=a,n.y=s,n):(a=Zr(this.long0+Math.atan2(n.x*e,r*this.cos_p14*i-n.y*this.sin_p14*e)),n.x=a,n.y=s,n))}var zR=["ortho"],VR={init:GR,forward:UR,inverse:kR,names:zR},uo={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ii={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function WR(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=hr-yi/2?this.face=uo.TOP:this.lat0<=-(hr-yi/2)?this.face=uo.BOTTOM:Math.abs(this.long0)<=yi?this.face=uo.FRONT:Math.abs(this.long0)<=hr+yi?this.face=this.long0>0?uo.RIGHT:uo.LEFT:this.face=uo.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function YR(n){var r={x:0,y:0},t,e,i,o,a,s,l={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,e=n.x,this.face===uo.TOP)o=hr-t,e>=yi&&e<=hr+yi?(l.value=Ii.AREA_0,i=e-hr):e>hr+yi||e<=-(hr+yi)?(l.value=Ii.AREA_1,i=e>0?e-ao:e+ao):e>-(hr+yi)&&e<=-yi?(l.value=Ii.AREA_2,i=e+hr):(l.value=Ii.AREA_3,i=e);else if(this.face===uo.BOTTOM)o=hr+t,e>=yi&&e<=hr+yi?(l.value=Ii.AREA_0,i=-e+hr):e<yi&&e>=-yi?(l.value=Ii.AREA_1,i=-e):e<-yi&&e>=-(hr+yi)?(l.value=Ii.AREA_2,i=-e-hr):(l.value=Ii.AREA_3,i=e>0?-e+ao:-e-ao);else{var h,d,y,w,C,I,G;this.face===uo.RIGHT?e=md(e,+hr):this.face===uo.BACK?e=md(e,+ao):this.face===uo.LEFT&&(e=md(e,-hr)),w=Math.sin(t),C=Math.cos(t),I=Math.sin(e),G=Math.cos(e),h=C*G,d=C*I,y=w,this.face===uo.FRONT?(o=Math.acos(h),i=ty(o,y,d,l)):this.face===uo.RIGHT?(o=Math.acos(d),i=ty(o,y,-h,l)):this.face===uo.BACK?(o=Math.acos(-h),i=ty(o,y,-d,l)):this.face===uo.LEFT?(o=Math.acos(-d),i=ty(o,y,h,l)):(o=i=0,l.value=Ii.AREA_0)}return s=Math.atan(12/ao*(i+Math.acos(Math.sin(i)*Math.cos(yi))-hr)),a=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Ii.AREA_1?s+=hr:l.value===Ii.AREA_2?s+=ao:l.value===Ii.AREA_3&&(s+=1.5*ao),r.x=a*Math.cos(s),r.y=a*Math.sin(s),r.x=r.x*this.a+this.x0,r.y=r.y*this.a+this.y0,n.x=r.x,n.y=r.y,n}function HR(n){var r={lam:0,phi:0},t,e,i,o,a,s,l,h,d,y={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,e=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?y.value=Ii.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(y.value=Ii.AREA_1,t-=hr):n.x<0&&-n.x>=Math.abs(n.y)?(y.value=Ii.AREA_2,t=t<0?t+ao:t-ao):(y.value=Ii.AREA_3,t+=hr),d=ao/12*Math.tan(t),a=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),s=Math.atan(a),i=Math.cos(t),o=Math.tan(e),l=1-i*i*o*o*(1-Math.cos(Math.atan(1/Math.cos(s)))),l<-1?l=-1:l>1&&(l=1),this.face===uo.TOP)h=Math.acos(l),r.phi=hr-h,y.value===Ii.AREA_0?r.lam=s+hr:y.value===Ii.AREA_1?r.lam=s<0?s+ao:s-ao:y.value===Ii.AREA_2?r.lam=s-hr:r.lam=s;else if(this.face===uo.BOTTOM)h=Math.acos(l),r.phi=h-hr,y.value===Ii.AREA_0?r.lam=-s+hr:y.value===Ii.AREA_1?r.lam=-s:y.value===Ii.AREA_2?r.lam=-s-hr:r.lam=s<0?-s-ao:-s+ao;else{var w,C,I;w=l,d=w*w,d>=1?I=0:I=Math.sqrt(1-d)*Math.sin(s),d+=I*I,d>=1?C=0:C=Math.sqrt(1-d),y.value===Ii.AREA_1?(d=C,C=-I,I=d):y.value===Ii.AREA_2?(C=-C,I=-I):y.value===Ii.AREA_3&&(d=C,C=I,I=-d),this.face===uo.RIGHT?(d=w,w=-C,C=d):this.face===uo.BACK?(w=-w,C=-C):this.face===uo.LEFT&&(d=w,w=C,C=-d),r.phi=Math.acos(-I)-hr,r.lam=Math.atan2(C,w),this.face===uo.RIGHT?r.lam=md(r.lam,-hr):this.face===uo.BACK?r.lam=md(r.lam,-ao):this.face===uo.LEFT&&(r.lam=md(r.lam,+hr))}if(this.es!==0){var G,Z,lt;G=r.phi<0?1:0,Z=Math.tan(r.phi),lt=this.b/Math.sqrt(Z*Z+this.one_minus_f_squared),r.phi=Math.atan(Math.sqrt(this.a*this.a-lt*lt)/(this.one_minus_f*lt)),G&&(r.phi=-r.phi)}return r.lam+=this.long0,n.x=r.lam,n.y=r.phi,n}function ty(n,r,t,e){var i;return n<Dr?(e.value=Ii.AREA_0,i=0):(i=Math.atan2(r,t),Math.abs(i)<=yi?e.value=Ii.AREA_0:i>yi&&i<=hr+yi?(e.value=Ii.AREA_1,i-=hr):i>hr+yi||i<=-(hr+yi)?(e.value=Ii.AREA_2,i=i>=0?i-ao:i+ao):(e.value=Ii.AREA_3,i+=hr)),i}function md(n,r){var t=n+r;return t<-ao?t+=kl:t>+ao&&(t-=kl),t}var XR=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],KR={init:WR,forward:YR,inverse:HR,names:XR},Ym=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],nv=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Cx=.8487,Lx=1.3523,Ax=Wa/5,ZR=1/Ax,_d=18,ey=function(n,r){return n[0]+r*(n[1]+r*(n[2]+r*n[3]))},$R=function(n,r){return n[1]+r*(2*n[2]+r*3*n[3])};function JR(n,r,t,e){for(var i=r;e;--e){var o=n(i);if(i-=o,Math.abs(o)<t)break}return i}function qR(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function QR(n){var r=Zr(n.x-this.long0),t=Math.abs(n.y),e=Math.floor(t*Ax);e<0?e=0:e>=_d&&(e=_d-1),t=Wa*(t-ZR*e);var i={x:ey(Ym[e],t)*r,y:ey(nv[e],t)};return n.y<0&&(i.y=-i.y),i.x=i.x*this.a*Cx+this.x0,i.y=i.y*this.a*Lx+this.y0,i}function tP(n){var r={x:(n.x-this.x0)/(this.a*Cx),y:Math.abs(n.y-this.y0)/(this.a*Lx)};if(r.y>=1)r.x/=Ym[_d][0],r.y=n.y<0?-hr:hr;else{var t=Math.floor(r.y*_d);for(t<0?t=0:t>=_d&&(t=_d-1);;)if(nv[t][0]>r.y)--t;else if(nv[t+1][0]<=r.y)++t;else break;var e=nv[t],i=5*(r.y-e[0])/(nv[t+1][0]-e[0]);i=JR(function(o){return(ey(e,o)-r.y)/$R(e,o)},i,Dr,100),r.x/=ey(Ym[t],i),r.y=(5*t+i)*ko,n.y<0&&(r.y=-r.y)}return r.x=Zr(r.x+this.long0),r}var eP=["Robinson","robin"],rP={init:qR,forward:QR,inverse:tP,names:eP};function nP(){this.name="geocent"}function iP(n){var r=rx(n,this.es,this.a);return r}function oP(n){var r=nx(n,this.es,this.a,this.b);return r}var aP=["Geocentric","geocentric","geocent","Geocent"],sP={init:nP,forward:iP,inverse:oP,names:aP},Aa={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},iv={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function lP(){if(Object.keys(iv).forEach(function(t){if(typeof this[t]=="undefined")this[t]=iv[t].def;else{if(iv[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);iv[t].num&&(this[t]=parseFloat(this[t]))}iv[t].degrees&&(this[t]=this[t]*ko)}.bind(this)),Math.abs(Math.abs(this.lat0)-hr)<Dr?this.mode=this.lat0<0?Aa.S_POLE:Aa.N_POLE:Math.abs(this.lat0)<Dr?this.mode=Aa.EQUIT:(this.mode=Aa.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,r=this.azi;this.cg=Math.cos(r),this.sg=Math.sin(r),this.cw=Math.cos(n),this.sw=Math.sin(n)}function uP(n){n.x-=this.long0;var r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i,o;switch(this.mode){case Aa.OBLIQ:o=this.sinph0*r+this.cosph0*t*e;break;case Aa.EQUIT:o=t*e;break;case Aa.S_POLE:o=-r;break;case Aa.N_POLE:o=r;break}switch(o=this.pn1/(this.p-o),i=o*t*Math.sin(n.x),this.mode){case Aa.OBLIQ:o*=this.cosph0*r-this.sinph0*t*e;break;case Aa.EQUIT:o*=r;break;case Aa.N_POLE:o*=-(t*e);break;case Aa.S_POLE:o*=t*e;break}var a,s;return a=o*this.cg+i*this.sg,s=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-o*this.sg)*this.cw*s,o=a*s,n.x=i*this.a,n.y=o*this.a,n}function cP(n){n.x/=this.a,n.y/=this.a;var r={x:n.x,y:n.y},t,e,i;i=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*i,e=this.pn1*n.y*this.cw*i,n.x=t*this.cg+e*this.sg,n.y=e*this.cg-t*this.sg;var o=Jg(n.x,n.y);if(Math.abs(o)<Dr)r.x=0,r.y=n.y;else{var a,s;switch(s=1-o*o*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1),a=Math.sqrt(1-s*s),this.mode){case Aa.OBLIQ:r.y=Math.asin(a*this.sinph0+n.y*s*this.cosph0/o),n.y=(a-this.sinph0*Math.sin(r.y))*o,n.x*=s*this.cosph0;break;case Aa.EQUIT:r.y=Math.asin(n.y*s/o),n.y=a*o,n.x*=s;break;case Aa.N_POLE:r.y=Math.asin(a),n.y=-n.y;break;case Aa.S_POLE:r.y=-Math.asin(a);break}r.x=Math.atan2(n.x,n.y)}return n.x=r.x+this.long0,n.y=r.y,n}var fP=["Tilted_Perspective","tpers"],hP={init:lP,forward:uP,inverse:cP,names:fP},dP=function(n){n.Proj.projections.add($g),n.Proj.projections.add(qg),n.Proj.projections.add(OL),n.Proj.projections.add(NL),n.Proj.projections.add(UL),n.Proj.projections.add(YL),n.Proj.projections.add(JL),n.Proj.projections.add(rA),n.Proj.projections.add(sA),n.Proj.projections.add(hA),n.Proj.projections.add(AA),n.Proj.projections.add(FA),n.Proj.projections.add(UA),n.Proj.projections.add(HA),n.Proj.projections.add(JA),n.Proj.projections.add(rR),n.Proj.projections.add(sR),n.Proj.projections.add(hR),n.Proj.projections.add(mR),n.Proj.projections.add(wR),n.Proj.projections.add(LR),n.Proj.projections.add(IR),n.Proj.projections.add(BR),n.Proj.projections.add(VR),n.Proj.projections.add(KR),n.Proj.projections.add(rP),n.Proj.projections.add(sP),n.Proj.projections.add(hP)};Fs.defaultDatum="WGS84",Fs.Proj=$p,Fs.WGS84=new Fs.Proj("WGS84"),Fs.Point=JC,Fs.toPoint=sx,Fs.defs=Wg,Fs.nadgrid=OC,Fs.transform=Kg,Fs.mgrs=kC,Fs.version="__VERSION__",dP(Fs);var Rx=Fs;function pP(n){var r=Object.keys(n.defs),t=r.length,e,i;for(e=0;e<t;++e){var o=r[e];if(!en(o)){var a=n.defs(o),s=a.units;!s&&a.projName==="longlat"&&(s=ki.DEGREES),Uh(new Sa({code:o,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(e=0;e<t;++e){var l=r[e],h=en(l);for(i=0;i<t;++i){var d=r[i],y=en(d);if(!Qs(l,d))if(n.defs[l]===n.defs[d])bf([h,y]);else{var w=n(l,d);Du(h,y,zh(h,y,w.forward),zh(y,h,w.inverse))}}}}var vP={name:"ol-projection-register",setup:function(r){var t=Object(M.toRefs)(r),e=t.projectionName,i=t.projectionDef,o=t.projectionExtent;Rx.defs(e.value,i.value),pP(Rx);var a=new Sa({code:e.value,extent:o.value});return{projection:a}},props:{projectionName:{type:String},projectionDef:{type:String},projectionExtent:{type:Array}}},Hm=Ce()(vP,[["render",id]]);function ry(n){ry.installed||(ry.installed=!0,n.component(Ei.name,Ei),n.component(Nn.name,Nn),n.component(So.name,So),n.component(Hf.name,Hf),n.component(nd.name,nd),n.component(Hm.name,Hm))}var gP=ry;function yP(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var Gc={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},mP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_P=function(n){mP(r,n);function r(t){var e=this,i=t||{},o=Object(Pr.a)({},i);return delete o.preload,delete o.useInterimTilesOnError,e=n.call(this,o)||this,e.on,e.once,e.un,e.setPreload(i.preload!==void 0?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e}return r.prototype.getPreload=function(){return this.get(Gc.PRELOAD)},r.prototype.setPreload=function(t){this.set(Gc.PRELOAD,t)},r.prototype.getUseInterimTilesOnError=function(){return this.get(Gc.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setUseInterimTilesOnError=function(t){this.set(Gc.USE_INTERIM_TILES_ON_ERROR,t)},r}(_),Px=_P,Un={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},js=u("35a7"),EP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xP=function(n){EP(r,n);function r(t){var e=n.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}return r.prototype.getFeatures=function(t){return Object(ct.b)()},r.prototype.prepareFrame=function(t){return Object(ct.b)()},r.prototype.renderFrame=function(t,e){return Object(ct.b)()},r.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(t,e,i){return function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(e,o,a,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){},r.prototype.getDataAtPixel=function(t,e,i){return null},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===Un.LOADED&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(t){var e=t.getState();return e!=Un.LOADED&&e!=Un.ERROR&&t.addEventListener(qr.a.CHANGE,this.boundHandleImageChange_),e==Un.IDLE&&(t.load(),e=t.getState()),e==Un.LOADED},r.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Ss.READY&&t.changed()},r}(js.a),Mx=xP,SP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wP=function(n){SP(r,n);function r(t){var e=n.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=q(),e.pixelTransform=q(),e.inversePixelTransform=q(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e}return r.prototype.getBackground=function(t){var e=this.getLayer(),i=e.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},r.prototype.useContainer=function(t,e,i,o){var a=this.getLayer().getClassName(),s,l;if(t&&t.className===a&&t.style.opacity===""&&i===1&&(!o||t.style.backgroundColor&&Object(Sr.b)(fa(t.style.backgroundColor),fa(o)))){var h=t.firstElementChild;h instanceof HTMLCanvasElement&&(l=h.getContext("2d"))}if(l&&l.canvas.style.transform===e?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var d=s.style;d.position="absolute",d.width="100%",d.height="100%",o&&(d.backgroundColor=o),l=Object(Ne.a)();var h=l.canvas;s.appendChild(h),d=h.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=s,this.context=l}},r.prototype.clipUnrotated=function(t,e,i){var o=$n(i),a=po(i),s=Xi(i),l=kr(i);Ue(e.coordinateToPixelTransform,o),Ue(e.coordinateToPixelTransform,a),Ue(e.coordinateToPixelTransform,s),Ue(e.coordinateToPixelTransform,l);var h=this.inversePixelTransform;Ue(h,o),Ue(h,a),Ue(h,s),Ue(h,l),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},r.prototype.dispatchRenderEvent_=function(t,e,i){var o=this.getLayer();if(o.hasListener(t)){var a=new De(t,this.inversePixelTransform,i,e);o.dispatchEvent(a)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Fa.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Fa.POSTRENDER,t,e)},r.prototype.getRenderTransform=function(t,e,i,o,a,s,l){var h=a/2,d=s/2,y=o/e,w=-y,C=-t[0]+l,I=-t[1];return Ie(this.tempTransform,h,d,y,w,-i,C,I)},r.prototype.getDataAtPixel=function(t,e,i){var o=Ue(this.inversePixelTransform,t.slice()),a=this.context,s=this.getLayer(),l=s.getExtent();if(l){var h=Ue(e.pixelToCoordinateTransform,t.slice());if(!Jt(l,h))return null}var d=Math.round(o[0]),y=Math.round(o[1]),w=this.pixelContext_;if(!w){var C=document.createElement("canvas");C.width=1,C.height=1,w=C.getContext("2d"),this.pixelContext_=w}w.clearRect(0,0,1,1);var I;try{w.drawImage(a.canvas,d,y,1,1,0,0,1,1),I=w.getImageData(0,0,1,1).data}catch(G){return G.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):I}return I[3]===0?null:I},r}(Mx),Xm=wP,Ix=function(){function n(r,t,e,i){this.minX=r,this.maxX=t,this.minY=e,this.maxY=i}return n.prototype.contains=function(r){return this.containsXY(r[1],r[2])},n.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},n.prototype.containsXY=function(r,t){return this.minX<=r&&r<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},n.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},n}();function Ed(n,r,t,e,i){return i!==void 0?(i.minX=n,i.maxX=r,i.minY=t,i.maxY=e,i):new Ix(n,r,t,e)}var Km=Ix,ov={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Nx={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},OP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fx=function(n){OP(r,n);function r(t){var e=n.call(this,t)||this;return e.extentChanged=!0,e.renderedExtent_=null,e.renderedPixelRatio,e.renderedProjection=null,e.renderedRevision,e.renderedTiles=[],e.newTiles_=!1,e.tmpExtent=tt(),e.tmpTileRange_=new Km(0,0,0,0),e}return r.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==Cr.LOADED||i==Cr.EMPTY||i==Cr.ERROR&&!o},r.prototype.getTile=function(t,e,i,o){var a=o.pixelRatio,s=o.viewState.projection,l=this.getLayer(),h=l.getSource(),d=h.getTile(t,e,i,a,s);return d.getState()==Cr.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):d.setState(Cr.LOADED)),this.isDrawableTile(d)||(d=d.getInterimTile()),d},r.prototype.loadedTileCallback=function(t,e,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,t,e,i):!1},r.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,a=o.projection,s=o.resolution,l=o.center,h=o.rotation,d=t.pixelRatio,y=this.getLayer(),w=y.getSource(),C=w.getRevision(),I=w.getTileGridForProjection(a),G=I.getZForResolution(s,w.zDirection),Z=I.getResolution(G),lt=t.extent,pt=i.extent&&oa(i.extent);pt&&(lt=Rr(lt,oa(i.extent)));var Et=w.getTilePixelRatio(d),ht=Math.round(t.size[0]*Et),zt=Math.round(t.size[1]*Et);if(h){var Gt=Math.round(Math.sqrt(ht*ht+zt*zt));ht=Gt,zt=Gt}var $t=Z*ht/2/Et,Xt=Z*zt/2/Et,ce=[l[0]-$t,l[1]-Xt,l[0]+$t,l[1]+Xt],Ge=I.getTileRangeForExtentAndZ(lt,G),Me={};Me[G]={};var Ee=this.createLoadedTileFinder(w,a,Me),er=this.tmpExtent,Lr=this.tmpTileRange_;this.newTiles_=!1;for(var Br=Ge.minX;Br<=Ge.maxX;++Br)for(var Yr=Ge.minY;Yr<=Ge.maxY;++Yr){var $r=this.getTile(G,Br,Yr,t);if(this.isDrawableTile($r)){var On=Object(ct.c)(this);if($r.getState()==Cr.LOADED){Me[G][$r.tileCoord.toString()]=$r;var Tn=$r.inTransition(On);!this.newTiles_&&(Tn||this.renderedTiles.indexOf($r)===-1)&&(this.newTiles_=!0)}if($r.getAlpha(On,t.time)===1)continue}var Fn=I.getTileCoordChildTileRange($r.tileCoord,Lr,er),jn=!1;Fn&&(jn=Ee(G+1,Fn)),jn||I.forEachTileCoordParentTileRange($r.tileCoord,Ee,Lr,er)}var lr=Z/s;Ie(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/Et,1/Et,h,-ht/2,-zt/2);var jo=mr(this.pixelTransform);this.useContainer(e,jo,i.opacity,this.getBackground(t));var Vn=this.context,Yi=Vn.canvas;Je(this.inversePixelTransform,this.pixelTransform),Ie(this.tempTransform,ht/2,zt/2,lr,lr,0,-ht/2,-zt/2),Yi.width!=ht||Yi.height!=zt?(Yi.width=ht,Yi.height=zt):this.containerReused||Vn.clearRect(0,0,ht,zt),pt&&this.clipUnrotated(Vn,t,pt),w.getInterpolate()||Object(Pr.a)(Vn,ov),this.preRender(Vn,t),this.renderedTiles.length=0;var To=Object.keys(Me).map(Number);To.sort(Sr.i);var Wo,Do,to;i.opacity===1&&(!this.containerReused||w.getOpaque(t.viewState.projection))?To=To.reverse():(Wo=[],Do=[]);for(var _n=To.length-1;_n>=0;--_n){var vn=To[_n],bo=w.getTilePixelSize(vn,d,a),$l=I.getResolution(vn),bu=$l/Z,ef=bo[0]*bu*lr,fh=bo[1]*bu*lr,hh=I.getTileCoordForCoordAndZ($n(ce),vn),Pv=I.getTileCoordExtent(hh),Qu=Ue(this.tempTransform,[Et*(Pv[0]-ce[0])/Z,Et*(ce[3]-Pv[3])/Z]),Mv=Et*w.getGutterForProjection(a),d0=Me[vn];for(var Wd in d0){var $r=d0[Wd],rf=$r.tileCoord,Yd=hh[1]-rf[1],R2=Math.round(Qu[0]-(Yd-1)*ef),p0=hh[2]-rf[2],Iv=Math.round(Qu[1]-(p0-1)*fh),Br=Math.round(Qu[0]-Yd*ef),Yr=Math.round(Qu[1]-p0*fh),nf=R2-Br,tc=Iv-Yr,dh=G===vn,Tn=dh&&$r.getAlpha(Object(ct.c)(this),t.time)!==1;if(!Tn)if(Wo){Vn.save(),to=[Br,Yr,Br+nf,Yr,Br+nf,Yr+tc,Br,Yr+tc];for(var Hd=0,Jl=Wo.length;Hd<Jl;++Hd)if(G!==vn&&vn<Do[Hd]){var ql=Wo[Hd];Vn.beginPath(),Vn.moveTo(to[0],to[1]),Vn.lineTo(to[2],to[3]),Vn.lineTo(to[4],to[5]),Vn.lineTo(to[6],to[7]),Vn.moveTo(ql[6],ql[7]),Vn.lineTo(ql[4],ql[5]),Vn.lineTo(ql[2],ql[3]),Vn.lineTo(ql[0],ql[1]),Vn.clip()}Wo.push(to),Do.push(vn)}else Vn.clearRect(Br,Yr,nf,tc);this.drawTileImage($r,t,Br,Yr,nf,tc,Mv,dh),Wo&&!Tn?(Vn.restore(),this.renderedTiles.unshift($r)):this.renderedTiles.push($r),this.updateUsedTiles(t.usedTiles,w,$r)}}this.renderedRevision=C,this.renderedResolution=Z,this.extentChanged=!this.renderedExtent_||!cr(this.renderedExtent_,ce),this.renderedExtent_=ce,this.renderedPixelRatio=d,this.renderedProjection=a,this.manageTilePyramid(t,w,I,d,a,lt,G,y.getPreload()),this.scheduleExpireCache(t,w),this.postRender(Vn,t),i.extent&&Vn.restore(),Object(Pr.a)(Vn,Nx),jo!==Yi.style.transform&&(Yi.style.transform=jo);var ph=ir(i.opacity),Xd=this.container;return ph!==Xd.style.opacity&&(Xd.style.opacity=ph),this.container},r.prototype.drawTileImage=function(t,e,i,o,a,s,l,h){var d=this.getTileImage(t);if(!!d){var y=Object(ct.c)(this),w=h?t.getAlpha(y,e.time):1,C=w!==this.context.globalAlpha;C&&(this.context.save(),this.context.globalAlpha=w),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,i,o,a,s),C&&this.context.restore(),w!==1?e.animate=!0:h&&t.endTransition(y)}},r.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},r.prototype.getTileImage=function(t){return t.getImage()},r.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(o,a,s){var l=Object(ct.c)(o);l in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[l])}.bind(null,e);t.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(t,e,i){var o=Object(ct.c)(e);o in t||(t[o]={}),t[o][i.getKey()]=!0},r.prototype.manageTilePyramid=function(t,e,i,o,a,s,l,h,d){var y=Object(ct.c)(e);y in t.wantedTiles||(t.wantedTiles[y]={});var w=t.wantedTiles[y],C=t.tileQueue,I=i.getMinZoom(),G=0,Z,lt,pt,Et,ht,zt;for(zt=I;zt<=l;++zt)for(lt=i.getTileRangeForExtentAndZ(s,zt,lt),pt=i.getResolution(zt),Et=lt.minX;Et<=lt.maxX;++Et)for(ht=lt.minY;ht<=lt.maxY;++ht)l-zt<=h?(++G,Z=e.getTile(zt,Et,ht,o,a),Z.getState()==Cr.IDLE&&(w[Z.getKey()]=!0,C.isKeyQueued(Z.getKey())||C.enqueue([Z,y,i.getTileCoordCenter(Z.tileCoord),pt])),d!==void 0&&d(Z)):e.useTile(zt,Et,ht,a);e.updateCacheSize(G,a)},r}(Xm);Fx.prototype.getLayer;var jx=Fx,TP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bP=function(n){TP(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new jx(this)},r}(Px),Zm=bP;function CP(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div")}var LP={props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},title:{type:String},name:{type:String},preview:{type:String},baseLayer:{type:Boolean},properties:{type:Object,default:function(){}}}},xd=Ce()(LP,[["render",CP]]),AP={extends:xd,name:"ol-tile-layer",setup:function(r){var t=Object(M.inject)("map"),e=Object(M.inject)("overviewMap",null),i=or(r),o=i.properties,a=Object(M.computed)(function(){return new Zm(o)}),s=function(){e!=null?(e.value.getOverviewMap().addLayer(a.value),e.value.changed()):t.addLayer(a.value)},l=function(){e!=null?(e.value.getOverviewMap().removeLayer(a.value),e.value.changed()):t.removeLayer(a.value)};return e!=null&&Object(M.watch)(e,function(){l(),s()}),Object(M.onMounted)(function(){s()}),Object(M.onUnmounted)(function(){l()}),Object(M.provide)("tileLayer",a),{tileLayer:a}},props:{preload:{type:Number,default:1}}},$m=Ce()(AP,[["render",yP]]);function RP(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var PP=function(){function n(r){this.highWaterMark=r!==void 0?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},n.prototype.forEach=function(r){for(var t=this.oldest_;t;)r(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(r,t){var e=this.entries_[r];return qt(e!==void 0,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},n.prototype.remove=function(r){var t=this.entries_[r];return qt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[r],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.key_;return r},n.prototype.getValues=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.value_;return r},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},n.prototype.replace=function(r,t){this.get(r),this.entries_[r].value_=t},n.prototype.set=function(r,t){qt(!(r in this.entries_),16);var e={key_:r,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[r]=e,++this.count_},n.prototype.setSize=function(r){this.highWaterMark=r},n}(),Dx=PP,MP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IP=function(n){MP(r,n);function r(t,e,i){var o=n.call(this)||this,a=i||{};return o.tileCoord=t,o.state=e,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return r.prototype.changed=function(){this.dispatchEvent(qr.a.CHANGE)},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Cr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},r.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Cr.LOADED){t.interimTile=null;break}else t.getState()==Cr.LOADING?e=t:t.getState()==Cr.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(t){if(this.state!==Cr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},r.prototype.load=function(){Object(ct.b)()},r.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=e,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=e-i+1e3/60;return o>=this.transition_?1:Ts(o/this.transition_)},r.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},r.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},r}(Le.a),Bx=IP,NP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FP=function(n){NP(r,n);function r(t,e,i,o){var a=n.call(this)||this;return a.extent=t,a.pixelRatio_=i,a.resolution=e,a.state=o,a}return r.prototype.changed=function(){this.dispatchEvent(qr.a.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return Object(ct.b)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){Object(ct.b)()},r}(Le.a),Gx=FP,jP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DP=function(n){jP(r,n);function r(t,e,i,o,a,s){var l=n.call(this,t,e,i,Un.IDLE)||this;return l.src_=o,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=Un.IDLE,l.imageLoadFunction_=s,l}return r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=Un.ERROR,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Gr(this.extent)/this.image_.height),this.state=Un.LOADED,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(this.state==Un.IDLE||this.state==Un.ERROR)&&(this.state=Un.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Jm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(t){this.image_=t,this.resolution=Gr(this.extent)/this.image_.height},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Gx);function Jm(n,r,t){var e=n,i=!0,o=!1,a=!1,s=[Object(Or.b)(e,qr.a.LOAD,function(){a=!0,o||r()})];return e.src&&Ut.c?(o=!0,e.decode().then(function(){i&&r()}).catch(function(l){i&&(a?r():t())})):s.push(Object(Or.b)(e,qr.a.ERROR,t)),function(){i=!1,s.forEach(Or.c)}}var Ux=DP,BP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GP=function(n){BP(r,n);function r(t,e,i,o,a,s){var l=n.call(this,t,e,s)||this;return l.crossOrigin_=o,l.src_=i,l.key=i,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=a,l}return r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t,this.state=Cr.LOADED,this.unlistenImage_(),this.changed()},r.prototype.handleImageError_=function(){this.state=Cr.ERROR,this.unlistenImage_(),this.image_=UP(),this.changed()},r.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Cr.LOADED:this.state=Cr.EMPTY,this.unlistenImage_(),this.changed()},r.prototype.load=function(){this.state==Cr.ERROR&&(this.state=Cr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Cr.IDLE&&(this.state=Cr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Jm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Bx);function UP(){var n=Object(Ne.a)(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var qm=GP,kx=.5,kP=10,zx=.25,zP=function(){function n(r,t,e,i,o,a){this.sourceProj_=r,this.targetProj_=t;var s={},l=su(this.targetProj_,this.sourceProj_);this.transformInv_=function(Et){var ht=Et[0]+"/"+Et[1];return s[ht]||(s[ht]=l(Et)),s[ht]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&cn(i)==cn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?cn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?cn(this.targetProj_.getExtent()):null;var h=$n(e),d=po(e),y=Xi(e),w=kr(e),C=this.transformInv_(h),I=this.transformInv_(d),G=this.transformInv_(y),Z=this.transformInv_(w),lt=kP+(a?Math.max(0,Math.ceil(wf(fi(e)/(a*a*256*256)))):0);if(this.addQuad_(h,d,y,w,C,I,G,Z,lt),this.wrapsXInSource_){var pt=1/0;this.triangles_.forEach(function(Et,ht,zt){pt=Math.min(pt,Et.source[0][0],Et.source[1][0],Et.source[2][0])}),this.triangles_.forEach(function(Et){if(Math.max(Et.source[0][0],Et.source[1][0],Et.source[2][0])-pt>this.sourceWorldWidth_/2){var ht=[[Et.source[0][0],Et.source[0][1]],[Et.source[1][0],Et.source[1][1]],[Et.source[2][0],Et.source[2][1]]];ht[0][0]-pt>this.sourceWorldWidth_/2&&(ht[0][0]-=this.sourceWorldWidth_),ht[1][0]-pt>this.sourceWorldWidth_/2&&(ht[1][0]-=this.sourceWorldWidth_),ht[2][0]-pt>this.sourceWorldWidth_/2&&(ht[2][0]-=this.sourceWorldWidth_);var zt=Math.min(ht[0][0],ht[1][0],ht[2][0]),Gt=Math.max(ht[0][0],ht[1][0],ht[2][0]);Gt-zt<this.sourceWorldWidth_/2&&(Et.source=ht)}}.bind(this))}s={}}return n.prototype.addTriangle_=function(r,t,e,i,o,a){this.triangles_.push({source:[i,o,a],target:[r,t,e]})},n.prototype.addQuad_=function(r,t,e,i,o,a,s,l,h){var d=Rt([o,a,s,l]),y=this.sourceWorldWidth_?cn(d)/this.sourceWorldWidth_:null,w=this.sourceWorldWidth_,C=this.sourceProj_.canWrapX()&&y>.5&&y<1,I=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var G=Rt([r,t,e,i]),Z=cn(G)/this.targetWorldWidth_;I=Z>zx||I}!C&&this.sourceProj_.isGlobal()&&y&&(I=y>zx||I)}if(!(!I&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!hi(d,this.maxSourceExtent_))){var lt=0;if(!I&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1]))){if(h>0)I=!0;else if(lt=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),lt!=1&&lt!=2&&lt!=4&&lt!=8)return}if(h>0){if(!I){var pt=[(r[0]+e[0])/2,(r[1]+e[1])/2],Et=this.transformInv_(pt),ht=void 0;if(C){var zt=(Es(o[0],w)+Es(s[0],w))/2;ht=zt-Es(Et[0],w)}else ht=(o[0]+s[0])/2-Et[0];var Gt=(o[1]+s[1])/2-Et[1],$t=ht*ht+Gt*Gt;I=$t>this.errorThresholdSquared_}if(I){if(Math.abs(r[0]-e[0])<=Math.abs(r[1]-e[1])){var Xt=[(t[0]+e[0])/2,(t[1]+e[1])/2],ce=this.transformInv_(Xt),Ge=[(i[0]+r[0])/2,(i[1]+r[1])/2],Me=this.transformInv_(Ge);this.addQuad_(r,t,Xt,Ge,o,a,ce,Me,h-1),this.addQuad_(Ge,Xt,e,i,Me,ce,s,l,h-1)}else{var Ee=[(r[0]+t[0])/2,(r[1]+t[1])/2],er=this.transformInv_(Ee),Lr=[(e[0]+i[0])/2,(e[1]+i[1])/2],Br=this.transformInv_(Lr);this.addQuad_(r,Ee,Lr,i,o,er,Br,l,h-1),this.addQuad_(Ee,t,e,Lr,er,a,s,Br,h-1)}return}}if(C){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(lt&11)==0&&this.addTriangle_(r,e,i,o,s,l),(lt&14)==0&&this.addTriangle_(r,e,t,o,s,a),lt&&((lt&13)==0&&this.addTriangle_(t,i,r,a,l,o),(lt&7)==0&&this.addTriangle_(t,i,e,a,l,s))}},n.prototype.calculateSourceExtent=function(){var r=tt();return this.triangles_.forEach(function(t,e,i){var o=t.source;Ln(r,o[0]),Ln(r,o[1]),Ln(r,o[2])}),r},n.prototype.getTriangles=function(){return this.triangles_},n}(),Vx=zP,Qm;function Wx(n,r,t,e,i){n.beginPath(),n.moveTo(0,0),n.lineTo(r,t),n.lineTo(e,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(r,e)+1,Math.max(t,i)),n.restore()}function t1(n,r){return Math.abs(n[r*4]-210)>2||Math.abs(n[r*4+3]-.75*255)>2}function VP(){if(Qm===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Wx(n,4,5,4,0),Wx(n,4,5,0,5);var r=n.getImageData(0,0,3,3).data;Qm=t1(r,0)||t1(r,4)||t1(r,8)}return Qm}function av(n,r,t,e){var i=tl(t,r,n),o=mc(r,e,t),a=r.getMetersPerUnit();a!==void 0&&(o*=a);var s=n.getMetersPerUnit();s!==void 0&&(o/=s);var l=n.getExtent();if(!l||Jt(l,i)){var h=mc(n,o,i)/o;isFinite(h)&&h>0&&(o/=h)}return o}function WP(n,r,t,e){var i=Xn(t),o=av(n,r,i,e);return(!isFinite(o)||o<=0)&&Dn(t,function(a){return o=av(n,r,a,e),isFinite(o)&&o>0}),o}function Yx(n,r,t,e,i,o,a,s,l,h,d,y){var w=Object(Ne.a)(Math.round(t*n),Math.round(t*r));if(y||Object(Pr.a)(w,ov),l.length===0)return w.canvas;w.scale(t,t);function C(ht){return Math.round(ht*t)/t}w.globalCompositeOperation="lighter";var I=tt();l.forEach(function(ht,zt,Gt){br(I,ht.extent)});var G=cn(I),Z=Gr(I),lt=Object(Ne.a)(Math.round(t*G/e),Math.round(t*Z/e));y||Object(Pr.a)(lt,ov);var pt=t/e;l.forEach(function(ht,zt,Gt){var $t=ht.extent[0]-I[0],Xt=-(ht.extent[3]-I[3]),ce=cn(ht.extent),Ge=Gr(ht.extent);ht.image.width>0&&ht.image.height>0&&lt.drawImage(ht.image,h,h,ht.image.width-2*h,ht.image.height-2*h,$t*pt,Xt*pt,ce*pt,Ge*pt)});var Et=$n(a);return s.getTriangles().forEach(function(ht,zt,Gt){var $t=ht.source,Xt=ht.target,ce=$t[0][0],Ge=$t[0][1],Me=$t[1][0],Ee=$t[1][1],er=$t[2][0],Lr=$t[2][1],Br=C((Xt[0][0]-Et[0])/o),Yr=C(-(Xt[0][1]-Et[1])/o),$r=C((Xt[1][0]-Et[0])/o),On=C(-(Xt[1][1]-Et[1])/o),Tn=C((Xt[2][0]-Et[0])/o),Fn=C(-(Xt[2][1]-Et[1])/o),jn=ce,lr=Ge;ce=0,Ge=0,Me-=jn,Ee-=lr,er-=jn,Lr-=lr;var jo=[[Me,Ee,0,0,$r-Br],[er,Lr,0,0,Tn-Br],[0,0,Me,Ee,On-Yr],[0,0,er,Lr,Fn-Yr]],Vn=ac(jo);if(!!Vn){if(w.save(),w.beginPath(),VP()||!y){w.moveTo($r,On);for(var Yi=4,To=Br-$r,Wo=Yr-On,Do=0;Do<Yi;Do++)w.lineTo($r+C((Do+1)*To/Yi),On+C(Do*Wo/(Yi-1))),Do!=Yi-1&&w.lineTo($r+C((Do+1)*To/Yi),On+C((Do+1)*Wo/(Yi-1)));w.lineTo(Tn,Fn)}else w.moveTo($r,On),w.lineTo(Br,Yr),w.lineTo(Tn,Fn);w.clip(),w.transform(Vn[0],Vn[2],Vn[1],Vn[3],Br,Yr),w.translate(I[0]-jn,I[3]-lr),w.scale(e/t,-e/t),w.drawImage(lt.canvas,0,0),w.restore()}}),d&&(w.save(),w.globalCompositeOperation="source-over",w.strokeStyle="black",w.lineWidth=1,s.getTriangles().forEach(function(ht,zt,Gt){var $t=ht.target,Xt=($t[0][0]-Et[0])/o,ce=-($t[0][1]-Et[1])/o,Ge=($t[1][0]-Et[0])/o,Me=-($t[1][1]-Et[1])/o,Ee=($t[2][0]-Et[0])/o,er=-($t[2][1]-Et[1])/o;w.beginPath(),w.moveTo(Ge,Me),w.lineTo(Xt,ce),w.lineTo(Ee,er),w.closePath(),w.stroke()}),w.restore()),w.canvas}var YP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HP=function(n){YP(r,n);function r(t,e,i,o,a,s,l,h,d,y,w,C){var I=n.call(this,a,Cr.IDLE,{interpolate:!!C})||this;I.renderEdges_=w!==void 0?w:!1,I.pixelRatio_=l,I.gutter_=h,I.canvas_=null,I.sourceTileGrid_=e,I.targetTileGrid_=o,I.wrappedTileCoord_=s||a,I.sourceTiles_=[],I.sourcesListenerKeys_=null,I.sourceZ_=0;var G=o.getTileCoordExtent(I.wrappedTileCoord_),Z=I.targetTileGrid_.getExtent(),lt=I.sourceTileGrid_.getExtent(),pt=Z?Rr(G,Z):G;if(fi(pt)===0)return I.state=Cr.EMPTY,I;var Et=t.getExtent();Et&&(lt?lt=Rr(lt,Et):lt=Et);var ht=o.getResolution(I.wrappedTileCoord_[0]),zt=WP(t,i,pt,ht);if(!isFinite(zt)||zt<=0)return I.state=Cr.EMPTY,I;var Gt=y!==void 0?y:kx;if(I.triangulation_=new Vx(t,i,pt,lt,zt*Gt,ht),I.triangulation_.getTriangles().length===0)return I.state=Cr.EMPTY,I;I.sourceZ_=e.getZForResolution(zt);var $t=I.triangulation_.calculateSourceExtent();if(lt&&(t.canWrapX()?($t[1]=Pi($t[1],lt[1],lt[3]),$t[3]=Pi($t[3],lt[1],lt[3])):$t=Rr($t,lt)),!fi($t))I.state=Cr.EMPTY;else{for(var Xt=e.getTileRangeForExtentAndZ($t,I.sourceZ_),ce=Xt.minX;ce<=Xt.maxX;ce++)for(var Ge=Xt.minY;Ge<=Xt.maxY;Ge++){var Me=d(I.sourceZ_,ce,Ge,l);Me&&I.sourceTiles_.push(Me)}I.sourceTiles_.length===0&&(I.state=Cr.EMPTY)}return I}return r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(d,y,w){d&&d.getState()==Cr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(d.tileCoord),image:d.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Cr.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(e),l=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Yx(o,a,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,h,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Cr.LOADED}this.changed()},r.prototype.load=function(){if(this.state==Cr.IDLE){this.state=Cr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,o){var a=e.getState();if(a==Cr.IDLE||a==Cr.LOADING){t++;var s=Object(Or.a)(e,qr.a.CHANGE,function(l){var h=e.getState();(h==Cr.LOADED||h==Cr.ERROR||h==Cr.EMPTY)&&(Object(Or.c)(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,i,o){var a=e.getState();a==Cr.IDLE&&e.load()})}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Or.c),this.sourcesListenerKeys_=null},r}(Bx),Hx=HP,sv=34962,ny=34963,XP=35040,e1=35044,iy=35048,KP=5121,ZP=5123,$P=5125,Xx=5126,Kx=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Zx(n,r){for(var t=Object(Pr.a)({preserveDrawingBuffer:!0},r),e=Kx.length,i=0;i<e;++i)try{var o=n.getContext(Kx[i],t);if(o)return o}catch{}return null}var JP={STATIC_DRAW:e1,STREAM_DRAW:XP,DYNAMIC_DRAW:iy},qP=function(){function n(r,t){this.array=null,this.type=r,qt(r===sv||r===ny,62),this.usage=t!==void 0?t:JP.STATIC_DRAW}return n.prototype.ofSize=function(r){this.array=new(r1(this.type))(r)},n.prototype.fromArray=function(r){var t=r1(this.type);this.array=t.from?t.from(r):new t(r)},n.prototype.fromArrayBuffer=function(r){this.array=new(r1(this.type))(r)},n.prototype.getType=function(){return this.type},n.prototype.getArray=function(){return this.array},n.prototype.getUsage=function(){return this.usage},n.prototype.getSize=function(){return this.array?this.array.length:0},n}();function r1(n){switch(n){case sv:return Float32Array;case ny:return Uint32Array;default:return Float32Array}}var lv=qP,QP=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function $x(n,r,t){var e=t?n.LINEAR:n.NEAREST;n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e)}function tM(n,r,t,e){$x(n,r,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)}function Jx(n,r,t,e,i,o){var a=n.getGL();$x(a,r,o);var s=t.byteLength/e[1],l=1;s%8==0?l=8:s%4==0?l=4:s%2==0&&(l=2);var h;switch(i){case 1:{h=a.LUMINANCE;break}case 2:{h=a.LUMINANCE_ALPHA;break}case 3:{h=a.RGB;break}case 4:{h=a.RGBA;break}default:throw new Error("Unsupported number of bands: "+i)}var d;t instanceof Float32Array?(d=a.FLOAT,n.getExtension("OES_texture_float"),n.getExtension("OES_texture_float_linear")):d=a.UNSIGNED_BYTE;var y=a.getParameter(a.UNPACK_ALIGNMENT);a.pixelStorei(a.UNPACK_ALIGNMENT,l),a.texImage2D(a.TEXTURE_2D,0,h,e[0],e[1],0,h,d,t),a.pixelStorei(a.UNPACK_ALIGNMENT,y)}var eM=function(n){QP(r,n);function r(t,e,i){var o=n.call(this)||this;o.tile,o.textures=[],o.handleTileChange_=o.handleTileChange_.bind(o),o.size=Zi(e.getTileSize(t.tileCoord[0])),o.bandCount=NaN,o.helper_=i;var a=new lv(sv,e1);return a.fromArray([0,1,1,1,1,0,0,0]),i.flushBufferData(a),o.coords=a,o.setTile(t),o}return r.prototype.setTile=function(t){if(t!==this.tile)if(this.tile&&this.tile.removeEventListener(qr.a.CHANGE,this.handleTileChange_),this.tile=t,this.textures.length=0,this.loaded=t.getState()===Cr.LOADED,this.loaded)this.uploadTile_();else{if(t instanceof qm){var e=t.getImage();e instanceof Image&&!e.crossOrigin&&(e.crossOrigin="anonymous")}t.addEventListener(qr.a.CHANGE,this.handleTileChange_)}},r.prototype.uploadTile_=function(){var t=this.helper_,e=t.getGL(),i=this.tile;if(i instanceof qm||i instanceof Hx){var o=e.createTexture();this.textures.push(o),this.bandCount=4,tM(e,o,i.getImage(),i.interpolate);return}var a=i.getData(),s=a instanceof Float32Array,l=this.size[0]*this.size[1],h=s?Float32Array:Uint8Array,d=h.BYTES_PER_ELEMENT,y=a.byteLength/this.size[1];this.bandCount=Math.floor(y/d/this.size[0]);var w=Math.ceil(this.bandCount/4);if(w===1){var o=e.createTexture();this.textures.push(o),Jx(t,o,a,this.size,this.bandCount,i.interpolate);return}for(var C=new Array(w),I=0;I<w;++I){var o=e.createTexture();this.textures.push(o);var G=I<w-1?4:this.bandCount%4;C[I]=new h(l*G)}for(var Z=0,lt=0,pt=this.size[0]*this.bandCount,Et=0;Et<this.size[1];++Et){for(var ht=0;ht<pt;++ht){var zt=a[lt+ht],Gt=Math.floor(Z/this.bandCount),$t=ht%this.bandCount,I=Math.floor($t/4),Xt=C[I],G=Xt.length/l,ce=$t%4;Xt[Gt*G+ce]=zt,++Z}lt+=y/d}for(var I=0;I<w;++I){var o=this.textures[I],Xt=C[I],G=Xt.length/l;Jx(t,o,Xt,this.size,G,i.interpolate)}},r.prototype.handleTileChange_=function(){this.tile.getState()===Cr.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(qr.a.CHANGE))},r.prototype.disposeInternal=function(){var t=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e]);this.tile.removeEventListener(qr.a.CHANGE,this.handleTileChange_)},r}(Le.a),rM=eM,oy={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},nM=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,iM=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`,oM=function(){function n(r){this.gl_=r.webGlContext;var t=this.gl_;this.scaleRatio_=r.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,r.vertexShader||nM),t.compileShader(e);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,r.fragmentShader||iM),t.compileShader(i),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,e),t.attachShader(this.renderTargetProgram_,i),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();var o=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],r.uniforms&&Object.keys(r.uniforms).forEach(function(a){this.uniforms_.push({value:r.uniforms[a],location:t.getUniformLocation(this.renderTargetProgram_,a)})}.bind(this))}return n.prototype.getGL=function(){return this.gl_},n.prototype.init=function(r){var t=this.getGL(),e=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,e[0],e[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==e[0]||this.renderTargetTextureSize_[1]!==e[1]){this.renderTargetTextureSize_=e;var i=0,o=t.RGBA,a=0,s=t.RGBA,l=t.UNSIGNED_BYTE,h=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,i,o,e[0],e[1],a,s,l,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},n.prototype.apply=function(r,t,e,i){var o=this.getGL(),a=r.size;if(o.bindFramebuffer(o.FRAMEBUFFER,t?t.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!t){var s=Object(ct.c)(o.canvas);if(!r.renderTargets[s]){var l=o.getContextAttributes();l&&l.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),r.renderTargets[s]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var h=r.layerStatesArray[r.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,h),this.applyUniforms(r),e&&e(o,r),o.drawArrays(o.TRIANGLES,0,6),i&&i(o,r)},n.prototype.getFrameBuffer=function(){return this.frameBuffer_},n.prototype.applyUniforms=function(r){var t=this.getGL(),e,i=1;this.uniforms_.forEach(function(o){if(e=typeof o.value=="function"?o.value(r):o.value,e instanceof HTMLCanvasElement||e instanceof ImageData)o.texture||(o.texture=t.createTexture()),t.activeTexture(t["TEXTURE"+i]),t.bindTexture(t.TEXTURE_2D,o.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e.width,e.height,0,t.UNSIGNED_BYTE,new Uint8Array(e.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.uniform1i(o.location,i++);else if(Array.isArray(e))switch(e.length){case 2:t.uniform2f(o.location,e[0],e[1]);return;case 3:t.uniform3f(o.location,e[0],e[1],e[2]);return;case 4:t.uniform4f(o.location,e[0],e[1],e[2],e[3]);return;default:return}else typeof e=="number"&&t.uniform1f(o.location,e)})},n}(),qx=oM;function Qx(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ay(n,r){return n[0]=r[0],n[1]=r[1],n[4]=r[2],n[5]=r[3],n[12]=r[4],n[13]=r[5],n}var aM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sd={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},gl={UNSIGNED_BYTE:KP,UNSIGNED_SHORT:ZP,UNSIGNED_INT:$P,FLOAT:Xx},sy={};function t5(n){return"shared/"+n}var e5=0;function sM(){var n="unique/"+e5;return e5+=1,n}function lM(n){var r=sy[n];if(!r){var t=document.createElement("canvas");t.style.position="absolute",t.style.left="0",r={users:0,canvas:t},sy[n]=r}return r.users+=1,r.canvas}function uM(n){var r=sy[n];if(!!r&&(r.users-=1,!(r.users>0))){var t=r.canvas,e=Zx(t),i=e.getExtension("WEBGL_lose_context");i&&i.loseContext(),delete sy[n]}}var cM=function(n){aM(r,n);function r(t){var e=n.call(this)||this,i=t||{};e.boundHandleWebGLContextLost_=e.handleWebGLContextLost.bind(e),e.boundHandleWebGLContextRestored_=e.handleWebGLContextRestored.bind(e),e.canvasCacheKey_=i.canvasCacheKey?t5(i.canvasCacheKey):sM(),e.canvas_=lM(e.canvasCacheKey_),e.gl_=Zx(e.canvas_),e.bufferCache_={},e.extensionCache_={},e.currentProgram_=null,e.canvas_.addEventListener(oy.LOST,e.boundHandleWebGLContextLost_),e.canvas_.addEventListener(oy.RESTORED,e.boundHandleWebGLContextRestored_),e.offsetRotateMatrix_=q(),e.offsetScaleMatrix_=q(),e.tmpMat4_=Qx(),e.uniformLocations_={},e.attribLocations_={},e.uniforms_=[],i.uniforms&&e.setUniforms(i.uniforms);var o=e.getGL();return e.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(a){return new qx({webGlContext:o,scaleRatio:a.scaleRatio,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,uniforms:a.uniforms})}):[new qx({webGlContext:o})],e.shaderCompileErrors_=null,e.startTime_=Date.now(),e}return r.prototype.setUniforms=function(t){this.uniforms_=[];for(var e in t)this.uniforms_.push({name:e,value:t[e]});this.uniformLocations_={}},r.prototype.canvasCacheKeyMatches=function(t){return this.canvasCacheKey_===t5(t)},r.prototype.getExtension=function(t){if(t in this.extensionCache_)return this.extensionCache_[t];var e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e},r.prototype.bindBuffer=function(t){var e=this.getGL(),i=Object(ct.c)(t),o=this.bufferCache_[i];if(!o){var a=e.createBuffer();o={buffer:t,webGlBuffer:a},this.bufferCache_[i]=o}e.bindBuffer(t.getType(),o.webGlBuffer)},r.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},r.prototype.deleteBuffer=function(t){var e=this.getGL(),i=Object(ct.c)(t),o=this.bufferCache_[i];o&&!e.isContextLost()&&e.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[i]},r.prototype.disposeInternal=function(){this.canvas_.removeEventListener(oy.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(oy.RESTORED,this.boundHandleWebGLContextRestored_),uM(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},r.prototype.prepareDraw=function(t,e){var i=this.getGL(),o=this.getCanvas(),a=t.size,s=t.pixelRatio;o.width=a[0]*s,o.height=a[1]*s,o.style.width=a[0]+"px",o.style.height=a[1]+"px",i.useProgram(this.currentProgram_);for(var l=this.postProcessPasses_.length-1;l>=0;l--)this.postProcessPasses_[l].init(t);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,e?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.prepareDrawToRenderTarget=function(t,e,i){var o=this.getGL(),a=e.getSize();o.bindFramebuffer(o.FRAMEBUFFER,e.getFramebuffer()),o.viewport(0,0,a[0],a[1]),o.bindTexture(o.TEXTURE_2D,e.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,i?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.drawElements=function(t,e){var i=this.getGL();this.getExtension("OES_element_index_uint");var o=i.UNSIGNED_INT,a=4,s=e-t,l=t*a;i.drawElements(i.TRIANGLES,s,o,l)},r.prototype.finalizeDraw=function(t,e,i){for(var o=0,a=this.postProcessPasses_.length;o<a;o++)o===a-1?this.postProcessPasses_[o].apply(t,null,e,i):this.postProcessPasses_[o].apply(t,this.postProcessPasses_[o+1])},r.prototype.getCanvas=function(){return this.canvas_},r.prototype.getGL=function(){return this.gl_},r.prototype.applyFrameState=function(t){var e=t.size,i=t.viewState.rotation,o=bt(this.offsetScaleMatrix_);Ar(o,2/e[0],2/e[1]);var a=bt(this.offsetRotateMatrix_);i!==0&&yr(a,-i),this.setUniformMatrixValue(Sd.OFFSET_SCALE_MATRIX,ay(this.tmpMat4_,o)),this.setUniformMatrixValue(Sd.OFFSET_ROTATION_MATRIX,ay(this.tmpMat4_,a)),this.setUniformFloatValue(Sd.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(Sd.ZOOM,t.viewState.zoom),this.setUniformFloatValue(Sd.RESOLUTION,t.viewState.resolution)},r.prototype.applyUniforms=function(t){var e=this.getGL(),i,o=0;this.uniforms_.forEach(function(a){if(i=typeof a.value=="function"?a.value(t):a.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData){a.texture||(a.prevValue=void 0,a.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+o]),e.bindTexture(e.TEXTURE_2D,a.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var s=!(i instanceof HTMLImageElement)||i.complete;s&&a.prevValue!==i&&(a.prevValue=i,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)),e.uniform1i(this.getUniformLocation(a.name),o++)}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(a.name,ay(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:e.uniform2f(this.getUniformLocation(a.name),i[0],i[1]);return;case 3:e.uniform3f(this.getUniformLocation(a.name),i[0],i[1],i[2]);return;case 4:e.uniform4f(this.getUniformLocation(a.name),i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&e.uniform1f(this.getUniformLocation(a.name),i)}.bind(this))},r.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0},r.prototype.compileShader=function(t,e){var i=this.getGL(),o=i.createShader(e);return i.shaderSource(o,t),i.compileShader(o),o},r.prototype.getProgram=function(t,e){var i=this.getGL(),o=this.compileShader(t,i.FRAGMENT_SHADER),a=this.compileShader(e,i.VERTEX_SHADER),s=i.createProgram();if(i.attachShader(s,o),i.attachShader(s,a),i.linkProgram(s),!i.getShaderParameter(o,i.COMPILE_STATUS)){var l="Fragment shader compliation failed: "+i.getShaderInfoLog(o);throw new Error(l)}if(i.deleteShader(o),!i.getShaderParameter(a,i.COMPILE_STATUS)){var l="Vertex shader compilation failed: "+i.getShaderInfoLog(a);throw new Error(l)}if(i.deleteShader(a),!i.getProgramParameter(s,i.LINK_STATUS)){var l="GL program linking failed: "+i.getShaderInfoLog(a);throw new Error(l)}return s},r.prototype.getUniformLocation=function(t){return this.uniformLocations_[t]===void 0&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},r.prototype.getAttributeLocation=function(t){return this.attribLocations_[t]===void 0&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},r.prototype.makeProjectionTransform=function(t,e){var i=t.size,o=t.viewState.rotation,a=t.viewState.resolution,s=t.viewState.center;return bt(e),Ie(e,0,0,2/(a*i[0]),2/(a*i[1]),-o,-s[0],-s[1]),e},r.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},r.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},r.prototype.enableAttributeArray_=function(t,e,i,o,a){var s=this.getAttributeLocation(t);s<0||(this.getGL().enableVertexAttribArray(s),this.getGL().vertexAttribPointer(s,e,i,!1,o,a))},r.prototype.enableAttributes=function(t){for(var e=fM(t),i=0,o=0;o<t.length;o++){var a=t[o];this.enableAttributeArray_(a.name,a.size,a.type||Xx,e,i),i+=a.size*r5(a.type)}},r.prototype.handleWebGLContextLost=function(){Object(Pr.b)(this.bufferCache_),this.currentProgram_=null},r.prototype.handleWebGLContextRestored=function(){},r.prototype.createTexture=function(t,e,i){var o=this.getGL(),a=i||o.createTexture(),s=0,l=o.RGBA,h=0,d=o.RGBA,y=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,a),e?o.texImage2D(o.TEXTURE_2D,s,l,d,y,e):o.texImage2D(o.TEXTURE_2D,s,l,t[0],t[1],h,d,y,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),a},r}(Lt.a);function fM(n){for(var r=0,t=0;t<n.length;t++){var e=n[t];r+=e.size*r5(e.type)}return r}function r5(n){switch(n){case gl.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case gl.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case gl.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case gl.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var hM=cM,dM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),n1={GENERATE_BUFFERS:"GENERATE_BUFFERS"},pM=function(n){dM(r,n);function r(t,e){var i=n.call(this,t)||this,o=e||{};return i.inversePixelTransform_=q(),i.pixelContext_=null,i.postProcesses_=o.postProcesses,i.uniforms_=o.uniforms,i.helper,t.addChangeListener(mi.MAP,i.removeHelper_.bind(i)),i.dispatchPreComposeEvent=i.dispatchPreComposeEvent.bind(i),i.dispatchPostComposeEvent=i.dispatchPostComposeEvent.bind(i),i}return r.prototype.dispatchPreComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(Fa.PRECOMPOSE)){var o=new De(Fa.PRECOMPOSE,void 0,e,t);i.dispatchEvent(o)}},r.prototype.dispatchPostComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(Fa.POSTCOMPOSE)){var o=new De(Fa.POSTCOMPOSE,void 0,e,t);i.dispatchEvent(o)}},r.prototype.reset=function(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},r.prototype.removeHelper_=function(){this.helper&&(this.helper.dispose(),delete this.helper)},r.prototype.prepareFrame=function(t){if(this.getLayer().getSource()){for(var e=!0,i=-1,o=void 0,a=0,s=t.layerStatesArray.length;a<s;a++){var l=t.layerStatesArray[a].layer,h=l.getRenderer();if(!(h instanceof r)){e=!0;continue}var d=l.getClassName();if((e||d!==o)&&(i+=1,e=!1),o=d,h===this)break}var y="map/"+t.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(y))&&(this.helper&&this.helper.dispose(),this.helper=new hM({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:y}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(t)},r.prototype.afterHelperCreated=function(){},r.prototype.prepareFrameInternal=function(t){return!0},r.prototype.disposeInternal=function(){this.removeHelper_(),n.prototype.disposeInternal.call(this)},r.prototype.dispatchRenderEvent_=function(t,e,i){var o=this.getLayer();if(o.hasListener(t)){Ie(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);var a=new De(t,this.inversePixelTransform_,i,e);o.dispatchEvent(a)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Fa.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Fa.POSTRENDER,t,e)},r.prototype.getDataAtPixel=function(t,e,i){var o=Ue([e.pixelRatio,0,0,e.pixelRatio,0,0],t.slice()),a=this.helper.getGL();if(!a)return null;var s=this.getLayer(),l=s.getExtent();if(l){var h=Ue(e.pixelToCoordinateTransform,t.slice());if(!Jt(l,h))return null}var d=a.getContextAttributes();if(!d||!d.preserveDrawingBuffer)return new Uint8Array;var y=Math.round(o[0]),w=Math.round(o[1]),C=this.pixelContext_;if(!C){var I=document.createElement("canvas");I.width=1,I.height=1,C=I.getContext("2d"),this.pixelContext_=C}C.clearRect(0,0,1,1);var G;try{C.drawImage(a.canvas,y,w,1,1,0,0,1,1),G=C.getImageData(0,0,1,1).data}catch{return G}return G[3]===0?null:G},r}(Mx);function vM(n,r){var t=r||[],e=256,i=e-1;return t[0]=Math.floor(n/e/e/e)/i,t[1]=Math.floor(n/e/e)%e/i,t[2]=Math.floor(n/e)%e/i,t[3]=n%e/i,t}function gM(n){var r=0,t=256,e=t-1;return r+=Math.round(n[0]*t*t*t*e),r+=Math.round(n[1]*t*t*e),r+=Math.round(n[2]*t*e),r+=Math.round(n[3]*e),r}var n5=pM;function uv(n,r,t,e){return e!==void 0?(e[0]=n,e[1]=r,e[2]=t,e):[n,r,t]}function cv(n,r,t){return n+"/"+r+"/"+t}function fv(n){return cv(n[0],n[1],n[2])}function yM(n){return n.split("/").map(Number)}function i5(n){return(n[1]<<n[0])+n[2]}function mM(n,r){var t=n[0],e=n[1],i=n[2];if(r.getMinZoom()>t||t>r.getMaxZoom())return!1;var o=r.getFullTileRange(t);return o?o.containsXY(e,i):!0}var _M=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),co={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},ly={TEXTURE_COORD:"a_textureCoord"},EM=[{name:ly.TEXTURE_COORD,size:2,type:gl.FLOAT}],xM={};function SM(n){return 2*(1-1/(n+1))-1}function o5(n,r,t){t in n||(n[t]=[]),n[t].push(r)}function i1(n,r){var t=n.layerStatesArray[n.layerIndex];t.extent&&(r=Rr(r,oa(t.extent,n.viewState.projection)));var e=t.layer.getSource();if(!e.getWrapX()){var i=e.getTileGridForProjection(n.viewState.projection).getExtent();i&&(r=Rr(r,i))}return r}var a5=function(n){_M(r,n);function r(t,e){var i=n.call(this,t,{uniforms:e.uniforms})||this;i.tileTransform_=q(),i.tempMat4_=Qx(),i.tempTileRange_=new Km(0,0,0,0),i.tempTileCoord_=uv(0,0,0),i.tempSize_=[0,0],i.program_,i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.indices_=new lv(ny,e1),i.indices_.fromArray([0,1,3,1,2,3]);var o=e.cacheSize!==void 0?e.cacheSize:512;return i.tileTextureCache_=new Dx(o),i.paletteTextures_=e.paletteTextures||[],i}return r.prototype.reset=function(t){n.prototype.reset.call(this,{uniforms:t.uniforms}),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},r.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==Cr.LOADED||i==Cr.EMPTY||i==Cr.ERROR&&!o},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource();return!i||Ro(i1(t,t.extent))?!1:i.getState()===Ss.READY},r.prototype.enqueueTiles=function(t,e,i,o){var a=t.viewState,s=this.getLayer(),l=s.getSource(),h=l.getTileGridForProjection(a.projection),d=this.tileTextureCache_,y=h.getTileRangeForExtentAndZ(e,i,this.tempTileRange_),w=Object(ct.c)(l);w in t.wantedTiles||(t.wantedTiles[w]={});for(var C=t.wantedTiles[w],I=h.getResolution(i),G=y.minX;G<=y.maxX;++G)for(var Z=y.minY;Z<=y.maxY;++Z){var lt=uv(i,G,Z,this.tempTileCoord_),pt=fv(lt),Et=void 0,ht=void 0;if(d.containsKey(pt)&&(Et=d.get(pt),ht=Et.tile),!Et||Et.tile.key!==l.getKey())if(ht=l.getTile(i,G,Z,t.pixelRatio,a.projection),!Et)Et=new rM(ht,h,this.helper),d.set(pt,Et);else if(this.isDrawableTile_(ht))Et.setTile(ht);else{var zt=ht.getInterimTile();Et.setTile(zt)}o5(o,Et,i);var Gt=ht.getKey();C[Gt]=!0,ht.getState()===Cr.IDLE&&(t.tileQueue.isKeyQueued(Gt)||t.tileQueue.enqueue([ht,w,h.getTileCoordCenter(lt),I]))}},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=t.viewState,o=this.getLayer(),a=o.getSource(),s=a.getTileGridForProjection(i.projection),l=i1(t,t.extent),h=s.getZForResolution(i.resolution,a.zDirection),d={};if(t.nextExtent){var y=s.getZForResolution(i.nextResolution,a.zDirection),w=i1(t,t.nextExtent);this.enqueueTiles(t,w,y,d)}this.enqueueTiles(t,l,h,d);for(var C={},I=Object(ct.c)(this),G=t.time,Z=!1,lt=d[h],pt=0,Et=lt.length;pt<Et;++pt){var ht=lt[pt],zt=ht.tile,Gt=zt.tileCoord;if(ht.loaded){var $t=zt.getAlpha(I,G);if($t===1){zt.endTransition(I);continue}Z=!0;var Xt=fv(Gt);C[Xt]=$t}var ce=this.findAltTiles_(s,Gt,h+1,d);if(!ce)for(var Ge=s.getMinZoom(),Me=h-1;Me>=Ge;--Me){var Ee=this.findAltTiles_(s,Gt,Me,d);if(Ee)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(t,!Z);for(var er=Object.keys(d).map(Number).sort(Sr.i),Lr=i.center[0],Br=i.center[1],Yr=0,$r=er.length;Yr<$r;++Yr)for(var On=er[Yr],Tn=s.getResolution(On),Fn=Zi(s.getTileSize(On),this.tempSize_),jn=s.getOrigin(On),lr=(Lr-jn[0])/(Fn[0]*Tn),jo=(jn[1]-Br)/(Fn[1]*Tn),Vn=i.resolution/Tn,Yi=SM(On),To=d[On],pt=0,Et=To.length;pt<Et;++pt){var ht=To[pt];if(!!ht.loaded){var zt=ht.tile,Gt=zt.tileCoord,Xt=fv(Gt),Wo=Gt[1],Do=Gt[2];Ie(this.tileTransform_,0,0,2/(t.size[0]*Vn/Fn[0]),-2/(t.size[1]*Vn/Fn[1]),i.rotation,-(lr-Wo),-(jo-Do)),this.helper.setUniformMatrixValue(co.TILE_TRANSFORM,ay(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(ht.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(EM);for(var to=0;to<ht.textures.length;){var _n="TEXTURE"+to,vn=co.TILE_TEXTURE_ARRAY+"["+to+"]";e.activeTexture(e[_n]),e.bindTexture(e.TEXTURE_2D,ht.textures[to]),e.uniform1i(this.helper.getUniformLocation(vn),to),++to}for(var bo=0;bo<this.paletteTextures_.length;++bo){var $l=this.paletteTextures_[bo];e.activeTexture(e["TEXTURE"+to]);var bu=$l.getTexture(e);e.bindTexture(e.TEXTURE_2D,bu),e.uniform1i(this.helper.getUniformLocation($l.name),to),++to}var $t=Xt in C?C[Xt]:1;$t<1&&(t.animate=!0),this.helper.setUniformFloatValue(co.TRANSITION_ALPHA,$t),this.helper.setUniformFloatValue(co.DEPTH,Yi),this.helper.setUniformFloatValue(co.TEXTURE_PIXEL_WIDTH,Fn[0]),this.helper.setUniformFloatValue(co.TEXTURE_PIXEL_HEIGHT,Fn[1]),this.helper.setUniformFloatValue(co.RESOLUTION,i.resolution),this.helper.setUniformFloatValue(co.ZOOM,i.zoom),this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var ef=this.helper.getCanvas(),fh=this.tileTextureCache_;fh.canExpireCache();){var ht=fh.pop();ht.dispose()}var hh=function(Pv,Qu){a.expireCache(Qu.viewState.projection,xM)};return t.postRenderFunctions.push(hh),this.postRender(e,t),ef},r.prototype.findAltTiles_=function(t,e,i,o){var a=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!a)return!1;for(var s=!0,l=this.tileTextureCache_,h=a.minX;h<=a.maxX;++h)for(var d=a.minY;d<=a.maxY;++d){var y=cv(i,h,d),w=!1;if(l.containsKey(y)){var C=l.get(y);C.loaded&&(o5(o,C,i),w=!0)}w||(s=!1)}return s},r.prototype.disposeInternal=function(){var t=this.helper,e=t.getGL();t.deleteBuffer(this.indices_),delete this.indices_,e.deleteProgram(this.program_),delete this.program_;var i=this.tileTextureCache_;i.forEach(function(o){o.dispose()}),i.clear(),delete this.tileTextureCache_,n.prototype.disposeInternal.call(this)},r}(n5);a5.prototype.getLayer;var wM=a5,OM=function(){function n(r,t){this.name=r,this.data=t,this.texture_=null}return n.prototype.getTexture=function(r){if(!this.texture_){var t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.data.length/4,1,0,r.RGBA,r.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_},n}(),TM=OM,zr={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},ii={};function _u(n){if(typeof n=="number")return zr.NUMBER;if(typeof n=="boolean")return zr.BOOLEAN;if(typeof n=="string")return fm(n)?zr.COLOR|zr.STRING:zr.STRING;if(!Array.isArray(n))throw new Error("Unhandled value type: "+JSON.stringify(n));var r=n,t=r.every(function(i){return typeof i=="number"});if(t)return r.length===3||r.length===4?zr.COLOR|zr.NUMBER_ARRAY:zr.NUMBER_ARRAY;if(typeof r[0]!="string")throw new Error("Expected an expression operator but received: "+JSON.stringify(r));var e=ii[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.getReturnType(r.slice(1))}function bM(n){return wf(n)%1==0}function uy(n){var r=n.toString();return r.indexOf(".")===-1?r+".0":r}function s5(n){if(n.length<2||n.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+n.length+"("+n.map(uy).join(", ")+")"}function CM(n){var r=fa(n).slice();return r.length<4&&r.push(1),s5(r.map(function(t,e){return e<3?t/255:t}))}function cy(n,r){return n.stringLiteralsMap[r]===void 0&&(n.stringLiteralsMap[r]=Object.keys(n.stringLiteralsMap).length),n.stringLiteralsMap[r]}function LM(n,r){return uy(cy(n,r))}function Kr(n,r,t){if(Array.isArray(r)&&typeof r[0]=="string"){var e=ii[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.toGlsl(n,r.slice(1),t)}var i=_u(r);if((i&zr.NUMBER)>0)return uy(r);if((i&zr.BOOLEAN)>0)return r.toString();if((i&zr.STRING)>0&&(t===void 0||t==zr.STRING))return LM(n,r.toString());if((i&zr.COLOR)>0&&(t===void 0||t==zr.COLOR))return CM(r);if((i&zr.NUMBER_ARRAY)>0)return s5(r);throw new Error("Unexpected expression "+r+" (expected type "+t+")")}function l5(n){if(!(_u(n)&zr.NUMBER))throw new Error("A numeric value was expected, got "+JSON.stringify(n)+" instead")}function sa(n){for(var r=0;r<n.length;r++)l5(n[r])}function u5(n){if(!(_u(n)&zr.STRING))throw new Error("A string value was expected, got "+JSON.stringify(n)+" instead")}function o1(n){if(!(_u(n)&zr.BOOLEAN))throw new Error("A boolean value was expected, got "+JSON.stringify(n)+" instead")}function fo(n,r){if(n.length!==r)throw new Error("Exactly "+r+" arguments were expected, got "+n.length+" instead")}function Uc(n,r){if(n.length<r)throw new Error("At least "+r+" arguments were expected, got "+n.length+" instead")}function fy(n,r){if(n.length>r)throw new Error("At most "+r+" arguments were expected, got "+n.length+" instead")}function c5(n){if(n.length%2!=0)throw new Error("An even amount of arguments was expected, got "+n+" instead")}function AM(n){if(n.length%2==0)throw new Error("An odd amount of arguments was expected, got "+n+" instead")}function a1(n,r){if(!bM(r))throw new Error("Could not infer only one type from the following expression: "+JSON.stringify(n))}ii.get={getReturnType:function(n){return zr.ANY},toGlsl:function(n,r){fo(r,1),u5(r[0]);var t=r[0].toString();n.attributes.indexOf(t)===-1&&n.attributes.push(t);var e=n.inFragmentShader?"v_":"a_";return e+t}};function s1(n){return"u_var_"+n}ii.var={getReturnType:function(n){return zr.ANY},toGlsl:function(n,r){fo(r,1),u5(r[0]);var t=r[0].toString();return n.variables.indexOf(t)===-1&&n.variables.push(t),s1(t)}};var f5="u_paletteTextures";ii.palette={getReturnType:function(n){return zr.COLOR},toGlsl:function(n,r){fo(r,2),l5(r[0]);var t=Kr(n,r[0]),e=r[1];if(!Array.isArray(e))throw new Error("The second argument of palette must be an array");for(var i=e.length,o=new Uint8Array(i*4),a=0;a<i;a++){var s=e[a],l=void 0;if(typeof s=="string")l=Qa(s);else{if(!Array.isArray(s))throw new Error("The second argument of palette must be an array of strings or colors");var h=s.length;if(h===4)l=s;else{if(h!==3)throw new Error("Expected palette color to have 3 or 4 values, got "+h);l=[s[0],s[1],s[2],1]}}var d=a*4;o[d]=l[0],o[d+1]=l[1],o[d+2]=l[2],o[d+3]=l[3]*255}n.paletteTextures||(n.paletteTextures=[]);var y=f5+"["+n.paletteTextures.length+"]",w=new TM(y,o);return n.paletteTextures.push(w),"texture2D("+y+", vec2(("+t+" + 0.5) / "+i+".0, 0.5))"}};var l1="getBandValue";ii.band={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){Uc(r,1),fy(r,3);var t=r[0];if(!(l1 in n.functions)){for(var e="",i=n.bandCount||1,o=0;o<i;o++){var a=Math.floor(o/4),s=o%4;s===i-1&&s===1&&(s=3);var l=co.TILE_TEXTURE_ARRAY+"["+a+"]";e+=`
          if (band == `+(o+1)+`.0) {
            return texture2D(`+l+", v_textureCoord + vec2(dx, dy))["+s+`];
          }
        `}n.functions[l1]=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / `+co.TEXTURE_PIXEL_WIDTH+`;
          float dy = yOffset / `+co.TEXTURE_PIXEL_HEIGHT+`;
          `+e+`
        }
      `}var h=Kr(n,t),d=Kr(n,r[1]||0),y=Kr(n,r[2]||0);return l1+"("+h+", "+d+", "+y+")"}},ii.time={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,0),"u_time"}},ii.zoom={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,0),"u_zoom"}},ii.resolution={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,0),"u_resolution"}},ii["*"]={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" * "+Kr(n,r[1])+")"}},ii["/"]={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" / "+Kr(n,r[1])+")"}},ii["+"]={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" + "+Kr(n,r[1])+")"}},ii["-"]={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" - "+Kr(n,r[1])+")"}},ii.clamp={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){fo(r,3),sa(r);var t=Kr(n,r[1]),e=Kr(n,r[2]);return"clamp("+Kr(n,r[0])+", "+t+", "+e+")"}},ii["%"]={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,2),sa(r),"mod("+Kr(n,r[0])+", "+Kr(n,r[1])+")"}},ii["^"]={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,2),sa(r),"pow("+Kr(n,r[0])+", "+Kr(n,r[1])+")"}},ii.abs={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,1),sa(r),"abs("+Kr(n,r[0])+")"}},ii.sin={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,1),sa(r),"sin("+Kr(n,r[0])+")"}},ii.cos={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return fo(r,1),sa(r),"cos("+Kr(n,r[0])+")"}},ii.atan={getReturnType:function(n){return zr.NUMBER},toGlsl:function(n,r){return Uc(r,1),fy(r,2),sa(r),r.length===2?"atan("+Kr(n,r[0])+", "+Kr(n,r[1])+")":"atan("+Kr(n,r[0])+")"}},ii[">"]={getReturnType:function(n){return zr.BOOLEAN},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" > "+Kr(n,r[1])+")"}},ii[">="]={getReturnType:function(n){return zr.BOOLEAN},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" >= "+Kr(n,r[1])+")"}},ii["<"]={getReturnType:function(n){return zr.BOOLEAN},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" < "+Kr(n,r[1])+")"}},ii["<="]={getReturnType:function(n){return zr.BOOLEAN},toGlsl:function(n,r){return fo(r,2),sa(r),"("+Kr(n,r[0])+" <= "+Kr(n,r[1])+")"}};function h5(n){return{getReturnType:function(r){return zr.BOOLEAN},toGlsl:function(r,t){fo(t,2);for(var e=zr.ANY,i=0;i<t.length;i++)e&=_u(t[i]);if(e===zr.NONE)throw new Error("All arguments should be of compatible type, got "+JSON.stringify(t)+" instead");return e&=~zr.COLOR,"("+Kr(r,t[0],e)+" "+n+" "+Kr(r,t[1],e)+")"}}}ii["=="]=h5("=="),ii["!="]=h5("!="),ii["!"]={getReturnType:function(n){return zr.BOOLEAN},toGlsl:function(n,r){return fo(r,1),o1(r[0]),"(!"+Kr(n,r[0])+")"}};function d5(n){return{getReturnType:function(r){return zr.BOOLEAN},toGlsl:function(r,t){Uc(t,2);for(var e=0;e<t.length;e++)o1(t[e]);var i="";return i=t.map(function(o){return Kr(r,o)}).join(" "+n+" "),i="("+i+")",i}}}ii.all=d5("&&"),ii.any=d5("||"),ii.between={getReturnType:function(n){return zr.BOOLEAN},toGlsl:function(n,r){fo(r,3),sa(r);var t=Kr(n,r[1]),e=Kr(n,r[2]),i=Kr(n,r[0]);return"("+i+" >= "+t+" && "+i+" <= "+e+")"}},ii.array={getReturnType:function(n){return zr.NUMBER_ARRAY},toGlsl:function(n,r){Uc(r,2),fy(r,4),sa(r);var t=r.map(function(e){return Kr(n,e,zr.NUMBER)});return"vec"+r.length+"("+t.join(", ")+")"}},ii.color={getReturnType:function(n){return zr.COLOR},toGlsl:function(n,r){Uc(r,3),fy(r,4),sa(r);var t=r;r.length===3&&t.push(1);var e=r.map(function(i,o){return Kr(n,i,zr.NUMBER)+(o<3?" / 255.0":"")});return"vec"+r.length+"("+e.join(", ")+")"}},ii.interpolate={getReturnType:function(n){for(var r=zr.COLOR|zr.NUMBER,t=3;t<n.length;t+=2)r=r&_u(n[t]);return r},toGlsl:function(n,r,t){c5(r),Uc(r,6);var e=r[0],i;switch(e[0]){case"linear":i=1;break;case"exponential":i=e[1];break;default:i=null}if(!i)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(e));var o=t!==void 0?t:zr.ANY,a=ii.interpolate.getReturnType(r)&o;a1(r,a);for(var s=Kr(n,r[1]),l=uy(i),h="",d=2;d<r.length-2;d+=2){var y=Kr(n,r[d]),w=h||Kr(n,r[d+1],a),C=Kr(n,r[d+2]),I=Kr(n,r[d+3],a);h="mix("+w+", "+I+", pow(clamp(("+s+" - "+y+") / ("+C+" - "+y+"), 0.0, 1.0), "+l+"))"}return h}},ii.match={getReturnType:function(n){for(var r=zr.ANY,t=2;t<n.length;t+=2)r=r&_u(n[t]);return r=r&_u(n[n.length-1]),r},toGlsl:function(n,r,t){c5(r),Uc(r,4);var e=t!==void 0?t:zr.ANY,i=ii.match.getReturnType(r)&e;a1(r,i);for(var o=Kr(n,r[0]),a=Kr(n,r[r.length-1],i),s=null,l=r.length-3;l>=1;l-=2){var h=Kr(n,r[l]),d=Kr(n,r[l+1],i);s="("+o+" == "+h+" ? "+d+" : "+(s||a)+")"}return s}},ii.case={getReturnType:function(n){for(var r=zr.ANY,t=1;t<n.length;t+=2)r=r&_u(n[t]);return r=r&_u(n[n.length-1]),r},toGlsl:function(n,r,t){AM(r),Uc(r,3);var e=t!==void 0?t:zr.ANY,i=ii.case.getReturnType(r)&e;a1(r,i);for(var o=0;o<r.length-1;o+=2)o1(r[o]);for(var a=Kr(n,r[r.length-1],i),s=null,o=r.length-3;o>=0;o-=2){var l=Kr(n,r[o]),h=Kr(n,r[o+1],i);s="("+l+" ? "+h+" : "+(s||a)+")"}return s}};var RM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function p5(n,r){var t=`
    attribute vec2 `+ly.TEXTURE_COORD+`;
    uniform mat4 `+co.TILE_TRANSFORM+`;
    uniform float `+co.DEPTH+`;

    varying vec2 v_textureCoord;

    void main() {
      v_textureCoord = `+ly.TEXTURE_COORD+`;
      gl_Position = `+co.TILE_TRANSFORM+" * vec4("+ly.TEXTURE_COORD+", "+co.DEPTH+`, 1.0);
    }
  `,e={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:r},i=[];if(n.color!==void 0){var o=Kr(e,n.color,zr.COLOR);i.push("color = "+o+";")}if(n.contrast!==void 0){var a=Kr(e,n.contrast,zr.NUMBER);i.push("color.rgb = clamp(("+a+" + 1.0) * color.rgb - ("+a+" / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.exposure!==void 0){var s=Kr(e,n.exposure,zr.NUMBER);i.push("color.rgb = clamp(("+s+" + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.saturation!==void 0){var l=Kr(e,n.saturation,zr.NUMBER);i.push(`
      float saturation = `+l+` + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(n.gamma!==void 0){var h=Kr(e,n.gamma,zr.NUMBER);i.push("color.rgb = pow(color.rgb, vec3(1.0 / "+h+"));")}if(n.brightness!==void 0){var d=Kr(e,n.brightness,zr.NUMBER);i.push("color.rgb = clamp(color.rgb + "+d+", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}var y={},w=e.variables.length;if(w>1&&!n.variables)throw new Error("Missing variables in style (expected "+e.variables+")");for(var C=function(Et){var ht=e.variables[Et];if(!(ht in n.variables))throw new Error("Missing '"+ht+"' in style variables");var zt=s1(ht);y[zt]=function(){var Gt=n.variables[ht];return typeof Gt=="string"&&(Gt=cy(e,Gt)),Gt!==void 0?Gt:-9999999}},I=0;I<w;++I)C(I);var G=Object.keys(y).map(function(Et){return"uniform float "+Et+";"}),Z=Math.ceil(r/4);G.push("uniform sampler2D "+co.TILE_TEXTURE_ARRAY+"["+Z+"];"),e.paletteTextures&&G.push("uniform sampler2D "+f5+"["+e.paletteTextures.length+"];");var lt=Object.keys(e.functions).map(function(Et){return e.functions[Et]}),pt=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    uniform float `+co.TRANSITION_ALPHA+`;
    uniform float `+co.TEXTURE_PIXEL_WIDTH+`;
    uniform float `+co.TEXTURE_PIXEL_HEIGHT+`;
    uniform float `+co.RESOLUTION+`;
    uniform float `+co.ZOOM+`;

    `+G.join(`
`)+`

    `+lt.join(`
`)+`

    void main() {
      vec4 color = texture2D(`+co.TILE_TEXTURE_ARRAY+`[0],  v_textureCoord);

      `+i.join(`
`)+`

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= `+co.TRANSITION_ALPHA+`;
    }`;return{vertexShader:t,fragmentShader:pt,uniforms:y,paletteTextures:e.paletteTextures}}var v5=function(n){RM(r,n);function r(t){var e=this,i=t?Object(Pr.a)({},t):{},o=i.style||{};delete i.style;var a=i.cacheSize;return delete i.cacheSize,e=n.call(this,i)||this,e.style_=o,e.cacheSize_=a,e.styleVariables_=e.style_.variables||{},e.addChangeListener(mi.SOURCE,e.handleSourceUpdate_),e}return r.prototype.handleSourceUpdate_=function(){this.setStyle(this.style_)},r.prototype.getSourceBandCount_=function(){var t=this.getSource();return t&&"bandCount"in t?t.bandCount:4},r.prototype.createRenderer=function(){var t=p5(this.style_,this.getSourceBandCount_());return new wM(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,cacheSize:this.cacheSize_,paletteTextures:t.paletteTextures})},r.prototype.setStyle=function(t){this.style_=t;var e=p5(this.style_,this.getSourceBandCount_()),i=this.getRenderer();i.reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()},r.prototype.updateStyleVariables=function(t){Object(Pr.a)(this.styleVariables_,t),this.changed()},r}(Px);v5.prototype.dispose;var PM=v5,MM={extends:xd,name:"ol-webgl-tile-layer",setup:function(r){var t=Object(M.inject)("map"),e=Object(M.inject)("overviewMap",null),i=or(r),o=i.properties,a=Object(M.computed)(function(){return new PM(o)}),s=function(){e!=null?(e.value.getOverviewMap().addLayer(a.value),e.value.changed()):t.addLayer(a.value)},l=function(){e!=null?(e.value.getOverviewMap().removeLayer(a.value),e.value.changed()):t.removeLayer(a.value)};return e!=null&&Object(M.watch)(e,function(){l(),s()}),Object(M.onMounted)(function(){s()}),Object(M.onUnmounted)(function(){l()}),Object(M.provide)("tileLayer",a),{tileLayer:a}},props:{preload:{type:Number,default:1}}},u1=Ce()(MM,[["render",RP]]);function IM(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var NM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FM=function(n){NM(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e}return r}(_),jM=FM,DM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BM=function(n){DM(r,n);function r(t){var e=n.call(this,t)||this;return e.image_=null,e}return r.prototype.getImage=function(){return this.image_?this.image_.getImage():null},r.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],i=t.pixelRatio,o=t.viewState,a=o.resolution,s=this.getLayer().getSource(),l=t.viewHints,h=t.extent;if(e.extent!==void 0&&(h=Rr(h,oa(e.extent,o.projection))),!l[oi.ANIMATING]&&!l[oi.INTERACTING]&&!Ro(h))if(s){var d=o.projection,y=s.getImage(h,a,i,d);y&&this.loadImage(y)&&(this.image_=y)}else this.image_=null;return!!this.image_},r.prototype.renderFrame=function(t,e){var i=this.image_,o=i.getExtent(),a=i.getResolution(),s=i.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,d=t.viewState,y=d.center,w=d.resolution,C=t.size,I=h*a/(w*s),G=Math.round(C[0]*h),Z=Math.round(C[1]*h),lt=d.rotation;if(lt){var pt=Math.round(Math.sqrt(G*G+Z*Z));G=pt,Z=pt}Ie(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,lt,-G/2,-Z/2),Je(this.inversePixelTransform,this.pixelTransform);var Et=mr(this.pixelTransform);this.useContainer(e,Et,l.opacity,this.getBackground(t));var ht=this.context,zt=ht.canvas;zt.width!=G||zt.height!=Z?(zt.width=G,zt.height=Z):this.containerReused||ht.clearRect(0,0,G,Z);var Gt=!1,$t=!0;if(l.extent){var Xt=oa(l.extent,d.projection);$t=hi(Xt,t.extent),Gt=$t&&!he(Xt,t.extent),Gt&&this.clipUnrotated(ht,t,Xt)}var ce=i.getImage(),Ge=Ie(this.tempTransform,G/2,Z/2,I,I,0,s*(o[0]-y[0])/a,s*(y[1]-o[3])/a);this.renderedResolution=a*h/s;var Me=ce.width*Ge[0],Ee=ce.height*Ge[3];if(this.getLayer().getSource().getInterpolate()||Object(Pr.a)(ht,ov),this.preRender(ht,t),$t&&Me>=.5&&Ee>=.5){var er=Ge[4],Lr=Ge[5],Br=l.opacity,Yr=void 0;Br!==1&&(Yr=ht.globalAlpha,ht.globalAlpha=Br),ht.drawImage(ce,0,0,+ce.width,+ce.height,Math.round(er),Math.round(Lr),Math.round(Me),Math.round(Ee)),Br!==1&&(ht.globalAlpha=Yr)}return this.postRender(ht,t),Gt&&ht.restore(),Object(Pr.a)(ht,Nx),Et!==zt.style.transform&&(zt.style.transform=Et),this.container},r}(Xm),GM=BM,UM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kM=function(n){UM(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new GM(this)},r}(jM),g5=kM,zM={extends:xd,name:"ol-image-layer",setup:function(r){var t=Object(M.inject)("map"),e=or(r),i=e.properties,o=new g5(i);return Object(M.watch)(i,function(){o.setProperties(i)}),Object(M.onMounted)(function(){t.addLayer(o)}),Object(M.onUnmounted)(function(){t.removeLayer(o)}),Object(M.provide)("imageLayer",o),{imageLayer:o}}},c1=Ce()(zM,[["render",IM]]);function VM(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var WM=u("25a5"),y5=u.n(WM),YM=function(){function n(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=Zi(r.scale),this.displacement_=r.displacement}return n.prototype.clone=function(){var r=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Object(ct.b)()},n.prototype.getImage=function(r){return Object(ct.b)()},n.prototype.getHitDetectionImage=function(){return Object(ct.b)()},n.prototype.getPixelRatio=function(r){return 1},n.prototype.getImageState=function(){return Object(ct.b)()},n.prototype.getImageSize=function(){return Object(ct.b)()},n.prototype.getOrigin=function(){return Object(ct.b)()},n.prototype.getSize=function(){return Object(ct.b)()},n.prototype.setDisplacement=function(r){this.displacement_=r},n.prototype.setOpacity=function(r){this.opacity_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Zi(r)},n.prototype.listenImageChange=function(r){Object(ct.b)()},n.prototype.load=function(){Object(ct.b)()},n.prototype.unlistenImageChange=function(r){Object(ct.b)()},n}(),m5=YM;function Eu(n){return Array.isArray(n)?xs(n):n}var HM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XM=function(n){HM(r,n);function r(t){var e=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return e=n.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,e.canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=t.fill!==void 0?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=t.radius!==void 0?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=t.angle!==void 0?t.angle:0,e.stroke_=t.stroke!==void 0?t.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},r.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,o=Object(Ne.a)(i.size*t,i.size*t);this.draw_(i,o,t),e=o.canvas,this.canvas_[t]=e}return e},r.prototype.getPixelRatio=function(t){return t},r.prototype.getImageSize=function(){return this.size_},r.prototype.getImageState=function(){return Un.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.calculateLineJoinSize_=function(t,e,i){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var l=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/l,d=a*Math.sin(h),y=Math.sqrt(a*a-d*d),w=o-y,C=Math.sqrt(d*d+w*w),I=C/d;if(t==="miter"&&I<=i)return I*e;var G=e/2/I,Z=e/2*(w/C),lt=Math.sqrt((o+G)*(o+G)+Z*Z),pt=lt-o;if(this.radius2_===void 0||t==="bevel")return pt*2;var Et=o*Math.sin(h),ht=Math.sqrt(o*o-Et*Et),zt=a-ht,Gt=Math.sqrt(Et*Et+zt*zt),$t=Gt/Et;if($t<=i){var Xt=$t*e/2-a-o;return 2*Math.max(pt,Xt)}return pt*2},r.prototype.createRenderOptions=function(){var t=fe,e=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=Te),a=Eu(a),s=this.stroke_.getWidth(),s===void 0&&(s=vr),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=fe),e=this.stroke_.getMiterLimit(),e===void 0&&(e=ve));var l=this.calculateLineJoinSize_(t,s,e),h=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*h+l);return{strokeStyle:a,strokeWidth:s,size:d,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:e}},r.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},r.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var o=this.fill_.getColor();o===null&&(o=Xr),e.fillStyle=Eu(o),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if(typeof e=="string"&&(e=fa(e)),e===null?i=1:Array.isArray(e)&&(i=e.length===4?e[3]:1),i===0){var o=Object(Ne.a)(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},r.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(e*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/e,l=0;l<e;l++){var h=a+l*s,d=l%2==0?i:o;t.lineTo(d*Math.cos(h),d*Math.sin(h))}t.closePath()}},r.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Xr,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r}(m5),hy=XM,KM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZM=function(n){KM(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this,e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.setRadius=function(t){this.radius_=t,this.render()},r}(hy),hv=ZM,$M=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(r){this.color_=r},n}(),pa=$M,JM=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(r){this.color_=r},n.prototype.setLineCap=function(r){this.lineCap_=r},n.prototype.setLineDash=function(r){this.lineDash_=r},n.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},n.prototype.setLineJoin=function(r){this.lineJoin_=r},n.prototype.setMiterLimit=function(r){this.miterLimit_=r},n.prototype.setWidth=function(r){this.width_=r},n}(),Zo=JM,wd=function(){function n(r){var t=r||{};this.geometry_=null,this.geometryFunction_=_5,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var r=this.getGeometry();return r&&typeof r=="object"&&(r=r.clone()),new n({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(r){this.renderer_=r},n.prototype.setHitDetectionRenderer=function(r){this.hitDetectionRenderer_=r},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(r){this.fill_=r},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(r){this.image_=r},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(r){this.text_=r},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(r){typeof r=="function"?this.geometryFunction_=r:typeof r=="string"?this.geometryFunction_=function(t){return t.get(r)}:r?r!==void 0&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=_5,this.geometry_=r},n.prototype.setZIndex=function(r){this.zIndex_=r},n}();function qM(n){var r;if(typeof n=="function")r=n;else{var t;if(Array.isArray(n))t=n;else{qt(typeof n.getZIndex=="function",41);var e=n;t=[e]}r=function(){return t}}return r}var f1=null;function QM(n,r){if(!f1){var t=new pa({color:"rgba(255,255,255,0.4)"}),e=new Zo({color:"#3399CC",width:1.25});f1=[new wd({image:new hv({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return f1}function h1(){var n={},r=[255,255,255,1],t=[0,153,255,1],e=3;return n[Zt.POLYGON]=[new wd({fill:new pa({color:[255,255,255,.5]})})],n[Zt.MULTI_POLYGON]=n[Zt.POLYGON],n[Zt.LINE_STRING]=[new wd({stroke:new Zo({color:r,width:e+2})}),new wd({stroke:new Zo({color:t,width:e})})],n[Zt.MULTI_LINE_STRING]=n[Zt.LINE_STRING],n[Zt.CIRCLE]=n[Zt.POLYGON].concat(n[Zt.LINE_STRING]),n[Zt.POINT]=[new wd({image:new hv({radius:e*2,fill:new pa({color:t}),stroke:new Zo({color:r,width:e/2})}),zIndex:1/0})],n[Zt.MULTI_POINT]=n[Zt.POINT],n[Zt.GEOMETRY_COLLECTION]=n[Zt.POLYGON].concat(n[Zt.LINE_STRING],n[Zt.POINT]),n}function _5(n){return n.getGeometry()}var va=wd,tI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),E5={RENDER_ORDER:"renderOrder"},eI=function(n){tI(r,n);function r(t){var e=this,i=t||{},o=Object(Pr.a)({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,e=n.call(this,o)||this,e.declutter_=i.declutter!==void 0?i.declutter:!1,e.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(i.style),e.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,e.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,e}return r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get(E5.RENDER_ORDER)},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new y5.a(9)),this.getRenderer().renderDeclutter(t)},r.prototype.setRenderOrder=function(t){this.set(E5.RENDER_ORDER,t)},r.prototype.setStyle=function(t){this.style_=t!==void 0?t:QM,this.styleFunction_=t===null?void 0:qM(this.style_),this.changed()},r}(_),dy=eI,dv={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},py=[dv.FILL],kc=[dv.STROKE],Jf=[dv.BEGIN_PATH],x5=[dv.CLOSE_PATH],bn=dv,rI=function(){function n(){}return n.prototype.drawCustom=function(r,t,e,i){},n.prototype.drawGeometry=function(r){},n.prototype.setStyle=function(r){},n.prototype.drawCircle=function(r,t){},n.prototype.drawFeature=function(r,t){},n.prototype.drawGeometryCollection=function(r,t){},n.prototype.drawLineString=function(r,t){},n.prototype.drawMultiLineString=function(r,t){},n.prototype.drawMultiPoint=function(r,t){},n.prototype.drawMultiPolygon=function(r,t){},n.prototype.drawPoint=function(r,t){},n.prototype.drawPolygon=function(r,t){},n.prototype.drawText=function(r,t){},n.prototype.setFillStrokeStyle=function(r,t){},n.prototype.setImageStyle=function(r,t){},n.prototype.setTextStyle=function(r,t){},n}(),S5=rI,nI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iI=function(n){nI(r,n);function r(t,e,i,o){var a=n.call(this)||this;return a.tolerance=t,a.maxExtent=e,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return r.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(i){return i*e})},r.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,l=0,h=t.length;l<h;l+=e)o[0]=t[l],o[1]=t[l+1],Jt(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},r.prototype.appendFlatLineCoordinates=function(t,e,i,o,a,s){var l=this.coordinates,h=l.length,d=this.getBufferedMaxExtent();s&&(e+=o);var y=t[e],w=t[e+1],C=this.tmpCoordinate_,I=!0,G,Z,lt;for(G=e+o;G<i;G+=o)C[0]=t[G],C[1]=t[G+1],lt=Ve(d,C),lt!==Z?(I&&(l[h++]=y,l[h++]=w,I=!1),l[h++]=C[0],l[h++]=C[1]):lt===_r.INTERSECTING?(l[h++]=C[0],l[h++]=C[1],I=!1):I=!0,y=C[0],w=C[1],Z=lt;return(a&&I||G===e+o)&&(l[h++]=y,l[h++]=w),h},r.prototype.drawCustomCoordinates_=function(t,e,i,o,a){for(var s=0,l=i.length;s<l;++s){var h=i[s],d=this.appendFlatLineCoordinates(t,e,h,o,!1,!1);a.push(d),e=h}return e},r.prototype.drawCustom=function(t,e,i,o){this.beginGeometry(t,e);var a=t.getType(),s=t.getStride(),l=this.coordinates.length,h,d,y,w,C;switch(a){case Zt.MULTI_POLYGON:h=t.getOrientedFlatCoordinates(),w=[];var I=t.getEndss();C=0;for(var G=0,Z=I.length;G<Z;++G){var lt=[];C=this.drawCustomCoordinates_(h,C,I[G],s,lt),w.push(lt)}this.instructions.push([bn.CUSTOM,l,w,t,i,Ga]),this.hitDetectionInstructions.push([bn.CUSTOM,l,w,t,o||i,Ga]);break;case Zt.POLYGON:case Zt.MULTI_LINE_STRING:y=[],h=a==Zt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),C=this.drawCustomCoordinates_(h,0,t.getEnds(),s,y),this.instructions.push([bn.CUSTOM,l,y,t,i,io]),this.hitDetectionInstructions.push([bn.CUSTOM,l,y,t,o||i,io]);break;case Zt.LINE_STRING:case Zt.CIRCLE:h=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(h,0,h.length,s,!1,!1),this.instructions.push([bn.CUSTOM,l,d,t,i,Ki]),this.hitDetectionInstructions.push([bn.CUSTOM,l,d,t,o||i,Ki]);break;case Zt.MULTI_POINT:h=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(h,s),d>l&&(this.instructions.push([bn.CUSTOM,l,d,t,i,Ki]),this.hitDetectionInstructions.push([bn.CUSTOM,l,d,t,o||i,Ki]));break;case Zt.POINT:h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),d=this.coordinates.length,this.instructions.push([bn.CUSTOM,l,d,t,i]),this.hitDetectionInstructions.push([bn.CUSTOM,l,d,t,o||i]);break}this.endGeometry(e)},r.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[bn.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[bn.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,i=t.length,o,a,s=-1;for(e=0;e<i;++e)o=t[e],a=o[0],a==bn.END_GEOMETRY?s=e:a==bn.BEGIN_GEOMETRY&&(o[2]=e,Object(Sr.j)(this.hitDetectionInstructions,s,e),s=-1)},r.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var o=t.getColor();i.fillStyle=Eu(o||Xr)}else i.fillStyle=void 0;if(e){var a=e.getColor();i.strokeStyle=Eu(a||Te);var s=e.getLineCap();i.lineCap=s!==void 0?s:ft;var l=e.getLineDash();i.lineDash=l?l.slice():Ft;var h=e.getLineDashOffset();i.lineDashOffset=h||Kt;var d=e.getLineJoin();i.lineJoin=d!==void 0?d:fe;var y=e.getWidth();i.lineWidth=y!==void 0?y:vr;var w=e.getMiterLimit();i.miterLimit=w!==void 0?w:ve,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(t){var e=t.fillStyle,i=[bn.SET_FILL_STYLE,e];return typeof e!="string"&&i.push(!0),i},r.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},r.prototype.createStroke=function(t){return[bn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,o=t.lineCap,a=t.lineDash,s=t.lineDashOffset,l=t.lineJoin,h=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||a!=t.currentLineDash&&!Object(Sr.b)(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=l||t.currentLineWidth!=h||t.currentMiterLimit!=d)&&(i!==void 0&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=l,t.currentLineWidth=h,t.currentMiterLimit=d)},r.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[bn.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},r.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Wt(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ct(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},r}(S5),pv=iI,oI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aI=function(n){oI(r,n);function r(t,e,i,o){var a=n.call(this,t,e,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return r.prototype.drawPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([bn.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([bn.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.drawMultiPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([bn.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([bn.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},r.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),o=t.getSize(),a=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=e},r}(pv),sI=aI,lI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uI=function(n){lI(r,n);function r(t,e,i,o){return n.call(this,t,e,i,o)||this}return r.prototype.drawFlatCoordinates_=function(t,e,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,i,o,!1,!1),l=[bn.MOVE_TO_LINE_TO,a,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i},r.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([bn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ft,Kt],Jf);var s=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(kc),this.endGeometry(e)}},r.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([bn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Jf);for(var s=t.getEnds(),l=t.getFlatCoordinates(),h=t.getStride(),d=0,y=0,w=s.length;y<w;++y)d=this.drawFlatCoordinates_(l,d,s[y],h);this.hitDetectionInstructions.push(kc),this.endGeometry(e)}},r.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(kc),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},r.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(kc),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Jf)},r}(pv),cI=uI,fI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hI=function(n){fI(r,n);function r(t,e,i,o){return n.call(this,t,e,i,o)||this}return r.prototype.drawFlatCoordinatess_=function(t,e,i,o){var a=this.state,s=a.fillStyle!==void 0,l=a.strokeStyle!==void 0,h=i.length;this.instructions.push(Jf),this.hitDetectionInstructions.push(Jf);for(var d=0;d<h;++d){var y=i[d],w=this.coordinates.length,C=this.appendFlatLineCoordinates(t,e,y,o,!0,!l),I=[bn.MOVE_TO_LINE_TO,w,C];this.instructions.push(I),this.hitDetectionInstructions.push(I),l&&(this.instructions.push(x5),this.hitDetectionInstructions.push(x5)),e=y}return s&&(this.instructions.push(py),this.hitDetectionInstructions.push(py)),l&&(this.instructions.push(kc),this.hitDetectionInstructions.push(kc)),e},r.prototype.drawCircle=function(t,e){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([bn.SET_FILL_STYLE,Xr]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([bn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getFlatCoordinates(),l=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var d=[bn.CIRCLE,h];this.instructions.push(Jf,d),this.hitDetectionInstructions.push(Jf,d),i.fillStyle!==void 0&&(this.instructions.push(py),this.hitDetectionInstructions.push(py)),i.strokeStyle!==void 0&&(this.instructions.push(kc),this.hitDetectionInstructions.push(kc)),this.endGeometry(e)}},r.prototype.drawPolygon=function(t,e){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([bn.SET_FILL_STYLE,Xr]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([bn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getEnds(),l=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(l,0,s,h),this.endGeometry(e)}},r.prototype.drawMultiPolygon=function(t,e){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([bn.SET_FILL_STYLE,Xr]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([bn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=t.getEndss(),l=t.getOrientedFlatCoordinates(),h=t.getStride(),d=0,y=0,w=s.length;y<w;++y)d=this.drawFlatCoordinatess_(l,d,s[y],h);this.endGeometry(e)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var e=this.coordinates,i=0,o=e.length;i<o;++i)e[i]=Kn(e[i],t);return n.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;e!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},r}(pv),w5=hI,O5={POINT:"point",LINE:"line"};function dI(n,r,t,e,i){var o=t,a=t,s=0,l=0,h=t,d,y,w,C,I,G,Z,lt,pt,Et;for(y=t;y<e;y+=i){var ht=r[y],zt=r[y+1];I!==void 0&&(pt=ht-I,Et=zt-G,C=Math.sqrt(pt*pt+Et*Et),Z!==void 0&&(l+=w,d=Math.acos((Z*pt+lt*Et)/(w*C)),d>n&&(l>s&&(s=l,o=h,a=y),l=0,h=y-i)),w=C,Z=pt,lt=Et),I=ht,G=zt}return l+=C,l>s?[h,y]:[o,a]}var pI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vy={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},vI=function(n){pI(r,n);function r(t,e,i,o){var a=n.call(this,t,e,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return r.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},r.prototype.drawText=function(t,e){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,l=s.length,h=t.getType(),d=null,y=t.getStride();if(a.placement===O5.LINE&&(h==Zt.LINE_STRING||h==Zt.MULTI_LINE_STRING||h==Zt.POLYGON||h==Zt.MULTI_POLYGON)){if(!hi(this.getBufferedMaxExtent(),t.getExtent()))return;var w=void 0;if(d=t.getFlatCoordinates(),h==Zt.LINE_STRING)w=[d.length];else if(h==Zt.MULTI_LINE_STRING)w=t.getEnds();else if(h==Zt.POLYGON)w=t.getEnds().slice(0,1);else if(h==Zt.MULTI_POLYGON){var C=t.getEndss();w=[];for(var I=0,G=C.length;I<G;++I)w.push(C[I][0])}this.beginGeometry(t,e);for(var Z=a.textAlign,lt=0,pt=void 0,Et=0,ht=w.length;Et<ht;++Et){if(Z==null){var zt=dI(a.maxAngle,d,lt,w[Et],y);lt=zt[0],pt=zt[1]}else pt=w[Et];for(var I=lt;I<pt;I+=y)s.push(d[I],d[I+1]);var Gt=s.length;lt=w[Et],this.drawChars_(l,Gt),l=Gt}this.endGeometry(e)}else{var $t=a.overflow?null:[];switch(h){case Zt.POINT:case Zt.MULTI_POINT:d=t.getFlatCoordinates();break;case Zt.LINE_STRING:d=t.getFlatMidpoint();break;case Zt.CIRCLE:d=t.getCenter();break;case Zt.MULTI_LINE_STRING:d=t.getFlatMidpoints(),y=2;break;case Zt.POLYGON:d=t.getFlatInteriorPoint(),a.overflow||$t.push(d[2]/this.resolution),y=3;break;case Zt.MULTI_POLYGON:var Xt=t.getFlatInteriorPoints();d=[];for(var I=0,G=Xt.length;I<G;I+=3)a.overflow||$t.push(Xt[I+2]/this.resolution),d.push(Xt[I],Xt[I+1]);if(d.length===0)return;y=2;break}var Gt=this.appendFlatPointCoordinates(d,y);if(Gt===l)return;if($t&&(Gt-l)/2!=d.length/y){var ce=l/2;$t=$t.filter(function(On,Tn){var Fn=s[(ce+Tn)*2]===d[Tn*y]&&s[(ce+Tn)*2+1]===d[Tn*y+1];return Fn||--ce,Fn})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var Ge=a.padding;if(Ge!=gr&&(a.scale[0]<0||a.scale[1]<0)){var Me=a.padding[0],Ee=a.padding[1],er=a.padding[2],Lr=a.padding[3];a.scale[0]<0&&(Ee=-Ee,Lr=-Lr),a.scale[1]<0&&(Me=-Me,er=-er),Ge=[Me,Ee,er,Lr]}var Br=this.pixelRatio;this.instructions.push([bn.DRAW_IMAGE,l,Gt,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,Ge==gr?gr:Ge.map(function(On){return On*Br}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,$t]);var Yr=1/Br;this.hitDetectionInstructions.push([bn.DRAW_IMAGE,l,Gt,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Yr,Yr],NaN,this.declutterImageWithText_,Ge,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,$t]),this.endGeometry(e)}}},r.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:e.font,textAlign:e.textAlign||Ae,textBaseline:e.textBaseline||Re,scale:e.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,d=vy[o.textBaseline],y=this.textOffsetY_*h,w=this.text_,C=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([bn.DRAW_CHARS,t,e,d,o.overflow,l,o.maxAngle,h,y,a,C*h,w,s,1]),this.hitDetectionInstructions.push([bn.DRAW_CHARS,t,e,d,o.overflow,l,o.maxAngle,1,y,a,C,w,s,1/h])},r.prototype.setTextStyle=function(t,e){var i,o,a;if(!t)this.text_="";else{var s=t.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Eu(s.getColor()||Xr)):(o=null,this.textFillState_=o);var l=t.getStroke();if(!l)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var h=l.getLineDash(),d=l.getLineDashOffset(),y=l.getWidth(),w=l.getMiterLimit();a.lineCap=l.getLineCap()||ft,a.lineDash=h?h.slice():Ft,a.lineDashOffset=d===void 0?Kt:d,a.lineJoin=l.getLineJoin()||fe,a.lineWidth=y===void 0?vr:y,a.miterLimit=w===void 0?ve:w,a.strokeStyle=Eu(l.getColor()||Te)}i=this.textState_;var C=t.getFont()||Ze;Bn(C);var I=t.getScaleArray();i.overflow=t.getOverflow(),i.font=C,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||Re,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||gr,i.scale=I===void 0?[1,1]:I;var G=t.getOffsetX(),Z=t.getOffsetY(),lt=t.getRotateWithView(),pt=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=G===void 0?0:G,this.textOffsetY_=Z===void 0?0:Z,this.textRotateWithView_=lt===void 0?!1:lt,this.textRotation_=pt===void 0?0:pt,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Object(ct.c)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Object(ct.c)(o.fillStyle):""}this.declutterImageWithText_=e},r}(pv),gI=vI,yI={Circle:w5,Default:pv,Image:sI,LineString:cI,Polygon:w5,Text:gI},mI=function(){function n(r,t,e,i){this.tolerance_=r,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=e,this.buildersByZIndex_={}}return n.prototype.finish=function(){var r={};for(var t in this.buildersByZIndex_){r[t]=r[t]||{};var e=this.buildersByZIndex_[t];for(var i in e){var o=e[i].finish();r[t][i]=o}}return r},n.prototype.getBuilder=function(r,t){var e=r!==void 0?r.toString():"0",i=this.buildersByZIndex_[e];i===void 0&&(i={},this.buildersByZIndex_[e]=i);var o=i[t];if(o===void 0){var a=yI[t];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},n}(),gy=mI,Qn={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function _I(n,r,t,e,i,o,a,s,l,h,d,y){var w=n[r],C=n[r+1],I=0,G=0,Z=0,lt=0;function pt(){I=w,G=C,r+=e,w=n[r],C=n[r+1],lt+=Z,Z=Math.sqrt((w-I)*(w-I)+(C-G)*(C-G))}do pt();while(r<t-e&&lt+Z<o);for(var Et=Z===0?0:(o-lt)/Z,ht=Xs(I,w,Et),zt=Xs(G,C,Et),Gt=r-e,$t=lt,Xt=o+s*l(h,i,d);r<t-e&&lt+Z<Xt;)pt();Et=Z===0?0:(Xt-lt)/Z;var ce=Xs(I,w,Et),Ge=Xs(G,C,Et),Me;if(y){var Ee=[ht,zt,ce,Ge];lu(Ee,0,4,2,y,Ee,Ee),Me=Ee[0]>Ee[2]}else Me=ht>ce;var er=Math.PI,Lr=[],Br=Gt+e===r;r=Gt,Z=0,lt=$t,w=n[r],C=n[r+1];var Yr;if(Br){pt(),Yr=Math.atan2(C-G,w-I),Me&&(Yr+=Yr>0?-er:er);var $r=(ce+ht)/2,On=(Ge+zt)/2;return Lr[0]=[$r,On,(Xt-o)/2,Yr,i],Lr}for(var Tn=0,Fn=i.length;Tn<Fn;){pt();var jn=Math.atan2(C-G,w-I);if(Me&&(jn+=jn>0?-er:er),Yr!==void 0){var lr=jn-Yr;if(lr+=lr>er?-2*er:lr<-er?2*er:0,Math.abs(lr)>a)return null}Yr=jn;for(var jo=Tn,Vn=0;Tn<Fn;++Tn){var Yi=Me?Fn-Tn-1:Tn,To=s*l(h,i[Yi],d);if(r+e<t&&lt+Z<o+Vn+To/2)break;Vn+=To}if(Tn!==jo){var Wo=Me?i.substring(Fn-jo,Fn-Tn):i.substring(jo,Tn);Et=Z===0?0:(o+Vn/2-lt)/Z;var $r=Xs(I,w,Et),On=Xs(G,C,Et);Lr.push([$r,On,Vn/2,jn,Wo]),o+=Vn}}return Lr}function T5(n,r,t,e){for(var i=n[r],o=n[r+1],a=0,s=r+e;s<t;s+=e){var l=n[s],h=n[s+1];a+=Math.sqrt((l-i)*(l-i)+(h-o)*(h-o)),i=l,o=h}return a}var Od=tt(),zc=[],Wu=[],Yu=[],Vc=[];function b5(n){return n[3].declutterBox}var EI=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function C5(n,r){return(r==="start"||r==="end")&&!EI.test(n)&&(r=r==="start"?"left":"right"),vy[r]}var xI=function(){function n(r,t,e,i){this.overlaps=e,this.pixelRatio=t,this.resolution=r,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=q(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(r,t,e,i){var o=r+t+e+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=e?this.fillStates[e]:null,l=this.textStates[t],h=this.pixelRatio,d=[l.scale[0]*h,l.scale[1]*h],y=C5(r,l.textAlign||Ae),w=i&&a.lineWidth?a.lineWidth:0,C=r.split(`
`),I=C.length,G=[],Z=Nr(l.font,C,G),lt=Qr(l.font),pt=lt*I,Et=Z+w,ht=[],zt=(Et+2)*d[0],Gt=(pt+w)*d[1],$t={width:zt<0?Math.floor(zt):Math.ceil(zt),height:Gt<0?Math.floor(Gt):Math.ceil(Gt),contextInstructions:ht};if((d[0]!=1||d[1]!=1)&&ht.push("scale",d),ht.push("font",l.font),i){ht.push("strokeStyle",a.strokeStyle),ht.push("lineWidth",w),ht.push("lineCap",a.lineCap),ht.push("lineJoin",a.lineJoin),ht.push("miterLimit",a.miterLimit);var Xt=Ut.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Xt.prototype.setLineDash&&(ht.push("setLineDash",[a.lineDash]),ht.push("lineDashOffset",a.lineDashOffset))}e&&ht.push("fillStyle",s.fillStyle),ht.push("textBaseline","middle"),ht.push("textAlign","center");var ce=.5-y,Ge=y*Et+ce*w,Me;if(i)for(Me=0;Me<I;++Me)ht.push("strokeText",[C[Me],Ge+ce*G[Me],.5*(w+lt)+Me*lt]);if(e)for(Me=0;Me<I;++Me)ht.push("fillText",[C[Me],Ge+ce*G[Me],.5*(w+lt)+Me*lt]);return this.labels_[o]=$t,$t},n.prototype.replayTextBackground_=function(r,t,e,i,o,a,s){r.beginPath(),r.moveTo.apply(r,t),r.lineTo.apply(r,e),r.lineTo.apply(r,i),r.lineTo.apply(r,o),r.lineTo.apply(r,t),a&&(this.alignFill_=a[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(r,t,e,i,o,a,s,l,h,d,y,w,C,I,G,Z){s*=w[0],l*=w[1];var lt=e-s,pt=i-l,Et=o+h>r?r-h:o,ht=a+d>t?t-d:a,zt=I[3]+Et*w[0]+I[1],Gt=I[0]+ht*w[1]+I[2],$t=lt-I[3],Xt=pt-I[0];(G||y!==0)&&(zc[0]=$t,Vc[0]=$t,zc[1]=Xt,Wu[1]=Xt,Wu[0]=$t+zt,Yu[0]=Wu[0],Yu[1]=Xt+Gt,Vc[1]=Yu[1]);var ce;return y!==0?(ce=Ie(q(),e,i,1,1,y,-e,-i),Ue(ce,zc),Ue(ce,Wu),Ue(ce,Yu),Ue(ce,Vc),z(Math.min(zc[0],Wu[0],Yu[0],Vc[0]),Math.min(zc[1],Wu[1],Yu[1],Vc[1]),Math.max(zc[0],Wu[0],Yu[0],Vc[0]),Math.max(zc[1],Wu[1],Yu[1],Vc[1]),Od)):z(Math.min($t,$t+zt),Math.min(Xt,Xt+Gt),Math.max($t,$t+zt),Math.max(Xt,Xt+Gt),Od),C&&(lt=Math.round(lt),pt=Math.round(pt)),{drawImageX:lt,drawImageY:pt,drawImageW:Et,drawImageH:ht,originX:h,originY:d,declutterBox:{minX:Od[0],minY:Od[1],maxX:Od[2],maxY:Od[3],value:Z},canvasTransform:ce,scale:w}},n.prototype.replayImageOrLabel_=function(r,t,e,i,o,a,s){var l=!!(a||s),h=i.declutterBox,d=r.canvas,y=s?s[2]*i.scale[0]/2:0,w=h.minX-y<=d.width/t&&h.maxX+y>=0&&h.minY-y<=d.height/t&&h.maxY+y>=0;return w&&(l&&this.replayTextBackground_(r,zc,Wu,Yu,Vc,a,s),sn(r,i.canvasTransform,o,e,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(r){if(this.alignFill_){var t=Ue(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;r.save(),r.translate(t[0]%e,t[1]%e),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},n.prototype.setStrokeStyle_=function(r,t){r.strokeStyle=t[1],r.lineWidth=t[2],r.lineCap=t[3],r.lineJoin=t[4],r.miterLimit=t[5],r.setLineDash&&(r.lineDashOffset=t[7],r.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(r,t,e,i){var o=this.textStates[t],a=this.createLabel(r,t,i,e),s=this.strokeStates[e],l=this.pixelRatio,h=C5(r,o.textAlign||Ae),d=vy[o.textBaseline||Re],y=s&&s.lineWidth?s.lineWidth:0,w=a.width/l-2*o.scale[0],C=h*w+2*(.5-h)*y,I=d*a.height/l+2*(.5-d)*y;return{label:a,anchorX:C,anchorY:I}},n.prototype.execute_=function(r,t,e,i,o,a,s,l){var h;this.pixelCoordinates_&&Object(Sr.b)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=nl(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),qe(this.renderedTransform_,e));for(var d=0,y=i.length,w=0,C,I,G,Z,lt,pt,Et,ht,zt,Gt,$t,Xt,ce=0,Ge=0,Me=null,Ee=null,er=this.coordinateCache_,Lr=this.viewRotation_,Br=Math.round(Math.atan2(-e[1],e[0])*1e12)/1e12,Yr={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Lr},$r=this.instructions!=i||this.overlaps?0:200,On,Tn,Fn,jn;d<y;){var lr=i[d],jo=lr[0];switch(jo){case bn.BEGIN_GEOMETRY:On=lr[1],jn=lr[3],On.getGeometry()?s!==void 0&&!hi(s,jn.getExtent())?d=lr[2]+1:++d:d=lr[2];break;case bn.BEGIN_PATH:ce>$r&&(this.fill_(r),ce=0),Ge>$r&&(r.stroke(),Ge=0),!ce&&!Ge&&(r.beginPath(),Z=NaN,lt=NaN),++d;break;case bn.CIRCLE:w=lr[1];var Vn=h[w],Yi=h[w+1],To=h[w+2],Wo=h[w+3],Do=To-Vn,to=Wo-Yi,_n=Math.sqrt(Do*Do+to*to);r.moveTo(Vn+_n,Yi),r.arc(Vn,Yi,_n,0,2*Math.PI,!0),++d;break;case bn.CLOSE_PATH:r.closePath(),++d;break;case bn.CUSTOM:w=lr[1],C=lr[2];var vn=lr[3],bo=lr[4],$l=lr.length==6?lr[5]:void 0;Yr.geometry=vn,Yr.feature=On,d in er||(er[d]=[]);var bu=er[d];$l?$l(h,w,C,2,bu):(bu[0]=h[w],bu[1]=h[w+1],bu.length=2),bo(bu,Yr),++d;break;case bn.DRAW_IMAGE:w=lr[1],C=lr[2],ht=lr[3],I=lr[4],G=lr[5];var ef=lr[6],fh=lr[7],hh=lr[8],Pv=lr[9],Qu=lr[10],Mv=lr[11],d0=lr[12],Wd=lr[13],rf=lr[14];if(!ht&&lr.length>=19){zt=lr[18],Gt=lr[19],$t=lr[20],Xt=lr[21];var Yd=this.drawLabelWithPointPlacement_(zt,Gt,$t,Xt);ht=Yd.label,lr[3]=ht;var R2=lr[22];I=(Yd.anchorX-R2)*this.pixelRatio,lr[4]=I;var p0=lr[23];G=(Yd.anchorY-p0)*this.pixelRatio,lr[5]=G,ef=ht.height,lr[6]=ef,Wd=ht.width,lr[13]=Wd}var Iv=void 0;lr.length>24&&(Iv=lr[24]);var nf=void 0,tc=void 0,dh=void 0;lr.length>16?(nf=lr[15],tc=lr[16],dh=lr[17]):(nf=gr,tc=!1,dh=!1),Qu&&Br?Mv+=Lr:!Qu&&!Br&&(Mv-=Lr);for(var Hd=0;w<C;w+=2)if(!(Iv&&Iv[Hd++]<Wd/this.pixelRatio)){var Jl=this.calculateImageOrLabelDimensions_(ht.width,ht.height,h[w],h[w+1],Wd,ef,I,G,hh,Pv,Mv,d0,o,nf,tc||dh,On),ql=[r,t,ht,Jl,fh,tc?Me:null,dh?Ee:null],ph=void 0,Xd=void 0;if(l&&rf){var v0=C-w;if(!rf[v0]){rf[v0]=ql;continue}if(ph=rf[v0],delete rf[v0],Xd=b5(ph),l.collides(Xd))continue}l&&l.collides(Jl.declutterBox)||(ph&&(l&&l.insert(Xd),this.replayImageOrLabel_.apply(this,ph)),l&&l.insert(Jl.declutterBox),this.replayImageOrLabel_.apply(this,ql))}++d;break;case bn.DRAW_CHARS:var nO=lr[1],iO=lr[2],P2=lr[3],BU=lr[4];Xt=lr[5];var GU=lr[6],oO=lr[7],aO=lr[8];$t=lr[9];var M2=lr[10];zt=lr[11],Gt=lr[12];var sO=[lr[13],lr[13]],I2=this.textStates[Gt],Nv=I2.font,Fv=[I2.scale[0]*oO,I2.scale[1]*oO],jv=void 0;Nv in this.widths_?jv=this.widths_[Nv]:(jv={},this.widths_[Nv]=jv);var lO=T5(h,nO,iO,2),uO=Math.abs(Fv[0])*Ur(Nv,zt,jv);if(BU||uO<=lO){var UU=this.textStates[Gt].textAlign,kU=(lO-uO)*vy[UU],Dv=_I(h,nO,iO,2,zt,kU,GU,Math.abs(Fv[0]),Ur,Nv,jv,Br?0:this.viewRotation_);t:if(Dv){var Bv=[],of=void 0,g0=void 0,y0=void 0,ms=void 0,El=void 0;if($t)for(of=0,g0=Dv.length;of<g0;++of){El=Dv[of],y0=El[4],ms=this.createLabel(y0,Gt,"",$t),I=El[2]+(Fv[0]<0?-M2:M2),G=P2*ms.height+(.5-P2)*2*M2*Fv[1]/Fv[0]-aO;var Jl=this.calculateImageOrLabelDimensions_(ms.width,ms.height,El[0],El[1],ms.width,ms.height,I,G,0,0,El[3],sO,!1,gr,!1,On);if(l&&l.collides(Jl.declutterBox))break t;Bv.push([r,t,ms,Jl,1,null,null])}if(Xt)for(of=0,g0=Dv.length;of<g0;++of){El=Dv[of],y0=El[4],ms=this.createLabel(y0,Gt,Xt,""),I=El[2],G=P2*ms.height-aO;var Jl=this.calculateImageOrLabelDimensions_(ms.width,ms.height,El[0],El[1],ms.width,ms.height,I,G,0,0,El[3],sO,!1,gr,!1,On);if(l&&l.collides(Jl.declutterBox))break t;Bv.push([r,t,ms,Jl,1,null,null])}l&&l.load(Bv.map(b5));for(var N2=0,zU=Bv.length;N2<zU;++N2)this.replayImageOrLabel_.apply(this,Bv[N2])}}++d;break;case bn.END_GEOMETRY:if(a!==void 0){On=lr[1];var cO=a(On,jn);if(cO)return cO}++d;break;case bn.FILL:$r?ce++:this.fill_(r),++d;break;case bn.MOVE_TO_LINE_TO:for(w=lr[1],C=lr[2],Tn=h[w],Fn=h[w+1],pt=Tn+.5|0,Et=Fn+.5|0,(pt!==Z||Et!==lt)&&(r.moveTo(Tn,Fn),Z=pt,lt=Et),w+=2;w<C;w+=2)Tn=h[w],Fn=h[w+1],pt=Tn+.5|0,Et=Fn+.5|0,(w==C-2||pt!==Z||Et!==lt)&&(r.lineTo(Tn,Fn),Z=pt,lt=Et);++d;break;case bn.SET_FILL_STYLE:Me=lr,this.alignFill_=lr[2],ce&&(this.fill_(r),ce=0,Ge&&(r.stroke(),Ge=0)),r.fillStyle=lr[1],++d;break;case bn.SET_STROKE_STYLE:Ee=lr,Ge&&(r.stroke(),Ge=0),this.setStrokeStyle_(r,lr),++d;break;case bn.STROKE:$r?Ge++:r.stroke(),++d;break;default:++d;break}}ce&&this.fill_(r),Ge&&r.stroke()},n.prototype.execute=function(r,t,e,i,o,a){this.viewRotation_=i,this.execute_(r,t,e,this.instructions,o,void 0,void 0,a)},n.prototype.executeHitDetection=function(r,t,e,i,o){return this.viewRotation_=e,this.execute_(r,1,t,this.hitDetectionInstructions,!0,i,o)},n}(),SI=xI,d1=[Qn.POLYGON,Qn.CIRCLE,Qn.LINE_STRING,Qn.IMAGE,Qn.TEXT,Qn.DEFAULT],wI=function(){function n(r,t,e,i,o,a){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=q(),this.createExecutors_(o)}return n.prototype.clip=function(r,t){var e=this.getClipCoords(t);r.beginPath(),r.moveTo(e[0],e[1]),r.lineTo(e[2],e[3]),r.lineTo(e[4],e[5]),r.lineTo(e[6],e[7]),r.clip()},n.prototype.createExecutors_=function(r){for(var t in r){var e=this.executorsByZIndex_[t];e===void 0&&(e={},this.executorsByZIndex_[t]=e);var i=r[t];for(var o in i){var a=i[o];e[o]=new SI(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},n.prototype.hasExecutors=function(r){for(var t in this.executorsByZIndex_)for(var e=this.executorsByZIndex_[t],i=0,o=r.length;i<o;++i)if(r[i]in e)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(r,t,e,i,o,a){i=Math.round(i);var s=i*2+1,l=Ie(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-e,-r[0],-r[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(Ne.a)(s,s));var d=this.hitDetectionContext_;d.canvas.width!==s||d.canvas.height!==s?(d.canvas.width=s,d.canvas.height=s):h||d.clearRect(0,0,s,s);var y;this.renderBuffer_!==void 0&&(y=tt(),Ln(y,r),Ct(y,t*(this.renderBuffer_+i),y));var w=OI(i),C;function I(Gt,$t){for(var Xt=d.getImageData(0,0,s,s).data,ce=0,Ge=w.length;ce<Ge;ce++)if(Xt[w[ce]]>0){if(!a||C!==Qn.IMAGE&&C!==Qn.TEXT||a.indexOf(Gt)!==-1){var Me=(w[ce]-3)/4,Ee=i-Me%s,er=i-(Me/s|0),Lr=o(Gt,$t,Ee*Ee+er*er);if(Lr)return Lr}d.clearRect(0,0,s,s);break}}var G=Object.keys(this.executorsByZIndex_).map(Number);G.sort(Sr.i);var Z,lt,pt,Et,ht;for(Z=G.length-1;Z>=0;--Z){var zt=G[Z].toString();for(pt=this.executorsByZIndex_[zt],lt=d1.length-1;lt>=0;--lt)if(C=d1[lt],Et=pt[C],Et!==void 0&&(ht=Et.executeHitDetection(d,l,e,I,y),ht))return ht}},n.prototype.getClipCoords=function(r){var t=this.maxExtent_;if(!t)return null;var e=t[0],i=t[1],o=t[2],a=t[3],s=[e,i,e,a,o,a,o,i];return nl(s,0,8,2,r,s),s},n.prototype.isEmpty=function(){return Object(Pr.d)(this.executorsByZIndex_)},n.prototype.execute=function(r,t,e,i,o,a,s){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Sr.i),this.maxExtent_&&(r.save(),this.clip(r,e));var h=a||d1,d,y,w,C,I,G;for(s&&l.reverse(),d=0,y=l.length;d<y;++d){var Z=l[d].toString();for(I=this.executorsByZIndex_[Z],w=0,C=h.length;w<C;++w){var lt=h[w];G=I[lt],G!==void 0&&G.execute(r,t,e,i,o,s)}}this.maxExtent_&&r.restore()},n}(),p1={};function OI(n){if(p1[n]!==void 0)return p1[n];for(var r=n*2+1,t=n*n,e=new Array(t+1),i=0;i<=n;++i)for(var o=0;o<=n;++o){var a=i*i+o*o;if(a>t)break;var s=e[a];s||(s=[],e[a]=s),s.push(((n+i)*r+(n+o))*4+3),i>0&&s.push(((n-i)*r+(n+o))*4+3),o>0&&(s.push(((n+i)*r+(n-o))*4+3),i>0&&s.push(((n-i)*r+(n-o))*4+3))}for(var l=[],i=0,h=e.length;i<h;++i)e[i]&&l.push.apply(l,e[i]);return p1[n]=l,l}var yy=wI,TI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bI=function(n){TI(r,n);function r(t,e,i,o,a,s,l){var h=n.call(this)||this;return h.context_=t,h.pixelRatio_=e,h.extent_=i,h.transform_=o,h.viewRotation_=a,h.squaredTolerance_=s,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=q(),h}return r.prototype.drawImages_=function(t,e,i,o){if(!!this.image_){var a=nl(t,e,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,h=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=h*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);for(var y=0,w=a.length;y<w;y+=2){var C=a[y]-this.imageAnchorX_,I=a[y+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var G=C+this.imageAnchorX_,Z=I+this.imageAnchorY_;Ie(l,G,Z,1,1,d,-G,-Z),s.setTransform.apply(s,l),s.translate(G,Z),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,C,I,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=h)}},r.prototype.drawText_=function(t,e,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=nl(t,e,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);e<i;e+=o){var h=a[e]+this.textOffsetX_,d=a[e+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var y=Ie(this.tmpLocalTransform_,h,d,1,1,l,-h,-d);s.setTransform.apply(s,y),s.translate(h,d),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,h,d),this.textFillState_&&s.fillText(this.text_,h,d)}}},r.prototype.moveToLineTo_=function(t,e,i,o,a){var s=this.context_,l=nl(t,e,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);var h=l.length;a&&(h-=2);for(var d=2;d<h;d+=2)s.lineTo(l[d],l[d+1]);return a&&s.closePath(),i},r.prototype.drawRings_=function(t,e,i,o){for(var a=0,s=i.length;a<s;++a)e=this.moveToLineTo_(t,e,i[a],o,!0);return e},r.prototype.drawCircle=function(t){if(!!hi(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Mf(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],o=e[3]-e[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(e[0],e[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},r.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},r.prototype.setTransform=function(t){this.transform_=t},r.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case Zt.POINT:this.drawPoint(t);break;case Zt.LINE_STRING:this.drawLineString(t);break;case Zt.POLYGON:this.drawPolygon(t);break;case Zt.MULTI_POINT:this.drawMultiPoint(t);break;case Zt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Zt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Zt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Zt.CIRCLE:this.drawCircle(t);break}},r.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);!i||!hi(this.extent_,i.getExtent())||(this.setStyle(e),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,o=e.length;i<o;++i)this.drawGeometry(e[i])},r.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hi(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},r.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(!!hi(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();i.beginPath();for(var h=0,d=s.length;h<d;++h)a=this.moveToLineTo_(o,a,s[h],l,!1);i.stroke()}if(this.text_!==""){var y=t.getFlatMidpoints();this.drawText_(y,0,y.length,2)}}},r.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();e.beginPath();for(var l=0,h=a.length;l<h;++l){var d=a[l];o=this.drawRings_(i,o,d,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var y=t.getFlatInteriorPoints();this.drawText_(y,0,y.length,2)}}},r.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},r.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(Sr.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},r.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:Ae;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=o&&(i.textAlign=o,e.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},r.prototype.setFillStrokeStyle=function(t,e){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:Eu(o||Xr)}}if(!e)this.strokeState_=null;else{var a=e.getColor(),s=e.getLineCap(),l=e.getLineDash(),h=e.getLineDashOffset(),d=e.getLineJoin(),y=e.getWidth(),w=e.getMiterLimit(),C=l||Ft;this.strokeState_={lineCap:s!==void 0?s:ft,lineDash:this.pixelRatio_===1?C:C.map(function(I){return I*i.pixelRatio_}),lineDashOffset:(h||Kt)*this.pixelRatio_,lineJoin:d!==void 0?d:fe,lineWidth:(y!==void 0?y:vr)*this.pixelRatio_,miterLimit:w!==void 0?w:ve,strokeStyle:Eu(a||Te)}}},r.prototype.setImageStyle=function(t){var e;if(!t||!(e=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_},r.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var e=t.getFill();if(!e)this.textFillState_=null;else{var i=e.getColor();this.textFillState_={fillStyle:Eu(i||Xr)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),l=o.getLineDash(),h=o.getLineDashOffset(),d=o.getLineJoin(),y=o.getWidth(),w=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:ft,lineDash:l||Ft,lineDashOffset:h||Kt,lineJoin:d!==void 0?d:fe,lineWidth:y!==void 0?y:vr,miterLimit:w!==void 0?w:ve,strokeStyle:Eu(a||Te)}}var C=t.getFont(),I=t.getOffsetX(),G=t.getOffsetY(),Z=t.getRotateWithView(),lt=t.getRotation(),pt=t.getScaleArray(),Et=t.getText(),ht=t.getTextAlign(),zt=t.getTextBaseline();this.textState_={font:C!==void 0?C:Ze,textAlign:ht!==void 0?ht:Ae,textBaseline:zt!==void 0?zt:Re},this.text_=Et!==void 0?Et:"",this.textOffsetX_=I!==void 0?this.pixelRatio_*I:0,this.textOffsetY_=G!==void 0?this.pixelRatio_*G:0,this.textRotateWithView_=Z!==void 0?Z:!1,this.textRotation_=lt!==void 0?lt:0,this.textScale_=[this.pixelRatio_*pt[0],this.pixelRatio_*pt[1]]}},r}(S5),v1=bI,Xa={FRACTION:"fraction",PIXELS:"pixels"},$o={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},CI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vv=null,LI=function(n){CI(r,n);function r(t,e,i,o,a,s){var l=n.call(this)||this;return l.hitDetectionImage_=null,l.image_=t||new Image,o!==null&&(l.image_.crossOrigin=o),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=a,l.size_=i,l.src_=e,l.tainted_,l}return r.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===Un.LOADED){vv||(vv=Object(Ne.a)(1,1)),vv.drawImage(this.image_,0,0);try{vv.getImageData(0,0,1,1),this.tainted_=!1}catch{vv=null,this.tainted_=!0}}return this.tainted_===!0},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(qr.a.CHANGE)},r.prototype.handleImageError_=function(){this.imageState_=Un.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=Un.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},r.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(Ne.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(this.imageState_==Un.IDLE){this.imageState_=Un.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Jm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==Un.LOADED)){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=Mo(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,e.width,e.height),a=o.data,s=this.color_[0]/255,l=this.color_[1]/255,h=this.color_[2]/255,d=this.color_[3],y=0,w=a.length;y<w;y+=4)a[y]*=s,a[y+1]*=l,a[y+2]*=h,a[y+3]*=d;i.putImageData(o,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Le.a);function AI(n,r,t,e,i,o){var a=Ih.get(r,e,o);return a||(a=new LI(n,r,t,e,i,o),Ih.set(r,e,o,a)),a}var RI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PI=function(n){RI(r,n);function r(t){var e=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,l=i.rotateWithView!==void 0?i.rotateWithView:!1;e=n.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:l})||this,e.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:$o.TOP_LEFT,e.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Xa.FRACTION,e.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Xa.FRACTION,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var h=i.img!==void 0?i.img:null,d=i.imgSize!==void 0?i.imgSize:null,y=i.src;qt(!(y!==void 0&&h),4),qt(!h||h&&d,5),(y===void 0||y.length===0)&&h&&(y=h.src||Object(ct.c)(h)),qt(y!==void 0&&y.length>0,6);var w=i.src!==void 0?Un.IDLE:Un.LOADED;return e.color_=i.color!==void 0?fa(i.color):null,e.iconImage_=AI(h,y,d,e.crossOrigin_,w,e.color_),e.offset_=i.offset!==void 0?i.offset:[0,0],e.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:$o.TOP_LEFT,e.origin_=null,e.size_=i.size!==void 0?i.size:null,e}return r.prototype.clone=function(){var t=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==Xa.FRACTION||this.anchorYUnits_==Xa.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Xa.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Xa.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=$o.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==$o.TOP_RIGHT||this.anchorOrigin_==$o.BOTTOM_RIGHT)&&(t[0]=-t[0]+e[0]),(this.anchorOrigin_==$o.BOTTOM_LEFT||this.anchorOrigin_==$o.BOTTOM_RIGHT)&&(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},r.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(t){return this.iconImage_.getImage(t)},r.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=$o.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),(this.offsetOrigin_==$o.TOP_RIGHT||this.offsetOrigin_==$o.BOTTOM_RIGHT)&&(t[0]=i[0]-e[0]-t[0]),(this.offsetOrigin_==$o.BOTTOM_LEFT||this.offsetOrigin_==$o.BOTTOM_RIGHT)&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(qr.a.CHANGE,t)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(qr.a.CHANGE,t)},r}(m5),my=PI,Ds=.5;function L5(n,r,t,e,i,o,a){var s=n[0]*Ds,l=n[1]*Ds,h=Object(Ne.a)(s,l);h.imageSmoothingEnabled=!1;for(var d=h.canvas,y=new v1(h,Ds,i,null,a),w=t.length,C=Math.floor((256*256*256-1)/w),I={},G=1;G<=w;++G){var Z=t[G-1],lt=Z.getStyleFunction()||e;if(!!e){var pt=lt(Z,o);if(!!pt){Array.isArray(pt)||(pt=[pt]);for(var Et=G*C,ht="#"+("000000"+Et.toString(16)).slice(-6),zt=0,Gt=pt.length;zt<Gt;++zt){var $t=pt[zt],Xt=$t.getGeometryFunction()(Z);if(!(!Xt||!hi(i,Xt.getExtent()))){var ce=$t.clone(),Ge=ce.getFill();Ge&&Ge.setColor(ht);var Me=ce.getStroke();Me&&(Me.setColor(ht),Me.setLineDash(null)),ce.setText(void 0);var Ee=$t.getImage();if(Ee&&Ee.getOpacity()!==0){var er=Ee.getImageSize();if(!er)continue;var Lr=Object(Ne.a)(er[0],er[1],void 0,{alpha:!1}),Br=Lr.canvas;Lr.fillStyle=ht,Lr.fillRect(0,0,Br.width,Br.height),ce.setImage(new my({img:Br,imgSize:er,anchor:Ee.getAnchor(),anchorXUnits:Xa.PIXELS,anchorYUnits:Xa.PIXELS,offset:Ee.getOrigin(),opacity:1,size:Ee.getSize(),scale:Ee.getScale(),rotation:Ee.getRotation(),rotateWithView:Ee.getRotateWithView()}))}var Yr=ce.getZIndex()||0,$r=I[Yr];$r||($r={},I[Yr]=$r,$r[Zt.POLYGON]=[],$r[Zt.CIRCLE]=[],$r[Zt.LINE_STRING]=[],$r[Zt.POINT]=[]),$r[Xt.getType().replace("Multi","")].push(Xt,ce)}}}}}for(var On=Object.keys(I).map(Number).sort(Sr.i),G=0,Tn=On.length;G<Tn;++G){var $r=I[On[G]];for(var Fn in $r)for(var jn=$r[Fn],zt=0,Gt=jn.length;zt<Gt;zt+=2){y.setStyle(jn[zt+1]);for(var lr=0,jo=r.length;lr<jo;++lr)y.setTransform(r[lr]),y.drawGeometry(jn[zt])}}return h.getImageData(0,0,d.width,d.height)}function A5(n,r,t){var e=[];if(t){var i=Math.floor(Math.round(n[0])*Ds),o=Math.floor(Math.round(n[1])*Ds),a=(Pi(i,0,t.width-1)+Pi(o,0,t.height-1)*t.width)*4,s=t.data[a],l=t.data[a+1],h=t.data[a+2],d=h+256*(l+256*s),y=Math.floor((256*256*256-1)/r.length);d&&d%y==0&&e.push(r[d/y-1])}return e}var MI=.5,R5={Point:UI,LineString:DI,Polygon:zI,MultiPoint:kI,MultiLineString:BI,MultiPolygon:GI,GeometryCollection:jI,Circle:NI};function II(n,r){return parseInt(Object(ct.c)(n),10)-parseInt(Object(ct.c)(r),10)}function P5(n,r){var t=g1(n,r);return t*t}function g1(n,r){return MI*n/r}function NI(n,r,t,e,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=n.getBuilder(t.getZIndex(),Qn.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(r,e)}var l=t.getText();if(l&&l.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qn.TEXT);h.setTextStyle(l),h.drawText(r,e)}}function _y(n,r,t,e,i,o,a){var s=!1,l=t.getImage();if(l){var h=l.getImageState();h==Un.LOADED||h==Un.ERROR?l.unlistenImageChange(i):(h==Un.IDLE&&l.load(),h=l.getImageState(),l.listenImageChange(i),s=!0)}return FI(n,r,t,e,o,a),s}function FI(n,r,t,e,i,o){var a=t.getGeometryFunction()(r);if(!!a){var s=a.simplifyTransformed(e,i),l=t.getRenderer();if(l)M5(n,s,t,r);else{var h=R5[s.getType()];h(n,s,t,r,o)}}}function M5(n,r,t,e){if(r.getType()==Zt.GEOMETRY_COLLECTION){for(var i=r.getGeometries(),o=0,a=i.length;o<a;++o)M5(n,i[o],t,e);return}var s=n.getBuilder(t.getZIndex(),Qn.DEFAULT);s.drawCustom(r,e,t.getRenderer(),t.getHitDetectionRenderer())}function jI(n,r,t,e,i){var o=r.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var l=R5[o[a].getType()];l(n,o[a],t,e,i)}}function DI(n,r,t,e,i){var o=t.getStroke();if(o){var a=n.getBuilder(t.getZIndex(),Qn.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(r,e)}var s=t.getText();if(s&&s.getText()){var l=(i||n).getBuilder(t.getZIndex(),Qn.TEXT);l.setTextStyle(s),l.drawText(r,e)}}function BI(n,r,t,e,i){var o=t.getStroke();if(o){var a=n.getBuilder(t.getZIndex(),Qn.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(r,e)}var s=t.getText();if(s&&s.getText()){var l=(i||n).getBuilder(t.getZIndex(),Qn.TEXT);l.setTextStyle(s),l.drawText(r,e)}}function GI(n,r,t,e,i){var o=t.getFill(),a=t.getStroke();if(a||o){var s=n.getBuilder(t.getZIndex(),Qn.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(r,e)}var l=t.getText();if(l&&l.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qn.TEXT);h.setTextStyle(l),h.drawText(r,e)}}function UI(n,r,t,e,i){var o=t.getImage(),a=t.getText(),s;if(i&&(n=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=Un.LOADED)return;var l=n.getBuilder(t.getZIndex(),Qn.IMAGE);l.setImageStyle(o,s),l.drawPoint(r,e)}if(a&&a.getText()){var h=n.getBuilder(t.getZIndex(),Qn.TEXT);h.setTextStyle(a,s),h.drawText(r,e)}}function kI(n,r,t,e,i){var o=t.getImage(),a=t.getText(),s;if(i&&(n=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=Un.LOADED)return;var l=n.getBuilder(t.getZIndex(),Qn.IMAGE);l.setImageStyle(o,s),l.drawMultiPoint(r,e)}if(a&&a.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qn.TEXT);h.setTextStyle(a,s),h.drawText(r,e)}}function zI(n,r,t,e,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=n.getBuilder(t.getZIndex(),Qn.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(r,e)}var l=t.getText();if(l&&l.getText()){var h=(i||n).getBuilder(t.getZIndex(),Qn.TEXT);h.setTextStyle(l),h.drawText(r,e)}}var VI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WI=function(n){VI(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=tt(),e.wrappedRenderedExtent_=tt(),e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}return r.prototype.renderWorlds=function(t,e,i){var o=e.extent,a=e.viewState,s=a.center,l=a.resolution,h=a.projection,d=a.rotation,y=h.getExtent(),w=this.getLayer().getSource(),C=e.pixelRatio,I=e.viewHints,G=!(I[oi.ANIMATING]||I[oi.INTERACTING]),Z=this.context,lt=Math.round(e.size[0]*C),pt=Math.round(e.size[1]*C),Et=w.getWrapX()&&h.canWrapX(),ht=Et?cn(y):null,zt=Et?Math.ceil((o[2]-y[2])/ht)+1:1,Gt=Et?Math.floor((o[0]-y[0])/ht):0;do{var $t=this.getRenderTransform(s,l,d,C,lt,pt,Gt*ht);t.execute(Z,1,$t,d,G,void 0,i)}while(++Gt<zt)},r.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},r.prototype.renderFrame=function(t,e){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Jr(this.pixelTransform,1/i,1/i),Je(this.inversePixelTransform,this.pixelTransform);var a=mr(this.pixelTransform);this.useContainer(e,a,o.opacity,this.getBackground(t));var s=this.context,l=s.canvas,h=this.replayGroup_,d=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!d||d.isEmpty()))return null;var y=Math.round(t.size[0]*i),w=Math.round(t.size[1]*i);l.width!=y||l.height!=w?(l.width=y,l.height=w,l.style.transform!==a&&(l.style.transform=a)):this.containerReused||s.clearRect(0,0,y,w),this.preRender(s,t);var C=t.viewState;C.projection;var I=!1,G=!0;if(o.extent&&this.clipping){var Z=oa(o.extent);G=hi(Z,t.extent),I=G&&!he(Z,t.extent),I&&this.clipUnrotated(s,t,Z)}G&&this.renderWorlds(h,t),I&&s.restore(),this.postRender(s,t);var lt=ir(o.opacity),pt=this.container;return lt!==pt.style.opacity&&(pt.style.opacity=lt),this.renderedRotation_!==C.rotation&&(this.renderedRotation_=C.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Ue(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,h=this.wrappedRenderedExtent_,d=this.getLayer(),y=[],w=i[0]*Ds,C=i[1]*Ds;y.push(this.getRenderTransform(o,a,s,Ds,w,C,0).slice());var I=d.getSource(),G=l.getExtent();if(I.getWrapX()&&l.canWrapX()&&!he(G,h)){for(var Z=h[0],lt=cn(G),pt=0,Et=void 0;Z<G[0];)--pt,Et=lt*pt,y.push(this.getRenderTransform(o,a,s,Ds,w,C,Et).slice()),Z+=lt;for(pt=0,Z=h[2];Z>G[2];)++pt,Et=lt*pt,y.push(this.getRenderTransform(o,a,s,Ds,w,C,Et).slice()),Z-=lt}this.hitDetectionImageData_=L5(i,y,this.renderedFeatures_,d.getStyleFunction(),h,a,s)}e(A5(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){var s=this;if(!!this.replayGroup_){var l=e.viewState.resolution,h=e.viewState.rotation,d=this.getLayer(),y={},w=function(G,Z,lt){var pt=Object(ct.c)(G),Et=y[pt];if(Et){if(Et!==!0&&lt<Et.distanceSq){if(lt===0)return y[pt]=!0,a.splice(a.lastIndexOf(Et),1),o(G,d,Z);Et.geometry=Z,Et.distanceSq=lt}}else{if(lt===0)return y[pt]=!0,o(G,d,Z);a.push(y[pt]={feature:G,layer:d,geometry:Z,distanceSq:lt,callback:o})}},C,I=[this.replayGroup_];return this.declutterExecutorGroup&&I.push(this.declutterExecutorGroup),I.some(function(G){return C=G.forEachFeatureAtCoordinate(t,l,h,i,w,G===s.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(function(Z){return Z.value}):null)}),C}},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var o=t.viewHints[oi.ANIMATING],a=t.viewHints[oi.INTERACTING],s=e.getUpdateWhileAnimating(),l=e.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=t.extent,d=t.viewState,y=d.projection,w=d.resolution,C=t.pixelRatio,I=e.getRevision(),G=e.getRenderBuffer(),Z=e.getRenderOrder();Z===void 0&&(Z=II);var lt=d.center.slice(),pt=Ct(h,G*w),Et=pt.slice(),ht=[pt.slice()],zt=y.getExtent();if(i.getWrapX()&&y.canWrapX()&&!he(zt,t.extent)){var Gt=cn(zt),$t=Math.max(cn(pt)/2,Gt);pt[0]=zt[0]-$t,pt[2]=zt[2]+$t,K(lt,y);var Xt=wl(ht[0],y);Xt[0]<zt[0]&&Xt[2]<zt[2]?ht.push([Xt[0]+Gt,Xt[1],Xt[2]+Gt,Xt[3]]):Xt[0]>zt[0]&&Xt[2]>zt[2]&&ht.push([Xt[0]-Gt,Xt[1],Xt[2]-Gt,Xt[3]])}if(!this.dirty_&&this.renderedResolution_==w&&this.renderedRevision_==I&&this.renderedRenderOrder_==Z&&he(this.wrappedRenderedExtent_,pt))return Object(Sr.b)(this.renderedExtent_,Et)||(this.hitDetectionImageData_=null,this.renderedExtent_=Et),this.renderedCenter_=lt,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var ce=new gy(g1(w,C),pt,w,C),Ge;this.getLayer().getDeclutter()&&(Ge=new gy(g1(w,C),pt,w,C));for(var Me,Ee,er,Ee=0,er=ht.length;Ee<er;++Ee)i.loadFeatures(ht[Ee],w,y);var Lr=P5(w,C),Br=function(Fn){var jn,lr=Fn.getStyleFunction()||e.getStyleFunction();if(lr&&(jn=lr(Fn,w)),jn){var jo=this.renderFeature(Fn,Lr,jn,ce,Me,Ge);this.dirty_=this.dirty_||jo}}.bind(this),Yr=Ll(pt),$r=i.getFeaturesInExtent(Yr);Z&&$r.sort(Z);for(var Ee=0,er=$r.length;Ee<er;++Ee)Br($r[Ee]);this.renderedFeatures_=$r;var On=ce.finish(),Tn=new yy(pt,w,C,i.getOverlaps(),On,e.getRenderBuffer());return Ge&&(this.declutterExecutorGroup=new yy(pt,w,C,i.getOverlaps(),Ge.finish(),e.getRenderBuffer())),this.renderedResolution_=w,this.renderedRevision_=I,this.renderedRenderOrder_=Z,this.renderedExtent_=Et,this.wrappedRenderedExtent_=pt,this.renderedCenter_=lt,this.renderedProjection_=y,this.replayGroup_=Tn,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(t,e,i,o,a,s){if(!i)return!1;var l=!1;if(Array.isArray(i))for(var h=0,d=i.length;h<d;++h)l=_y(o,t,i[h],e,this.boundHandleStyleImageChange_,a,s)||l;else l=_y(o,t,i,e,this.boundHandleStyleImageChange_,a,s);return l},r}(Xm),YI=WI,HI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XI=function(n){HI(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new YI(this)},r}(dy),xu=XI,KI={extends:xd,name:"ol-vector-layer",setup:function(r){var t=Object(M.inject)("map"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new xu(i)});return Object(M.watch)(i,function(){o.value.setProperties(i)}),Object(M.onMounted)(function(){t.addLayer(o.value)}),Object(M.onUnmounted)(function(){t.removeLayer(o.value)}),Object(M.provide)("vectorLayer",o),Object(M.provide)("stylable",o),{vectorLayer:o}},props:{renderBuffer:{type:Number,default:100},updateWhileAnimating:{type:Boolean,default:!1},style:{type:Function},updateWhileInteracting:{type:Boolean,default:!1}}},y1=Ce()(KI,[["render",VM]]);function ZI(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var $I=function(){function n(r){this.rbush_=new y5.a(r),this.items_={}}return n.prototype.insert=function(r,t){var e={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:t};this.rbush_.insert(e),this.items_[Object(ct.c)(t)]=e},n.prototype.load=function(r,t){for(var e=new Array(t.length),i=0,o=t.length;i<o;i++){var a=r[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};e[i]=l,this.items_[Object(ct.c)(s)]=l}this.rbush_.load(e)},n.prototype.remove=function(r){var t=Object(ct.c)(r),e=this.items_[t];return delete this.items_[t],this.rbush_.remove(e)!==null},n.prototype.update=function(r,t){var e=this.items_[Object(ct.c)(t)],i=[e.minX,e.minY,e.maxX,e.maxY];cr(i,r)||(this.remove(t),this.insert(r,t))},n.prototype.getAll=function(){var r=this.rbush_.all();return r.map(function(t){return t.value})},n.prototype.getInExtent=function(r){var t={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},e=this.rbush_.search(t);return e.map(function(i){return i.value})},n.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},n.prototype.forEachInExtent=function(r,t){return this.forEach_(this.getInExtent(r),t)},n.prototype.forEach_=function(r,t){for(var e,i=0,o=r.length;i<o;i++)if(e=t(r[i]),e)return e;return e},n.prototype.isEmpty=function(){return Object(Pr.d)(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(r){var t=this.rbush_.toJSON();return z(t.minX,t.minY,t.maxX,t.maxY,r)},n.prototype.concat=function(r){this.rbush_.load(r.rbush_.all());for(var t in r.items_)this.items_[t]=r.items_[t]},n}(),Ey=$I,JI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qI=function(n){JI(r,n);function r(t){var e=n.call(this)||this;e.projection=en(t.projection),e.attributions_=I5(t.attributions),e.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,e.loading=!1,e.state_=t.state!==void 0?t.state:Ss.READY,e.wrapX_=t.wrapX!==void 0?t.wrapX:!1,e.interpolate_=!!t.interpolate,e.viewResolver=null,e.viewRejector=null;var i=e;return e.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),e}return r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection},r.prototype.getResolutions=function(){return Object(ct.b)()},r.prototype.getView=function(){return this.viewPromise_},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getInterpolate=function(){return this.interpolate_},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(t){this.attributions_=I5(t),this.changed()},r.prototype.setState=function(t){this.state_=t,this.changed()},r}(vo.a);function I5(n){return n?Array.isArray(n)?function(r){return n}:typeof n=="function"?n:function(r){return[n]}:null}var xy=qI,la={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function N5(n,r){return[[-1/0,-1/0,1/0,1/0]]}function QI(n,r){return[n]}function tN(n){return function(r,t,e){var i=n.getZForResolution(Op(t)),o=n.getTileRangeForExtentAndZ(oa(r),i),a=[],s=[i,0,0];for(s[1]=o.minX;s[1]<=o.maxX;++s[1])for(s[2]=o.minY;s[2]<=o.maxY;++s[2])a.push(Ll(n.getTileCoordExtent(s)));return a}}var Hl={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},eN=!1;function rN(n,r,t,e,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof n=="function"?n(t,e,i):n,!0),r.getType()==Hl.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=eN,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){var h=r.getType(),d=void 0;h==Hl.JSON||h==Hl.TEXT?d=s.responseText:h==Hl.XML?(d=s.responseXML,d||(d=new DOMParser().parseFromString(s.responseText,"application/xml"))):h==Hl.ARRAY_BUFFER&&(d=s.response),d?o(r.readFeatures(d,{extent:t,featureProjection:i}),r.readProjection(d)):a()}else a()},s.onerror=a,s.send()}function F5(n,r){return function(t,e,i,o,a){var s=this;rN(n,r,t,e,i,function(l,h){s.addFeatures(l),o!==void 0&&o(l)},a||Nt.c)}}var j5=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wc=function(n){j5(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.feature=e,o.features=i,o}return r}(Be.a),nN=function(n){j5(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:Ss.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,e.on,e.once,e.un,e.loader_=Nt.c,e.format_=i.format,e.overlaps_=i.overlaps===void 0?!0:i.overlaps,e.url_=i.url,i.loader!==void 0?e.loader_=i.loader:e.url_!==void 0&&(qt(e.format_,7),e.loader_=F5(e.url_,e.format_)),e.strategy_=i.strategy!==void 0?i.strategy:N5;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;e.featuresRtree_=o?new Ey:null,e.loadedExtentsRtree_=new Ey,e.loadingExtentsCount_=0,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new fn(s)),s!==void 0&&e.addFeaturesInternal(s),a!==void 0&&e.bindFeaturesCollection_(a),e}return r.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},r.prototype.addFeatureInternal=function(t){var e=Object(ct.c)(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Wc(la.ADDFEATURE,t))},r.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(Or.a)(e,qr.a.CHANGE,this.handleFeatureChange_,this),Object(Or.a)(e,xe.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(t,e){var i=!0,o=e.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=e),i&&(qt(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},r.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},r.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],o=[],a=0,s=t.length;a<s;a++){var l=t[a],h=Object(ct.c)(l);this.addToIndex_(h,l)&&i.push(l)}for(var a=0,d=i.length;a<d;a++){var l=i[a],h=Object(ct.c)(l);this.setupChangeEvents_(h,l);var y=l.getGeometry();if(y){var w=y.getExtent();e.push(w),o.push(l)}else this.nullGeometryFeatures_[h]=l}this.featuresRtree_&&this.featuresRtree_.load(e,o);for(var a=0,C=i.length;a<C;a++)this.dispatchEvent(new Wc(la.ADDFEATURE,i[a]))},r.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(la.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(la.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(mn.ADD,function(i){e||(e=!0,this.addFeature(i.element),e=!1)}.bind(this)),t.addEventListener(mn.REMOVE,function(i){e||(e=!0,this.removeFeature(i.element),e=!1)}.bind(this)),this.featuresCollection_=t},r.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach(Or.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new Wc(la.CLEAR);this.dispatchEvent(s),this.changed()},r.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},r.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(t))return e(o)})},r.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var a=e(i);if(a)return a}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(Pr.d)(this.nullGeometryFeatures_)||Object(Sr.c)(t,Object(Pr.c)(this.nullGeometryFeatures_))),t},r.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){e.push(i)}),e},r.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},r.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],o=t[1],a=null,s=[NaN,NaN],l=1/0,h=[-1/0,-1/0,1/0,1/0],d=e||Nt.b;return this.featuresRtree_.forEachInExtent(h,function(y){if(d(y)){var w=y.getGeometry(),C=l;if(l=w.closestPointXY(i,o,s,l),l<C){a=y;var I=Math.sqrt(l);h[0]=i-I,h[1]=o-I,h[2]=i+I,h[3]=o+I}}}),a},r.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},r.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return e!==void 0?e:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(ct.c)(e),o=e.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,e)):this.featuresRtree_&&this.featuresRtree_.update(a,e)}var s=e.getId();if(s!==void 0){var l=s.toString();this.idIndex_[l]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[l]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new Wc(la.CHANGEFEATURE,e))},r.prototype.hasFeature=function(t){var e=t.getId();return e!==void 0?e in this.idIndex_:Object(ct.c)(t)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(Pr.d)(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(t,e,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(t,e,i),s=function(y,w){var C=a[y],I=o.forEachInExtent(C,function(G){return he(G.extent,C)});I||(++l.loadingExtentsCount_,l.dispatchEvent(new Wc(la.FEATURESLOADSTART)),l.loader_.call(l,C,e,i,function(G){--this.loadingExtentsCount_,this.dispatchEvent(new Wc(la.FEATURESLOADEND,void 0,G))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Wc(la.FEATURESLOADERROR))}.bind(l)),o.insert(C,{extent:C.slice()}))},l=this,h=0,d=a.length;h<d;++h)s(h);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_,i;e.forEachInExtent(t,function(o){if(cr(o.extent,t))return i=o,!0}),i&&e.remove(i)},r.prototype.removeFeature=function(t){if(!!t){var e=Object(ct.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},r.prototype.removeFeatureInternal=function(t){var e=Object(ct.c)(t),i=this.featureChangeKeys_[e];if(!!i){i.forEach(Or.c),delete this.featureChangeKeys_[e];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Wc(la.REMOVEFEATURE,t)),t}},r.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},r.prototype.setLoader=function(t){this.loader_=t},r.prototype.setUrl=function(t){qt(this.format_,7),this.url_=t,this.setLoader(F5(t,this.format_))},r}(xy),Hu=nN,iN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oN=function(n){iN(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return e.resolution=void 0,e.distance=t.distance!==void 0?t.distance:20,e.minDistance=t.minDistance||0,e.interpolationRatio=0,e.features=[],e.geometryFunction=t.geometryFunction||function(i){var o=i.getGeometry();return qt(o.getType()==Zt.POINT,10),o},e.createCustomCluster_=t.createCluster,e.source=null,e.boundRefresh_=e.refresh.bind(e),e.updateDistance(e.distance,e.minDistance),e.setSource(t.source||null),e}return r.prototype.clear=function(t){this.features.length=0,n.prototype.clear.call(this,t)},r.prototype.getDistance=function(){return this.distance},r.prototype.getSource=function(){return this.source},r.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.resolution=e,this.refresh())},r.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},r.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},r.prototype.getMinDistance=function(){return this.minDistance},r.prototype.setSource=function(t){this.source&&this.source.removeEventListener(qr.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(qr.a.CHANGE,this.boundRefresh_),this.refresh()},r.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},r.prototype.updateDistance=function(t,e){var i=t===0?0:Math.min(e,t)/t,o=t!==this.distance||this.interpolationRatio!==i;this.distance=t,this.minDistance=e,this.interpolationRatio=i,o&&this.refresh()},r.prototype.cluster=function(){if(!(this.resolution===void 0||!this.source))for(var t=tt(),e=this.distance*this.resolution,i=this.source.getFeatures(),o={},a=0,s=i.length;a<s;a++){var l=i[a];if(!(Object(ct.c)(l)in o)){var h=this.geometryFunction(l);if(h){var d=h.getCoordinates();at(d,t),Ct(t,e,t);var y=this.source.getFeaturesInExtent(t).filter(function(w){var C=Object(ct.c)(w);return C in o?!1:(o[C]=!0,!0)});this.features.push(this.createCluster(y,t))}}}},r.prototype.createCluster=function(t,e){for(var i=[0,0],o=t.length-1;o>=0;--o){var a=this.geometryFunction(t[o]);a?F(i,a.getCoordinates()):t.splice(o,1)}rt(i,1/t.length);var s=Xn(e),l=this.interpolationRatio,h=new Gn([i[0]*(1-l)+s[0]*l,i[1]*(1-l)+s[1]*l]);return this.createCustomCluster_?this.createCustomCluster_(h,t):new Hr({geometry:h,features:t})},r}(Hu),D5=oN;window.ol&&!ol.ext&&(ol.ext={});var m1=function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n};window.ol&&(ol.inherits||(ol.inherits=m1)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var xi=m1;function aN(n){const r=n.frameState,t=Vt(n.inversePixelTransform.slice(),r.coordinateToPixelTransform);return new v1(n.context,r.pixelRatio,r.extent,t,r.viewState.rotation)}var Sy=aN,qf=function(n){var r=n||{};xu.call(this,r),this.oldcluster=new Hu,this.clusters=[],this.animation={start:!1},this.set("animationDuration",typeof r.animationDuration=="number"?r.animationDuration:700),this.set("animationMethod",r.animationMethod||wa),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))};xi(qf,xu),qf.prototype.saveCluster=function(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var n=this.getSource().getFeatures();n.length&&n[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=n.slice(0),this.sourceChanged=!0)}},qf.prototype.getClusterForFeature=function(n,r){for(var t=0,e;e=r[t];t++){var i=e.get("features");if(i&&i.length){for(var o=0,a;a=i[o];o++)if(n===a)return e}}return!1},qf.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},qf.prototype.animate=function(n){var r=this.get("animationDuration");if(!!r){var t=n.frameState.viewState.resolution,e,i,o=this.animation,a=n.frameState.time;if(o.resolution!=t&&this.sourceChanged){var s=n.frameState.extent;for(o.resolution<t?(s=Ct(s,100*t),o.cA=this.oldcluster.getFeaturesInExtent(s),o.cB=this.getSource().getFeaturesInExtent(s),o.revers=!1):(s=Ct(s,100*t),o.cA=this.getSource().getFeaturesInExtent(s),o.cB=this.oldcluster.getFeaturesInExtent(s),o.revers=!0),o.clusters=[],e=0,i;i=o.cA[e];e++){var l=i.get("features");if(l&&l.length){var h=this.getClusterForFeature(l[0],o.cB);h&&o.clusters.push({f:i,pt:h.getGeometry().getCoordinates()})}}if(o.resolution=t,this.sourceChanged=!1,!o.clusters.length||o.clusters.length>1e3){this.stopAnimation();return}a=o.start=new Date().getTime()}if(o.start){var d=n.vectorContext||Sy(n),y=(a-o.start)/r;y>1&&(this.stopAnimation(),y=1),y=this.get("animationMethod")(y);var w=this.getStyle(),C=typeof w=="function"?w:w.length?function(){return w}:function(){return[w]};for(n.context.save(),n.context.globalAlpha=this.getOpacity(),e=0,h;h=o.clusters[e];e++){var I=h.f.getGeometry().getCoordinates(),G=I[0]-h.pt[0],Z=I[1]-h.pt[1];o.revers?(I[0]=h.pt[0]+y*G,I[1]=h.pt[1]+y*Z):(I[0]=I[0]-y*G,I[1]=I[1]-y*Z);var lt=C(h.f,t,!0);if(lt.length||(lt=[lt]),h.f.get("features").length===1&&!G&&!Z)l=h.f.get("features")[0];else{var pt=new Gn(I);l=new Hr(pt)}for(var Et=0,ht;ht=lt[Et];Et++)if(ht.getText()&&/\n/.test(ht.getText().getText())){var zt=ht.getText().getOffsetX(),Gt=ht.getText().getOffsetY(),$t=ht.getText().getRotation()||0,Xt=Number((ht.getText().getFont()||"10px").match(/\d+/))*1.2,ce=ht.getText().getText().split(`
`),Ge,Me=ce.length-1,Ee=ht.clone();ce.forEach(function(er,Lr){switch(Lr==1&&(Ee.setImage(),Ee.setFill(),Ee.setStroke()),ht.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":{Ge=Me;break}case"hanging":case"top":{Ge=0;break}default:{Ge=Me/2;break}}Ee.getText().setOffsetX(zt-Math.sin($t)*Xt*(Lr-Ge)),Ee.getText().setOffsetY(Gt+Math.cos($t)*Xt*(Lr-Ge)),Ee.getText().setText(er),d.drawFeature(l,Ee)})}else d.drawFeature(l,ht)}n.context.restore(),n.frameState.animate=!0,n.context.save(),n.context.beginPath(),n.context.rect(0,0,0,0),n.context.clip(),this.clip_=!0}}},qf.prototype.postanimate=function(n){this.clip_&&(n.context.restore(),this.clip_=!1)};var sN=qf,lN={extends:xd,name:"ol-animated-clusterlayer",setup:function(r){var t=Object(M.inject)("map"),e=or(r),i=e.properties,o=Object(M.computed)(function(){var s=new sN(be(be({},i),{},{source:new D5({distance:i.distance,geometryFunction:function(h){return h.getGeometry()}})}));return s}),a=Object(M.computed)(function(){return o.value.getSource()});return Object(M.watch)(i,function(){o.value.setProperties(i),o.value.changed()}),Object(M.onMounted)(function(){t.addLayer(o.value),o.value.changed(),t.changed()}),Object(M.onUnmounted)(function(){t.removeLayer(o.value)}),Object(M.provide)("vectorLayer",a),Object(M.provide)("stylable",o),{vectorLayer:o,map:t}},props:{animationDuration:{type:Number,default:700},distance:{type:Number,default:20},animationMethod:{type:Function,default:wa},updateWhileAnimating:{type:Boolean,default:!1},updateWhileInteracting:{type:Boolean,default:!1}}},_1=Ce()(lN,[["render",ZI]]);function uN(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var Su=new Uint8Array(4),cN=function(){function n(r,t){this.helper_=r;var e=r.getGL();this.texture_=e.createTexture(),this.framebuffer_=e.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return n.prototype.setSize=function(r){Object(Sr.b)(r,this.size_)||(this.size_[0]=r[0],this.size_[1]=r[1],this.updateSize_())},n.prototype.getSize=function(){return this.size_},n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},n.prototype.readAll=function(){if(this.dataCacheDirty_){var r=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,r[0],r[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},n.prototype.readPixel=function(r,t){if(r<0||t<0||r>this.size_[0]||t>=this.size_[1])return Su[0]=0,Su[1]=0,Su[2]=0,Su[3]=0,Su;this.readAll();var e=Math.floor(r)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return Su[0]=this.data_[e*4],Su[1]=this.data_[e*4+1],Su[2]=this.data_[e*4+2],Su[3]=this.data_[e*4+3],Su},n.prototype.getTexture=function(){return this.texture_},n.prototype.getFramebuffer=function(){return this.framebuffer_},n.prototype.updateSize_=function(){var r=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(r,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,r[0],r[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(r[0]*r[1]*4)},n}(),fN=cN,hN=u("7fd1"),dN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pN=function(n){dN(r,n);function r(t,e){var i=this,o=e.uniforms||{},a=q();o[Sd.PROJECTION_MATRIX]=a,i=n.call(this,t,{uniforms:o,postProcesses:e.postProcesses})||this,i.sourceRevision_=-1,i.verticesBuffer_=new lv(sv,iy),i.hitVerticesBuffer_=new lv(sv,iy),i.indicesBuffer_=new lv(ny,iy),i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.program_,i.hitDetectionEnabled_=!!(e.hitFragmentShader&&e.hitVertexShader),i.hitVertexShader_=e.hitVertexShader,i.hitFragmentShader_=e.hitFragmentShader,i.hitProgram_;var s=e.attributes?e.attributes.map(function(h){return{name:"a_"+h.name,size:1,type:gl.FLOAT}}):[];i.attributes=[{name:"a_position",size:2,type:gl.FLOAT},{name:"a_index",size:1,type:gl.FLOAT}].concat(s),i.hitDetectionAttributes=[{name:"a_position",size:2,type:gl.FLOAT},{name:"a_index",size:1,type:gl.FLOAT},{name:"a_hitColor",size:4,type:gl.FLOAT},{name:"a_featureUid",size:1,type:gl.FLOAT}].concat(s),i.customAttributes=e.attributes?e.attributes:[],i.previousExtent_=tt(),i.currentTransform_=a,i.renderTransform_=q(),i.invertRenderTransform_=q(),i.renderInstructions_=new Float32Array(0),i.hitRenderInstructions_=new Float32Array(0),i.hitRenderTarget_,i.worker_=Object(hN.a)(),i.worker_.addEventListener("message",function(h){var d=h.data;if(d.type===n1.GENERATE_BUFFERS){var y=d.projectionTransform;d.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(d.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(d.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(d.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=y,Je(this.invertRenderTransform_,this.renderTransform_),d.hitDetection?this.hitRenderInstructions_=new Float32Array(h.data.renderInstructions):this.renderInstructions_=new Float32Array(h.data.renderInstructions),this.getLayer().changed()}}.bind(i)),i.featureCache_={},i.featureCount_=0;var l=i.getLayer().getSource();return i.sourceListenKeys_=[Object(Or.a)(l,la.ADDFEATURE,i.handleSourceFeatureAdded_,i),Object(Or.a)(l,la.CHANGEFEATURE,i.handleSourceFeatureChanged_,i),Object(Or.a)(l,la.REMOVEFEATURE,i.handleSourceFeatureDelete_,i),Object(Or.a)(l,la.CLEAR,i.handleSourceFeatureClear_,i)],l.forEachFeature(function(h){this.featureCache_[Object(ct.c)(h)]={feature:h,properties:h.getProperties(),geometry:h.getGeometry()},this.featureCount_++}.bind(i)),i}return r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new fN(this.helper))},r.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(ct.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},r.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(ct.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},r.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(ct.c)(e)],this.featureCount_--},r.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var o=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),o},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource(),o=t.viewState,a=!t.viewHints[oi.ANIMATING]&&!t.viewHints[oi.INTERACTING],s=!cr(this.previousExtent_,t.extent),l=this.sourceRevision_<i.getRevision();if(l&&(this.sourceRevision_=i.getRevision()),a&&(s||l)){var h=o.projection,d=o.resolution,y=e instanceof dy?e.getRenderBuffer():0,w=Ct(t.extent,y*d);i.loadFeatures(w,d,h),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),Vt(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},r.prototype.rebuildBuffers_=function(t){var e=q();this.helper.makeProjectionTransform(t,e);var i=(2+this.customAttributes.length)*this.featureCount_;if((!this.renderInstructions_||this.renderInstructions_.length!==i)&&(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;(!this.hitRenderInstructions_||this.hitRenderInstructions_.length!==o)&&(this.hitRenderInstructions_=new Float32Array(o))}var a,s,l=[],h=[],d=0,y=0,w;for(var C in this.featureCache_)if(a=this.featureCache_[C],s=a.geometry,!(!s||s.getType()!==Zt.POINT)){l[0]=s.getFlatCoordinates()[0],l[1]=s.getFlatCoordinates()[1],Ue(e,l),w=vM(y+6,h),this.renderInstructions_[d++]=l[0],this.renderInstructions_[d++]=l[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[y++]=l[0],this.hitRenderInstructions_[y++]=l[1],this.hitRenderInstructions_[y++]=w[0],this.hitRenderInstructions_[y++]=w[1],this.hitRenderInstructions_[y++]=w[2],this.hitRenderInstructions_[y++]=w[3],this.hitRenderInstructions_[y++]=Number(C));for(var I=void 0,G=0;G<this.customAttributes.length;G++)I=this.customAttributes[G].callback(a.feature,a.properties),this.renderInstructions_[d++]=I,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[y++]=I)}var Z={type:n1.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(Z.projectionTransform=e,this.worker_.postMessage(Z,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var lt={type:n1.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};lt.projectionTransform=e,lt.hitDetection=!0,this.worker_.postMessage(lt,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){if(qt(this.hitDetectionEnabled_,66),!!this.hitRenderInstructions_){var s=Ue(e.coordinateToPixelTransform,t.slice()),l=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),h=[l[0]/255,l[1]/255,l[2]/255,l[3]/255],d=gM(h),y=this.hitRenderInstructions_[d],w=Math.floor(y).toString(),C=this.getLayer().getSource(),I=C.getFeatureByUid(w);if(I)return o(I,this.getLayer(),null)}},r.prototype.renderHitDetection=function(t){if(!!this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},r.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object(Or.c)(t)}),this.sourceListenKeys_=null,n.prototype.disposeInternal.call(this)},r}(n5),B5=pN,vN=function(){function n(){this.uniforms=[],this.attributes=[],this.varyings=[],this.sizeExpression="vec2(1.0)",this.rotationExpression="0.0",this.offsetExpression="vec2(0.0)",this.colorExpression="vec4(1.0)",this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression="false",this.rotateWithView=!1}return n.prototype.addUniform=function(r){return this.uniforms.push(r),this},n.prototype.addAttribute=function(r){return this.attributes.push(r),this},n.prototype.addVarying=function(r,t,e){return this.varyings.push({name:r,type:t,expression:e}),this},n.prototype.setSizeExpression=function(r){return this.sizeExpression=r,this},n.prototype.setRotationExpression=function(r){return this.rotationExpression=r,this},n.prototype.setSymbolOffsetExpression=function(r){return this.offsetExpression=r,this},n.prototype.setColorExpression=function(r){return this.colorExpression=r,this},n.prototype.setTextureCoordinateExpression=function(r){return this.texCoordExpression=r,this},n.prototype.setFragmentDiscardExpression=function(r){return this.discardExpression=r,this},n.prototype.setSymbolRotateWithView=function(r){return this.rotateWithView=r,this},n.prototype.getSizeExpression=function(){return this.sizeExpression},n.prototype.getOffsetExpression=function(){return this.offsetExpression},n.prototype.getColorExpression=function(){return this.colorExpression},n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression},n.prototype.getFragmentDiscardExpression=function(){return this.discardExpression},n.prototype.getSymbolVertexShader=function(r){var t=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",e=this.attributes,i=this.varyings;return r&&(e=e.concat("vec4 a_hitColor"),i=i.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform mat4 u_projectionMatrix;
uniform mat4 u_offsetScaleMatrix;
uniform mat4 u_offsetRotateMatrix;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(o){return"uniform "+o+";"}).join(`
`)+`
attribute vec2 a_position;
attribute float a_index;
`+e.map(function(o){return"attribute "+o+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+i.map(function(o){return"varying "+o.type+" "+o.name+";"}).join(`
`)+`
void main(void) {
  mat4 offsetMatrix = `+t+`;
  vec2 halfSize = `+this.sizeExpression+` * 0.5;
  vec2 offset = `+this.offsetExpression+`;
  float angle = `+this.rotationExpression+`;
  float offsetX;
  float offsetY;
  if (a_index == 0.0) {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  } else if (a_index == 1.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else if (a_index == 2.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  }
  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
  vec4 texCoord = `+this.texCoordExpression+`;
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;
  v_quadCoord = vec2(u, v);
`+i.map(function(o){return"  "+o.name+" = "+o.expression+";"}).join(`
`)+`
}`},n.prototype.getSymbolFragmentShader=function(r){var t=r?"  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;":"",e=this.varyings;return r&&(e=e.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(i){return"uniform "+i+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+e.map(function(i){return"varying "+i.type+" "+i.name+";"}).join(`
`)+`
void main(void) {
  if (`+this.discardExpression+`) { discard; }
  gl_FragColor = `+this.colorExpression+`;
  gl_FragColor.rgb *= gl_FragColor.a;
`+t+`
}`},n}();function gN(n){var r=n.symbol,t=r.size!==void 0?r.size:1,e=r.color||"white",i=r.textureCoord||[0,0,1,1],o=r.offset||[0,0],a=r.opacity!==void 0?r.opacity:1,s=r.rotation!==void 0?r.rotation:0,l={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},h=Kr(l,t,zr.NUMBER_ARRAY|zr.NUMBER),d=Kr(l,o,zr.NUMBER_ARRAY),y=Kr(l,i,zr.NUMBER_ARRAY),w=Kr(l,s,zr.NUMBER),C={inFragmentShader:!0,variables:l.variables,attributes:[],stringLiteralsMap:l.stringLiteralsMap,functions:{}},I=Kr(C,e,zr.COLOR),G=Kr(C,a,zr.NUMBER),Z="1.0",lt="vec2("+Kr(C,t,zr.NUMBER_ARRAY|zr.NUMBER)+").x";switch(r.symbolType){case"square":break;case"image":break;case"circle":Z="(1.0-smoothstep(1.-4./"+lt+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case"triangle":var pt="(v_quadCoord*2.-1.)",Et="(atan("+pt+".x,"+pt+".y))";Z="(1.0-smoothstep(.5-3./"+lt+",.5,cos(floor(.5+"+Et+"/2.094395102)*2.094395102-"+Et+")*length("+pt+")))";break;default:throw new Error("Unexpected symbol type: "+r.symbolType)}var ht=new vN().setSizeExpression("vec2("+h+")").setRotationExpression(w).setSymbolOffsetExpression(d).setTextureCoordinateExpression(y).setSymbolRotateWithView(!!r.rotateWithView).setColorExpression("vec4("+I+".rgb, "+I+".a * "+G+" * "+Z+")");if(n.filter){var zt=Kr(C,n.filter,zr.BOOLEAN);ht.setFragmentDiscardExpression("!"+zt)}var Gt={};if(C.variables.forEach(function(Xt){var ce=s1(Xt);ht.addUniform("float "+ce),Gt[ce]=function(){if(!n.variables||n.variables[Xt]===void 0)throw new Error("The following variable is missing from the style: "+Xt);var Ge=n.variables[Xt];return typeof Ge=="string"&&(Ge=cy(l,Ge)),Ge!==void 0?Ge:-9999999}}),r.symbolType==="image"&&r.src){var $t=new Image;$t.src=r.src,ht.addUniform("sampler2D u_texture").setColorExpression(ht.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),Gt.u_texture=$t}return C.attributes.forEach(function(Xt){l.attributes.indexOf(Xt)===-1&&l.attributes.push(Xt),ht.addVarying("v_"+Xt,"float","a_"+Xt)}),l.attributes.forEach(function(Xt){ht.addAttribute("float a_"+Xt)}),{builder:ht,attributes:l.attributes.map(function(Xt){return{name:Xt,callback:function(ce,Ge){var Me=Ge[Xt];return typeof Me=="string"&&(Me=cy(l,Me)),Me!==void 0?Me:-9999999}}}),uniforms:Gt}}var yN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mN=function(n){yN(r,n);function r(t){var e=this,i=Object(Pr.a)({},t);return e=n.call(this,i)||this,e.parseResult_=gN(t.style),e.hitDetectionDisabled_=!!t.disableHitDetection,e}return r.prototype.createRenderer=function(){return new B5(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})},r}(_),_N=mN,EN={extends:xd,name:"ol-webglpoints-layer",setup:function(r){var t=Object(M.inject)("map"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new _N(i)});return Object(M.watch)(i,function(){o.value.setProperties(i)}),Object(M.onMounted)(function(){t.addLayer(o.value)}),Object(M.onUnmounted)(function(){t.removeLayer(o.value)}),Object(M.provide)("webglPointsLayer",o),{webglPointsLayer:o}},props:{disableHitDetection:{type:Boolean,default:!1},style:{type:Object,default:function(){return{symbol:{symbolType:"circle",size:8,color:"#33AAFF",opacity:.9}}}}}},E1=Ce()(EN,[["render",uN]]);function wy(n){wy.installed||(wy.installed=!0,n.component($m.name,$m),n.component(u1.name,u1),n.component(c1.name,c1),n.component(y1.name,y1),n.component(_1.name,_1),n.component(E1.name,E1))}var xN=wy;function SN(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var wN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ON=function(n){wN(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},r.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),e=yM(t),i=e[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(fv(o.tileCoord)),o.release())}.bind(this))}},r}(Dx),G5=ON,x1={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},TN=[0,0,0],Yc=5,bN=function(){function n(r){this.minZoom=r.minZoom!==void 0?r.minZoom:0,this.resolutions_=r.resolutions,qt(Object(Sr.g)(this.resolutions_,function(a,s){return s-a},!0),17);var t;if(!r.origins){for(var e=0,i=this.resolutions_.length-1;e<i;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=r.origin!==void 0?r.origin:null,this.origins_=null,r.origins!==void 0&&(this.origins_=r.origins,qt(this.origins_.length==this.resolutions_.length,20));var o=r.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=$n(o)),qt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,r.tileSizes!==void 0&&(this.tileSizes_=r.tileSizes,qt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=r.tileSize!==void 0?r.tileSize:this.tileSizes_?null:iu,qt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],r.sizes!==void 0?this.fullTileRanges_=r.sizes.map(function(a,s){var l=new Km(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var h=this.getTileRangeForExtentAndZ(o,s);l.minX=Math.max(h.minX,l.minX),l.maxX=Math.min(h.maxX,l.maxX),l.minY=Math.max(h.minY,l.minY),l.maxY=Math.min(h.maxY,l.maxY)}return l},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(r,t,e){for(var i=this.getTileRangeForExtentAndZ(r,t),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,l=i.maxY;s<=l;++s)e([t,o,s])},n.prototype.forEachTileCoordParentTileRange=function(r,t,e,i){var o,a,s,l=null,h=r[0]-1;for(this.zoomFactor_===2?(a=r[1],s=r[2]):l=this.getTileCoordExtent(r,i);h>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Ed(a,a,s,s,e)):o=this.getTileRangeForExtentAndZ(l,h,e),t(h,o))return!0;--h}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},n.prototype.getResolution=function(r){return this.resolutions_[r]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(r,t,e){if(r[0]<this.maxZoom){if(this.zoomFactor_===2){var i=r[1]*2,o=r[2]*2;return Ed(i,i+1,o,o+1,t)}var a=this.getTileCoordExtent(r,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,r[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(r,t,e){if(t>this.maxZoom||t<this.minZoom)return null;var i=r[0],o=r[1],a=r[2];if(t===i)return Ed(o,a,o,a,e);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-i),l=Math.floor(o*s),h=Math.floor(a*s);if(t<i)return Ed(l,l,h,h,e);var d=Math.floor(s*(o+1))-1,y=Math.floor(s*(a+1))-1;return Ed(l,d,h,y,e)}var w=this.getTileCoordExtent(r,this.tmpExtent_);return this.getTileRangeForExtentAndZ(w,t,e)},n.prototype.getTileRangeExtent=function(r,t,e){var i=this.getOrigin(r),o=this.getResolution(r),a=Zi(this.getTileSize(r),this.tmpSize_),s=i[0]+t.minX*a[0]*o,l=i[0]+(t.maxX+1)*a[0]*o,h=i[1]+t.minY*a[1]*o,d=i[1]+(t.maxY+1)*a[1]*o;return z(s,h,l,d,e)},n.prototype.getTileRangeForExtentAndZ=function(r,t,e){var i=TN;this.getTileCoordForXYAndZ_(r[0],r[3],t,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],t,!0,i),Ed(o,i[1],a,i[2],e)},n.prototype.getTileCoordCenter=function(r){var t=this.getOrigin(r[0]),e=this.getResolution(r[0]),i=Zi(this.getTileSize(r[0]),this.tmpSize_);return[t[0]+(r[1]+.5)*i[0]*e,t[1]-(r[2]+.5)*i[1]*e]},n.prototype.getTileCoordExtent=function(r,t){var e=this.getOrigin(r[0]),i=this.getResolution(r[0]),o=Zi(this.getTileSize(r[0]),this.tmpSize_),a=e[0]+r[1]*o[0]*i,s=e[1]-(r[2]+1)*o[1]*i,l=a+o[0]*i,h=s+o[1]*i;return z(a,s,l,h,t)},n.prototype.getTileCoordForCoordAndResolution=function(r,t,e){return this.getTileCoordForXYAndResolution_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordForXYAndResolution_=function(r,t,e,i,o){var a=this.getZForResolution(e),s=e/this.getResolution(a),l=this.getOrigin(a),h=Zi(this.getTileSize(a),this.tmpSize_),d=s*(r-l[0])/e/h[0],y=s*(l[1]-t)/e/h[1];return i?(d=nu(d,Yc)-1,y=nu(y,Yc)-1):(d=sc(d,Yc),y=sc(y,Yc)),uv(a,d,y,o)},n.prototype.getTileCoordForXYAndZ_=function(r,t,e,i,o){var a=this.getOrigin(e),s=this.getResolution(e),l=Zi(this.getTileSize(e),this.tmpSize_),h=(r-a[0])/s/l[0],d=(a[1]-t)/s/l[1];return i?(h=nu(h,Yc)-1,d=nu(d,Yc)-1):(h=sc(h,Yc),d=sc(d,Yc)),uv(e,h,d,o)},n.prototype.getTileCoordForCoordAndZ=function(r,t,e){return this.getTileCoordForXYAndZ_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},n.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},n.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},n.prototype.getZForResolution=function(r,t){var e=Object(Sr.h)(this.resolutions_,r,t||0);return Pi(e,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(r){for(var t=this.resolutions_.length,e=new Array(t),i=this.minZoom;i<t;++i)e[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=e},n}(),S1=bN;function U5(n){var r=n.getDefaultTileGrid();return r||(r=AN(n),n.setDefaultTileGrid(r)),r}function CN(n,r,t){var e=r[0],i=n.getTileCoordCenter(r),o=Oy(t);if(Jt(o,i))return r;var a=cn(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,n.getTileCoordForCoordAndZ(i,e)}function LN(n,r,t,e){var i=e!==void 0?e:Ir.TOP_LEFT,o=z5(n,r,t);return new S1({extent:n,origin:Qo(n,i),resolutions:o,tileSize:t})}function k5(n){var r=n||{},t=r.extent||en("EPSG:3857").getExtent(),e={extent:t,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:z5(t,r.maxZoom,r.tileSize,r.maxResolution)};return new S1(e)}function z5(n,r,t,e){for(var i=r!==void 0?r:uc,o=Gr(n),a=cn(n),s=Zi(t!==void 0?t:iu),l=e>0?e:Math.max(a/s[0],o/s[1]),h=i+1,d=new Array(h),y=0;y<h;++y)d[y]=l/Math.pow(2,y);return d}function AN(n,r,t,e){var i=Oy(n);return LN(i,r,t,e)}function Oy(n){n=en(n);var r=n.getExtent();if(!r){var t=180*go[ki.DEGREES]/n.getMetersPerUnit();r=z(-t,-t,t,t)}return r}var V5=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RN=function(n){V5(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;e.on,e.once,e.un,e.opaque_=t.opaque!==void 0?t.opaque:!1,e.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,e.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256],o=t.tileGrid;return o&&Zi(o.getTileSize(o.getMinZoom()),i),e.tileCache=new G5(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition,interpolate:t.interpolate},e.zDirection=t.zDirection?t.zDirection:0,e}return r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},r.prototype.forEachLoadedTile=function(t,e,i,o){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var s=!0,l,h,d,y=i.minX;y<=i.maxX;++y)for(var w=i.minY;w<=i.maxY;++w)h=cv(e,y,w),d=!1,a.containsKey(h)&&(l=a.get(h),d=l.getState()===Cr.LOADED,d&&(d=o(l)!==!1)),d||(s=!1);return s},r.prototype.getGutterForProjection=function(t){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},r.prototype.getOpaque=function(t){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(t,e,i,o,a){return Object(ct.b)()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:U5(t)},r.prototype.getTileCacheForProjection=function(t){return qt(Vi(this.getProjection(),t),68),this.tileCache},r.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(t,e,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(e),s=Zi(o.getTileSize(t),this.tmpSize);return a==1?s:ll(s,a,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=e!==void 0?e:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=CN(o,t,i)),mM(t,o)?t:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},r.prototype.useTile=function(t,e,i,o){},r}(xy),PN=function(n){V5(r,n);function r(t,e){var i=n.call(this,t)||this;return i.tile=e,i}return r}(Be.a),W5=RN;function MN(n,r){var t=/\{z\}/g,e=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){if(a)return n.replace(t,a[0].toString()).replace(e,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var h=a[0],d=r.getFullTileRange(h);qt(d,55);var y=d.getHeight()-a[2]-1;return y.toString()})}}function IN(n,r){for(var t=n.length,e=new Array(t),i=0;i<t;++i)e[i]=MN(n[i],r);return Ty(e)}function Ty(n){return n.length===1?n[0]:function(r,t,e){if(r){var i=i5(r),o=Es(i,n.length);return n[o](r,t,e)}else return}}function Y5(n){var r=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var e=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=e;o<=i;++o)r.push(n.replace(t[0],String.fromCharCode(o)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var a=parseInt(t[2],10),s=parseInt(t[1],10);s<=a;s++)r.push(n.replace(t[0],s.toString()));return r}return r.push(n),r}var NN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FN=function(n){NN(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===r.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(t){var e=t.target,i=Object(ct.c)(e),o=e.getState(),a;o==Cr.LOADING?(this.tileLoadingKeys_[i]=!0,a=x1.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==Cr.ERROR?x1.TILELOADERROR:o==Cr.LOADED?x1.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new PN(a,e))},r.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},r.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e!="undefined"?this.setKey(e):this.changed()},r.prototype.setUrl=function(t){var e=Y5(t);this.urls=e,this.setUrls(e)},r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(IN(t,this.tileGrid),e):this.setKey(e)},r.prototype.tileUrlFunction=function(t,e,i){},r.prototype.useTile=function(t,e,i){var o=cv(t,e,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},r}(W5),jN=FN,DN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BN=function(n){DN(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:GN,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,e.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,e.tileClass=t.tileClass!==void 0?t.tileClass:qm,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.renderReprojectionEdges_=!1,e}return r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?e:{})}},r.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Vi(this.getProjection(),t)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},r.prototype.getOpaque=function(t){return this.getProjection()&&t&&!Vi(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},r.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(this.tileGrid&&(!e||Vi(e,t)))return this.tileGrid;var i=Object(ct.c)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=U5(t)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Vi(e,t))return this.tileCache;var i=Object(ct.c)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new G5(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(t,e,i,o,a,s){var l=[t,e,i],h=this.getTileCoordForTileUrlFunction(l,a),d=h?this.tileUrlFunction(h,o,a):void 0,y=new this.tileClass(l,d!==void 0?Cr.IDLE:Cr.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return y.key=s,y.addEventListener(qr.a.CHANGE,this.handleTileChange.bind(this)),y},r.prototype.getTile=function(t,e,i,o,a){var s=this.getProjection();if(!s||!a||Vi(s,a))return this.getTileInternal(t,e,i,o,s||a);var l=this.getTileCacheForProjection(a),h=[t,e,i],d=void 0,y=fv(h);l.containsKey(y)&&(d=l.get(y));var w=this.getKey();if(d&&d.key==w)return d;var C=this.getTileGridForProjection(s),I=this.getTileGridForProjection(a),G=this.getTileCoordForTileUrlFunction(h,a),Z=new Hx(s,C,a,I,h,G,this.getTilePixelRatio(o),this.getGutter(),function(lt,pt,Et,ht){return this.getTileInternal(lt,pt,Et,ht,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return Z.key=w,d?(Z.interimTile=d,Z.refreshInterimChain(),l.replace(y,Z)):l.set(y,Z),Z},r.prototype.getTileInternal=function(t,e,i,o,a){var s=null,l=cv(t,e,i),h=this.getKey();if(!this.tileCache.containsKey(l))s=this.createTile_(t,e,i,o,a,h),this.tileCache.set(l,s);else if(s=this.tileCache.get(l),s.key!=h){var d=s;s=this.createTile_(t,e,i,o,a,h),d.getState()==Cr.IDLE?s.interimTile=d.interimTile:s.interimTile=d,s.refreshInterimChain(),this.tileCache.replace(l,s)}return s},r.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},r.prototype.setTileGridForProjection=function(t,e){{var i=en(t);if(i){var o=Object(ct.c)(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},r}(jN);function GN(n,r){n.getImage().src=r}var by=BN,UN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kN=function(n){UN(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.projection!==void 0?i.projection:"EPSG:3857",s=i.tileGrid!==void 0?i.tileGrid:k5({extent:Oy(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return e=n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this,e}return r}(by),H5=kN,zN={name:"ol-source-xyz",setup:function(r){var t=Object(M.inject)("tileLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new H5(i)});return Object(M.watch)(o,function(){t.value.setSource(o.value)}),Object(M.watch)(t,function(){t.value.setSource(o.value)}),Object(M.onMounted)(function(){t.value.setSource(o.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:[String,Array]},url:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},opaque:{type:Boolean},projection:{type:String,default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tileSize:{type:Array,default:function(){return[256,256]}},tilePixelRatio:{type:Number,default:1},tileKey:{type:String},transition:{type:Number},tileGrid:{type:Object}}},w1=Ce()(zN,[["render",SN]]);function VN(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var WN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YN='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',HN=function(n){WN(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a;i.attributions!==void 0?a=i.attributions:a=[YN];var s=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",l=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e=n.call(this,{attributions:a,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:s,interpolate:o,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:l,wrapX:i.wrapX,zDirection:i.zDirection})||this,e}return r}(H5),XN=HN,KN={name:"ol-source-osm",setup:function(r){var t=Object(M.inject)("tileLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new XN(i)});return Object(M.watch)(o,function(){t.value.setSource(o.value)}),Object(M.watch)(t,function(){t.value.setSource(o.value)}),Object(M.onMounted)(function(){t.value.setSource(o.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String,default:"anonymous"},imageSmoothing:{type:Boolean,default:!0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{type:Number,default:.5},transition:{type:Number,default:250},url:{type:String,default:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0}}},O1=Ce()(KN,[["render",VN]]);function ZN(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var $N=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JN=function(n){$N(r,n);function r(t,e,i,o,a,s,l){var h=this,d=t.getExtent(),y=e.getExtent(),w=y?Rr(i,y):i,C=Xn(w),I=av(t,e,C,o),G=kx,Z=new Vx(t,e,w,d,I*G,o),lt=Z.calculateSourceExtent(),pt=s(lt,I,a),Et=pt?Un.IDLE:Un.EMPTY,ht=pt?pt.getPixelRatio():1;return h=n.call(this,i,o,ht,Et)||this,h.targetProj_=e,h.maxSourceExtent_=d,h.triangulation_=Z,h.targetResolution_=o,h.targetExtent_=i,h.sourceImage_=pt,h.sourcePixelRatio_=ht,h.interpolate_=l,h.canvas_=null,h.sourceListenerKey_=null,h}return r.prototype.disposeInternal=function(){this.state==Un.LOADING&&this.unlistenSource_(),n.prototype.disposeInternal.call(this)},r.prototype.getImage=function(){return this.canvas_},r.prototype.getProjection=function(){return this.targetProj_},r.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Un.LOADED){var e=cn(this.targetExtent_)/this.targetResolution_,i=Gr(this.targetExtent_)/this.targetResolution_;this.canvas_=Yx(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},r.prototype.load=function(){if(this.state==Un.IDLE){this.state=Un.LOADING,this.changed();var t=this.sourceImage_.getState();t==Un.LOADED||t==Un.ERROR?this.reproject_():(this.sourceListenerKey_=Object(Or.a)(this.sourceImage_,qr.a.CHANGE,function(e){var i=this.sourceImage_.getState();(i==Un.LOADED||i==Un.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},r.prototype.unlistenSource_=function(){Object(Or.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},r}(Gx),qN=JN,X5=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T1={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},b1=function(n){X5(r,n);function r(t,e){var i=n.call(this,t)||this;return i.image=e,i}return r}(Be.a),QN=function(n){X5(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:i})||this,e.on,e.once,e.un,e.resolutions_=t.resolutions!==void 0?t.resolutions:null,e.reprojectedImage_=null,e.reprojectedRevision_=0,e}return r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(Sr.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},r.prototype.getImage=function(t,e,i,o){var a=this.getProjection();if(!a||!o||Vi(a,o))return a&&(o=a),this.getImageInternal(t,e,i,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Vi(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==e&&cr(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new qN(a,o,t,e,i,function(s,l,h){return this.getImageInternal(s,l,h,a)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},r.prototype.getImageInternal=function(t,e,i,o){return Object(ct.b)()},r.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Un.LOADING:this.loading=!0,this.dispatchEvent(new b1(T1.IMAGELOADSTART,e));break;case Un.LOADED:this.loading=!1,this.dispatchEvent(new b1(T1.IMAGELOADEND,e));break;case Un.ERROR:this.loading=!1,this.dispatchEvent(new b1(T1.IMAGELOADERROR,e));break}},r}(xy);function K5(n,r){n.getImage().src=r}var Z5=QN,t3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),e3=function(n){t3(r,n);function r(t){var e=this,i=t.crossOrigin!==void 0?t.crossOrigin:null,o=t.imageLoadFunction!==void 0?t.imageLoadFunction:K5,a=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(a=t.interpolate),e=n.call(this,{attributions:t.attributions,interpolate:a,projection:en(t.projection)})||this,e.url_=t.url,e.imageExtent_=t.imageExtent,e.image_=new Ux(e.imageExtent_,void 0,1,e.url_,i,o),e.imageSize_=t.imageSize?t.imageSize:null,e.image_.addEventListener(qr.a.CHANGE,e.handleImageChange.bind(e)),e}return r.prototype.getImageExtent=function(){return this.imageExtent_},r.prototype.getImageInternal=function(t,e,i,o){return hi(t,this.image_.getExtent())?this.image_:null},r.prototype.getUrl=function(){return this.url_},r.prototype.handleImageChange=function(t){if(this.image_.getState()==Un.LOADED){var e=this.image_.getExtent(),i=this.image_.getImage(),o=void 0,a=void 0;this.imageSize_?(o=this.imageSize_[0],a=this.imageSize_[1]):(o=i.width,a=i.height);var s=cn(e),l=Gr(e),h=s/o,d=l/a,y=o,w=a;if(h>d?y=Math.round(s/d):w=Math.round(l/h),y!==o||w!==a){var C=Object(Ne.a)(y,w);this.getInterpolate()||Object(Pr.a)(C,ov);var I=C.canvas;C.drawImage(i,0,0,o,a,0,0,I.width,I.height),this.image_.setImage(I)}}n.prototype.handleImageChange.call(this,t)},r}(Z5),r3=e3,n3={name:"ol-source-image-static",setup:function(r){var t=Object(M.inject)("imageLayer"),e=or(r),i=e.properties,o=function(){return new r3(be(be({},i),{},{projection:typeof i.projection=="string"?i.projection:new Sa(be({},i.projection))}))},a=o();return Object(M.watch)(i,function(){t.setSource(null),a=o(),t.setSource(a)}),Object(M.onMounted)(function(){t.setSource(a)}),Object(M.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object]},imageSmoothing:{type:Boolean,default:!0},imageSize:{type:Array},url:{type:String}}},C1=Ce()(n3,[["render",ZN]]);function i3(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var Cy={KVP:"KVP",REST:"REST"};function Td(n,r){var t=[];Object.keys(r).forEach(function(i){r[i]!==null&&r[i]!==void 0&&t.push(i+"="+encodeURIComponent(r[i]))});var e=t.join("&");return n=n.replace(/[?&]$/,""),n=n.indexOf("?")===-1?n+"?":n+"&",n+e}var o3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),a3=function(n){o3(r,n);function r(t){var e=n.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return e.matrixIds_=t.matrixIds,e}return r.prototype.getMatrixId=function(t){return this.matrixIds_[t]},r.prototype.getMatrixIds=function(){return this.matrixIds_},r}(S1),L1=a3,s3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l3=function(n){s3(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);var o=t.requestEncoding!==void 0?t.requestEncoding:Cy.KVP,a=t.tileGrid,s=t.urls;return s===void 0&&t.url!==void 0&&(s=Y5(t.url)),e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:s,wrapX:t.wrapX!==void 0?t.wrapX:!1,transition:t.transition,zDirection:t.zDirection})||this,e.version_=t.version!==void 0?t.version:"1.0.0",e.format_=t.format!==void 0?t.format:"image/jpeg",e.dimensions_=t.dimensions!==void 0?t.dimensions:{},e.layer_=t.layer,e.matrixSet_=t.matrixSet,e.style_=t.style,e.requestEncoding_=o,e.setKey(e.getKeyForDimensions_()),s&&s.length>0&&(e.tileUrlFunction=Ty(s.map(e.createFromWMTSTemplate.bind(e)))),e}return r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.setTileUrlFunction(Ty(t.map(this.createFromWMTSTemplate.bind(this))),e)},r.prototype.getDimensions=function(){return this.dimensions_},r.prototype.getFormat=function(){return this.format_},r.prototype.getLayer=function(){return this.layer_},r.prototype.getMatrixSet=function(){return this.matrixSet_},r.prototype.getRequestEncoding=function(){return this.requestEncoding_},r.prototype.getStyle=function(){return this.style_},r.prototype.getVersion=function(){return this.version_},r.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},r.prototype.updateDimensions=function(t){Object(Pr.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},r.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Cy.KVP&&Object(Pr.a)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Cy.KVP?Td(t,i):t.replace(/\{(\w+?)\}/g,function(s,l){return l.toLowerCase()in i?i[l.toLowerCase()]:s});var o=this.tileGrid,a=this.dimensions_;return function(s,l,h){if(s){var d={TileMatrix:o.getMatrixId(s[0]),TileCol:s[1],TileRow:s[2]};Object(Pr.a)(d,a);var y=t;return e==Cy.KVP?y=Td(y,d):y=y.replace(/\{(\w+?)\}/g,function(w,C){return d[C]}),y}else return}},r}(by),$5=l3,u3={name:"ol-source-wmts",setup:function(r){var t=Object(M.inject)("tileLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return en(i.projection).getExtent()}),a=Object(M.computed)(function(){return $n(o.value)}),s=Object(M.computed)(function(){return cn(o.value)/256}),l=Object(M.computed)(function(){for(var d=new Array(14),y=new Array(14),w=0;w<14;++w)d[w]=s.value/Math.pow(2,w),y[w]=w;return new L1({origin:a.value,resolutions:d,matrixIds:y})}),h=Object(M.computed)(function(){return new $5(be(be({},i),{},{projection:typeof i.projection=="string"?i.projection:new Sa(be({},i.projection)),tileGrid:l.value}))});return Object(M.watch)(h,function(){t.value.setSource(h.value)}),Object(M.watch)(t,function(){t.value.setSource(h.value)}),Object(M.onMounted)(function(){t.value.setSource(h.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),{tileLayer:t,source:h}},props:{attributions:{type:String},cacheSize:{type:Number},crossOrigin:{type:String},imageSmoothing:{type:Boolean,default:!0},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tilePixelRatio:{type:Number,default:1},format:{type:String,default:"image/jpeg"},version:{type:String,default:"1.0.0"},matrixSet:{type:String},dimensions:{type:Object},requestEncoding:{type:String,default:"KVP"},url:{type:String},urls:{type:Array},wrapX:{type:Boolean,default:!1},transition:{type:Number},layer:{type:String},style:{type:String}}},A1=Ce()(u3,[["render",i3]]);function c3(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var f3={name:"ol-source-vector",setup:function(r){var t=Object(M.inject)("vectorLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new Hu(i)}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(M.watch)(i,function(){a()}),Object(M.watch)(t,function(){a()}),Object(M.onMounted)(function(){t.value.setSource(o.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),Object(M.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},R1=Ce()(f3,[["render",c3]]);function h3(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var d3={name:"ol-source-cluster",setup:function(r){var t=Object(M.inject)("vectorLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){var s=new D5(i);return s}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(M.watch)(i,function(){a()}),Object(M.watch)(t,function(){a()}),Object(M.onMounted)(function(){t.value.setSource(o.value),t.value.changed()}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),Object(M.provide)("vectorLayer",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},distance:{type:Number,default:20},geometryFunction:{type:Function,default:function(r){return r.getGeometry()}},wrapX:{type:Boolean,default:!0}}},P1=Ce()(d3,[["render",h3]]);function p3(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var v3=u("e4e0"),g3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function y3(n){var r=n[0],t=new Array(r),e=1<<r-1,i,o;for(i=0;i<r;++i)o=48,n[1]&e&&(o+=1),n[2]&e&&(o+=2),t[i]=String.fromCharCode(o),e>>=1;return t.join("")}var m3='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',_3=function(n){g3(r,n);function r(t){var e=this,i=t.hidpi!==void 0?t.hidpi:!1,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(o=t.interpolate),e=n.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:o,opaque:!0,projection:en("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:Ss.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,e.hidpi_=i,e.culture_=t.culture!==void 0?t.culture:"en-us",e.maxZoom_=t.maxZoom!==void 0?t.maxZoom:-1,e.apiKey_=t.key,e.imagerySet_=t.imagerySet;var a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+e.apiKey_+"&c="+e.culture_;return Object(v3.a)(a,e.handleImageryMetadataResponse.bind(e),void 0,"jsonp"),e}return r.prototype.getApiKey=function(){return this.apiKey_},r.prototype.getImagerySet=function(){return this.imagerySet_},r.prototype.handleImageryMetadataResponse=function(t){if(t.statusCode!=200||t.statusDescription!="OK"||t.authenticationResultCode!="ValidCredentials"||t.resourceSets.length!=1||t.resourceSets[0].resources.length!=1){this.setState(Ss.ERROR);return}var e=t.resourceSets[0].resources[0],i=this.maxZoom_==-1?e.zoomMax:this.maxZoom_,o=this.getProjection(),a=Oy(o),s=this.hidpi_?2:1,l=e.imageWidth==e.imageHeight?e.imageWidth/s:[e.imageWidth/s,e.imageHeight/s],h=k5({extent:a,minZoom:e.zoomMin,maxZoom:i,tileSize:l});this.tileGrid=h;var d=this.culture_,y=this.hidpi_;if(this.tileUrlFunction=Ty(e.imageUrlSubdomains.map(function(C){var I=[0,0,0],G=e.imageUrl.replace("{subdomain}",C).replace("{culture}",d);return function(Z,lt,pt){if(Z){uv(Z[0],Z[1],Z[2],I);var Et=G;return y&&(Et+="&dpi=d1&device=mobile"),Et.replace("{quadkey}",y3(I))}else return}})),e.imageryProviders){var w=Cl(en("EPSG:4326"),this.getProjection());this.setAttributions(function(C){var I=[],G=C.viewState,Z=this.getTileGrid(),lt=Z.getZForResolution(G.resolution,this.zDirection),pt=Z.getTileCoordForCoordAndZ(G.center,lt),Et=pt[0];return e.imageryProviders.map(function(ht){for(var zt=!1,Gt=ht.coverageAreas,$t=0,Xt=Gt.length;$t<Xt;++$t){var ce=Gt[$t];if(Et>=ce.zoomMin&&Et<=ce.zoomMax){var Ge=ce.bbox,Me=[Ge[1],Ge[0],Ge[3],Ge[2]],Ee=Hs(Me,w);if(hi(Ee,C.extent)){zt=!0;break}}}zt&&I.push(ht.attribution)}),I.push(m3),I}.bind(this))}this.setState(Ss.READY)},r}(by),E3=_3,x3={name:"ol-source-bingmaps",setup:function(r){var t=Object(M.inject)("tileLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new E3(be(be({},i),{},{key:i.apiKey}))});return Object(M.watch)(o,function(){t.value.setSource(o.value)}),Object(M.watch)(t,function(){t.value.setSource(o.value)}),Object(M.onMounted)(function(){t.value.setSource(o.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{cacheSize:{type:Number},hidpi:{type:Boolean,default:!1},culture:{type:String,default:"en-us"},apiKey:{type:String},imagerySet:{type:String},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number,default:.5},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},J5=Ce()(x3,[["render",p3]]);function S3(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}u("d9e2");function w3(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function q5(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function O3(n,r,t){return r&&q5(n.prototype,r),t&&q5(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Q5(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ly(n,r){return Ly=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},Ly(n,r)}function T3(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&Ly(n,r)}u("4ae1"),u("f8c9"),u("3410");function Ay(n){return Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ay(n)}function tS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}u("e01a"),u("d28b"),u("e260"),u("3ca3"),u("ddb0");function M1(n){return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},M1(n)}function b3(n,r){if(r&&(M1(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5(n)}function C3(n){var r=tS();return function(){var e=Ay(n),i;if(r){var o=Ay(this).constructor;i=Reflect.construct(e,arguments,o)}else i=e.apply(this,arguments);return b3(this,i)}}u("99af"),u("ac1f"),u("5319");var L3=function(n){T3(t,n);var r=C3(t);function t(e){var i;w3(this,t),t.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},t.layerZoomMap={vec:18,ter:14,img:18};var o=e||{};o.layerType=o.layerType||"vec",o.layerType=o.isLabel?t.layerLabelMap[o.layerType]:o.layerType,o.matrixSet=o.projection==="EPSG:4326"||o.projection==="EPSG:4490"?"c":"w",!o.url&&!o.urls&&(o.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),o.tk&&(o.url="".concat(o.url,"tk=").concat(o.tk)),o.url=o.url.replace("{layer}",o.layerType).replace("{proj}",o.matrixSet);var a=o.tileGrid||t.getTileGrid(o.projection||"EPSG:3857"),s=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",l={version:o.version||"1.0.0",format:o.format||"tiles",dimensions:o.dimensions||{},layer:o.layerType,matrixSet:o.matrixSet,tileGrid:a,style:o.style||"default",cacheSize:o.cacheSize,crossOrigin:s,opaque:o.opaque===void 0?!0:o.opaque,maxZoom:t.layerZoomMap[o.layerType],reprojectionErrorThreshold:o.reprojectionErrorThreshold,url:o.url,urls:o.urls,projection:o.projection||"EPSG:3857",wrapX:o.wrapX};o.tileProxy&&(l.tileLoadFunction=d),i=r.call(this,l),o.tileProxy&&(i.tileProxy=o.tileProxy);var h=Q5(i);function d(y,w){y.getImage().src=h.tileProxy+encodeURIComponent(w)}return i}return O3(t,null,[{key:"getTileGrid",value:function(i){return i==="EPSG:4326"||i==="EPSG:4490"?t.default4326TileGrid():t.default3857TileGrid()}},{key:"default4326TileGrid",value:function(){for(var i=[],o=[],a=1;a<19;a++)i.push(.703125*2/Math.pow(2,a)),o.push(a);var s=new L1({extent:[-180,-90,180,90],resolutions:i,origin:[-180,90],matrixIds:o,minZoom:1});return s}},{key:"default3857TileGrid",value:function(){for(var i=[],o=[],a=1;a<19;a++)i.push(78271.51696402031*2/Math.pow(2,a)),o.push(a);var s=new L1({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:i,matrixIds:o,origin:[-200375083427892e-7,200375083427892e-7],minZoom:1});return s}}]),t}($5),A3={name:"ol-source-tianditu",setup:function(r){var t=Object(M.inject)("tileLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new L3(i)});return Object(M.watch)(o,function(){t.value.setSource(o.value)}),Object(M.watch)(t,function(){t.value.setSource(o.value)}),Object(M.onMounted)(function(){t.value.setSource(o.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{layerType:{type:String,default:"img"},tk:{type:String},isLabel:{type:Boolean,default:!1},cacheSize:{type:Number},crossOrigin:{type:String},projection:{Type:String,default:"EPSG:3857"},hidpi:{type:Boolean,default:!1},requestEncoding:{type:String,default:"KVP"},format:{type:String},version:{type:String,default:"1.0.0"},culture:{type:String,default:"en-us"},matrixSet:{type:String},dimensions:{type:Object,default:function(){}},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},I1=Ce()(A3,[["render",S3]]);function R3(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var Hc="1.3.0",Xc={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},P3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kc=4,eS=[101,101],M3=function(n){P3(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;return i.interpolate!==void 0&&(o=i.interpolate),e=n.call(this,{attributions:i.attributions,interpolate:o,projection:i.projection,resolutions:i.resolutions})||this,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null,e.url_=i.url,e.imageLoadFunction_=i.imageLoadFunction!==void 0?i.imageLoadFunction:K5,e.params_=i.params||{},e.v13_=!0,e.updateV13_(),e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.image_=null,e.imageSize_=[0,0],e.renderedRevision_=0,e.ratio_=i.ratio!==void 0?i.ratio:1.5,e}return r.prototype.getFeatureInfoUrl=function(t,e,i,o){if(this.url_!==void 0){var a=en(i),s=this.getProjection();s&&s!==a&&(e=av(s,a,t,e),t=tl(t,a,s));var l=Ci(t,e,0,eS),h={SERVICE:"WMS",VERSION:Hc,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(Pr.a)(h,this.params_,o);var d=sc((t[0]-l[0])/e,Kc),y=sc((l[3]-t[1])/e,Kc);return h[this.v13_?"I":"X"]=d,h[this.v13_?"J":"Y"]=y,this.getRequestUrl_(l,eS,1,s||a,h)}},r.prototype.getLegendUrl=function(t,e){if(this.url_!==void 0){var i={SERVICE:"WMS",VERSION:Hc,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;i.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,l=28e-5;i.SCALE=t*s/l}return Object(Pr.a)(i,e),Td(this.url_,i)}},r.prototype.getParams=function(){return this.params_},r.prototype.getImageInternal=function(t,e,i,o){if(this.url_===void 0)return null;e=this.findNearestResolution(e),i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);var a=e/i,s=Xn(t),l=nu(cn(t)/a,Kc),h=nu(Gr(t)/a,Kc),d=Ci(s,a,0,[l,h]),y=nu(this.ratio_*cn(t)/a,Kc),w=nu(this.ratio_*Gr(t)/a,Kc),C=Ci(s,a,0,[y,w]),I=this.image_;if(I&&this.renderedRevision_==this.getRevision()&&I.getResolution()==e&&I.getPixelRatio()==i&&he(I.getExtent(),d))return I;var G={SERVICE:"WMS",VERSION:Hc,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(Pr.a)(G,this.params_),this.imageSize_[0]=vp(cn(C)/a,Kc),this.imageSize_[1]=vp(Gr(C)/a,Kc);var Z=this.getRequestUrl_(C,this.imageSize_,i,o,G);return this.image_=new Ux(C,e,i,Z,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(qr.a.CHANGE,this.handleImageChange.bind(this)),this.image_},r.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},r.prototype.getRequestUrl_=function(t,e,i,o,a){if(qt(this.url_!==void 0,9),a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),i!=1)switch(this.serverType_){case Xc.GEOSERVER:var s=90*i+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+s:a.FORMAT_OPTIONS="dpi:"+s;break;case Xc.MAPSERVER:a.MAP_RESOLUTION=90*i;break;case Xc.CARMENTA_SERVER:case Xc.QGIS:a.DPI=90*i;break;default:qt(!1,8);break}a.WIDTH=e[0],a.HEIGHT=e[1];var l=o.getAxisOrientation(),h;return this.v13_&&l.substr(0,2)=="ne"?h=[t[1],t[0],t[3],t[2]]:h=t,a.BBOX=h.join(","),Td(this.url_,a)},r.prototype.getUrl=function(){return this.url_},r.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},r.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},r.prototype.updateParams=function(t){Object(Pr.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},r.prototype.updateV13_=function(){var t=this.params_.VERSION||Hc;this.v13_=T(t,"1.3")>=0},r}(Z5),I3=M3,N3={name:"ol-source-image-wms",setup:function(r){var t=Object(M.inject)("imageLayer"),e=or(r),i=e.properties,o=function(){return new I3(be(be({},i),{},{params:{LAYERS:r.layers,STYLES:r.styles,TIME:r.time},projection:typeof i.projection=="string"?i.projection:new Sa(be({},i.projection))}))},a=o();return Object(M.watch)(i,function(){t.setSource(null),a=o(),t.setSource(a)}),Object(M.onMounted)(function(){t.setSource(a)}),Object(M.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},format:{type:String,default:"image/png"},version:{type:String,default:"1.3.0"},matrixSet:{type:String},serverType:{type:String,default:"mapserver"},imageSmoothing:{type:Boolean,default:!0},layers:{type:[String,Array],required:!0},styles:{type:[String,Array],default:""},time:{type:String},ratio:{type:Number,default:1},imageSize:{type:Array},url:{type:String},params:{type:Object}}},N1=Ce()(N3,[["render",R3]]);function F3(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var j3={name:"ol-source-webglpoints",setup:function(r){var t=Object(M.inject)("webglPointsLayer"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new Hu(i)}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(M.watch)(i,function(){a()}),Object(M.watch)(t,function(){a()}),Object(M.onMounted)(function(){t.value.setSource(o.value)}),Object(M.onUnmounted)(function(){t.value.setSource(null)}),Object(M.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},F1=Ce()(j3,[["render",F3]]);function Ry(n){Ry.installed||(Ry.installed=!0,n.component(w1.name,w1),n.component(O1.name,O1),n.component(C1.name,C1),n.component(A1.name,A1),n.component(R1.name,R1),n.component(P1.name,P1),n.component(J5.name,J5),n.component(I1.name,I1),n.component(N1.name,N1),n.component(F1.name,F1))}var D3=Ry;function B3(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var G3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rS=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],nS={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},U3=function(n){G3(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.on,e.once,e.un,e.cssClassName_=i.className!==void 0?i.className:"ol-full-screen",e.documentListeners_=[],e.activeClassName_=i.activeClassName!==void 0?i.activeClassName.split(" "):[e.cssClassName_+"-true"],e.inactiveClassName_=i.inactiveClassName!==void 0?i.inactiveClassName.split(" "):[e.cssClassName_+"-false"];var o=i.label!==void 0?i.label:"\u2922";e.labelNode_=typeof o=="string"?document.createTextNode(o):o;var a=i.labelActive!==void 0?i.labelActive:"\xD7";e.labelActiveNode_=typeof a=="string"?document.createTextNode(a):a,e.button_=document.createElement("button");var s=i.tipLabel?i.tipLabel:"Toggle full-screen";return e.button_.setAttribute("type","button"),e.button_.title=s,e.button_.appendChild(e.labelNode_),e.button_.addEventListener(qr.a.CLICK,e.handleClick_.bind(e),!1),e.element.className=e.cssClassName_+" "+tr+" "+Pt,e.element.appendChild(e.button_),e.keys_=i.keys!==void 0?i.keys:!1,e.source_=i.source,e.isInFullscreen_=!1,e.boundHandleMapTargetChange_=e.handleMapTargetChange_.bind(e),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},r.prototype.handleFullScreen_=function(){var t=this.getMap();if(!!t){var e=t.getOwnerDocument();if(!!iS(e))if(oS(e))z3(e);else{var i=void 0;this.source_?i=typeof this.source_=="string"?e.getElementById(this.source_):this.source_:i=t.getTargetElement(),this.keys_?k3(i):aS(i)}}},r.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(!!t){var e=this.isInFullscreen_;this.isInFullscreen_=oS(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Object(Ne.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(nS.ENTERFULLSCREEN)):(Object(Ne.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(nS.LEAVEFULLSCREEN)),t.updateSize())}},r.prototype.setClassName_=function(t,e){var i,o,a,s=this.activeClassName_,l=this.inactiveClassName_,h=e?s:l;(i=t.classList).remove.apply(i,s),(o=t.classList).remove.apply(o,l),(a=t.classList).add.apply(a,h)},r.prototype.setMap=function(t){var e=this.getMap();e&&e.removeChangeListener(_i.TARGET,this.boundHandleMapTargetChange_),n.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(_i.TARGET,this.boundHandleMapTargetChange_)},r.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,e=0,i=t.length;e<i;++e)Object(Or.c)(t[e]);t.length=0;var o=this.getMap();if(o){var a=o.getOwnerDocument();iS(a)?this.element.classList.remove(At):this.element.classList.add(At);for(var e=0,i=rS.length;e<i;++e)t.push(Object(Or.a)(a,rS[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},r}(ri.default);function iS(n){var r=n.body;return!!(r.webkitRequestFullscreen||r.msRequestFullscreen&&n.msFullscreenEnabled||r.requestFullscreen&&n.fullscreenEnabled)}function oS(n){return!!(n.webkitIsFullScreen||n.msFullscreenElement||n.fullscreenElement)}function aS(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function k3(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():aS(n)}function z3(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}var V3=U3;function j1(n,r){(r==null||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function W3(n){if(Array.isArray(n))return j1(n)}u("a630");function Y3(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}u("fb6a"),u("00b4");function H3(n,r){if(!!n){if(typeof n=="string")return j1(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j1(n,r)}}function X3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sS(n){return W3(n)||Y3(n)||H3(n)||X3()}u("4e82"),u("c740"),u("a434");function Jo(n,r,t){var e=Object(M.inject)("map"),i=Object(M.inject)("controlBar",null),o=i!=null?i.value:e,a=or(r),s=a.properties,l=Object(M.computed)(function(){return new n(be({},s))});return l.value.set("order",t.attrs.order==null?0:t.attrs.order),Object(M.watch)(l,function(h,d){o.removeControl&&(o.removeControl(d),o.addControl(h),e.changed())}),Object(M.onMounted)(function(){if(o.addControl(l.value),o.controls_!=null){var h=sS(o.controls_);h.sort(function(d,y){return d.get("order")-y.get("order")}),o.controls_=[],h.forEach(function(d){o.addControl(d)}),o.changed()}e.changed()}),Object(M.onUnmounted)(function(){if(o.removeControl)o.removeControl(l.value);else{var h=o.controls_.findIndex(function(d){return d==l.value});o.controls_.splice(h,1),l.value.dispose()}e.changed()}),{map:e,control:l}}var K3={name:"ol-fullscreen-control",setup:function(r,t){var e=Jo(V3,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-full-screen"},label:{type:String,default:"\u2922"},labelActive:{type:String,default:"\xD7"},activeClassName:{type:String,default:"ol-full-screen-true"},inactiveClassName:{type:String,default:"ol-full-screen-false"},tipLabel:{type:String,default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{type:Object,default:void 0},source:{type:Object,default:void 0}}},D1=Ce()(K3,[["render",B3]]);function Z3(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var $3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B1="projection",lS="coordinateFormat",J3=function(n){$3(r,n);function r(t){var e=this,i=t||{},o=document.createElement("div");o.className=i.className!==void 0?i.className:"ol-mouse-position",e=n.call(this,{element:o,render:i.render,target:i.target})||this,e.on,e.once,e.un,e.addChangeListener(B1,e.handleProjectionChanged_),i.coordinateFormat&&e.setCoordinateFormat(i.coordinateFormat),i.projection&&e.setProjection(i.projection);var a=!0,s="&#160;";return"undefinedHTML"in i?(i.undefinedHTML!==void 0&&(s=i.undefinedHTML),a=!!s):"placeholder"in i&&(i.placeholder===!1?a=!1:s=String(i.placeholder)),e.placeholder_=s,e.renderOnMouseOut_=a,e.renderedHTML_=o.innerHTML,e.mapProjection_=null,e.transform_=null,e}return r.prototype.handleProjectionChanged_=function(){this.transform_=null},r.prototype.getCoordinateFormat=function(){return this.get(lS)},r.prototype.getProjection=function(){return this.get(B1)},r.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},r.prototype.handleMouseOut=function(t){this.updateHTML_(null)},r.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var e=t.getViewport();this.listenerKeys.push(Object(Or.a)(e,ea.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(Or.a)(e,ea.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},r.prototype.setCoordinateFormat=function(t){this.set(lS,t)},r.prototype.setProjection=function(t){this.set(B1,en(t))},r.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();i?this.transform_=Cl(this.mapProjection_,i):this.transform_=ju}var o=this.getMap(),a=o.getCoordinateFromPixelInternal(t);if(a){var s=ia();s&&(this.transform_=Cl(this.mapProjection_,s)),this.transform_(a,a);var l=this.getCoordinateFormat();l?e=l(a):e=a.toString()}}(!this.renderedHTML_||e!==this.renderedHTML_)&&(this.element.innerHTML=e,this.renderedHTML_=e)},r.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},r}(ri.default),q3=J3,Q3={name:"ol-mouseposition-control",setup:function(r,t){var e=Jo(q3,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-mouse-position"},coordinateFormat:{type:[String,Function]},projection:{type:String},render:{type:Function},target:{type:HTMLElement},undefinedHTML:{type:String,default:"&#160;"}}},G1=Ce()(Q3,[["render",Z3]]);function t4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var e4={name:"ol-attribution-control",setup:function(r,t){var e=Jo(Gf,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-attribution"},target:{type:HTMLElement},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{type:String,default:"Attributions"},label:{type:String,default:"i"},expandClassName:{type:String,default:"ol-attribution-expand"},collapseLabel:{type:String,default:"\xBB"},collapseClassName:{type:String,default:"ol-attribution-collapse"},render:{type:Function}}},U1=Ce()(e4,[["render",t4]]);function r4(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var uS=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),k1=.75,Py=.1,n4=function(n){uS(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.createRenderer=function(){return new li(this)},r}(Mp),i4=function(n){uS(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.boundHandleRotationChanged_=e.handleRotationChanged_.bind(e),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1),e.rotateWithView_=i.rotateWithView!==void 0?i.rotateWithView:!1,e.viewExtent_=void 0;var o=i.className!==void 0?i.className:"ol-overviewmap",a=i.tipLabel!==void 0?i.tipLabel:"Overview map",s=i.collapseLabel!==void 0?i.collapseLabel:"\u2039";typeof s=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=s):e.collapseLabel_=s;var l=i.label!==void 0?i.label:"\u203A";typeof l=="string"?(e.label_=document.createElement("span"),e.label_.textContent=l):e.label_=l;var h=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=a,d.appendChild(h),d.addEventListener(qr.a.CLICK,e.handleClick_.bind(e),!1),e.ovmapDiv_=document.createElement("div"),e.ovmapDiv_.className="ol-overviewmap-map",e.view_=i.view,e.ovmap_=new n4({view:i.view});var y=e.ovmap_;i.layers&&i.layers.forEach(function(zt){y.addLayer(zt)});var w=document.createElement("div");w.className="ol-overviewmap-box",w.style.boxSizing="border-box",e.boxOverlay_=new vu({position:[0,0],positioning:Wi.CENTER_CENTER,element:w}),e.ovmap_.addOverlay(e.boxOverlay_);var C=o+" "+tr+" "+Pt+(e.collapsed_&&e.collapsible_?" "+ue:"")+(e.collapsible_?"":" ol-uncollapsible"),I=e.element;I.className=C,I.appendChild(e.ovmapDiv_),I.appendChild(d);var G=e,Z=e.boxOverlay_,lt=e.boxOverlay_.getElement(),pt=function(zt){return{clientX:zt.clientX,clientY:zt.clientY}},Et=function(zt){var Gt=pt(zt),$t=y.getEventCoordinateInternal(Gt);Z.setPosition($t)},ht=function(zt){var Gt=y.getEventCoordinateInternal(zt);G.getMap().getView().setCenterInternal(Gt),window.removeEventListener("mousemove",Et),window.removeEventListener("mouseup",ht)};return lt.addEventListener("mousedown",function(){window.addEventListener("mousemove",Et),window.addEventListener("mouseup",ht)}),e}return r.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var i=e.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(n.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(Or.a)(t,xe.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},r.prototype.handleMapPropertyChange_=function(t){if(t.key===_i.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(t.key===_i.TARGET||t.key===_i.SIZE)&&this.ovmap_.updateSize()},r.prototype.bindView_=function(t){if(!this.view_){var e=new si({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(No.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},r.prototype.unbindView_=function(t){t.removeChangeListener(No.ROTATION,this.boundHandleRotationChanged_)},r.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},r.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),o=t.getView(),a=o.calculateExtentInternal(i);if(!(this.viewExtent_&&cr(a,this.viewExtent_))){this.viewExtent_=a;var s=e.getSize(),l=e.getView(),h=l.calculateExtentInternal(s),d=e.getPixelFromCoordinateInternal($n(a)),y=e.getPixelFromCoordinateInternal(Xi(a)),w=Math.abs(d[0]-y[0]),C=Math.abs(d[1]-y[1]),I=s[0],G=s[1];w<I*Py||C<G*Py||w>I*k1||C>G*k1?this.resetExtent_():he(h,a)||this.recenter_()}}},r.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),o=t.getView(),a=o.calculateExtentInternal(i),s=e.getView(),l=Math.log(k1/Py)/Math.LN2,h=1/(Math.pow(2,l/2)*Py);Po(a,h),s.fitInternal(rs(a))},r.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView(),o=e.getView();o.setCenterInternal(i.getCenterInternal())},r.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),o=t.getView(),a=e.getView(),s=this.rotateWithView_?0:-o.getRotation(),l=this.boxOverlay_,h=this.boxOverlay_.getElement(),d=o.getCenterInternal(),y=o.getResolution(),w=a.getResolution(),C=i[0]*y/w,I=i[1]*y/w;if(l.setPosition(d),h){h.style.width=C+"px",h.style.height=I+"px";var G="rotate("+s+"rad)";h.style.transform=G}}},r.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(Or.b)(this.ovmap_,ln.a.POSTRENDER,function(t){delete this.ovmapPostrenderKey_,this.updateBox_()},this))},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},r.prototype.handleToggle_=function(){this.element.classList.toggle(ue),this.collapsed_?Object(Ne.g)(this.collapseLabel_,this.label_):Object(Ne.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered()){this.viewExtent_=void 0,t.render();return}t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){!this.collapsible_||this.collapsed_===t||this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},r.prototype.getOverviewMap=function(){return this.ovmap_},r.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},r}(ri.default),o4=i4,a4={name:"ol-overviewmap-control",setup:function(r,t){var e=Object(M.inject)("map"),i=Jo(o4,r,t),o=i.control;return Object(M.onMounted)(function(){o.value.setMap(e)}),Object(M.onUnmounted)(function(){o.value.setMap(null)}),Object(M.provide)("overviewMap",o),{control:o}},props:{className:{type:String,default:"ol-overviewmap"},collapsed:{type:Boolean,default:!0},collapseLabel:{type:String,default:"\xAB"},collapsible:{type:Boolean,default:!0},label:{type:String,default:"\xBB"},render:{type:Function},rotateWithView:{type:Boolean,default:!1},target:{type:HTMLElement},tipLabel:{type:String,default:"Overview map"}}},z1=Ce()(a4,[["render",r4]]);function s4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var l4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),V1="units",Qf={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},u4=[1,2,5],W1=25.4/.28,c4=function(n){l4(r,n);function r(t){var e=this,i=t||{},o=i.className!==void 0?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.on,e.once,e.un,e.innerElement_=document.createElement("div"),e.innerElement_.className=o+"-inner",e.element.className=o+" "+tr,e.element.appendChild(e.innerElement_),e.viewState_=null,e.minWidth_=i.minWidth!==void 0?i.minWidth:64,e.renderedVisible_=!1,e.renderedWidth_=void 0,e.renderedHTML_="",e.addChangeListener(V1,e.handleUnitsChanged_),e.setUnits(i.units||Qf.METRIC),e.scaleBar_=i.bar||!1,e.scaleBarSteps_=i.steps||4,e.scaleBarText_=i.text||!1,e.dpi_=i.dpi||void 0,e}return r.prototype.getUnits=function(){return this.get(V1)},r.prototype.handleUnitsChanged_=function(){this.updateElement_()},r.prototype.setUnits=function(t){this.set(V1,t)},r.prototype.setDpi=function(t){this.dpi_=t},r.prototype.updateElement_=function(){var t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=t.center,i=t.projection,o=this.getUnits(),a=o==Qf.DEGREES?ki.DEGREES:ki.METERS,s=mc(i,t.resolution,e,a),l=this.minWidth_*(this.dpi_||W1)/W1,h=l*s,d="";if(o==Qf.DEGREES){var y=go[ki.DEGREES];h*=y,h<y/60?(d="\u2033",s*=3600):h<y?(d="\u2032",s*=60):d="\xB0"}else o==Qf.IMPERIAL?h<.9144?(d="in",s/=.0254):h<1609.344?(d="ft",s/=.3048):(d="mi",s/=1609.344):o==Qf.NAUTICAL?(s/=1852,d="nm"):o==Qf.METRIC?h<.001?(d="\u03BCm",s*=1e6):h<1?(d="mm",s*=1e3):h<1e3?d="m":(d="km",s/=1e3):o==Qf.US?h<.9144?(d="in",s*=39.37):h<1609.344?(d="ft",s/=.30480061):(d="mi",s/=1609.3472):qt(!1,33);for(var w=3*Math.floor(Math.log(l*s)/Math.log(10)),C,I,G;;){G=Math.floor(w/3);var Z=Math.pow(10,G);if(C=u4[(w%3+3)%3]*Z,I=Math.round(C/s),isNaN(I)){this.element.style.display="none",this.renderedVisible_=!1;return}else if(I>=l)break;++w}var lt;this.scaleBar_?lt=this.createScaleBar(I,C,d):lt=C.toFixed(G<0?-G:0)+" "+d,this.renderedHTML_!=lt&&(this.innerElement_.innerHTML=lt,this.renderedHTML_=lt),this.renderedWidth_!=I&&(this.innerElement_.style.width=I+"px",this.renderedWidth_=I),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)},r.prototype.createScaleBar=function(t,e,i){for(var o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),a=[],s=t/this.scaleBarSteps_,l="#ffffff",h=0;h<this.scaleBarSteps_;h++)h===0&&a.push(this.createMarker("absolute",h)),a.push('<div><div class="ol-scale-singlebar" style="width: '+s+"px;background-color: "+l+';"></div>'+this.createMarker("relative",h)+(h%2==0||this.scaleBarSteps_===2?this.createStepText(h,t,!1,e,i):"")+"</div>"),h===this.scaleBarSteps_-1&&a.push(this.createStepText(h+1,t,!0,e,i)),l==="#ffffff"?l="#000000":l="#ffffff";var d;this.scaleBarText_?d='<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":d="";var y='<div style="display: flex;">'+d+a.join("")+"</div>";return y},r.prototype.createMarker=function(t,e){var i=t==="absolute"?3:-10;return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+i+'px;"></div>'},r.prototype.createStepText=function(t,e,i,o,a){var s=t===0?0:Math.round(o/this.scaleBarSteps_*t*100)/100,l=s+(t===0?"":" "+a),h=t===0?-3:e/this.scaleBarSteps_*-1,d=t===0?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+h+"px;text-align: "+(t===0?"left":"center")+"; min-width: "+d+"px;left: "+(i?e+"px":"unset")+';">'+l+"</div>"},r.prototype.getScaleForResolution=function(){var t=mc(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,ki.METERS),e=this.dpi_||W1,i=1e3/25.4;return parseFloat(t.toString())*i*e},r.prototype.render=function(t){var e=t.frameState;e?this.viewState_=e.viewState:this.viewState_=null,this.updateElement_()},r}(ri.default),f4=c4,h4={name:"ol-scaleline-control",setup:function(r,t){var e=Jo(f4,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-scale-line"},minWidth:{type:Number,default:64},render:{type:Function},target:{type:HTMLElement},units:{type:String,default:"metric"},bar:{type:Boolean,default:!1},steps:{type:Number,default:4},text:{type:Boolean,default:!1},dpi:{type:Number,default:void 0}}},Y1=Ce()(h4,[["render",s4]]);function d4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var p4={name:"ol-zoom-control",setup:function(r,t){var e=Jo(kf,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:250},className:{type:String,default:"ol-zoom"},zoomInClassName:{type:String,default:"ol-zoom-in"},zoomOutClassName:{type:String,default:"ol-zoom-out"},zoomInLabel:{type:String,default:"+"},zoomOutLabel:{type:String,default:"-"},zoomInTipLabel:{type:String,default:"Zoom in"},zoomOutTipLabel:{type:String,default:"Zoom Out"},delta:{type:Number,default:1},target:{type:HTMLElement}}},H1=Ce()(p4,[["render",d4]]);function v4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var g4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gv={VERTICAL:0,HORIZONTAL:1},y4=function(n){g4(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render})||this,e.dragListenerKeys_=[],e.currentResolution_=void 0,e.direction_=gv.VERTICAL,e.dragging_,e.heightLimit_=0,e.widthLimit_=0,e.startX_,e.startY_,e.thumbSize_=null,e.sliderInitialized_=!1,e.duration_=i.duration!==void 0?i.duration:200;var o=i.className!==void 0?i.className:"ol-zoomslider",a=document.createElement("button");a.setAttribute("type","button"),a.className=o+"-thumb "+tr;var s=e.element;return s.className=o+" "+tr+" "+Pt,s.appendChild(a),s.addEventListener(ea.POINTERDOWN,e.handleDraggerStart_.bind(e),!1),s.addEventListener(ea.POINTERMOVE,e.handleDraggerDrag_.bind(e),!1),s.addEventListener(ea.POINTERUP,e.handleDraggerEnd_.bind(e),!1),s.addEventListener(qr.a.CLICK,e.handleContainerClick_.bind(e),!1),a.addEventListener(qr.a.CLICK,Be.b,!1),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),t&&t.render()},r.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight;if(e===0&&i===0)return this.sliderInitialized_=!1;var o=getComputedStyle(t);e-=parseFloat(o.paddingRight)+parseFloat(o.paddingLeft),i-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom);var a=t.firstElementChild,s=getComputedStyle(a),l=a.offsetWidth+parseFloat(s.marginRight)+parseFloat(s.marginLeft),h=a.offsetHeight+parseFloat(s.marginTop)+parseFloat(s.marginBottom);return this.thumbSize_=[l,h],e>i?(this.direction_=gv.HORIZONTAL,this.widthLimit_=e-l):(this.direction_=gv.VERTICAL,this.heightLimit_=i-h),this.sliderInitialized_=!0},r.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),o=this.getResolutionForPosition_(i),a=e.getConstrainedZoom(e.getZoomForResolution(o));e.animateInternal({zoom:a,duration:this.duration_,easing:wa})},r.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){var i=this.handleDraggerDrag_,o=this.handleDraggerEnd_,a=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(Or.a)(a,ea.POINTERMOVE,i,this),Object(Or.a)(a,ea.POINTERUP,o,this))}}},r.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,o=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_)}},r.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(Or.c),this.dragListenerKeys_.length=0}},r.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==gv.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},r.prototype.getRelativePosition_=function(t,e){var i;return this.direction_===gv.HORIZONTAL?i=t/this.widthLimit_:i=e/this.heightLimit_,Pi(i,0,1)},r.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},r.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return Pi(1-e(t),0,1)},r.prototype.render=function(t){if(!!t.frameState&&!(!this.sliderInitialized_&&!this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},r}(ri.default),m4=y4,_4={name:"ol-zoomslider-control",setup:function(r,t){var e=Jo(m4,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:200},className:{type:String,default:"ol-zoomslider"},render:{type:Function}}},X1=Ce()(_4,[["render",v4]]);function E4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var x4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S4=function(n){x4(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.extent=i.extent?i.extent:null;var o=i.className!==void 0?i.className:"ol-zoom-extent",a=i.label!==void 0?i.label:"E",s=i.tipLabel!==void 0?i.tipLabel:"Fit to extent",l=document.createElement("button");l.setAttribute("type","button"),l.title=s,l.appendChild(typeof a=="string"?document.createTextNode(a):a),l.addEventListener(qr.a.CLICK,e.handleClick_.bind(e),!1);var h=o+" "+tr+" "+Pt,d=e.element;return d.className=h,d.appendChild(l),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),i=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(rs(i))},r}(ri.default),w4=S4,O4={name:"ol-zoomtoextent-control",setup:function(r,t){var e=Jo(w4,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-zoom-extent"},target:{type:HTMLElement},label:{type:String,default:"E"},tipLabel:{type:String,default:"Fit to extent"},extent:{type:Array}}},K1=Ce()(O4,[["render",E4]]);function T4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var b4={name:"ol-rotate-control",setup:function(r,t){var e=Jo(Uf,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-rotate"},label:{type:String,default:"\u21E7"},tipLabel:{type:String,default:"Reset rotation"},compassClassName:{type:String,default:"ol-compass"},duration:{type:Number,default:250},autoHide:{type:Boolean,default:!1},render:{type:Function},resetNorth:{type:Function},target:{type:HTMLElement}}},cS=Ce()(b4,[["render",T4]]);function C4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var L4=u("658f"),A4=u.n(L4),R4={name:"ol-context-menu",setup:function(r,t){var e=Jo(A4.a,r,t),i=e.control;return{control:i}},props:{eventType:{type:String,default:"contextmenu"},defaultItems:{type:Boolean,default:!0},width:{type:Number,default:150},items:{type:Array,default:function(){return[]}}}},Z1=Ce()(R4,[["render",C4]]);function P4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var us=function(n){n=n||{};var r=document.createElement("button"),t=document.createElement("div");t.className=(n.className||"ol-swipe")+" ol-unselectable ol-control",t.appendChild(r),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),ri.default.call(this,{element:t}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],n.layers&&this.addLayer(n.layers,!1),n.rightLayers&&this.addLayer(n.rightLayers,!0),this.on("propertychange",function(e){if(this.getMap())try{this.getMap().renderSync()}catch{}this.get("orientation")==="horizontal"?(this.element.style.top=this.get("position")*100+"%",this.element.style.left=""):(this.get("orientation")!=="vertical"&&this.set("orientation","vertical"),this.element.style.left=this.get("position")*100+"%",this.element.style.top=""),e.key==="orientation"&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach(function(i){i.layer.getImageRatio&&i.layer.changed()})}.bind(this)),this.set("position",n.position||.5),this.set("orientation",n.orientation||"vertical")};xi(us,ri.default),us.prototype.setMap=function(n){var r,t;if(this.getMap()){for(r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.un(["precompose","prerender"],this.precomposeRight_):t.layer.un(["precompose","prerender"],this.precomposeLeft_),t.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}if(ri.default.prototype.setMap.call(this,n),n){for(this._listener=[],r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.on(["precompose","prerender"],this.precomposeRight_):t.layer.on(["precompose","prerender"],this.precomposeLeft_),t.layer.on(["postcompose","postrender"],this.postcompose_);try{n.renderSync()}catch{}}},us.prototype.isLayer_=function(n){for(var r=0;r<this.layers.length;r++)if(this.layers[r].layer===n)return r;return-1},us.prototype.addLayer=function(n,r){n instanceof Array||(n=[n]);for(var t=0;t<n.length;t++){var e=n[t];if(this.isLayer_(e)<0&&(this.layers.push({layer:e,right:r}),this.getMap())){r?e.on(["precompose","prerender"],this.precomposeRight_):e.on(["precompose","prerender"],this.precomposeLeft_),e.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}}},us.prototype.removeLayers=function(){var n=[];this.layers.forEach(function(r){n.push(r.layer)}),this.removeLayer(n)},us.prototype.removeLayer=function(n){n instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var t=this.isLayer_(n[r]);t>=0&&this.getMap()&&(this.layers[t].right?n[r].un(["precompose","prerender"],this.precomposeRight_):n[r].un(["precompose","prerender"],this.precomposeLeft_),n[r].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(t,1))}if(this.getMap())try{this.getMap().renderSync()}catch{}},us.prototype.getRectangle=function(){var n;return this.get("orientation")==="vertical"?(n=this.getMap().getSize(),[0,0,n[0]*this.get("position"),n[1]]):(n=this.getMap().getSize(),[0,0,n[0],n[1]*this.get("position")])},us.prototype.move=function(n){var r=this,t;switch(this._movefn||(this._movefn=this.move.bind(this)),n.type){case"touchcancel":case"touchend":case"mouseup":{r.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(s){document.removeEventListener(s,r._movefn)}),this.layers.forEach(function(s){s.layer.getImageRatio&&s.layer.changed()});break}case"mousedown":case"touchstart":r.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(s){document.addEventListener(s,r._movefn)});case"mousemove":case"touchmove":{if(r.isMoving)if(r.get("orientation")==="vertical"){var e=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX;if(!e)break;e-=r.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,t=r.getMap().getSize()[0];var i=t-Math.min(Math.max(0,t-e),t);t=i/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[i,r.getMap().getSize()[1]],position:[t,0]})}else{var o=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY;if(!o)break;o-=r.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,t=r.getMap().getSize()[1];var a=t-Math.min(Math.max(0,t-o),t);t=a/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[r.getMap().getSize()[0],a],position:[0,t]})}break}}},us.prototype._transformPt=function(n,r){var t=n.inversePixelTransform,e=r[0],i=r[1];return r[0]=t[0]*e+t[2]*i+t[4],r[1]=t[1]*e+t[3]*i+t[5],r},us.prototype._drawRect=function(n,r){var t=n.inversePixelTransform;if(t){var e=[[r[0][0],r[0][1]],[r[0][0],r[1][1]],[r[1][0],r[1][1]],[r[1][0],r[0][1]],[r[0][0],r[0][1]]];if(n.context.save(),n.target.getImageRatio){var i=-Math.atan2(n.frameState.pixelToCoordinateTransform[1],n.frameState.pixelToCoordinateTransform[0]);n.context.translate(n.frameState.size[0]/2,n.frameState.size[1]/2),n.context.rotate(i),n.context.translate(-n.frameState.size[0]/2,-n.frameState.size[1]/2)}e.forEach(function(a,s){a=[a[0]*t[0]-a[1]*t[1]+t[4],-a[0]*t[2]+a[1]*t[3]+t[5]],s?n.context.lineTo(a[0],a[1]):n.context.moveTo(a[0],a[1])}),n.context.restore()}else{var o=n.frameState.pixelRatio;n.context.rect(r[0][0]*o,r[0][1]*o,r[1][0]*o,r[1][1]*o)}},us.prototype.precomposeLeft=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),o=i[0]-e[0],a=i[1]-e[1];this.get("orientation")==="vertical"?o=Math.round(o*this.get("position")):(a=Math.round(a*this.get("position")),e[1]+=t[1]-a),r.scissor(e[0],e[1],o,a)}}else{var s=n.frameState.size;r.save(),r.beginPath();var l=[[0,0],[s[0],s[1]]];this.get("orientation")==="vertical"?l[1]=[s[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),s[1]]:l[1]=[s[0],s[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,l),r.clip()}},us.prototype.precomposeRight=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),o=i[0]-e[0],a=i[1]-e[1];this.get("orientation")==="vertical"?(o=Math.round(o*(1-this.get("position"))),e[0]+=t[0]-o):a=Math.round(a*(1-this.get("position"))),r.scissor(e[0],e[1],o,a)}}else{var s=n.frameState.size;r.save(),r.beginPath();var l=[[0,0],[s[0],s[1]]];this.get("orientation")==="vertical"?l[0]=[s[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),0]:l[0]=[0,s[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,l),r.clip()}},us.prototype.postcompose=function(n){if(n.context instanceof WebGLRenderingContext){if(n.type==="postrender"){var r=n.context;r.disable(r.SCISSOR_TEST)}}else n.target.getClassName&&n.target.getClassName()!=="ol-layer"&&n.target.get("declutter")?setTimeout(function(){n.context.restore()},0):n.context.restore()};var M4=us,I4={name:"ol-swipe-control",setup:function(r,t){var e=Jo(M4,r,t),i=e.control,o=Object(M.toRefs)(r),a=o.layerList;return a.value.forEach(function(s,l){i.value.addLayer(s,l==1)}),{control:i}},props:{layerList:{type:Array},className:{type:String,default:"ol-swipe"},position:{type:Number,default:.5},orientation:{type:String,default:"vertical"}}},$1=Ce()(I4,[["render",P4]]);function N4(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var Bs=function(n){n||(n={});var r=document.createElement("div");if(r.classList.add("ol-unselectable","ol-control","ol-bar"),n.className){var t=n.className.split(" ").filter(function(i){return i.length>0});r.classList.add.apply(r.classList,t)}if(n.group&&r.classList.add("ol-group"),ri.default.call(this,{element:r,target:n.target}),this.set("toggleOne",n.toggleOne),this.set("autoDeactivate",n.autoDeactivate),this.controls_=[],n.controls instanceof Array)for(var e=0;e<n.controls.length;e++)this.addControl(n.controls[e])};xi(Bs,ri.default),Bs.prototype.setVisible=function(n){n?this.element.style.display="":this.element.style.display="none"},Bs.prototype.getVisible=function(){return this.element.style.display!="none"},Bs.prototype.setMap=function(n){ri.default.prototype.setMap.call(this,n);for(var r=0;r<this.controls_.length;r++){var t=this.controls_[r];t.setMap(n)}},Bs.prototype.getControls=function(){return this.controls_},Bs.prototype.setPosition=function(n){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),n=n.split("-");for(var r=0;r<n.length;r++)switch(n[r]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+n[r]);break}},Bs.prototype.addControl=function(n){this.controls_.push(n),n.setTarget(this.element),this.getMap()&&this.getMap().addControl(n),n.on("change:active",function(r){this.onActivateControl_(r,n)}.bind(this)),n.getActive&&this.onActivateControl_({target:n,active:n.getActive()},n)},Bs.prototype.deactivateControls=function(n){for(var r=0;r<this.controls_.length;r++)this.controls_[r]!==n&&this.controls_[r].setActive&&this.controls_[r].setActive(!1)},Bs.prototype.getActiveControls=function(){for(var n=[],r=0,t;t=this.controls_[r];r++)t.getActive&&t.getActive()&&n.push(t);return n},Bs.prototype.setActive=function(n){if(!n&&this.get("autoDeactivate")&&this.deactivateControls(),n)for(var r=this.getControls(),t=0,e;e=r[t];t++)e.get("autoActivate")&&e.setActive(!0)},Bs.prototype.onActivateControl_=function(n,r){if(this.get("toggleOne")){if(n.active){var t;for(t=0;t<this.controls_.length&&this.controls_[t]!==r;t++);if(t==this.controls_.length)return;this.deactivateControls(this.controls_[t])}else if(!this.getActiveControls().length){for(var e=0,i;i=this.controls_[e];e++)if(i.get("autoActivate")){i.setActive(!0);break}}}},Bs.prototype.getControlsByName=function(n){var r=this.getControls();return r.filter(function(t){return t.get("name")===n})};var F4=Bs,j4={name:"ol-control-bar",setup:function(r,t){var e=Jo(F4,r,t),i=e.control;return Object(M.provide)("controlBar",i),{control:i}},props:{toggleOne:{type:Boolean,default:!0},group:{type:Boolean,default:!0}}},J1=Ce()(j4,[["render",N4]]);function D4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}window.ol&&(ol.ext.input={});var bd=function(n){n=n||{},vo.a.call(this);var r=this.input=n.input;r||(r=this.input=document.createElement("INPUT"),n.type&&r.setAttribute("type",n.type),n.min!==void 0&&r.setAttribute("min",n.min),n.max!==void 0&&r.setAttribute("max",n.max),n.step!==void 0&&r.setAttribute("step",n.step),n.parent&&n.parent.appendChild(r)),n.disabled&&(r.disabled=!0),n.checked!==void 0&&(r.checked=!!n.checked),n.val!==void 0&&(r.value=n.val),n.hidden&&(r.style.display="none")};xi(bd,vo.a),bd.prototype._listenDrag=function(n,r){var t=function(e){this.moving=!0;var i=function(o){o.type==="pointerup"&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",i),document.removeEventListener("pointercancel",i),setTimeout(function(){this.moving=!1}.bind(this))),o.target===n&&r(o),o.stopPropagation(),o.preventDefault()}.bind(this);document.addEventListener("pointermove",i,!1),document.addEventListener("pointerup",i,!1),document.addEventListener("pointercancel",i,!1),e.stopPropagation(),e.preventDefault()}.bind(this);n.addEventListener("mousedown",t,!1),n.addEventListener("touchstart",t,!1)},bd.prototype.setValue=function(n){n!==void 0&&(this.input.value=n),this.input.dispatchEvent(new Event("change"))},bd.prototype.getValue=function(){return this.input.value},bd.prototype.getInputElement=function(){return this.input};var fS=bd,q1=function(n){n=n||{},fS.call(this,n);var r=this.element=document.createElement("LABEL");n.html instanceof Element?r.appendChild(n.html):n.html!==void 0&&(r.innerHTML=n.html),r.className=("ol-ext-check ol-ext-checkbox"+(n.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(r,this.input),r.appendChild(this.input),r.appendChild(document.createElement("SPAN")),n.after&&r.appendChild(document.createTextNode(n.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};xi(q1,fS),q1.prototype.isChecked=function(){return this.input.checked};var yv=q1,hS=function(n){n=n||{},yv.call(this,n),this.element.className=("ol-ext-toggle-switch "+(n.className||"")).trim()};xi(hS,yv);var B4=hS,dS=function(n,r){r=r||{},yv.call(this,n,r),this.element.className=("ol-ext-check ol-ext-radio"+(r.className||"")).trim()};xi(dS,yv);var G4=dS,ti={};ti.create=function(n,r){r=r||{};var t;if(n==="TEXT")t=document.createTextNode(r.html||""),r.parent&&r.parent.appendChild(t);else{t=document.createElement(n),/button/i.test(n)&&t.setAttribute("type","button");for(var e in r)switch(e){case"className":{r.className&&r.className.trim&&t.setAttribute("class",r.className.trim());break}case"html":{r.html instanceof Element?t.appendChild(r.html):r.html!==void 0&&(t.innerHTML=r.html);break}case"parent":{r.parent&&r.parent.appendChild(t);break}case"options":{if(/select/i.test(n))for(var i in r.options)ti.create("OPTION",{html:i,value:r.options[i],parent:t});break}case"style":{this.setStyle(t,r.style);break}case"change":case"click":{ti.addListener(t,e,r[e]);break}case"on":{for(var o in r.on)ti.addListener(t,o,r.on[o]);break}case"checked":{t.checked=!!r.checked;break}default:{t.setAttribute(e,r[e]);break}}}return t},ti.createSwitch=function(n){var r=ti.create("INPUT",{type:"checkbox",on:n.on,click:n.click,change:n.change,parent:n.parent}),t=Object.assign({input:r},n||{});return new B4(t),r},ti.createCheck=function(n){var r=ti.create("INPUT",{name:n.name,type:n.type==="radio"?"radio":"checkbox",on:n.on,parent:n.parent});console.log(r);var t=Object.assign({input:r},n||{});return n.type==="radio"?new G4(t):new yv(t),r},ti.setHTML=function(n,r){r instanceof Element?n.appendChild(r):r!==void 0&&(n.innerHTML=r)},ti.appendText=function(n,r){n.appendChild(document.createTextNode(r||""))},ti.addListener=function(n,r,t,e){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(i){n.addEventListener(i,t,e)})},ti.removeListener=function(n,r,t){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(e){n.removeEventListener(e,t)})},ti.show=function(n){n.style.display=""},ti.hide=function(n){n.style.display="none"},ti.hidden=function(n){return ti.getStyle(n,"display")==="none"},ti.toggle=function(n){n.style.display=n.style.display==="none"?"":"none"},ti.setStyle=function(n,r){for(var t in r)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof r[t]=="number"?n.style[t]=r[t]+"px":n.style[t]=r[t];break}default:n.style[t]=r[t]}},ti.getStyle=function(n,r){var t,e=(n.ownerDocument||document).defaultView;if(e&&e.getComputedStyle)r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.getComputedStyle(n,null).getPropertyValue(r);else if(n.currentStyle&&(r=r.replace(/-(\w)/g,function(i,o){return o.toUpperCase()}),t=n.currentStyle[r],/^\d+(em|pt|%|ex)?$/i.test(t)))return function(i){var o=n.style.left,a=n.runtimeStyle.left;return n.runtimeStyle.left=n.currentStyle.left,n.style.left=i||0,i=n.style.pixelLeft+"px",n.style.left=o,n.runtimeStyle.left=a,i}(t);return/px$/.test(t)?parseInt(t):t},ti.outerHeight=function(n){return n.offsetHeight+ti.getStyle(n,"marginBottom")},ti.outerWidth=function(n){return n.offsetWidth+ti.getStyle(n,"marginLeft")},ti.offsetRect=function(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:r.height||r.bottom-r.top,width:r.width||r.right-r.left}},ti.getFixedOffset=function(n){var r={left:0,top:0},t=function(e){if(!e)return r;if(ti.getStyle(e,"position")==="absolute"&&ti.getStyle(e,"transform")!=="none"){var i=e.getBoundingClientRect();return r.left+=i.left,r.top+=i.top,r}return console.log(e,r),t(e.offsetParent)};return t(n.offsetParent)},ti.positionRect=function(n,r){var t=0,e=0,i=function(o){if(o)return t+=o.offsetLeft,e+=o.offsetTop,i(o.offsetParent);var a={top:n.offsetTop+e,left:n.offsetLeft+t};return r&&(a.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),a.bottom=a.top+n.offsetHeight,a.right=a.top+n.offsetWidth,a};return i(n.offsetParent)},ti.scrollDiv=function(n,r){r=r||{};var t=!1,e=0,i,o=0,a=typeof r.onmove=="function"?r.onmove:function(){},s=r.vertical?"screenY":"screenX",l=r.vertical?"scrollTop":"scrollLeft",h=!1,d,y,w=0,C=function(){Et&&(w++,setTimeout(I))},I=function(){if(Et){if(w--,w)return;var $t=n.clientHeight,Xt=n.scrollHeight;d=$t/Xt,Et.style.height=d*100+"%",Et.style.top=n.scrollTop/Xt*100+"%",pt.style.height=$t+"px",$t>Xt-.5?pt.classList.add("ol-100pc"):pt.classList.remove("ol-100pc")}},G=function($t){$t.target.classList.contains("ol-noscroll")||(h=!1,t=$t[s],o=new Date,n.classList.add("ol-move"),$t.preventDefault(),window.addEventListener("pointermove",Z),ti.addListener(window,["pointerup","pointercancel"],zt))},Z=function($t){if(h=!0,t!==!1){var Xt=(y?-1/d:1)*(t-$t[s]);n[l]+=Xt,i=new Date,i-o&&(e=(e+Xt/(i-o))/2),t=$t[s],o=i,Xt&&a(!0)}},lt=function($t){var Xt=$t>0?Math.min(100,$t/2):Math.max(-100,$t/2);$t-=Xt,n[l]+=Xt,-1<$t&&$t<1?(h?setTimeout(function(){n.classList.remove("ol-move")}):n.classList.remove("ol-move"),h=!1,a(!1)):setTimeout(function(){lt($t)},40)},pt,Et;if(r.vertical&&r.minibar){var ht=function($t){n.removeEventListener("pointermove",ht),n.parentNode.classList.add("ol-miniscroll"),Et=ti.create("DIV"),pt=ti.create("DIV",{className:"ol-scroll",html:Et}),n.parentNode.insertBefore(pt,n),Et.addEventListener("pointerdown",function(Xt){y=!0,G(Xt)}),r.mousewheel&&(ti.addListener(pt,["mousewheel","DOMMouseScroll","onmousewheel"],function(Xt){Gt(Xt)}),ti.addListener(Et,["mousewheel","DOMMouseScroll","onmousewheel"],function(Xt){Gt(Xt)})),n.parentNode.addEventListener("pointerenter",C),window.addEventListener("resize",C),$t!==!1&&C()};n.parentNode?ht(!1):n.addEventListener("pointermove",ht),n.addEventListener("scroll",function(){C()})}n.style["touch-action"]="none",n.style.overflow="hidden",n.classList.add("ol-scrolldiv"),ti.addListener(n,["pointerdown"],function($t){y=!1,G($t)}),n.addEventListener("click",function($t){n.classList.contains("ol-move")&&($t.preventDefault(),$t.stopPropagation())},!0);var zt=function($t){o=new Date-o,o>100||y?e=0:o>0&&(e=((e||0)+(t-$t[s])/o)/2),lt(r.animate===!1?0:e*200),t=!1,e=0,o=0,n.classList.contains("ol-move")?n.classList.remove("ol-hasClick"):(n.classList.add("ol-hasClick"),setTimeout(function(){n.classList.remove("ol-hasClick")},500)),y=!1,window.removeEventListener("pointermove",Z),ti.removeListener(window,["pointerup","pointercancel"],zt)},Gt=function($t){var Xt=Math.max(-1,Math.min(1,$t.wheelDelta||-$t.detail));return n.classList.add("ol-move"),n[l]-=Xt*30,n.classList.remove("ol-move"),!1};return r.mousewheel&&ti.addListener(n,["mousewheel","DOMMouseScroll","onmousewheel"],Gt),{refresh:C}},ti.dispatchEvent=function(n,r){var t;try{t=new CustomEvent(n)}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(n,!0,!0,{})}r.dispatchEvent(t)};var _e=ti,Cd=function(n){n=n||{};var r=document.createElement("div");r.className=(n.className||"")+" ol-button ol-unselectable ol-control";var t=this,e=this.button_=document.createElement(/ol-text-button/.test(n.className)?"div":"button");e.type="button",n.title&&(e.title=n.title),n.name&&(e.name=n.name),n.html instanceof Element?e.appendChild(n.html):e.innerHTML=n.html||"";var i=function(o){o&&o.preventDefault&&(o.preventDefault(),o.stopPropagation()),n.handleClick&&n.handleClick.call(t,o)};e.addEventListener("click",i),e.addEventListener("touchstart",i),r.appendChild(e),!n.title&&e.firstElementChild&&(e.title=e.firstElementChild.title),ri.default.call(this,{element:r,target:n.target}),n.title&&this.set("title",n.title),n.title&&this.set("title",n.title),n.name&&this.set("name",n.name)};xi(Cd,ri.default),Cd.prototype.setVisible=function(n){n?_e.show(this.element):_e.hide(this.element)},Cd.prototype.setTitle=function(n){this.button_.setAttribute("title",n)},Cd.prototype.setHtml=function(n){_e.setHTML(this.button_,n)},Cd.prototype.getButtonElement=function(){return this.button_};var My=Cd,yl=function(n){n=n||{};var r=this;this.interaction_=n.interaction,this.interaction_&&(this.interaction_.setActive(n.active),this.interaction_.on("change:active",function(){r.setActive(r.interaction_.getActive())})),n.toggleFn&&(n.onToggle=n.toggleFn),n.handleClick=function(){r.toggle(),n.onToggle&&n.onToggle.call(r,r.getActive())},n.className=(n.className||"")+" ol-toggle",My.call(this,n),this.set("title",n.title),this.set("autoActivate",n.autoActivate),n.bar&&this.setSubBar(n.bar),this.setActive(n.active),this.setDisable(n.disable)};xi(yl,My),yl.prototype.setMap=function(n){!n&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),My.prototype.setMap.call(this,n),n&&(this.interaction_&&n.addInteraction(this.interaction_),this.subbar_&&n.addControl(this.subbar_))},yl.prototype.getSubBar=function(){return this.subbar_},yl.prototype.setSubBar=function(n){var r=this.getMap();r&&this.subbar_&&r.removeControl(this.subbar_),this.subbar_=n,n&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),r&&r.addControl(this.subbar_))},yl.prototype.getDisable=function(){var n=this.element.querySelector("button");return n&&n.disabled},yl.prototype.setDisable=function(n){this.getDisable()!=n&&(this.element.querySelector("button").disabled=n,n&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!n,disable:n}))},yl.prototype.getActive=function(){return this.element.classList.contains("ol-active")},yl.prototype.toggle=function(){this.getActive()?this.setActive(!1):this.setActive(!0)},yl.prototype.setActive=function(n){this.interaction_&&this.interaction_.setActive(n),this.subbar_&&this.subbar_.setActive(n),this.getActive()!==n&&(n?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!n,active:n}))},yl.prototype.setInteraction=function(n){this.interaction_=n},yl.prototype.getInteraction=function(){return this.interaction_};var U4=yl,k4={name:"ol-control-toggle",setup:function(r,t){var e=Jo(U4,r,t),i=e.control;return{control:i}},props:{html:{type:String},interaction:{type:Object},className:{type:String},title:{type:String},onToggle:{type:Function}}},Q1=Ce()(k4,[["render",D4]]);function z4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var V4={name:"ol-control-button",setup:function(r,t){var e=Jo(My,r,t),i=e.control;return{control:i}},props:{html:{type:String},name:{type:String},className:{type:String},title:{type:String},handleClick:{type:Function}}},t_=Ce()(V4,[["render",z4]]);function W4(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var cs=function(n){n=n||{},n.fullscreen&&(n.target=document.body);var r=_e.create("DIV",{className:((n.className||"")+(n.zoom?" ol-zoom":"")+" ol-ext-dialog").trim(),click:function(i){this.get("hideOnBack")&&i.target===r&&this.close(),this.get("hideOnClick")&&this.close()}.bind(this)}),t=_e.create("FORM",{on:{submit:this._onButton("submit")},parent:r});_e.create("H2",{parent:t}),_e.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:t}),_e.create("DIV",{className:"ol-content",parent:t}),this._progress=_e.create("DIV",{style:{display:"none"},parent:t});var e=_e.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=_e.create("DIV",{parent:e}),this._progressMessage=_e.create("DIV",{className:"ol-progress-message",parent:this._progress}),_e.create("DIV",{className:"ol-buttons",parent:t}),ri.default.call(this,{element:r,target:n.target}),this.set("closeBox",n.closeBox!==!1),this.set("zoom",!!n.zoom),this.set("hideOnClick",!!n.hideOnClick),this.set("hideOnBack",!!n.hideOnBack),this.set("className",r.className),this.set("closeOnSubmit",n.closeOnSubmit),this.set("buttons",n.buttons),this.setContent(n)};xi(cs,ri.default),cs.prototype.show=function(n){n&&((n instanceof Element||typeof n=="string")&&(n={content:n}),this.setContent(n)),this.element.classList.add("ol-visible");var r=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(r&&r.focus(),this.dispatchEvent({type:"show"}),n){if(n.autoclose){var t=setTimeout(function(){this.hide()}.bind(this),n.autoclose);this.once("hide",function(){clearTimeout(t)})}if(n.hideOnBack){var e=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",function(){this.set("hideOnBack",e)}.bind(this))}}},cs.prototype.open=function(){this.show()},cs.prototype.setContentMessage=function(n){if(n!==void 0){var r=this.getContentElement();n instanceof Element&&_e.setHTML(r,""),_e.setHTML(r,n||"")}},cs.prototype.setTitle=function(n){var r=this.element.querySelector("form");r.querySelector("h2").innerText=n||"",n?r.classList.add("ol-title"):r.classList.remove("ol-title")},cs.prototype.setContent=function(n){if(!!n){this.element.className=this.get("className"),typeof n=="string"&&(n={content:n}),n=n||{},n.max&&this.setProgress(0,n.max),n.progress!==void 0&&this.setProgress(n.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),n.className&&n.className.split(" ").forEach(function(){this.element.classList.add(n.className)}.bind(this));var r=this.element.querySelector("form");n.content!==void 0&&(n.content instanceof Element&&_e.setHTML(r.querySelector(".ol-content"),""),_e.setHTML(r.querySelector(".ol-content"),n.content||"")),this.setTitle(n.title),n.closeBox||this.get("closeBox")&&n.closeBox!==!1?r.classList.add("ol-closebox"):r.classList.remove("ol-closebox");var t=this.element.querySelector(".ol-buttons");t.innerHTML="";var e=n.buttons||this.get("buttons");if(e){r.classList.add("ol-button");for(var i in e)_e.create("INPUT",{type:i==="submit"?"submit":"button",value:e[i],click:this._onButton(i,n.onButton),parent:t})}else r.classList.remove("ol-button")}},cs.prototype.getContentElement=function(){return this.element.querySelector("form .ol-content")},cs.prototype.setProgress=function(n,r,t){if(n===!1){_e.setStyle(this._progress,{display:"none"});return}if(r>0?this.set("max",Number(r)):r=this.get("max"),!r)_e.setStyle(this._progress,{display:"none"});else{var e=Math.round(n/r*100);_e.setStyle(this._progress,{display:""}),this._progressbar.className=e?"":"notransition",_e.setStyle(this._progressbar,{width:e+"%"})}this._progressMessage.innerHTML="",_e.setHTML(this._progressMessage,t||"")},cs.prototype._onButton=function(n,r){var t=function(e){e.preventDefault(),(n!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var i={};this.element.querySelectorAll("form input").forEach(function(o){o.className&&(i[o.className]=o)}),this.dispatchEvent({type:"button",button:n,inputs:i}),typeof r=="function"&&r(n,i)}.bind(this);return t},cs.prototype.hide=function(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})},cs.prototype.close=cs.prototype.hide,cs.prototype.isOpen=function(){return this.element.classList.contains("ol-visible")};var pS=cs,Y4="#333",H4=function(){function n(r){var t=r||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Zi(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new pa({color:Y4}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:O5.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var r=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(r){this.overflow_=r},n.prototype.setFont=function(r){this.font_=r},n.prototype.setMaxAngle=function(r){this.maxAngle_=r},n.prototype.setOffsetX=function(r){this.offsetX_=r},n.prototype.setOffsetY=function(r){this.offsetY_=r},n.prototype.setPlacement=function(r){this.placement_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setFill=function(r){this.fill_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Zi(r!==void 0?r:1)},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.setText=function(r){this.text_=r},n.prototype.setTextAlign=function(r){this.textAlign_=r},n.prototype.setTextBaseline=function(r){this.textBaseline_=r},n.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},n.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},n.prototype.setPadding=function(r){this.padding_=r},n}(),th=H4,X4=function(n){if(!n)return null;var r=n.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return r||(n.getViewport().querySelector(".ol-layers")?(r=document.createElement("canvas"),r.className="ol-fixedoverlay",n.getViewport().querySelector(".ol-layers").after(r),n.on("precompose",function(t){r.width=n.getSize()[0]*t.frameState.pixelRatio,r.height=n.getSize()[1]*t.frameState.pixelRatio})):r=n.getViewport().querySelector("canvas")),r},K4=X4,Gs=function(n){n||(n={}),this.setStyle(n.style),ri.default.call(this,n)};xi(Gs,ri.default),Gs.prototype.setMap=function(n){this.getCanvas(n);var r=this.getMap();if(this._listener&&(Object(js.b)(this._listener),this._listener=null),ri.default.prototype.setMap.call(this,n),r)try{r.renderSync()}catch{}n&&(this._listener=n.on("postcompose",this._draw.bind(this)))},Gs.prototype.getCanvas=function(n){return K4(n)},Gs.prototype.getContext=function(n){var r=n.context;if(!r&&this.getMap()){var t=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];r=t?t.getContext("2d"):null}return r},Gs.prototype.setStyle=function(n){this._style=n||new va({})},Gs.prototype.getStyle=function(){return this._style},Gs.prototype.getStroke=function(){var n=this._style.getStroke();return n||this._style.setStroke(new Zo({color:"#000",width:1.25})),this._style.getStroke()},Gs.prototype.getFill=function(){var n=this._style.getFill();return n||this._style.setFill(new pa({color:"#fff"})),this._style.getFill()},Gs.prototype.getTextStroke=function(){var n=this._style.getText();return n||(n=new th({})),n.getStroke()||n.setStroke(new Zo({color:"#fff",width:3})),n.getStroke()},Gs.prototype.getTextFill=function(){var n=this._style.getText();return n||(n=new th({})),n.getFill()||n.setFill(new pa({color:"#fff"})),n.getFill()},Gs.prototype.getTextFont=function(){var n=this._style.getText();return n||(n=new th({})),n.getFont()||n.setFont("12px sans-serif"),n.getFont()},Gs.prototype._draw=function(){console.warn("[CanvasBase] draw function not implemented.")};var eh=Gs;function Z4(n,r){var t=n.canvas,e=r||{},i=e.pixelRatio||Ut.a,o=e.size;o&&(t.width=o[0]*i,t.height=o[1]*i,t.style.width=o[0]+"px",t.style.height=o[1]+"px");var a=[0,0,t.width,t.height],s=Ar(q(),i,i);return new v1(n,i,a,s,0)}function Iy(n,r,t,e,i,o,a){var s,l,h=(t-r)/e;if(h===1)s=r;else if(h===2)s=r,l=i;else if(h!==0){for(var d=n[r],y=n[r+1],w=0,C=[0],I=r+e;I<t;I+=e){var G=n[I],Z=n[I+1];w+=Math.sqrt((G-d)*(G-d)+(Z-y)*(Z-y)),C.push(w),d=G,y=Z}var lt=i*w,pt=Object(Sr.a)(C,lt);pt<0?(l=(lt-C[-pt-2])/(C[-pt-1]-C[-pt-2]),s=r+(-pt-2)*e):s=r+pt*e}for(var Et=a>1?a:2,ht=o||new Array(Et),I=0;I<Et;++I)ht[I]=s===void 0?NaN:l===void 0?n[s+I]:Xs(n[s+I],n[s+e+I],l);return ht}function e_(n,r,t,e,i,o){if(t==r)return null;var a;if(i<n[r+e-1])return o?(a=n.slice(r,r+e),a[e-1]=i,a):null;if(n[t-1]<i)return o?(a=n.slice(t-e,t),a[e-1]=i,a):null;if(i==n[r+e-1])return n.slice(r,r+e);for(var s=r/e,l=t/e;s<l;){var h=s+l>>1;i<n[(h+1)*e-1]?l=h:s=h+1}var d=n[s*e-1];if(i==d)return n.slice((s-1)*e,(s-1)*e+e);var y=n[(s+1)*e-1],w=(i-d)/(y-d);a=[];for(var C=0;C<e-1;++C)a.push(Xs(n[(s-1)*e+C],n[s*e+C],w));return a.push(i),a}function $4(n,r,t,e,i,o,a){if(a)return e_(n,r,t[t.length-1],e,i,o);var s;if(i<n[e-1])return o?(s=n.slice(0,e),s[e-1]=i,s):null;if(n[n.length-1]<i)return o?(s=n.slice(n.length-e),s[e-1]=i,s):null;for(var l=0,h=t.length;l<h;++l){var d=t[l];if(r!=d){if(i<n[r+e-1])return null;if(i<=n[d-1])return e_(n,r,d,e,i,!1);r=d}}return null}var J4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q4=function(n){J4(r,n);function r(t,e){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(Sr.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<jt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Uu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Mt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,o))},r.prototype.forEachSegment=function(t){return Xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinateAtM=function(t,e){if(this.layout!=pr.XYM&&this.layout!=pr.XYZM)return null;var i=e!==void 0?e:!1;return e_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},r.prototype.getCoordinates=function(){return Ki(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinateAt=function(t,e){return Iy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},r.prototype.getLength=function(){return T5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Yn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,pr.XY)},r.prototype.getType=function(){return Zt.LINE_STRING},r.prototype.intersectsExtent=function(t){return fu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Xo),Bi=q4,Ny=function(n){n=n||{},vo.a.call(this,n),n.feature&&this.set("feature",n.feature.clone())};xi(Ny,vo.a),Ny.prototype.setTitle=function(n){this.set("title",n||""),this.changed()},Ny.prototype.getElement=function(n,r){var t=_e.create("LI",{className:this.get("className"),click:function(e){r(!1),e.stopPropagation()},style:{height:n[1]+"px"},"aria-label":this.get("title")});return _e.create("DIV",{click:function(e){r(!0),e.stopPropagation()},style:{width:n[0]+"px",height:n[1]+"px"},parent:t}),t};var r_=Ny;window.ol&&!ol.legend&&(ol.legend={});var ga=function(n){n=n||{},vo.a.call(this),this._items=new fn;var r=[],t;this._items.on("add",function(e){r.push({item:e.element,on:e.element.on("change",function(){this.refresh()}.bind(this))}),t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._items.on("remove",function(e){for(var i=0;i<r;i++)if(e.element===r[i].item){Object(js.b)(r[i].on),r.splice(i,1);break}t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._listElement=_e.create("UL",{className:"ol-legend"}),this._canvas=document.createElement("canvas"),this.set("size",n.size||[40,25],!0),this.set("margin",n.margin===0?0:n.margin||10,!0),this._textStyle=n.textStyle||new th({font:"16px sans-serif",fill:new pa({color:"#333"}),backgroundFill:new pa({color:"rgba(255,255,255,.8)"})}),this._title=new r_({title:n.title||"",className:"ol-title"}),n.titleStyle?this._titleStyle=n.titleStyle:(this._titleStyle=this._textStyle.clone(),this._titleStyle.setFont("bold "+this._titleStyle.getFont())),this.setStyle(n.style),n.items instanceof Array&&n.items.forEach(function(e){this.addItem(e)}.bind(this)),this.refresh()};xi(ga,vo.a),ga.prototype.setTitle=function(n){this._title.setTitle(n),this.refresh()},ga.prototype.getTitle=function(){return this._title.get("title")},ga.prototype.getTextStyle=function(){return this._textStyle},ga.prototype.set=function(n,r,t){vo.a.prototype.set.call(this,n,r,t),t||this.refresh()},ga.prototype.getListElement=function(){return this._listElement},ga.prototype.getCanvas=function(){return this._canvas},ga.prototype.setStyle=function(n){this._style=n,this.refresh()},ga.prototype.addItem=function(n){n instanceof r_?this._items.push(n):this._items.push(new r_(n))},ga.prototype.getItems=function(){return this._items},ga.prototype._drawText=function(n,r,t,e){n.save(),n.scale(Ut.a,Ut.a),r=r||"";var i=r.split(`
`);i.length===1?n.fillText(r,t,e):(n.textBaseline="bottom",n.fillText(i[0],t,e),n.textBaseline="top",n.fillText(i[1],t,e)),n.restore()},ga.prototype._measureText=function(n,r){var t=(r||"").split(`
`);if(t.length===1)return n.measureText(r);var e=n.measureText(t[0]),i=n.measureText(t[1]);return{width:Math.max(e.width,i.width),height:e.height+i.height}},ga.prototype.refresh=function(){var n=this._listElement;n.innerHTML="";var r=this.get("margin"),t=this.get("size")[0]+2*r,e=this.get("lineHeight")||this.get("size")[1]+2*r,i=this.getCanvas(),o=i.getContext("2d");o.textAlign="left",o.textBaseline="middle";var a=Ut.a;o.font=this._titleStyle.getFont();var s=this._measureText(o,this.getTitle("title")).width;this._items.forEach(function(l){l.get("feature")||l.get("typeGeom")?(o.font=l.get("textStyle")?l.get("textStyle").getFont():this._textStyle.getFont(),s=Math.max(s,this._measureText(o,l.get("title")).width+t)):(o.font=l.get("textStyle")?l.get("textStyle").getFont():this._titleStyle.getFont(),s=Math.max(s,this._measureText(o,l.get("title")).width))}.bind(this)),i.width=(s+2*r)*a,i.height=(this._items.getLength()+1)*e*a,i.style.height=(this._items.getLength()+1)*e+"px",o.textBaseline="middle",o.fillStyle=Mo(this._textStyle.getFill().getColor()),this.getTitle()&&(n.appendChild(this._title.getElement([t,e],function(l){this.dispatchEvent({type:"select",index:-1,symbol:l,item:this._title})}.bind(this))),o.font=this._titleStyle.getFont(),o.textAlign="center",this._drawText(o,this.getTitle(),i.width/a/2,e/2)),this._items.forEach(function(l,h){var d=h+(this.getTitle()?1:0);n.appendChild(l.getElement([t,e],function(w){this.dispatchEvent({type:"select",index:h,symbol:w,item:l})}.bind(this)));var y=l.getProperties();o.textAlign="left",y.feature||y.typeGeom?(i=this.getLegendImage(y,i,d),o.font=l.get("textStyle")?l.get("textStyle").getFont():this._textStyle.getFont(),this._drawText(o,l.get("title"),t+r,(h+1.5)*e)):(o.font=l.get("textStyle")?l.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(y.className)?(o.textAlign="center",this._drawText(o,l.get("title"),i.width/a/2,(h+1.5)*e)):this._drawText(o,l.get("title"),r,(h+1.5)*e))}.bind(this)),this.dispatchEvent({type:"refresh",width:t,height:(this._items.length+1)*e})},ga.prototype.getLegendImage=function(n,r,t){return n=n||{},ga.getLegendImage({className:n.className,feature:n.feature,typeGeom:n.typeGeom,style:n.style||this._style,properties:n.properties,margin:n.margin||this.get("margin"),size:n.size||this.get("size"),lineHeight:n.lineHeight||this.get("lineHeight"),onload:function(){this.refresh()}.bind(this)},r,t)},ga.getLegendImage=function(n,r,t){n=n||{},typeof n.margin=="undefined"&&(n.margin=10);var e=n.size||[40,25];n.onload=n.onload||function(){setTimeout(function(){ga.getLegendImage(n,r,t)},100)};var i=e[0]+2*n.margin,o=n.lineHeight||e[1]+2*n.margin,a=Ut.a;r||(t=0,r=document.createElement("canvas"),r.width=i*a,r.height=o*a);var s=r.getContext("2d");s.save();var l=Z4(s,{pixelRatio:a}),h=n.typeGeom,d,y=n.feature;!y&&h&&(/Point/.test(h)?y=new Hr(new Gn([0,0])):/LineString/.test(h)?y=new Hr(new Bi([0,0])):y=new Hr(new ai([[0,0]])),n.properties&&y.setProperties(n.properties)),y?(d=y.getStyle(),typeof d=="function"&&(d=d(y)),d||(d=typeof n.style=="function"?n.style(y):n.style||[]),h=y.getGeometry().getType()):d=[],d instanceof Array||(d=[d]);var w=i/2,C=o/2,I=e[0]/2,G=e[1]/2,Z,lt;if(h==="Point"){var pt=null;for(Z=0;lt=d[Z];Z++){var Et=lt.getImage();if(Et){var ht=Et.getImage();if(ht&&ht.complete&&!ht.naturalWidth&&(typeof n.onload=="function"&&ht.addEventListener("load",function(){setTimeout(function(){n.onload()},100)}),Et.load()),Et.getAnchor){var zt=Et.getAnchor();if(zt){var Gt=Et.getSize(),$t=zt[0]-Gt[0],Xt=zt[1]-Gt[1];pt?br(pt,[$t,Xt,$t+Gt[0],Xt+Gt[1]]):pt=[$t,Xt,$t+Gt[0],Xt+Gt[1]]}}}}pt&&(w=w+(pt[2]+pt[0])/2,C=C+(pt[3]+pt[1])/2)}for(C+=t*o||0,Z=0;lt=d[Z];Z++)switch(l.setStyle(lt),h){case Gn:case"Point":case"MultiPoint":l.drawGeometry(new Gn([w,C]));break;case Bi:case"LineString":case"MultiLineString":s.save(),s.rect(n.margin*a,0,e[0]*a,r.height),s.clip(),l.drawGeometry(new Bi([[w-I,C],[w+I,C]])),s.restore();break;case ai:case"Polygon":case"MultiPolygon":l.drawGeometry(new ai([[[w-I,C-G],[w+I,C-G],[w+I,C+G],[w-I,C+G],[w-I,C-G]]]));break}return s.restore(),r};var Xl=function(n){n=n||{};var r=document.createElement("div");if(n.target)r.className=n.className||"ol-legend";else{r.className=(n.className||"ol-legend")+" ol-unselectable ol-control"+(n.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var t=document.createElement("button");t.setAttribute("type","button"),t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t),t=document.createElement("button"),t.setAttribute("type","button"),t.className="ol-closebox",t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t)}eh.call(this,{element:r,target:n.target}),this._legend=n.legend,this._legend.getCanvas().className="ol-legendImg",r.appendChild(this._legend.getCanvas()),r.appendChild(this._legend.getListElement()),n.collapsible!==!1&&n.collapsed===!1&&this.show(),this._legend.on("select",function(e){this.dispatchEvent(e)}.bind(this)),this._legend.on("refresh",function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this))};xi(Xl,eh),Xl.prototype.getLegend=function(){return this._legend},Xl.prototype.setCanvas=function(n){if(this._onCanvas=n,this.element.style.visibility=n?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch{}},Xl.prototype.onCanvas=function(){return!!this._onCanvas},Xl.prototype._draw=function(n){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var r=this._legend.getCanvas(),t=this.getContext(n),e=t.canvas.height-r.height;t.save(),t.rect(0,e,r.width,r.height);var i="#fff";this._legend.getTextStyle().getBackgroundFill()&&(i=Mo(this._legend.getTextStyle().getBackgroundFill().getColor())),t.fillStyle=t.strokeStyle=i,t.lineWidth=10,t.lineJoin="round",t.stroke(),t.clearRect(0,e,r.width,r.height),t.fill(),t.drawImage(r,0,e),t.restore()}},Xl.prototype.show=function(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch{}},Xl.prototype.hide=function(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch{}},Xl.prototype.collapse=function(n){n===!1?this.show():this.hide()},Xl.prototype.isCollapsed=function(){return this.element.classList.contains("ol-collapsed")},Xl.prototype.toggle=function(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch{}};var Q4=Xl,rh=function(n){n||(n={});var r=_e.create("DIV",{className:n.className||"ol-print"});n.target||(r.classList.add("ol-unselectable","ol-control"),_e.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r})),ri.default.call(this,{element:r,target:n.target}),this.set("immediate",n.immediate),this.set("imageType",n.imageType||"image/jpeg"),this.set("quality",n.quality||.8),this.set("orientation",n.orientation)};xi(rh,ri.default),rh.prototype.toClipboard=function(n,r){try{n.canvas.toBlob(function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),typeof r=="function"&&r(!0)}catch{typeof r=="function"&&r(!1)}})}catch{typeof r=="function"&&r(!1)}},rh.prototype.copyMap=function(n,r){this.once("print",function(t){this.toClipboard(t,r)}.bind(this)),this.print(n)},rh.prototype._getCanvas=function(n,r,t){var e;if(n.context)t=n.context.canvas;else{if(t)e=t.getContext("2d");else{t=document.createElement("canvas");var i=this.getMap().getSize();t.width=i[0],t.height=i[1],e=t.getContext("2d"),/jp.*g$/.test(r)&&(e.fillStyle=this.get("bgColor")||"white",e.fillRect(0,0,t.width,t.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(o){if(o.width){if(e.save(),o.parentNode.style.opacity==="0")return;e.globalAlpha=parseFloat(o.parentNode.style.opacity)||1,_e.getStyle(o.parentNode,"mix-blend-mode")==="multiply"&&(e.globalCompositeOperation="multiply");var a=_e.getStyle(o,"transform")||_e.getStyle(o,"-webkit-transform");/^matrix/.test(a)?(a=a.replace(/^matrix\(|\)$/g,"").split(","),a.forEach(function(s,l){a[l]=parseFloat(s)}),e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.drawImage(o,0,0)):e.drawImage(o,0,0,_e.getStyle(o,"width"),_e.getStyle(o,"height")),e.restore()}}.bind(this))}return t},rh.prototype.fastPrint=function(n,r){n=n||{},this._ol6?requestAnimationFrame(function(){r(this._getCanvas({},n.imageType,n.canvas))}.bind(this)):(this.getMap().once("postcompose",function(t){t.context||(this._ol6=!0),r(this._getCanvas(t,n.imageType,n.canvas))}.bind(this)),this.getMap().render())},rh.prototype.print=function(n){n=n||{};var r=n.imageType||this.get("imageType"),t=n.quality||this.get("quality");if(this.getMap()){if(n.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},n)),!n.immediate){setTimeout(function(){n=Object.assign({},n),n.immediate="silent",this.print(n)}.bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(e){var i=this._getCanvas(e,r),o=n.size||[210,297],a=n.format||"a4",s,l,h,d=n.orient||this.get("orientation"),y=typeof n.margin=="number"?n.margin:10;if(i){d!=="landscape"&&d!=="portrait"&&(d=i.width>i.height?"landscape":"portrait"),d==="landscape"&&(o=[o[1],o[0]]);var w=Math.min((o[0]-2*y)/i.width,(o[1]-2*y)/i.height);s=w*i.width,l=w*i.height,h=[(o[0]-s)/2,(o[1]-l)/2]}var C;try{C=i?i.toDataURL(r,t):null}catch{this.dispatchEvent({type:"error",canvas:i});return}var I=Object.assign({type:"print",print:{format:a,orientation:d,unit:"mm",size:o,position:h,imageWidth:s,imageHeight:l},image:C,imageType:r,quality:t,canvas:i},n);this.dispatchEvent(I)}.bind(this)),this.getMap().render()}};var vS=rh,Zc=function(n){n||(n={});var r=_e.create("DIV",{className:(n.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});eh.call(this,{element:r,style:n.style}),this.setTitle(n.title||""),this.setVisible(n.visible),this.element.style.font=this.getTextFont()};xi(Zc,eh),Zc.prototype.setStyle=function(n){eh.prototype.setStyle.call(this,n),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()},Zc.prototype.setTitle=function(n){if(this.element.textContent=n,this.set("title",n),this.getMap())try{this.getMap().renderSync()}catch{}},Zc.prototype.getTitle=function(){return this.get("title")},Zc.prototype.setVisible=function(n){if(this.element.style.display=n?"block":"none",this.getMap())try{this.getMap().renderSync()}catch{}},Zc.prototype.getVisible=function(){return this.element.style.display!=="none"},Zc.prototype._draw=function(n){if(!!this.getVisible()){var r=this.getContext(n);if(!!r){var t=n.frameState.pixelRatio;r.save(),r.scale(t,t);var e=this.element.getBoundingClientRect(),i=this.getMap().getViewport().getBoundingClientRect(),o=this.getMap().getSize()[0]/i.width;r.translate(Math.round((e.left-i.left)*o),Math.round((e.top-i.top)*o));var a=this.element.clientHeight,s=this.element.clientWidth,l=s/2;r.beginPath(),r.fillStyle=Mo(this.getFill().getColor()),r.rect(0,0,s,a),r.fill(),r.closePath(),r.beginPath(),r.fillStyle=Mo(this.getTextFill().getColor()),r.strokeStyle=Mo(this.getTextStroke().getColor()),r.lineWidth=this.getTextStroke().getWidth(),r.textAlign="center",r.textBaseline="middle",r.font=this.getTextFont(),r.lineWidth&&r.strokeText(this.getTitle(),l,a/2),r.fillText(this.getTitle(),l,a/2),r.closePath(),r.restore()}}};var tF=Zc,n_=function(n,r){var t=n.getView(),e=t.getProjection(),i=t.getCenter(),o=n.getPixelFromCoordinate(i);o[1]+=1;var a=n.getCoordinateFromPixel(o),s=yc(tl(i,e,"EPSG:4326"),tl(a,e,"EPSG:4326"));return s*=(r||96)/.0254,s},eF=function(n,r,t){if(n&&r){var e=r;if(typeof r=="string"&&(e=r.split("/")[1],e||(e=r),e=e.replace(/[^\d]/g,""),e=parseInt(e)),!e)return;var i=n.getView(),o=i.getProjection(),a=i.getCenter(),s=n.getPixelFromCoordinate(a);s[1]+=1;var l=n.getCoordinateFromPixel(s),h=yc(tl(a,o,"EPSG:4326"),tl(l,o,"EPSG:4326"));return h*=(t||96)/.0254,i.setResolution(i.getResolution()*e/h),e}},$c=function(n){n||(n={});var r=document.createElement("div");r.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(n.className?" "+n.className:""),r.style.position="absolute",r.style.visibility="hidden";var t=n.style instanceof Zo?new va({stroke:n.style}):n.style;n.style||(t=new va({stroke:new Zo({width:0})})),eh.call(this,{element:r,style:t}),this.set("rotateVithView",n.rotateWithView!==!1),this.setVisible(n.visible!==!1),this.setImage(n.image||n.src)};xi($c,eh),$c.prototype.setImage=function(n){if(n instanceof Image)this.img_=n,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this);else if(typeof n=="string")switch(n){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this),this.img_.src=n;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())},$c.prototype.compactCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2;return e.translate(i,i),e.fillStyle=r||"#963",e.lineWidth=5,e.lineJoin=e.lineCap="round",e.font="bold "+i*.4+"px sans-serif",e.textBaseline="bottom",e.textAlign="center",e.strokeStyle="#fff",e.globalAlpha=.75,e.strokeText("N",0,-i/2),e.globalAlpha=1,e.fillText("N",0,-i/2),e.beginPath(),e.moveTo(0,i/4),e.lineTo(i/3,i/2),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.lineWidth=12,e.fillStyle="#fff",e.globalAlpha=.75,e.fill(),e.stroke(),e.globalAlpha=1,e.fillStyle=e.strokeStyle=r||"#963",e.lineWidth=5,e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(i/3,i/2),e.lineTo(0,i/4),e.fill(),e.stroke(),e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.stroke(),t},$c.prototype.defaultCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2,o=.22*i;function a(l,h){e.fillStyle=r||"#963",e.beginPath(),e.moveTo(0,0),e.lineTo(l,0),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(-l,0),e.lineTo(-h,-h),e.moveTo(0,0),e.lineTo(0,l),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,-l),e.lineTo(h,-h),e.moveTo(0,0),e.fill(),e.stroke()}function s(l,h){e.globalCompositeOperation="destination-out",e.fillStyle="#fff",e.beginPath(),e.moveTo(0,0),e.lineTo(l,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-l,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,l),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-l),e.lineTo(-h,-h),e.moveTo(0,0),e.fill(),e.globalCompositeOperation="source-over",e.beginPath(),e.moveTo(0,0),e.lineTo(l,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-l,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,l),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-l),e.lineTo(-h,-h),e.moveTo(0,0),e.stroke()}return e.translate(i,i),e.strokeStyle=r||"#963",e.lineWidth=1.5,e.beginPath(),e.arc(0,0,n*.41,0,2*Math.PI),e.arc(0,0,n*.44,0,2*Math.PI),e.stroke(),e.rotate(Math.PI/4),a(i*.9,o*.8),s(i*.9,o*.8),e.rotate(-Math.PI/4),a(i,o),s(i,o),t},$c.prototype.getVisible=function(){return _e.getStyle(this.element,"display")==="block"},$c.prototype.setVisible=function(n){n?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()},$c.prototype._draw=function(n){var r=this.getContext(n);if(!(!r||!this.getVisible())){var t=r.canvas,e,i=[];for(e=0;e<8;e++)i[e]=[Math.cos(Math.PI*e/8),Math.sin(Math.PI*e/8)];var o=n.frameState.pixelRatio;r.save(),r.scale(o,o);var a=this.element.clientWidth,s=this.element.clientHeight,l={left:this.element.offsetLeft,top:this.element.offsetTop},h=this.img_,d=n.frameState.viewState.rotation;if(r.beginPath(),r.translate(l.left+a/2,l.top+s/2),this.get("rotateVithView")&&r.rotate(d),this.getStroke().getWidth()){r.beginPath(),r.strokeStyle=this.getStroke().getColor(),r.lineWidth=this.getStroke().getWidth();var y=Math.max(t.width,t.height);for(e=0;e<8;e++)r.moveTo(-i[e][0]*y,-i[e][1]*y),r.lineTo(i[e][0]*y,i[e][1]*y);r.stroke()}h.width&&r.drawImage(h,-a/2,-s/2,a,s),r.closePath(),r.restore()}};var gS=$c,Qi=function(n){n||(n={}),this._lang=n.lang;var r=_e.create("DIV",{className:(n.className||"ol-print")+" ol-unselectable ol-control"});_e.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r}),ri.default.call(this,{element:r}),n.openWindow&&this.on("print",function(Ee){Ee.canvas&&window.open().document.write('<img src="'+Ee.canvas.toDataURL()+'"/>')}),n.target=_e.create("DIV");var t=this._printCtrl=new vS(n);t.on(["print","error","printing"],function(Ee){i.setAttribute("data-status",Ee.type),Ee.clipboard||this.dispatchEvent(Ee)}.bind(this)),this._compass=new gS({src:n.northImage||"compact",visible:!1,className:"olext-print-compass",style:new Zo({color:"#333",width:0})});var e=this._printDialog=new pS({target:document.body,closeBox:!0,className:"ol-ext-print-dialog"}),i=e.getContentElement();this._input={};var o=_e.create("DIV",{className:"ol-print-param",parent:i});this._pages=[_e.create("DIV",{className:"ol-page"})];var a=_e.create("DIV",{className:"ol-map",parent:this._pages[0]});_e.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:i}),_e.create("H2",{html:this.i18n("title"),parent:o});var s=_e.create("UL",{parent:o}),l=_e.create("LI",{className:"ol-orientation",parent:s});this._input.orientation={list:l};var h=_e.create("LABEL",{className:"portrait",parent:l});this._input.orientation.portrait=_e.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(Ee){this.setOrientation(Ee.target.value)}.bind(this)},parent:h}),_e.create("SPAN",{html:this.i18n("portrait"),parent:h}),h=_e.create("LABEL",{className:"landscape",parent:l}),this._input.orientation.landscape=_e.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(Ee){this.setOrientation(Ee.target.value)}.bind(this)},parent:h}),_e.create("SPAN",{html:this.i18n("landscape"),parent:h});var d;l=_e.create("LI",{html:_e.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:s});var y=this._input.size=_e.create("SELECT",{on:{change:function(){this.setSize(y.value||ce)}.bind(this)},parent:l});for(d in this.paperSize)_e.create("OPTION",{html:d+(this.paperSize[d]?" - "+this.paperSize[d][0]+"x"+this.paperSize[d][1]+" mm":this.i18n("custom")),value:d,parent:y});l=_e.create("LI",{html:_e.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:s});var w=this._input.margin=_e.create("SELECT",{on:{change:function(){this.setMargin(w.value)}.bind(this)},parent:l});for(d in this.marginSize)_e.create("OPTION",{html:d+" - "+this.marginSize[d]+" mm",value:this.marginSize[d],parent:w});l=_e.create("LI",{html:_e.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:s});var C=this._input.scale=_e.create("SELECT",{on:{change:function(){this.setScale(parseInt(C.value))}.bind(this)},parent:l});Object.keys(this.scales).forEach(function(Ee){_e.create("OPTION",{html:this.scales[Ee],value:Ee,parent:C})}.bind(this)),l=_e.create("LI",{className:"ol-legend",parent:s});var I=_e.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:function(){Me.legend.control.setCanvas(I.checked)}.bind(this)},parent:l});l=_e.create("LI",{className:"ol-print-north",parent:s});var G=this._input.north=_e.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:function(){G.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(this)},parent:l});l=_e.create("LI",{className:"ol-print-title",parent:s});var Z=_e.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:function(Ee){Me.title.control.setVisible(Ee.target.checked)}.bind(this)},parent:l}),lt=_e.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(Ee){Ee.keyCode===13&&Ee.preventDefault()},keyup:function(){Me.title.control.setTitle(lt.value)},change:function(){Me.title.control.setTitle(lt.value)}.bind(this)},parent:l}),pt=_e.create("DIV",{className:"ol-user-param",parent:o});l=_e.create("LI",{className:"ol-saveas",parent:s});var Et=_e.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:l}),ht=_e.create("SELECT",{on:{change:function(){if(this.formats[ht.value].clipboard)t.copyMap(this.formats[ht.value],function(Lr){Lr&&(Et.classList.add("visible"),setTimeout(function(){Et.classList.remove("visible")},1e3))});else{var Ee=typeof this.getSize()=="string"?this.getSize():null,er=Object.assign({format:Ee,size:Ee?this.paperSize[Ee]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[ht.value]);t.print(er)}ht.value=""}.bind(this)},parent:l});_e.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:ht}),this.formats.forEach(function(Ee,er){if(Ee.pdf){if(n.pdf===!1)return}else if(Ee.clipboard){if(n.copy===!1)return}else if(n.save===!1)return;_e.create("OPTION",{html:Ee.title,value:er,parent:ht})}),l=_e.create("LI",{className:"ol-savelegend",parent:s});var zt=_e.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:l}),Gt=_e.create("SELECT",{on:{change:function(){var Ee=Me.legend.control.getLegend().getCanvas(),er=document.createElement("CANVAS");er.width=Ee.width,er.height=Ee.height;var Lr=er.getContext("2d");if(Lr.fillStyle="#fff",Lr.fillRect(0,0,er.width,er.height),Lr.drawImage(Ee,0,0),this.formats[Gt.value].clipboard)er.toBlob(function(jn){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},jn.type,{value:jn,enumerable:!0}))]),zt.classList.add("visible"),setTimeout(function(){zt.classList.remove("visible")},1e3)}catch{}},"image/png");else{var Br;try{Br=er.toDataURL(this.formats[Gt.value].imageType,this.formats[Gt.value].quality);var Yr=typeof this.getSize()=="string"?this.getSize():"A4",$r=er.width/96*25.4,On=er.height/96*25.4,Tn=this.paperSize[Yr];this.getOrientation()==="landscape"&&(Tn=[Tn[1],Tn[0]]);var Fn=[(Tn[0]-$r)/2,(Tn[1]-On)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:Yr,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[Yr],position:Fn,imageWidth:$r,imageHeight:On},image:Br,imageType:this.formats[Gt.value].imageType,pdf:this.formats[Gt.value].pdf,quality:this.formats[Gt.value].quality,canvas:er})}catch{}}Gt.value=""}.bind(this)},parent:l});_e.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:Gt}),this.formats.forEach(function(Ee,er){_e.create("OPTION",{html:Ee.title,value:er,parent:Gt})});var $t=_e.create("DIV",{className:"ol-ext-buttons",parent:o});_e.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(Ee){Ee.preventDefault(),window.print()},parent:$t}),_e.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){e.hide()},parent:$t}),_e.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:o});var Xt,ce,Ge,Me={};e.on("show",function(){this.dispatchEvent({type:"show",userElement:pt,dialog:this._printDialog,page:this.getPage()});var Ee=this.getMap();!Ee||(document.body.classList.add("ol-print-document"),Xt=Ee.getTargetElement(),ce=Ee.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(ce),Ee.setTarget(a),Ge&&Object(js.b)(Ge),Ge=Ee.on("moveend",function(){this.setScale(n_(Ee))}.bind(this)),this.setScale(n_(Ee)),Me={},this.getMap().getControls().forEach(function(er){er instanceof Q4&&(Me.legend={control:er}),er instanceof tF&&(Me.title={control:er}),er instanceof gS&&(Me.compass?er.element.classList.remove("ol-print-compass"):(this._input.north.checked?er.element.classList.add("ol-print-compass"):er.element.classList.remove("ol-print-compass"),this._compass=er,Me.compass={control:er}))}.bind(this)),Me.title?(Z.checked=Me.title.isVisible=Me.title.control.getVisible(),lt.value=Me.title.control.getTitle(),Z.parentNode.parentNode.classList.remove("hidden")):Z.parentNode.parentNode.classList.add("hidden"),Me.legend?(Me.legend.ison=Me.legend.control.onCanvas(),Me.legend.collapsed=Me.legend.control.isCollapsed(),Me.legend.control.collapse(!1),Gt.parentNode.classList.remove("hidden"),I.parentNode.parentNode.classList.remove("hidden"),I.checked=!Me.legend.collapsed,Me.legend.control.setCanvas(!Me.legend.collapsed)):(Gt.parentNode.classList.add("hidden"),I.parentNode.parentNode.classList.add("hidden")))}.bind(this)),e.on("hide",function(){document.body.classList.remove("ol-print-document"),!!Xt&&(this.getMap().setTarget(Xt),Xt=null,Ge&&Object(js.b)(Ge),Me.title&&Me.title.control.setVisible(Me.title.isVisible),Me.legend&&(Me.legend.control.setCanvas(Me.legend.ison),Me.legend.control.collapse(Me.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(this)),window.addEventListener("resize",function(){this.setSize()}.bind(this)),n.saveAs&&this.on("print",function(Ee){Ee.pdf||Ee.canvas.toBlob(function(er){var Lr=(Ee.print.legend?"legend.":"map.")+Ee.imageType.replace("image/","");n.saveAs(er,Lr)},Ee.imageType,Ee.quality)}),n.jsPDF&&this.on("print",function(Ee){if(Ee.pdf){var er=new n.jsPDF({orientation:Ee.print.orientation,unit:Ee.print.unit,format:Ee.print.size});er.addImage(Ee.image,"JPEG",Ee.print.position[0],Ee.print.position[0],Ee.print.imageWidth,Ee.print.imageHeight),er.save(Ee.print.legend?"legend.pdf":"map.pdf")}})};xi(Qi,ri.default),Qi.prototype.isOpen=function(){return this._printDialog.isOpen()},Qi.addLang=function(n,r){Qi.prototype._labels[n]=r},Qi.prototype.i18n=function(n){var r=this._labels.en[n]||"bad param";return this._labels[this._lang]&&this._labels[this._lang][n]&&(r=this._labels[this._lang][n]),r},Qi.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"\u2714 Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille \xE9cran",margin:"Marges",scale:"Echelle",legend:"L\xE9gende",north:"Fl\xE8che du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la l\xE9gende...",copied:"\u2714 Carte copi\xE9e",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",cancel:"annuler"},zh:{title:"\u6253\u5370",orientation:"\u65B9\u5411",portrait:"\u7EB5\u5411",landscape:"\u6A2A\u5411",size:"\u9875\u9762\u5927\u5C0F",custom:"\u5C4F\u5E55\u5927\u5C0F",margin:"\u5916\u8FB9\u8DDD",scale:"\u5C3A\u5EA6",legend:"\u56FE\u4F8B",north:"\u6307\u5317\u9488",mapTitle:"\u5730\u56FE\u540D\u5B57",saveas:"\u4FDD\u5B58\u4E3A...",saveLegend:"\u4FDD\u5B58\u56FE\u4F8B\u4E3A...",copied:"\u2714 \u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",errorMsg:"\u65E0\u6CD5\u4FDD\u5B58\u5730\u56FE...",printBt:"\u6253\u5370...",cancel:"\u53D6\u6D88"}},Qi.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],A5:[148,210],B4:[257,364],B5:[182,257]},Qi.prototype.marginSize={none:0,small:5,large:10},Qi.prototype.formats=[{title:"copy to clipboard",imageType:"image/png",clipboard:!0},{title:"save as jpeg",imageType:"image/jpeg",quality:.8},{title:"save as png",imageType:"image/png",quality:.8},{title:"save as pdf",imageType:"image/jpeg",pdf:!0}],Qi.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"},Qi.prototype.getOrientation=function(){return this._orientation||"portrait"},Qi.prototype.setOrientation=function(n){this._orientation=n==="landscape"?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()},Qi.prototype.getMargin=function(){return this._margin||0},Qi.prototype.setMargin=function(n){this._margin=n,this._input.margin.value=n,this.setSize()},Qi.prototype.getSize=function(){return this._size},Qi.prototype.setSize=function(n){if(this._printDialog.getContentElement().setAttribute("data-status",""),n?this._size=n:n=this._size,!!n){typeof n=="string"?(n=n.toLocaleUpperCase(),this.paperSize[n]||(n=this._size="A4"),this._input.size.value=n,n=[Math.trunc(this.paperSize[n][0]*96/25.4),Math.trunc(this.paperSize[n][1]*96/25.4)],this.getOrientation()==="landscape"&&(n=[n[1],n[0]]),this.getPage().classList.remove("margin")):(this._input.size.value="",this.getPage().classList.add("margin"));var r=this.getPage(),t=r.parentNode.getBoundingClientRect(),e=(t.width-40)/n[0],i=(t.height-40)/n[1],o=Math.min(e,i,1);r.style.width=n[0]+"px",r.style.height=n[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+o+")";var a=Math.round(5/o);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=a+"px "+a+"px "+a+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}},Qi.prototype.getContentElement=function(){return this._printDialog.getContentElement()},Qi.prototype.getUserElement=function(){return this._printDialog.getContentElement().querySelector(".ol-user-param")},Qi.prototype.getPage=function(){return this._pages[0]},Qi.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),ri.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))},Qi.prototype.setScale=function(n){eF(this.getMap(),n),this._input.scale.value=" "+Math.round(n/100)*100},Qi.prototype.getScale=function(){return n_(this.getMap())},Qi.prototype.print=function(n){n=n||{},n.size&&this.setSize(n.size),n.scale&&this.setScale(n.scale),n.orientation&&this.setOrientation(n.orientation),n.margin&&this.setMargin(n.margin),this._printDialog.show()},Qi.prototype.getrintControl=function(){return this._printCtrl};var rF=Qi,yS=u("21a6"),nF=u("8baf"),iF={name:"ol-control-printdialog",setup:function(r,t){var e=Jo(rF,r,t),i=e.control;return i.value.on(["print","error"],function(o){if(o.image)if(o.pdf){var a=new nF.a({orientation:o.print.orientation,unit:o.print.unit,format:o.print.size});a.addImage(o.image,"JPEG",o.print.position[0],o.print.position[0],o.print.imageWidth,o.print.imageHeight),a.save(o.print.legend?"legend.pdf":"map.pdf")}else o.canvas.toBlob(function(s){var l=(o.print.legend?"legend.":"map.")+o.imageType.replace("image/","");Object(yS.saveAs)(s,l)},o.imageType,o.quality);else console.warn("No canvas to export")}),{control:i}},props:{lang:{type:String}}},i_=Ce()(iF,[["render",W4]]);function oF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var nh=function(n){n||(n={});var r=_e.create("DIV",{className:(n.className||"ol-videorec")+" ol-unselectable ol-control"});_e.create("BUTTON",{type:"button",className:"ol-start",title:"start",click:function(){this.start()}.bind(this),parent:r}),_e.create("BUTTON",{type:"button",className:"ol-stop",title:"stop",click:function(){this.stop()}.bind(this),parent:r}),_e.create("BUTTON",{type:"button",className:"ol-pause",title:"pause",click:function(){this.pause()}.bind(this),parent:r}),_e.create("BUTTON",{type:"button",className:"ol-resume",title:"resume",click:function(){this.resume()}.bind(this),parent:r}),ri.default.call(this,{element:r,target:n.target}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),n.videoTarget==="DIALOG"?(this._dialog=new pS({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=n.videoTarget,this._printCtrl=new vS({target:_e.create("DIV")})};xi(nh,ri.default),nh.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),ri.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))},nh.prototype.start=function(){var n=this._printCtrl,r=!1;function t(e){r||n.fastPrint({canvas:e},t)}n.fastPrint({},function(e){var i;try{i=e.captureStream(this.get("framerate")||30)}catch(a){this.dispatchEvent({type:"error",error:a});return}this._mediaRecorder=new MediaRecorder(i,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var o=[];this._mediaRecorder.ondataavailable=function(a){o.push(a.data)},this._mediaRecorder.onstop=function(){r=!0;var a=new Blob(o,{type:"video/mp4"});if(o=[],this._videoTarget instanceof Element){var s;this._videoTarget.tagName==="VIDEO"?s=this._videoTarget:(s=this._videoTarget.querySelector("video"),s||(s=_e.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),s.src=URL.createObjectURL(a),this.dispatchEvent({type:"stop",videoURL:s.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(a)})}.bind(this),this._mediaRecorder.onpause=function(){r=!0,this.dispatchEvent({type:"pause"})}.bind(this),this._mediaRecorder.onresume=function(){r=!1,t(e),this.dispatchEvent({type:"resume"})}.bind(this),this._mediaRecorder.onerror=function(a){this.dispatchEvent({type:"error",error:a})}.bind(this),r=!1,t(e),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:e}),this.element.setAttribute("data-state","rec")}.bind(this))},nh.prototype.stop=function(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))},nh.prototype.pause=function(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))},nh.prototype.resume=function(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))};var aF=nh,sF={name:"ol-control-videorecorder",emits:["start","stop"],setup:function(r,t){var e=Jo(aF,r,t),i=e.control,o=Object(M.toRefs)(r),a=o.downloadName;return i.value.on("start",function(s){t.emit("start",s)}),i.value.on("stop",function(s){t.emit("stop",s),Object(yS.saveAs)(s.videoURL,a.value)}),{control:i}},props:{className:{type:String},framerate:{type:Number,default:30},videoBitsPerSecond:{type:Number,default:5e6},videoTarget:{type:String},downloadName:{type:String,default:"mapVideo.mp4"}}},o_=Ce()(sF,[["render",oF]]);function lF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var Jc={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},uF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cF={image:[Qn.POLYGON,Qn.CIRCLE,Qn.LINE_STRING,Qn.IMAGE,Qn.TEXT],hybrid:[Qn.POLYGON,Qn.LINE_STRING],vector:[]},fF={hybrid:[Qn.IMAGE,Qn.TEXT,Qn.DEFAULT],vector:[Qn.POLYGON,Qn.CIRCLE,Qn.LINE_STRING,Qn.IMAGE,Qn.TEXT,Qn.DEFAULT]},hF=function(n){uF(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.dirty_=!1,e.renderedLayerRevision_,e.renderedPixelToCoordinateTransform_=null,e.renderedRotation_,e.tmpTransform_=q(),e}return r.prototype.prepareTile=function(t,e,i){var o,a=t.getState();return(a===Cr.LOADED||a===Cr.ERROR)&&(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},r.prototype.getTile=function(t,e,i,o){var a=o.pixelRatio,s=o.viewState,l=s.resolution,h=s.projection,d=this.getLayer(),y=d.getSource().getTile(t,e,i,a,h),w=o.viewHints,C=!(w[oi.ANIMATING]||w[oi.INTERACTING]);(C||!y.wantedResolution)&&(y.wantedResolution=l);var I=this.prepareTile(y,a,h);return I&&(C||Date.now()-o.time<8)&&d.getRenderMode()!==Jc.VECTOR&&this.renderTileImage_(y,o),n.prototype.getTile.call(this,t,e,i,o)},r.prototype.isDrawableTile=function(t){var e=this.getLayer();return n.prototype.isDrawableTile.call(this,t)&&(e.getRenderMode()===Jc.VECTOR?Object(ct.c)(e)in t.executorGroups:t.hasContext(e))},r.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},r.prototype.prepareFrame=function(t){var e=this.getLayer().getRevision();return this.renderedLayerRevision_!=e&&(this.renderedTiles.length=0),this.renderedLayerRevision_=e,n.prototype.prepareFrame.call(this,t)},r.prototype.updateExecutorGroup_=function(t,e,i){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,l=t.wantedResolution,h=t.getReplayState(o);if(!(!h.dirty&&h.renderedResolution===l&&h.renderedRevision==a&&h.renderedRenderOrder==s)){var d=o.getSource(),y=o.getDeclutter(),w=d.getTileGrid(),C=d.getTileGridForProjection(i),I=C.getTileCoordExtent(t.wrappedTileCoord),G=d.getSourceTiles(e,i,t),Z=Object(ct.c)(o);delete t.hitDetectionImageData[Z],t.executorGroups[Z]=[],y&&(t.declutterExecutorGroups[Z]=[]);for(var lt=function(zt,Gt){var $t=G[zt];if($t.getState()!=Cr.LOADED)return"continue";var Xt=$t.tileCoord,ce=w.getTileCoordExtent(Xt),Ge=Rr(I,ce),Me=Ct(Ge,o.getRenderBuffer()*l,pt.tmpExtent),Ee=cr(ce,Ge)?null:Me;h.dirty=!1;var er=new gy(0,Me,l,e),Lr=y?new gy(0,Ge,l,e):void 0,Br=P5(l,e),Yr=function(Yi){var To,Wo=Yi.getStyleFunction()||o.getStyleFunction();if(Wo&&(To=Wo(Yi,l)),To){var Do=this.renderFeature(Yi,Br,To,er,Lr);this.dirty_=this.dirty_||Do,h.dirty=h.dirty||Do}},$r=$t.getFeatures();s&&s!==h.renderedRenderOrder&&$r.sort(s);for(var On=0,Tn=$r.length;On<Tn;++On){var Fn=$r[On];(!Ee||hi(Ee,Fn.getGeometry().getExtent()))&&Yr.call(pt,Fn)}var jn=er.finish(),lr=o.getRenderMode()!==Jc.VECTOR&&y&&G.length===1?null:Ge,jo=new yy(lr,l,e,d.getOverlaps(),jn,o.getRenderBuffer());if(t.executorGroups[Z].push(jo),Lr){var Vn=new yy(null,l,e,d.getOverlaps(),Lr.finish(),o.getRenderBuffer());t.declutterExecutorGroups[Z].push(Vn)}},pt=this,Et=0,ht=G.length;Et<ht;++Et)lt(Et);h.renderedRevision=a,h.renderedRenderOrder=s,h.renderedResolution=l}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){var s=e.viewState.resolution,l=e.viewState.rotation;i=i==null?0:i;var h=this.getLayer(),d=h.getSource(),y=d.getTileGridForProjection(e.viewState.projection),w=Rt([t]);Ct(w,s*i,w);for(var C={},I=function(ht,zt,Gt){var $t=ht.getId();$t===void 0&&($t=Object(ct.c)(ht));var Xt=C[$t];if(Xt){if(Xt!==!0&&Gt<Xt.distanceSq){if(Gt===0)return C[$t]=!0,a.splice(a.lastIndexOf(Xt),1),o(ht,h,zt);Xt.geometry=zt,Xt.distanceSq=Gt}}else{if(Gt===0)return C[$t]=!0,o(ht,h,zt);a.push(C[$t]={feature:ht,layer:h,geometry:zt,distanceSq:Gt,callback:o})}},G=this.renderedTiles,Z,lt=function(ht,zt){var Gt=G[ht],$t=y.getTileCoordExtent(Gt.wrappedTileCoord);if(!hi($t,w))return"continue";var Xt=Object(ct.c)(h),ce=[Gt.executorGroups[Xt]],Ge=Gt.declutterExecutorGroups[Xt];Ge&&ce.push(Ge),ce.some(function(Me){for(var Ee=Me===Ge?e.declutterTree.all().map(function(Yr){return Yr.value}):null,er=0,Lr=Me.length;er<Lr;++er){var Br=Me[er];if(Z=Br.forEachFeatureAtCoordinate(t,s,l,i,I,Ee),Z)return!0}})},pt=0,Et=G.length;!Z&&pt<Et;++pt)lt(pt);return Z},r.prototype.getFeatures=function(t){return new Promise(function(e,i){for(var o=this.getLayer(),a=Object(ct.c)(o),s=o.getSource(),l=this.renderedProjection,h=l.getExtent(),d=this.renderedResolution,y=s.getTileGridForProjection(l),w=Ue(this.renderedPixelToCoordinateTransform_,t.slice()),C=y.getTileCoordForCoordAndResolution(w,d),I,G=0,Z=this.renderedTiles.length;G<Z;++G)if(C.toString()===this.renderedTiles[G].tileCoord.toString()){if(I=this.renderedTiles[G],I.getState()===Cr.LOADED){var lt=y.getTileCoordExtent(I.tileCoord);s.getWrapX()&&l.canWrapX()&&!he(h,lt)&&K(w,l);break}I=void 0}if(!I||I.loadingSourceTiles>0){e([]);return}var pt=y.getTileCoordExtent(I.wrappedTileCoord),Et=$n(pt),ht=[(w[0]-Et[0])/d,(Et[1]-w[1])/d],zt=I.getSourceTiles().reduce(function(Ge,Me){return Ge.concat(Me.getFeatures())},[]),Gt=I.hitDetectionImageData[a];if(!Gt&&!this.animatingOrInteracting_){var $t=Zi(y.getTileSize(y.getZForResolution(d))),Xt=this.renderedRotation_,ce=[this.getRenderTransform(y.getTileCoordCenter(I.wrappedTileCoord),d,0,Ds,$t[0]*Ds,$t[1]*Ds,0)];Gt=L5($t,ce,zt,o.getStyleFunction(),y.getTileCoordExtent(I.wrappedTileCoord),I.getReplayState(o).renderedResolution,Xt),I.hitDetectionImageData[a]=Gt}e(A5(ht,zt,Gt))}.bind(this))},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.renderDeclutter=function(t){var e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,a=!(o[oi.ANIMATING]||o[oi.INTERACTING]),s=this.renderedTiles,l=0,h=s.length;l<h;++l){var d=s[l],y=d.declutterExecutorGroups[Object(ct.c)(this.getLayer())];if(y)for(var w=y.length-1;w>=0;--w)y[w].execute(this.context,1,this.getTileRenderTransform(d,t),t.viewState.rotation,a,void 0,t.declutterTree)}e.globalAlpha=i},r.prototype.getTileRenderTransform=function(t,e){var i=e.pixelRatio,o=e.viewState,a=o.center,s=o.resolution,l=o.rotation,h=e.size,d=Math.round(h[0]*i),y=Math.round(h[1]*i),w=this.getLayer().getSource(),C=w.getTileGridForProjection(e.viewState.projection),I=t.tileCoord,G=C.getTileCoordExtent(t.wrappedTileCoord),Z=C.getTileCoordExtent(I,this.tmpExtent)[0]-G[0],lt=Vt(Ar(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(a,s,l,i,d,y,Z));return lt},r.prototype.renderFrame=function(t,e){var i=t.viewHints,o=!(i[oi.ANIMATING]||i[oi.INTERACTING]);n.prototype.renderFrame.call(this,t,e),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode(),l=this.context,h=l.globalAlpha;l.globalAlpha=a.getOpacity();for(var d=fF[s],y=t.viewState,w=y.rotation,C=this.renderedTiles,I=[],G=[],Z=C.length-1;Z>=0;--Z)for(var lt=C[Z],pt=this.getTileRenderTransform(lt,t),Et=lt.executorGroups[Object(ct.c)(a)],ht=!1,zt=0,Gt=Et.length;zt<Gt;++zt){var $t=Et[zt];if(!!$t.hasExecutors(d)){var Xt=lt.tileCoord[0],ce=void 0;if(!ht&&(ce=$t.getClipCoords(pt),ce)){l.save();for(var Ge=0,Me=I.length;Ge<Me;++Ge){var Ee=I[Ge];Xt<G[Ge]&&(l.beginPath(),l.moveTo(ce[0],ce[1]),l.lineTo(ce[2],ce[3]),l.lineTo(ce[4],ce[5]),l.lineTo(ce[6],ce[7]),l.moveTo(Ee[6],Ee[7]),l.lineTo(Ee[4],Ee[5]),l.lineTo(Ee[2],Ee[3]),l.lineTo(Ee[0],Ee[1]),l.clip())}}$t.execute(l,1,pt,w,o,d),!ht&&ce&&(l.restore(),I.push(ce),G.push(Xt),ht=!0)}}return l.globalAlpha=h,this.container},r.prototype.renderFeature=function(t,e,i,o,a){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var l=0,h=i.length;l<h;++l)s=_y(o,t,i[l],e,this.boundHandleStyleImageChange_,void 0,a)||s;else s=_y(o,t,i,e,this.boundHandleStyleImageChange_,void 0,a);return s},r.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===Jc.VECTOR)return!1;var i=t.getReplayState(e),o=e.getRevision(),a=t.wantedResolution;return i.renderedTileResolution!==a||i.renderedTileRevision!==o},r.prototype.renderTileImage_=function(t,e){var i=this.getLayer(),o=t.getReplayState(i),a=i.getRevision(),s=t.executorGroups[Object(ct.c)(i)];o.renderedTileRevision=a;var l=t.wrappedTileCoord,h=l[0],d=i.getSource(),y=e.pixelRatio,w=e.viewState,C=w.projection,I=d.getTileGridForProjection(C),G=I.getResolution(t.tileCoord[0]),Z=e.pixelRatio/t.wantedResolution*G,lt=I.getResolution(h),pt=t.getContext(i);y=Math.round(Math.max(y,Z/y));var Et=d.getTilePixelSize(h,y,C);pt.canvas.width=Et[0],pt.canvas.height=Et[1];var ht=y/Z;if(ht!==1){var zt=bt(this.tmpTransform_);Ar(zt,ht,ht),pt.setTransform.apply(pt,zt)}var Gt=I.getTileCoordExtent(l,this.tmpExtent),$t=Z/lt,Xt=bt(this.tmpTransform_);Ar(Xt,$t,-$t),ee(Xt,-Gt[0],-Gt[3]);for(var ce=0,Ge=s.length;ce<Ge;++ce){var Me=s[ce];Me.execute(pt,ht,Xt,0,!0,cF[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},r}(jx),dF=hF,pF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vF=function(n){pF(r,n);function r(t){var e=this,i=t||{},o=Object(Pr.a)({},i);delete o.preload,delete o.useInterimTilesOnError,e=n.call(this,o)||this,e.on,e.once,e.un,i.renderMode===Jc.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var a=i.renderMode||Jc.HYBRID;return qt(a==Jc.HYBRID||a==Jc.VECTOR,28),e.renderMode_=a,e.setPreload(i.preload?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e.getBackground,e.setBackground,e}return r.prototype.createRenderer=function(){return new dF(this)},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderMode=function(){return this.renderMode_},r.prototype.getPreload=function(){return this.get(Gc.PRELOAD)},r.prototype.getUseInterimTilesOnError=function(){return this.get(Gc.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setPreload=function(t){this.set(Gc.PRELOAD,t)},r.prototype.setUseInterimTilesOnError=function(t){this.set(Gc.USE_INTERIM_TILES_ON_ERROR,t)},r}(dy),gF=vF,yF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kl={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},mF=["#00f","#0ff","#0f0","#ff0","#f00"],_F=function(n){yF(r,n);function r(t){var e=this,i=t||{},o=Object(Pr.a)({},i);delete o.gradient,delete o.radius,delete o.blur,delete o.weight,e=n.call(this,o)||this,e.gradient_=null,e.addChangeListener(Kl.GRADIENT,e.handleGradientChanged_),e.setGradient(i.gradient?i.gradient:mF),e.setBlur(i.blur!==void 0?i.blur:15),e.setRadius(i.radius!==void 0?i.radius:8);var a=i.weight?i.weight:"weight";return typeof a=="string"?e.weightFunction_=function(s){return s.get(a)}:e.weightFunction_=a,e.setRenderOrder(null),e}return r.prototype.getBlur=function(){return this.get(Kl.BLUR)},r.prototype.getGradient=function(){return this.get(Kl.GRADIENT)},r.prototype.getRadius=function(){return this.get(Kl.RADIUS)},r.prototype.handleGradientChanged_=function(){this.gradient_=EF(this.getGradient())},r.prototype.setBlur=function(t){this.set(Kl.BLUR,t)},r.prototype.setGradient=function(t){this.set(Kl.GRADIENT,t)},r.prototype.setRadius=function(t){this.set(Kl.RADIUS,t)},r.prototype.createRenderer=function(){return new B5(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return e!==void 0?Pi(e,0,1):1}.bind(this)}],vertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_weight = a_weight;
        }`,fragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          gl_FragColor = vec4(alpha, alpha, alpha, alpha);
        }`,hitVertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;
        attribute vec4 a_hitColor;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_hitColor = a_hitColor;
          v_weight = a_weight;
        }`,hitFragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          if (alpha < 0.05) {
            discard;
          }

          gl_FragColor = v_hitColor;
        }`,uniforms:{u_size:function(){return(this.get(Kl.RADIUS)+this.get(Kl.BLUR))*2}.bind(this),u_blurSlope:function(){return this.get(Kl.RADIUS)/Math.max(1,this.get(Kl.BLUR))}.bind(this)},postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},r.prototype.renderDeclutter=function(){},r}(dy);function EF(n){for(var r=1,t=256,e=Object(Ne.a)(r,t),i=e.createLinearGradient(0,0,r,t),o=1/(n.length-1),a=0,s=n.length;a<s;++a)i.addColorStop(a*o,n[a]);return e.fillStyle=i,e.fillRect(0,0,r,t),e.canvas}var xF=_F,Gi=function(n){n=n||{};var r=this;this.dcount=0,this.show_progress=n.show_progress,this.oninfo=typeof n.oninfo=="function"?n.oninfo:null,this.onextent=typeof n.onextent=="function"?n.onextent:null,this.hasextent=n.extent||n.onextent,this.hastrash=n.trash,this.reordering=n.reordering!==!1,this._layers=[],this._layerGroup=n.layerGroup&&n.layerGroup.getLayers?n.layerGroup:null,this.onchangeCheck=typeof n.onchangeCheck=="function"?n.onchangeCheck:null,typeof n.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=n.displayInLayerSwitcher);var t;n.target?t=_e.create("DIV",{className:n.switcherClass||"ol-layerswitcher"}):(t=_e.create("DIV",{className:(n.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),n.collapsed!==!1?t.classList.add("ol-collapsed"):t.classList.add("ol-forceopen"),this.button=_e.create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",function(e){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),r.overflow()}),n.mouseover&&(t.addEventListener("mouseleave",function(){t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),t.addEventListener("mouseover",function(){t.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),n.minibar&&(n.noScroll=!0),n.noScroll||(this.topv=_e.create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){r.overflow("+50%")}}),this.botv=_e.create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){r.overflow("-50%")}})),this._noScroll=n.noScroll),this.panel_=_e.create("UL",{className:"panel"}),this.panelContainer_=_e.create("DIV",{className:"panel-container",html:this.panel_,parent:t}),!n.target&&!n.noScroll&&_e.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(e){r.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())}),this.header_=_e.create("LI",{className:"ol-header",parent:this.panel_}),ri.default.call(this,{element:t,target:n.target}),this.set("drawDelay",n.drawDelay||0),this.set("selection",n.selection),n.minibar&&setTimeout(function(){var e=_e.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){e.refresh()})}.bind(this))};xi(Gi,ri.default),Gi.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},Gi.prototype.displayInLayerSwitcher=function(n){return n.get("displayInLayerSwitcher")!==!1},Gi.prototype.setMap=function(n){if(ri.default.prototype.setMap.call(this,n),this.drawPanel(),this._listener)for(var r in this._listener)Object(js.b)(this._listener[r]);this._listener=null,n&&(this._listener={moveend:n.on("moveend",this.viewChange.bind(this)),size:n.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=n.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},Gi.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},Gi.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},Gi.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},Gi.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},Gi.prototype.setHeader=function(n){_e.setHTML(this.header_,n)},Gi.prototype.overflow=function(n){if(this.button&&!this._noScroll){if(_e.hidden(this.panel_)){_e.setStyle(this.element,{height:"auto"});return}var r=_e.outerHeight(this.element),t=_e.outerHeight(this.panel_),e=this.button.offsetTop+_e.outerHeight(this.button),i=this.panel_.offsetTop-e;if(t>r-e){_e.setStyle(this.element,{height:"100%"});var o=this.panel_.querySelectorAll("li.visible .li-content")[0],a=o?2*_e.getStyle(o,"height"):0;switch(n){case 1:i+=a;break;case-1:i-=a;break;case"+50%":i+=Math.round(r/2);break;case"-50%":i-=Math.round(r/2);break}return i+t<=r-3*e/2?(i=r-3*e/2-t,_e.hide(this.botv)):_e.show(this.botv),i>=0?(i=0,_e.hide(this.topv)):_e.show(this.topv),_e.setStyle(this.panel_,{top:i+"px"}),!0}else return _e.setStyle(this.element,{height:"auto"}),_e.setStyle(this.panel_,{top:0}),_e.hide(this.botv),_e.hide(this.topv),!1}else return!1},Gi.prototype._setLayerForLI=function(n,r){var t=[];r.getLayers&&t.push(r.getLayers().on("change:length",this.drawPanel.bind(this))),n&&(t.push(r.on("change:opacity",function(){this.setLayerOpacity(r,n)}.bind(this))),t.push(r.on("change:visible",function(){this.setLayerVisibility(r,n)}.bind(this)))),t.push(r.on("propertychange",function(e){(e.key==="displayInLayerSwitcher"||e.key==="openInLayerSwitcher")&&this.drawPanel(e)}.bind(this))),this._layers.push({li:n,layer:r,listeners:t})},Gi.prototype.setLayerOpacity=function(n,r){var t=r.querySelector(".layerswitcher-opacity-cursor");t&&(t.style.left=n.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:n})},Gi.prototype.setLayerVisibility=function(n,r){var t=r.querySelector(".ol-visibility");t&&(t.checked=n.getVisible()),n.getVisible()?r.classList.add("ol-visible"):r.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:n})},Gi.prototype._clearLayerForLI=function(){this._layers.forEach(function(n){n.listeners.forEach(function(r){Object(js.b)(r)})}),this._layers=[]},Gi.prototype._getLayerForLI=function(n){for(var r=0,t;t=this._layers[r];r++)if(t.li===n)return t.layer;return null},Gi.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(n){var r=this._getLayerForLI(n);r&&(this.testLayerVisibility(r)?n.classList.remove("ol-layer-hidden"):n.classList.add("ol-layer-hidden"))}.bind(this))},Gi.prototype.getPanel=function(){return this.panelContainer_},Gi.prototype.drawPanel=function(){if(!!this.getMap()){var n=this;this.dcount++,setTimeout(function(){n.drawPanel_()},this.get("drawDelay")||0)}},Gi.prototype.drawPanel_=function(){if(!(--this.dcount||this.dragging_)){var n=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(r){r.classList.contains("ol-header")||r.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=n}},Gi.prototype.switchLayerVisibility=function(n,r){n.get("baseLayer")?(n.getVisible()||n.setVisible(!0),r.forEach(function(t){n!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)})):n.setVisible(!n.getVisible())},Gi.prototype.testLayerVisibility=function(n){if(!this.getMap())return!0;var r=this.getMap().getView().getResolution(),t=this.getMap().getView().getZoom();if(n.getMaxResolution()<=r||n.getMinResolution()>=r)return!1;if(n.getMinZoom&&(n.getMinZoom()>=t||n.getMaxZoom()<t))return!1;var e=n.getExtent();if(e){var i=this.getMap().getView().calculateExtent(this.getMap().getSize());return hi(i,e)}return!0},Gi.prototype.dragOrdering_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.currentTarget.parentNode.parentNode,e=!0,i=this.panel_,o,a=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY,s,l,h,d;t.parentNode.classList.add("drag");function y(){if(s){var C=h,I=r.getSelection()===C;if(C&&s){var G;d?G=d.getLayers():G=r._layerGroup?r._layerGroup.getLayers():r.getMap().getLayers();for(var Z=G.getArray(),lt=0;lt<Z.length;lt++)if(Z[lt]==C){G.removeAt(lt);break}for(var pt=0;pt<Z.length;pt++)if(Z[pt]===s){lt>pt?G.insertAt(pt,C):G.insertAt(pt+1,C);break}}I&&r.selectLayer(C),r.dispatchEvent({type:"reorder-end",layer:C,group:d})}t.parentNode.querySelectorAll("li").forEach(function(Et){Et.classList.remove("dropover"),Et.classList.remove("dropover-after"),Et.classList.remove("dropover-before")}),t.classList.remove("drag"),t.parentNode.classList.remove("drag"),r.element.classList.remove("drag"),l&&l.remove(),_e.removeListener(document,"mousemove touchmove",w),_e.removeListener(document,"mouseup touchend touchcancel",y)}function w(C){if(o=C.pageY||C.touches&&C.touches.length&&C.touches[0].pageY||C.changedTouches&&C.changedTouches.length&&C.changedTouches[0].pageY,e&&Math.abs(a-o)>2&&(e=!1,t.classList.add("drag"),h=r._getLayerForLI(t),s=!1,d=r._getLayerForLI(t.parentNode.parentNode),l=_e.create("LI",{className:"ol-dragover",html:t.innerHTML,style:{position:"absolute","z-index":1e4,left:t.offsetLeft,opacity:.5,width:_e.outerWidth(t),height:_e.getStyle(t,"height")},parent:i}),r.element.classList.add("drag"),r.dispatchEvent({type:"reorder-start",layer:h,group:d})),!e){C.preventDefault(),C.stopPropagation(),_e.setStyle(l,{top:o-_e.offsetRect(i).top+i.scrollTop+5});var I;for(C.touches?I=document.elementFromPoint(C.touches[0].clientX,C.touches[0].clientY):I=C.target,I.classList.contains("ol-switcherbottomdiv")?r.overflow(-1):I.classList.contains("ol-switchertopdiv")&&r.overflow(1);I&&I.tagName!=="LI";)I=I.parentNode;(!I||!I.classList.contains("dropover"))&&t.parentNode.querySelectorAll("li").forEach(function(G){G.classList.remove("dropover"),G.classList.remove("dropover-after"),G.classList.remove("dropover-before")}),I&&I.parentNode.classList.contains("drag")&&I!==t?(s=r._getLayerForLI(I),s&&!s.get("allwaysOnTop")==!h.get("allwaysOnTop")?(I.classList.add("dropover"),I.classList.add(t.offsetTop<I.offsetTop?"dropover-after":"dropover-before")):s=!1,_e.show(l)):(s=!1,I===t?_e.hide(l):_e.show(l)),s?l.classList.remove("forbidden"):l.classList.add("forbidden")}}_e.addListener(document,"mousemove touchmove",w),_e.addListener(document,"mouseup touchend touchcancel",y)},Gi.prototype.dragOpacity_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.target,e=this._getLayerForLI(t.parentNode.parentNode.parentNode);if(!e)return;var i=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX,o=_e.getStyle(t,"left")-i;r.dragging_=!0;function a(){_e.removeListener(document,"mouseup touchend touchcancel",a),_e.removeListener(document,"mousemove touchmove",s),r.dragging_=!1}function s(l){var h=l.pageX||l.touches&&l.touches.length&&l.touches[0].pageX||l.changedTouches&&l.changedTouches.length&&l.changedTouches[0].pageX,d=(o+h)/_e.getStyle(t.parentNode,"width"),y=Math.max(0,Math.min(1,d));_e.setStyle(t,{left:y*100+"%"}),t.parentNode.nextElementSibling.innerHTML=Math.round(y*100),e.setOpacity(y)}_e.addListener(document,"mouseup touchend touchcancel",a),_e.addListener(document,"mousemove touchmove",s)},Gi.prototype.drawList=function(n,r){var t=this,e=r.getArray(),i=function(d){d.stopPropagation(),d.preventDefault();var y=t._getLayerForLI(this.parentNode.parentNode);t.switchLayerVisibility(y,r),t.get("selection")&&y.getVisible()&&t.selectLayer(y),t.onchangeCheck&&t.onchangeCheck(y)};function o(d){d.stopPropagation(),d.preventDefault();var y=t._getLayerForLI(this.parentNode.parentNode);t.oninfo(y),t.dispatchEvent({type:"info",layer:y})}function a(d){d.stopPropagation(),d.preventDefault();var y=t._getLayerForLI(this.parentNode.parentNode);t.onextent?t.onextent(y):t.getMap().getView().fit(y.getExtent(),t.getMap().getSize()),t.dispatchEvent({type:"extent",layer:y})}function s(d){d.stopPropagation(),d.preventDefault();var y=this.parentNode.parentNode.parentNode.parentNode,w,C=t._getLayerForLI(y);C?(w=t._getLayerForLI(this.parentNode.parentNode),C.getLayers().remove(w),C.getLayers().getLength()==0&&!C.get("noSwitcherDelete")&&s.call(y.querySelectorAll(".layerTrash")[0],d)):(y=this.parentNode.parentNode,t.getMap().removeLayer(t._getLayerForLI(y)))}function l(d){if(!this.displayInLayerSwitcher(d)){this._setLayerForLI(null,d);return}var y=_e.create("LI",{className:(d.getVisible()?"visible ":" ")+(d.get("baseLayer")?"baselayer":""),parent:n});this._setLayerForLI(y,d),this._selectedLayer===d&&y.classList.add("ol-layer-select");var w=_e.create("DIV",{className:"ol-layerswitcher-buttons",parent:y}),C=_e.create("DIV",{className:"li-content",parent:y});_e.create("INPUT",{type:d.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:d.getVisible(),click:i,parent:C});var I=_e.create("LABEL",{title:d.get("title")||d.get("name"),click:i,unselectable:"on",style:{userSelect:"none"},parent:C});if(I.addEventListener("selectstart",function(){return!1}),_e.create("SPAN",{html:d.get("title")||d.get("name"),click:function(ht){this.get("selection")&&(ht.stopPropagation(),this.selectLayer(d))}.bind(this),parent:I}),this.reordering&&(h<e.length-1&&(d.get("allwaysOnTop")||!e[h+1].get("allwaysOnTop"))||h>0&&(!d.get("allwaysOnTop")||e[h-1].get("allwaysOnTop")))&&_e.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(ht){t.dragOrdering_(ht)}},parent:w}),d.getLayers){var G=0;d.getLayers().forEach(function(ht){t.displayInLayerSwitcher(ht)&&G++}),G&&_e.create("DIV",{className:d.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var ht=t._getLayerForLI(this.parentNode.parentNode);ht.set("openInLayerSwitcher",!ht.get("openInLayerSwitcher"))},parent:w})}if(this.oninfo&&_e.create("DIV",{className:"layerInfo",title:this.tip.info,click:o,parent:w}),this.hastrash&&!d.get("noSwitcherDelete")&&_e.create("DIV",{className:"layerTrash",title:this.tip.trash,click:s,parent:w}),this.hasextent&&e[h].getExtent()){var Z=e[h].getExtent();Z.length==4&&Z[0]<Z[2]&&Z[1]<Z[3]&&_e.create("DIV",{className:"layerExtent",title:this.tip.extent,click:a,parent:w})}if(this.show_progress&&d instanceof Zm){var lt=_e.create("DIV",{className:"layerswitcher-progress",parent:C});this.setprogress_(d),d.layerswitcher_progress=_e.create("DIV",{parent:lt})}var pt=_e.create("DIV",{className:"layerswitcher-opacity",click:function(ht){if(ht.target===this){ht.stopPropagation(),ht.preventDefault();var zt=Math.max(0,Math.min(1,ht.offsetX/_e.getStyle(this,"width")));t._getLayerForLI(this.parentNode.parentNode).setOpacity(zt)}},parent:C});if(_e.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:d.getOpacity()*100+"%"},on:{"mousedown touchstart":function(ht){t.dragOpacity_(ht)}},parent:pt}),_e.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(d.getOpacity()*100),parent:C}),d.getLayers&&(y.classList.add("ol-layer-group"),d.get("openInLayerSwitcher")===!0)){var Et=_e.create("UL",{parent:y});this.drawList(Et,d.getLayers())}y.classList.add(this.getLayerClass(d)),this.dispatchEvent({type:"drawlist",layer:d,li:y})}for(var h=e.length-1;h>=0;h--)l.call(this,e[h]);this.viewChange(),n===this.panel_&&this.overflow()},Gi.prototype.getLayerClass=function(n){return n?n.getLayers?"ol-layer-group":n instanceof xu?"ol-layer-vector":n instanceof gF?"ol-layer-vectortile":n instanceof Zm?"ol-layer-tile":n instanceof g5?"ol-layer-image":n instanceof xF?"ol-layer-heatmap":n.getFeatures?"ol-layer-vectorimage":"unknown":"none"},Gi.prototype.selectLayer=function(n,r){if(!n){if(!this.getMap())return;n=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=n,this.drawPanel(),r||this.dispatchEvent({type:"select",layer:n})},Gi.prototype.getSelection=function(){return this._selectedLayer},Gi.prototype.setprogress_=function(n){if(!n.layerswitcher_progress){var r=0,t=0,e=function(){t===r?(t=r=0,_e.setStyle(n.layerswitcher_progress,{width:0})):_e.setStyle(n.layerswitcher_progress,{width:(r/t*100).toFixed(1)+"%"})};n.getSource().on("tileloadstart",function(){t++,e()}),n.getSource().on("tileloadend",function(){r++,e()}),n.getSource().on("tileloaderror",function(){r++,e()})}};var a_=Gi,SF={name:"ol-layerswitcher-control",setup:function(r,t){var e=Jo(a_,r,t),i=e.control;return{control:i}},props:{selection:{type:Boolean},displayInLayerSwitcher:{type:Function},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{type:Function},extent:{type:Boolean},onextent:{type:Function},drawDelay:{type:Number},collapsed:{type:Boolean,default:!0},layerGroup:{type:Object},noScroll:{type:Boolean,default:!1}}},Fy=Ce()(SF,[["render",lF]]);function wF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var OF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TF=function(n){OF(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.params||{},s="TRANSPARENT"in a?a.TRANSPARENT:!0;return e=n.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:!s,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,zDirection:i.zDirection})||this,e.gutter_=i.gutter!==void 0?i.gutter:0,e.params_=a,e.v13_=!0,e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.tmpExtent_=tt(),e.updateV13_(),e.setKey(e.getKeyForParams_()),e}return r.prototype.getFeatureInfoUrl=function(t,e,i,o){var a=en(i),s=this.getProjection(),l=this.getTileGrid();l||(l=this.getTileGridForProjection(a));var h=l.getZForResolution(e,this.zDirection),d=l.getTileCoordForCoordAndZ(t,h);if(!(l.getResolutions().length<=d[0])){var y=l.getResolution(d[0]),w=l.getTileCoordExtent(d,this.tmpExtent_),C=Zi(l.getTileSize(d[0]),this.tmpSize),I=this.gutter_;I!==0&&(C=oo(C,I,this.tmpSize),w=Ct(w,y*I,w)),s&&s!==a&&(y=av(s,a,t,y),w=Sn(w,a,s),t=tl(t,a,s));var G={SERVICE:"WMS",VERSION:Hc,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(Pr.a)(G,this.params_,o);var Z=Math.floor((t[0]-w[0])/y),lt=Math.floor((w[3]-t[1])/y);return G[this.v13_?"I":"X"]=Z,G[this.v13_?"J":"Y"]=lt,this.getRequestUrl_(d,C,w,1,s||a,G)}},r.prototype.getLegendUrl=function(t,e){if(this.urls[0]!==void 0){var i={SERVICE:"WMS",VERSION:Hc,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;i.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,l=28e-5;i.SCALE=t*s/l}return Object(Pr.a)(i,e),Td(this.urls[0],i)}},r.prototype.getGutter=function(){return this.gutter_},r.prototype.getParams=function(){return this.params_},r.prototype.getRequestUrl_=function(t,e,i,o,a,s){var l=this.urls;if(!!l){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),o!=1)switch(this.serverType_){case Xc.GEOSERVER:var h=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case Xc.MAPSERVER:s.MAP_RESOLUTION=90*o;break;case Xc.CARMENTA_SERVER:case Xc.QGIS:s.DPI=90*o;break;default:qt(!1,52);break}var d=a.getAxisOrientation(),y=i;if(this.v13_&&d.substr(0,2)=="ne"){var w=void 0;w=i[0],y[0]=i[1],y[1]=w,w=i[2],y[2]=i[3],y[3]=w}s.BBOX=y.join(",");var C;if(l.length==1)C=l[0];else{var I=Es(i5(t),l.length);C=l[I]}return Td(C,s)}},r.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},r.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},r.prototype.updateParams=function(t){Object(Pr.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},r.prototype.updateV13_=function(){var t=this.params_.VERSION||Hc;this.v13_=T(t,"1.3")>=0},r.prototype.tileUrlFunction=function(t,e,i){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(i)),!(o.getResolutions().length<=t[0])){e!=1&&(!this.hidpi_||this.serverType_===void 0)&&(e=1);var a=o.getResolution(t[0]),s=o.getTileCoordExtent(t,this.tmpExtent_),l=Zi(o.getTileSize(t[0]),this.tmpSize),h=this.gutter_;h!==0&&(l=oo(l,h,this.tmpSize),s=Ct(s,a*h,s)),e!=1&&(l=ll(l,e,this.tmpSize));var d={SERVICE:"WMS",VERSION:Hc,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(Pr.a)(d,this.params_),this.getRequestUrl_(t,l,s,e,i,d)}},r}(by),bF=TF;xy.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},W5.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileGrid().getTileCoordForCoordAndResolution(n,r),e=this.getTileUrlFunction();return e.call(this,t,this.getProjection())},bF.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileUrlFunction();if(t){var e=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=e.getTileCoordForCoordAndResolution(n,r);return t.call(this,i,1,this.getProjection())}var o=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{});return o=o.replace(/getfeatureinfo/i,"GetMap"),o},_.prototype.getPreview=function(n,r,t){if(this.get("preview"))return[this.get("preview")];if(r||(r=150),r<this.getMinResolution()||r>this.getMaxResolution()){var e=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),e<.15&&(e=.15),r=i;i>e;)e*=2,i/=2,r=e}var o=this.getExtent();return n||(n=[21020,6355964]),o&&!Jt(o,n)&&(n=[(o[0]+o[2])/2,(o[1]+o[3])/2]),t&&(n=tl(n,t,this.getSource().getProjection())),this.getSource&&this.getSource()?[this.getSource().getPreview(n,r)]:[]},ci.prototype.getPreview=function(n,r){if(this.get("preview"))return[this.get("preview")];var t=[];if(this.getLayers)for(var e=this.getLayers().getArray(),i=0;i<e.length;i++)t=t.concat(e[i].getPreview(n,r));return t};var jy=function(n){n=n||{},n.switcherClass="ol-layerswitcher-image",n.mouseover!==!1&&(n.mouseover=!0),a_.call(this,n)};xi(jy,a_),jy.prototype.drawList=function(n,r){var t=this,e=function(i){i.preventDefault();var o=t._getLayerForLI(this);t.switchLayerVisibility(o,r),i.type=="touchstart"&&t.element.classList.add("ol-collapsed")};_e.setStyle(n,{height:"auto"}),r.forEach(function(i){if(t.displayInLayerSwitcher(i)){var o=i.getPreview?i.getPreview():["none"],a=_e.create("LI",{className:"ol-imgcontainer"+(i.getVisible()?" ol-visible":""),on:{"touchstart click":e},parent:n});t._setLayerForLI(a,i),o.forEach(function(s){_e.create("IMG",{src:s,parent:a})}),_e.create("p",{html:i.get("title")||i.get("name"),parent:a}),t.testLayerVisibility(i)&&a.classList.add("ol-layer-hidden")}})},jy.prototype.overflow=function(){};var CF=jy,LF={name:"ol-layerswitcherimage-control",extends:Fy,setup:function(r,t){var e=Jo(CF,r,t),i=e.control;return{control:i}}},s_=Ce()(LF,[["render",wF]]);function AF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var Ra=function(n){n||(n={});var r=document.createElement("div");if(n.target)r=_e.create("DIV",{className:n.className||"ol-mapzone"});else{r=_e.create("DIV",{className:(n.className||"ol-mapzone")+" ol-unselectable ol-control ol-collapsed"});var t=_e.create("BUTTON",{type:"button",on:{click:function(){r.classList.toggle("ol-collapsed"),e.forEach(function(i){i.updateSize()})}.bind(this)},parent:r});_e.create("I",{parent:t})}ri.default.call(this,{element:r,target:n.target}),this.set("centerOnClick",n.centerOnClick);var e=this._maps=[];this._projection=n.projection,this._layer=n.layer,n.zones.forEach(this.addZone.bind(this)),setTimeout(function(){e.forEach(function(i){i.updateSize()})})};m1(Ra,ri.default),Ra.prototype.setCollapsed=function(n){n?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(r){r.updateSize()})):this.element.classList.add("ol-collapsed")},Ra.prototype.getCollapsed=function(){return this.element.classList.contains("ol-collapsed")},Ra.prototype.setVisible=Ra.prototype.setCollapsed,Ra.prototype.getMaps=function(){return this._maps},Ra.prototype.getLength=function(){return this._maps.length},Ra.prototype.addZone=function(n){var r=new si({zoom:6,center:[0,0],projection:this._projection}),t;n.map?t=Sn(n.map.getView().calculateExtent(),n.map.getView().getProjection(),r.getProjection()):t=Sn(n.extent,"EPSG:4326",r.getProjection());var e=_e.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:function(){var a=-1;this._maps.forEach(function(s,l){s.get("zone")===n&&(a=l)}),this.dispatchEvent({type:"select",zone:n,index:a,coordinate:Xn(t),extent:t}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(t),this.setVisible(!1)}.bind(this)}),i;n.layer?i=n.layer:typeof this._layer=="function"?i=this._layer(n):i=new this._layer.constructor({source:this._layer.getSource()});var o=new le({target:e,view:r,controls:[],interactions:[],layers:[i]});o.set("zone",n),this._maps.push(o),r.fit(t),_e.create("P",{html:n.title,parent:e})},Ra.prototype.removeZone=function(n){var r=this.element.querySelectorAll(".ol-mapzonezone")[n];r&&(r.remove(),this._maps.splice(n,1))},Ra.zones={},Ra.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La r\xE9union",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}],Ra.zones.TOM=[{title:"Polyn\xE9sie Fran\xE7aise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Cal\xE9donie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barth\xE9lemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}],Ra.zones.DOMTOM=[{title:"M\xE9tropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(Ra.zones.DOM,Ra.zones.TOM);var RF=Ra,PF={name:"ol-zone-control",setup:function(r,t){var e=Jo(RF,r,t),i=e.control;return{control:i}},props:{className:{type:String},zones:{type:Array},layer:{type:[Object,Function]},projection:{type:String,default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0}}},l_=Ce()(PF,[["render",AF]]);function Dy(n){Dy.installed||(Dy.installed=!0,n.component(D1.name,D1),n.component(G1.name,G1),n.component(U1.name,U1),n.component(z1.name,z1),n.component(Y1.name,Y1),n.component(H1.name,H1),n.component(X1.name,X1),n.component(K1.name,K1),n.component(cS.name,cS),n.component(Z1.name,Z1),n.component($1.name,$1),n.component(J1.name,J1),n.component(Q1.name,Q1),n.component(t_.name,t_),n.component(i_.name,i_),n.component(o_.name,o_),n.component(Fy.name,Fy),n.component(s_.name,s_),n.component(l_.name,l_))}var MF=Dy;function IF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}function By(n,r,t){return tS()?By=Reflect.construct:By=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),h=new l;return a&&Ly(h,a.prototype),h},By.apply(null,arguments)}u("07ac");function Ld(n,r){var t=Object(M.inject)("feature"),e=or(r),i=e.properties,o=Object(M.computed)(function(){return By(n,sS(Object.values(i)))});return Object(M.watch)(i,function(){t.value.setGeometry(o.value),t.value.changed()}),Object(M.watch)(t,function(){t.value.setGeometry(o.value)}),Object(M.onMounted)(function(){t.value.setGeometry(o.value)}),Object(M.onUnmounted)(function(){t.value.setGeometry(null)}),{geometry:o}}var NF={name:"ol-geom-point",setup:function(r){var t=Ld(Gn,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},u_=Ce()(NF,[["render",IF]]);function FF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var jF={name:"ol-geom-line-string",setup:function(r){var t=Ld(Bi,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},c_=Ce()(jF,[["render",FF]]);function DF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var BF={name:"ol-geom-polygon",setup:function(r){var t=Ld(ai,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},f_=Ce()(BF,[["render",DF]]);function GF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var UF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kF=function(n){UF(r,n);function r(t,e){var i=n.call(this)||this;return e&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendPoint=function(t){this.flatCoordinates?Object(Sr.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){if(o<jt(this.getExtent(),t,e))return o;for(var a=this.flatCoordinates,s=this.stride,l=0,h=a.length;l<h;l+=s){var d=ru(t,e,a[l],a[l+1]);if(d<o){o=d;for(var y=0;y<s;++y)i[y]=a[l+y];i.length=s}}return o},r.prototype.getCoordinates=function(){return Ki(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Gn(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},r.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,o=[],a=0,s=t.length;a<s;a+=i){var l=new Gn(t.slice(a,a+i),e);o.push(l)}return o},r.prototype.getType=function(){return Zt.MULTI_POINT},r.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,o=0,a=e.length;o<a;o+=i){var s=e[o],l=e[o+1];if(ge(t,s,l))return!0}return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Xo),ml=kF,zF={name:"ol-geom-multi-point",setup:function(r){var t=Ld(ml,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},h_=Ce()(zF,[["render",GF]]);function VF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var WF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YF=function(n){WF(r,n);function r(t,e,i){var o=n.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,e);else if(e!==void 0&&i)o.setFlatCoordinates(e,t),o.ends_=i;else{for(var a=o.getLayout(),s=t,l=[],h=[],d=0,y=s.length;d<y;++d){var w=s[d];d===0&&(a=w.getLayout()),Object(Sr.c)(l,w.getFlatCoordinates()),h.push(l.length)}o.setFlatCoordinates(a,l),o.ends_=h}return o}return r.prototype.appendLineString=function(t){this.flatCoordinates?Object(Sr.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<jt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(L(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),re(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,o))},r.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=pr.XYM&&this.layout!=pr.XYZM||this.flatCoordinates.length===0)return null;var o=e!==void 0?e:!1,a=i!==void 0?i:!1;return $4(this.flatCoordinates,0,this.ends_,this.stride,t,o,a)},r.prototype.getCoordinates=function(){return io(this.flatCoordinates,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Bi(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,o=[],a=0,s=0,l=e.length;s<l;++s){var h=e[s],d=new Bi(t.slice(a,h),i);o.push(d),a=h}return o},r.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,o=this.ends_,a=this.stride,s=0,l=o.length;s<l;++s){var h=o[s],d=Iy(e,i,h,a,.5);Object(Sr.c)(t,d),i=h}return t},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=In(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new r(e,pr.XY,i)},r.prototype.getType=function(){return Zt.MULTI_LINE_STRING},r.prototype.intersectsExtent=function(t){return Kh(this.flatCoordinates,0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=jr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(Xo),fs=YF,HF={name:"ol-geom-multi-line-string",setup:function(r){var t=Ld(fs,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},d_=Ce()(HF,[["render",VF]]);function XF(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}function mS(n,r,t,e){for(var i=[],o=tt(),a=0,s=t.length;a<s;++a){var l=t[a];o=ye(n,r,l[0],e),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),r=l[l.length-1]}return i}var KF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZF=function(n){KF(r,n);function r(t,e,i){var o=n.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var a=o.getLayout(),s=t,l=[],h=[],d=0,y=s.length;d<y;++d){var w=s[d];d===0&&(a=w.getLayout());for(var C=l.length,I=w.getEnds(),G=0,Z=I.length;G<Z;++G)I[G]+=C;Object(Sr.c)(l,w.getFlatCoordinates()),h.push(I)}e=a,t=l,i=h}return e!==void 0&&i?(o.setFlatCoordinates(e,t),o.endss_=i):o.setCoordinates(t,e),o}return r.prototype.appendPolygon=function(t){var e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Object(Sr.c)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var o=0,a=e.length;o<a;++o)e[o]+=i}this.endss_.push(e),this.changed()},r.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();var o=new r(this.flatCoordinates.slice(),this.layout,e);return o.applyProperties(this),o},r.prototype.closestPointXY=function(t,e,i,o){return o<jt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(it(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),me(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.containsXY=function(t,e){return Tc(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},r.prototype.getArea=function(){return Hh(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Rs(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Ga(e,0,this.endss_,this.stride)},r.prototype.getEndss=function(){return this.endss_},r.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=mS(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ha(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},r.prototype.getInteriorPoints=function(){return new ml(this.getFlatInteriorPoints().slice(),pr.XYM)},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;As(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Rs(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=mo(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new r(e,pr.XY,i)},r.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(t===0)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var o=this.endss_[t].slice(),a=o[o.length-1];if(e!==0)for(var s=0,l=o.length;s<l;++s)o[s]-=e;return new ai(this.flatCoordinates.slice(e,a),this.layout,o)},r.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,o=[],a=0,s=0,l=i.length;s<l;++s){var h=i[s].slice(),d=h[h.length-1];if(a!==0)for(var y=0,w=h.length;y<w;++y)h[y]-=a;var C=new ai(e.slice(a,d),t,h);o.push(C),a=d}return o},r.prototype.getType=function(){return Zt.MULTI_POLYGON},r.prototype.intersectsExtent=function(t){return Ap(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=un(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},r}(Xo),Pa=ZF,$F={name:"ol-geom-multi-polygon",setup:function(r){var t=Ld(Pa,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},p_=Ce()($F,[["render",XF]]);function Gy(n){Gy.installed||(Gy.installed=!0,n.component(u_.name,u_),n.component(c_.name,c_),n.component(f_.name,f_),n.component(h_.name,h_),n.component(d_.name,d_),n.component(p_.name,p_))}var JF=Gy;function qF(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var QF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_S=function(n){QF(r,n);function r(t,e,i){var o=n.call(this)||this;if(i!==void 0&&e===void 0)o.setFlatCoordinates(i,t);else{var a=e||0;o.setCenterAndRadius(t,a,i)}return o}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){var a=this.flatCoordinates,s=t-a[0],l=e-a[1],h=s*s+l*l;if(h<o){if(h===0)for(var d=0;d<this.stride;++d)i[d]=a[d];else{var y=this.getRadius()/Math.sqrt(h);i[0]=a[0]+y*s,i[1]=a[1]+y*l;for(var d=2;d<this.stride;++d)i[d]=a[d]}return i.length=this.stride,h}else return o},r.prototype.containsXY=function(t,e){var i=this.flatCoordinates,o=t-i[0],a=e-i[1];return o*o+a*a<=this.getRadiusSquared_()},r.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return z(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},r.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},r.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},r.prototype.getType=function(){return Zt.CIRCLE},r.prototype.intersectsExtent=function(t){var e=this.getExtent();if(hi(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||t[1]<=i[1]&&t[3]>=i[1]?!0:Dn(t,this.intersectsCoordinate.bind(this))}return!1},r.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+i;for(var a=1;a<e;++a)o[e+a]=t[a];this.setFlatCoordinates(this.layout,o),this.changed()},r.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,a=ze(o,0,t,this.stride);o[a++]=o[0]+e;for(var s=1,l=this.stride;s<l;++s)o[a++]=o[s];o.length=a,this.changed()},r.prototype.getCoordinates=function(){return null},r.prototype.setCoordinates=function(t,e){},r.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},r.prototype.rotate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(lu(i,0,i.length,o,t,e,i)),this.changed()},r.prototype.translate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(Sc(i,0,i.length,o,t,e,i)),this.changed()},r}(Xo);_S.prototype.transform;var v_=_S,ES=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Si={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},Uy={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},ky=function(n){ES(r,n);function r(t,e){var i=n.call(this,t)||this;return i.feature=e,i}return r}(Be.a),t6=function(n){ES(r,n);function r(t){var e=this,i=t;i.stopDown||(i.stopDown=Nt.a),e=n.call(this,i)||this,e.on,e.once,e.un,e.shouldHandle_=!1,e.downPx_=null,e.downTimeout_,e.lastDragTime_,e.pointerType_,e.freehand_=!1,e.source_=t.source?t.source:null,e.features_=t.features?t.features:null,e.snapTolerance_=t.snapTolerance?t.snapTolerance:12,e.type_=t.type,e.mode_=r6(e.type_),e.stopClick_=!!t.stopClick,e.minPoints_=t.minPoints?t.minPoints:e.mode_===Si.POLYGON?3:2,e.maxPoints_=e.mode_===Si.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,e.finishCondition_=t.finishCondition?t.finishCondition:Nt.b;var o=t.geometryFunction;if(!o){var a=e.mode_;if(a===Si.CIRCLE)o=function(l,h,d){var y=h||new v_([NaN,NaN]),w=Li(l[0]),C=vt(w,Li(l[l.length-1]));return y.setCenterAndRadius(w,Math.sqrt(C)),y};else{var s;a===Si.POINT?s=Gn:a===Si.LINE_STRING?s=Bi:a===Si.POLYGON&&(s=ai),o=function(l,h,d){return h?a===Si.POLYGON?l[0].length?h.setCoordinates([l[0].concat([l[0][0]])]):h.setCoordinates([]):h.setCoordinates(l):h=new s(l),h}}}return e.geometryFunction_=o,e.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,e.finishCoordinate_=null,e.sketchFeature_=null,e.sketchPoint_=null,e.sketchCoords_=null,e.sketchLine_=null,e.sketchLineCoords_=null,e.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,e.overlay_=new xu({source:new Hu({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:e6(),updateWhileInteracting:!0}),e.geometryName_=t.geometryName,e.condition_=t.condition?t.condition:os,e.freehandCondition_,t.freehand?e.freehandCondition_=Vf:e.freehandCondition_=t.freehandCondition?t.freehandCondition:Ic,e.addChangeListener(zf.ACTIVE,e.updateState_),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleEvent=function(t){t.originalEvent.type===qr.a.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==Si.POINT&&this.freehandCondition_(t);var e=t.type===Wr.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===Wr.POINTERDRAG){var o=Date.now();o-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===Wr.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===Wr.POINTERDOWN?i=!1:e&&this.getPointerCount()<2?(i=t.type===Wr.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===Wr.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===Wr.DBLCLICK&&(i=!1),n.prototype.handleEvent.call(this,t)&&i},r.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new hn(Wr.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},r.prototype.handleUpEvent=function(t){var e=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_===Si.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},r.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,o=e[0]-i[0],a=e[1]-i[1],s=o*o+a*a;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},r.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,o=[this.finishCoordinate_],a=this.mode_;if(a===Si.POINT)e=!0;else if(a===Si.CIRCLE)e=this.sketchCoords_.length===2;else if(a===Si.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(a===Si.POLYGON){var s=this.sketchCoords_;i=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]]}if(i)for(var l=this.getMap(),h=0,d=o.length;h<d;h++){var y=o[h],w=l.getPixelFromCoordinate(y),C=t[0]-w[0],I=t[1]-w[1],G=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(C*C+I*I)<=G,e){this.finishCoordinate_=y;break}}}return e},r.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new Hr(new Gn(t)),this.updateSketchFeatures_();else{var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}},r.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Hr);var e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new Bi(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))},r.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===Si.POINT?this.sketchCoords_=t.slice():this.mode_===Si.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Hr(new Bi(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Hr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new ky(Uy.DRAWSTART,this.sketchFeature_))},r.prototype.modifyDrawing_=function(t){var e=this.getMap(),i=this.sketchFeature_.getGeometry(),o=e.getView().getProjection(),a,s;if(this.mode_===Si.POINT?s=this.sketchCoords_:this.mode_===Si.POLYGON?(a=this.sketchCoords_[0],s=a[a.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(a=this.sketchCoords_,s=a[a.length-1]),s[0]=t[0],s[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,o),this.sketchPoint_){var l=this.sketchPoint_.getGeometry();l.setCoordinates(t)}if(i.getType()===Zt.POLYGON&&this.mode_!==Si.POLYGON)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){var h=this.sketchLine_.getGeometry();h.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},r.prototype.addToDrawing_=function(t){var e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),o,a,s=this.mode_;s===Si.LINE_STRING||s===Si.CIRCLE?(this.finishCoordinate_=t.slice(),a=this.sketchCoords_,a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),this.geometryFunction_(a,e,i)):s===Si.POLYGON&&(a=this.sketchCoords_[0],a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),o&&(this.finishCoordinate_=a[0]),this.geometryFunction_(this.sketchCoords_,e,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),o&&this.finishDrawing()},r.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),e=this.getMap().getView().getProjection(),i,o=this.mode_;if(o===Si.LINE_STRING||o===Si.CIRCLE){if(i=this.sketchCoords_,i.splice(-2,1),i.length>=2){this.finishCoordinate_=i[i.length-2].slice();var a=this.finishCoordinate_.slice();i[i.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(i,t,e),t.getType()===Zt.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(o===Si.POLYGON){i=this.sketchCoords_[0],i.splice(-2,1);var s=this.sketchLine_.getGeometry();if(i.length>=2){var a=i[i.length-2].slice();i[i.length-1]=a,this.createOrUpdateSketchPoint_(a)}s.setCoordinates(i),this.geometryFunction_(this.sketchCoords_,t,e)}i.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},r.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var e=this.sketchCoords_,i=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===Si.LINE_STRING?(e.pop(),this.geometryFunction_(e,i,o)):this.mode_===Si.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i,o),e=i.getCoordinates()),this.type_===Zt.MULTI_POINT?t.setGeometry(new ml([e])):this.type_===Zt.MULTI_LINE_STRING?t.setGeometry(new fs([e])):this.type_===Zt.MULTI_POLYGON&&t.setGeometry(new Pa([e])),this.dispatchEvent(new ky(Uy.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},r.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},r.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new ky(Uy.DRAWABORT,t))},r.prototype.appendCoordinates=function(t){var e=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(t[0]);var o;if(e===Si.LINE_STRING||e===Si.CIRCLE)o=this.sketchCoords_;else if(e===Si.POLYGON)o=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&o.shift(),o.pop();for(var a=0;a<t.length;a++)this.addToDrawing_(t[a]);var s=t[t.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)},r.prototype.extend=function(t){var e=t.getGeometry(),i=e;this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new Hr(new Gn(o)),this.updateSketchFeatures_(),this.dispatchEvent(new ky(Uy.DRAWSTART,this.sketchFeature_))},r.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},r.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();(!t||!e)&&this.abortDrawing(),this.overlay_.setMap(e?t:null)},r}(za);function e6(){var n=h1();return function(r,t){return n[r.getGeometry().getType()]}}function r6(n){switch(n){case Zt.POINT:case Zt.MULTI_POINT:return Si.POINT;case Zt.LINE_STRING:case Zt.MULTI_LINE_STRING:return Si.LINE_STRING;case Zt.POLYGON:case Zt.MULTI_POLYGON:return Si.POLYGON;case Zt.CIRCLE:return Si.CIRCLE;default:throw new Error("Invalid type: "+n)}}var g_=t6,xS=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),SS=0,mv=1,wS=[0,0,0,0],Ad=[],y_={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},m_=function(n){xS(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.features=e,o.mapBrowserEvent=i,o}return r}(Be.a),n6=function(n){xS(r,n);function r(t){var e=n.call(this,t)||this;e.on,e.once,e.un,e.boundHandleFeatureChange_=e.handleFeatureChange_.bind(e),e.condition_=t.condition?t.condition:qh,e.defaultDeleteCondition_=function(o){return Jh(o)&&Ms(o)},e.deleteCondition_=t.deleteCondition?t.deleteCondition:e.defaultDeleteCondition_,e.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:Vf,e.vertexFeature_=null,e.vertexSegments_=null,e.lastPixel_=[0,0],e.ignoreNextSingleClick_=!1,e.featuresBeingModified_=null,e.rBush_=new Ey,e.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,e.snappedToVertex_=!1,e.changingFeature_=!1,e.dragSegments_=[],e.overlay_=new xu({source:new Hu({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:o6(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e)},e.source_=null,e.hitDetection_=null;var i;if(t.features?i=t.features:t.source&&(e.source_=t.source,i=new fn(e.source_.getFeatures()),e.source_.addEventListener(la.ADDFEATURE,e.handleSourceAdd_.bind(e)),e.source_.addEventListener(la.REMOVEFEATURE,e.handleSourceRemove_.bind(e))),!i)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(e.hitDetection_=t.hitDetection),e.features_=i,e.features_.forEach(e.addFeature_.bind(e)),e.features_.addEventListener(mn.ADD,e.handleFeatureAdd_.bind(e)),e.features_.addEventListener(mn.REMOVE,e.handleFeatureRemove_.bind(e)),e.lastPointerEvent_=null,e.delta_=[0,0],e.snapToPointer_=t.snapToPointer===void 0?!e.hitDetection_:t.snapToPointer,e}return r.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var i=this.SEGMENT_WRITERS_[e.getType()];i&&i(t,e)}var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),t.addEventListener(qr.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new fn;for(var i=this.featuresBeingModified_.getArray(),o=0,a=e.length;o<a;++o)for(var s=e[o],l=0,h=s.length;l<h;++l){var d=s[l].feature;d&&i.indexOf(d)===-1&&this.featuresBeingModified_.push(d)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new m_(y_.MODIFYSTART,this.featuresBeingModified_,t))}},r.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(qr.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(l){t===l.feature&&i.push(l)});for(var o=i.length-1;o>=0;--o){for(var a=i[o],s=this.dragSegments_.length-1;s>=0;--s)this.dragSegments_[s][0]===a&&this.dragSegments_.splice(s,1);e.remove(a)}},r.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),n.prototype.setActive.call(this,t)},r.prototype.setMap=function(t){this.overlay_.setMap(t),n.prototype.setMap.call(this,t)},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},r.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},r.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},r.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},r.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),o={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o){var s=i[o],l={feature:t,geometry:e,depth:[o],index:o,segment:[s,s]};this.rBush_.insert(e.getExtent(),l)}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length-1;o<a;++o){var s=i.slice(o,o+2),l={feature:t,geometry:e,index:o,segment:s};this.rBush_.insert(Rt(s),l)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],l=0,h=s.length-1;l<h;++l){var d=s.slice(l,l+2),y={feature:t,geometry:e,depth:[o],index:l,segment:d};this.rBush_.insert(Rt(d),y)}},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],l=0,h=s.length-1;l<h;++l){var d=s.slice(l,l+2),y={feature:t,geometry:e,depth:[o],index:l,segment:d};this.rBush_.insert(Rt(d),y)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],l=0,h=s.length;l<h;++l)for(var d=s[l],y=0,w=d.length-1;y<w;++y){var C=d.slice(y,y+2),I={feature:t,geometry:e,depth:[l,o],index:y,segment:C};this.rBush_.insert(Rt(C),I)}},r.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),o={feature:t,geometry:e,index:SS,segment:[i,i]},a={feature:t,geometry:e,index:mv,segment:[i,i]},s=[o,a];o.featureSegments=s,a.featureSegments=s,this.rBush_.insert(at(i),o);var l=e;this.rBush_.insert(l.getExtent(),a)},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),o=0;o<i.length;++o){var a=i[o],s=this.SEGMENT_WRITERS_[a.getType()];s(t,a)}},r.prototype.createOrUpdateVertexFeature_=function(t,e,i){var o=this.vertexFeature_;if(!o)o=new Hr(new Gn(t)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o);else{var a=o.getGeometry();a.setCoordinates(t)}return o.set("features",e),o.set("geometries",i),o},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;this.lastPointerEvent_=t;var e;return!t.map.getView().getInteracting()&&t.type==Wr.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type!=Wr.SINGLECLICK||!this.ignoreNextSingleClick_?e=this.removePoint():e=!0),t.type==Wr.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),n.prototype.handleEvent.call(this,t)&&!e},r.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],o=[],a=0,s=this.dragSegments_.length;a<s;++a){var l=this.dragSegments_[a],h=l[0],d=h.feature;i.indexOf(d)===-1&&i.push(d);var y=h.geometry;o.indexOf(y)===-1&&o.push(y);for(var w=h.depth,C=void 0,I=h.segment,G=l[1];e.length<y.getStride();)e.push(I[G][e.length]);switch(y.getType()){case Zt.POINT:C=e,I[0]=e,I[1]=e;break;case Zt.MULTI_POINT:C=y.getCoordinates(),C[h.index]=e,I[0]=e,I[1]=e;break;case Zt.LINE_STRING:C=y.getCoordinates(),C[h.index+G]=e,I[G]=e;break;case Zt.MULTI_LINE_STRING:C=y.getCoordinates(),C[w[0]][h.index+G]=e,I[G]=e;break;case Zt.POLYGON:C=y.getCoordinates(),C[w[0]][h.index+G]=e,I[G]=e;break;case Zt.MULTI_POLYGON:C=y.getCoordinates(),C[w[1]][w[0]][h.index+G]=e,I[G]=e;break;case Zt.CIRCLE:if(I[0]=e,I[1]=e,h.index===SS)this.changingFeature_=!0,y.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var Z=t.map.getView().getProjection(),lt=yt(Li(y.getCenter()),Li(e)),pt=ia();if(pt){var Et=y.clone().transform(pt,Z);Et.setRadius(lt),lt=Et.transform(Z,pt).getRadius()}y.setRadius(lt),this.changingFeature_=!1}break}C&&this.setGeometryCoordinates_(y,C)}this.createOrUpdateVertexFeature_(e,i,o)},r.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var i=this.vertexFeature_;if(i){var o=t.map.getView().getProjection(),a=[],s=i.getGeometry().getCoordinates(),l=Rt([s]),h=this.rBush_.getInExtent(l),d={};h.sort(i6);for(var y=0,w=h.length;y<w;++y){var C=h[y],I=C.segment,G=Object(ct.c)(C.geometry),Z=C.depth;if(Z&&(G+="-"+Z.join("-")),d[G]||(d[G]=new Array(2)),C.geometry.getType()===Zt.CIRCLE&&C.index===mv){var lt=TS(e,C,o);k(lt,s)&&!d[G][0]&&(this.dragSegments_.push([C,0]),d[G][0]=C);continue}if(k(I[0],s)&&!d[G][0]){this.dragSegments_.push([C,0]),d[G][0]=C;continue}if(k(I[1],s)&&!d[G][1]){if((C.geometry.getType()===Zt.LINE_STRING||C.geometry.getType()===Zt.MULTI_LINE_STRING)&&d[G][0]&&d[G][0].index===0)continue;this.dragSegments_.push([C,1]),d[G][1]=C;continue}Object(ct.c)(I)in this.vertexSegments_&&!d[G][0]&&!d[G][1]&&this.insertVertexCondition_(t)&&a.push(C)}a.length&&this.willModifyFeatures_(t,[a]);for(var pt=a.length-1;pt>=0;--pt)this.insertVertex_(a[pt],s)}return!!this.vertexFeature_},r.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],o=i.geometry;if(o.getType()===Zt.CIRCLE){var a=o.getCenter(),s=i.featureSegments[0],l=i.featureSegments[1];s.segment[0]=a,s.segment[1]=a,l.segment[0]=a,l.segment[1]=a,this.rBush_.update(at(a),s);var h=o,d=ia();if(d){var y=t.map.getView().getProjection();h=h.clone().transform(d,y),h=Nl(h).transform(y,d)}this.rBush_.update(h.getExtent(),l)}else this.rBush_.update(Rt(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new m_(y_.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},r.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},r.prototype.handlePointerAtPixel_=function(t,e,i){var o=this,a=i||e.getCoordinateFromPixel(t),s=e.getView().getProjection(),l=function(Lr,Br){return OS(a,Lr,s)-OS(a,Br,s)},h,d;if(this.hitDetection_){var y=typeof this.hitDetection_=="object"?function(Lr){return Lr===o.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,function(Lr,Br,Yr){if(Yr=Yr||Lr.getGeometry(),Yr.getType()===Zt.POINT&&Object(Sr.f)(o.features_.getArray(),Lr)){d=Yr;var $r=Yr.getFlatCoordinates().slice(0,2);h=[{feature:Lr,geometry:Yr,segment:[$r,$r]}]}return!0},{layerFilter:y})}if(!h){var w=oa(at(a,wS)),C=e.getView().getResolution()*this.pixelTolerance_,I=Ll(Ct(w,C,wS));h=this.rBush_.getInExtent(I)}if(h&&h.length>0){var G=h.sort(l)[0],Z=G.segment,lt=TS(a,G,s),pt=e.getPixelFromCoordinate(lt),Et=yt(t,pt);if(d||Et<=this.pixelTolerance_){var ht={};if(ht[Object(ct.c)(Z)]=!0,this.snapToPointer_||(this.delta_[0]=lt[0]-a[0],this.delta_[1]=lt[1]-a[1]),G.geometry.getType()===Zt.CIRCLE&&G.index===mv)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(lt,[G.feature],[G.geometry]);else{var zt=e.getPixelFromCoordinate(Z[0]),Gt=e.getPixelFromCoordinate(Z[1]),$t=vt(pt,zt),Xt=vt(pt,Gt);Et=Math.sqrt(Math.min($t,Xt)),this.snappedToVertex_=Et<=this.pixelTolerance_,this.snappedToVertex_&&(lt=$t>Xt?Z[1]:Z[0]),this.createOrUpdateVertexFeature_(lt,[G.feature],[G.geometry]);var ce={};ce[Object(ct.c)(G.geometry)]=!0;for(var Ge=1,Me=h.length;Ge<Me;++Ge){var Ee=h[Ge].segment;if(k(Z[0],Ee[0])&&k(Z[1],Ee[1])||k(Z[0],Ee[1])&&k(Z[1],Ee[0])){var er=Object(ct.c)(h[Ge].geometry);er in ce||(ce[er]=!0,ht[Object(ct.c)(Ee)]=!0)}else break}}this.vertexSegments_=ht;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},r.prototype.insertVertex_=function(t,e){for(var i=t.segment,o=t.feature,a=t.geometry,s=t.depth,l=t.index,h;e.length<a.getStride();)e.push(0);switch(a.getType()){case Zt.MULTI_LINE_STRING:h=a.getCoordinates(),h[s[0]].splice(l+1,0,e);break;case Zt.POLYGON:h=a.getCoordinates(),h[s[0]].splice(l+1,0,e);break;case Zt.MULTI_POLYGON:h=a.getCoordinates(),h[s[1]][s[0]].splice(l+1,0,e);break;case Zt.LINE_STRING:h=a.getCoordinates(),h.splice(l+1,0,e);break;default:return}this.setGeometryCoordinates_(a,h);var d=this.rBush_;d.remove(t),this.updateSegmentIndices_(a,l,s,1);var y={segment:[i[0],e],feature:o,geometry:a,depth:s,index:l};d.insert(Rt(y.segment),y),this.dragSegments_.push([y,1]);var w={segment:[e,i[1]],feature:o,geometry:a,depth:s,index:l+1};d.insert(Rt(w.segment),w),this.dragSegments_.push([w,0]),this.ignoreNextSingleClick_=!0},r.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Wr.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new m_(y_.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},r.prototype.removeVertex_=function(){var t=this.dragSegments_,e={},i=!1,o,a,s,l,h,d,y,w,C,I,G;for(h=t.length-1;h>=0;--h)s=t[h],I=s[0],G=Object(ct.c)(I.feature),I.depth&&(G+="-"+I.depth.join("-")),G in e||(e[G]={}),s[1]===0?(e[G].right=I,e[G].index=I.index):s[1]==1&&(e[G].left=I,e[G].index=I.index+1);for(G in e){switch(C=e[G].right,y=e[G].left,d=e[G].index,w=d-1,y!==void 0?I=y:I=C,w<0&&(w=0),l=I.geometry,a=l.getCoordinates(),o=a,i=!1,l.getType()){case Zt.MULTI_LINE_STRING:a[I.depth[0]].length>2&&(a[I.depth[0]].splice(d,1),i=!0);break;case Zt.LINE_STRING:a.length>2&&(a.splice(d,1),i=!0);break;case Zt.MULTI_POLYGON:o=o[I.depth[1]];case Zt.POLYGON:o=o[I.depth[0]],o.length>4&&(d==o.length-1&&(d=0),o.splice(d,1),i=!0,d===0&&(o.pop(),o.push(o[0]),w=o.length-1));break}if(i){this.setGeometryCoordinates_(l,a);var Z=[];if(y!==void 0&&(this.rBush_.remove(y),Z.push(y.segment[0])),C!==void 0&&(this.rBush_.remove(C),Z.push(C.segment[1])),y!==void 0&&C!==void 0){var lt={depth:I.depth,feature:I.feature,geometry:I.geometry,index:w,segment:Z};this.rBush_.insert(Rt(lt.segment),lt)}this.updateSegmentIndices_(l,d,I.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return i},r.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},r.prototype.updateSegmentIndices_=function(t,e,i,o){this.rBush_.forEachInExtent(t.getExtent(),function(a){a.geometry===t&&(i===void 0||a.depth===void 0||Object(Sr.b)(a.depth,i))&&a.index>e&&(a.index+=o)})},r}(za);function i6(n,r){return n.index-r.index}function OS(n,r,t){var e=r.geometry;if(e.getType()===Zt.CIRCLE){var i=e;if(r.index===mv){var o=ia();o&&(i=i.clone().transform(o,t));var a=vt(i.getCenter(),Li(n)),s=Math.sqrt(a)-i.getRadius();return s*s}}var l=Li(n);return Ad[0]=Li(r.segment[0]),Ad[1]=Li(r.segment[1]),Ot(l,Ad)}function TS(n,r,t){var e=r.geometry;if(e.getType()===Zt.CIRCLE&&r.index===mv){var i=e,o=ia();return o&&(i=i.clone().transform(o,t)),el(i.getClosestPoint(Li(n)))}var a=Li(n);return Ad[0]=Li(r.segment[0]),Ad[1]=Li(r.segment[1]),el(D(a,Ad))}function o6(){var n=h1();return function(r,t){return n[Zt.POINT]}}var __=n6,a6={name:"ol-style",setup:function(r){var t=Object(M.inject)("stylable",null),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new va(i)}),a=function(h){if(t instanceof g_||t instanceof __){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},s=Object(M.computed)(function(){return function(l){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(l,o.value),o.value}});return Object(M.watch)(i,function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(M.onMounted)(function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(M.onUnmounted)(function(){a(null)}),Object(M.provide)("style",o),Object(M.provide)("styledObj",t),{style:o}},props:{zIndex:{type:Number},overrideStyleFunction:{type:Function}}},E_=Ce()(a6,[["render",qF]]);function s6(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var l6={name:"ol-style-circle",setup:function(r){var t=Object(M.inject)("style",null),e=Object(M.inject)("styledObj",null),i=or(r),o=i.properties,a=function(d){return new hv(be(be({},d),{},{fill:new pa,stroke:new Zo}))},s=Object(M.computed)(function(){return a(o)}),l=function(){t.value.setImage(null),t.value.setImage(s.value),e.value.changed()};Object(M.watch)(o,function(){l()}),Object(M.watch)(t,function(){l()}),Object(M.onMounted)(function(){t.value.setImage(s.value)}),Object(M.onUnmounted)(function(){t.value.setImage(null)}),Object(M.provide)("circle",s),Object(M.provide)("styledObj",e)},props:{radius:{type:Number},scale:{type:Number}}},x_=Ce()(l6,[["render",s6]]);function u6(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var c6={name:"ol-style-stroke",setup:function(r){var t=Object(M.inject)("style",null),e=Object(M.inject)("circle",null),i=Object(M.inject)("styledObj",null),o=or(r),a=o.properties;if(t!=null&&e==null){var s=new Zo(a);t.value.setStroke(s);var l=function(){t.value.setStroke(null),s=new Zo(a),t.value.setStroke(s)};Object(M.watch)(a,function(){l()}),Object(M.watch)(t,function(){l()}),Object(M.onMounted)(function(){t.value.setStroke(s)}),Object(M.onUnmounted)(function(){t.value.setStroke(null)})}else if(e!=null){var h=function(y){e.value.getStroke().setColor(y.color),e.value.getStroke().setLineCap(y.lineCap),e.value.getStroke().setLineDash(y.lineDash),e.value.getStroke().setLineDashOffset(y.lineDashOffset),e.value.getStroke().setLineJoin(y.lineJoin),e.value.getStroke().setMiterLimit(y.miterLimit),e.value.getStroke().setWidth(y.width),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};h(a),Object(M.watch)(a,function(d){h(d)}),Object(M.watch)(e,function(){h(a)})}},props:{color:{type:String},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:{type:Array},lineDashOffset:{type:Number,default:0},miterLimit:{type:Number,default:10},width:{type:Number,default:1}}},S_=Ce()(c6,[["render",u6]]);function f6(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var h6={name:"ol-style-fill",setup:function(r){var t=Object(M.inject)("style",null),e=Object(M.inject)("circle",null),i=Object(M.inject)("styledObj",null),o=or(r),a=o.properties;if(t!=null&&e==null){var s=new pa(a);t.value.setFill(s);var l=function(){t.value.setFill(null),s=new pa(a),t.value.setFill(s)};Object(M.watch)(a,function(){l()}),Object(M.watch)(t,function(){l()}),Object(M.onMounted)(function(){t.value.setFill(s)}),Object(M.onUnmounted)(function(){t.value.setFill(null)})}else if(e!=null){var h=function(y){e.value.getFill().setColor(y),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};h(a.color),Object(M.watch)(a,function(){h(a.color)}),Object(M.watch)(e,function(){h(a.color)})}},props:{color:{type:String}}},w_=Ce()(h6,[["render",f6]]);function d6(n,r,t,e,i,o){return Object(M.createCommentVNode)("",!0)}var p6={name:"ol-style-icon",setup:function(r){var t=Object(M.inject)("style",null),e=Object(M.inject)("styledObj",null),i=or(r),o=i.properties,a=Object(M.computed)(function(){var l=new my(o);return l.load(),l}),s=function(){t.value.setImage(null),t.value.setImage(a.value),e.value.changed()};Object(M.watch)(o,function(){s()}),Object(M.watch)(t,function(){s()}),Object(M.onMounted)(function(){t.value.setImage(a.value)}),Object(M.onUnmounted)(function(){t.value.setImage(null)})},props:{anchor:{type:Array},anchorOrigin:{type:String,default:"top-left"},anchorXUnits:{type:String,default:"fraction"},color:{type:String},crossOrigin:{type:String},img:{type:[HTMLImageElement,HTMLCanvasElement]},offset:{type:Array,default:function(){return[0,0]}},displacement:{type:Array,default:function(){return[0,0]}},offsetOrigin:{type:String,default:"top-left"},opacity:{type:Number,default:1},scale:{type:Number,default:1},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},size:{type:Array},imgSize:{type:Array},src:{type:String}}},O_=Ce()(p6,[["render",d6]]);function v6(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var g6={name:"ol-style-text",setup:function(r){var t=Object(M.inject)("style",null),e=Object(M.inject)("styledObj",null),i=or(r),o=i.properties,a=function(d){return new th(be(be({},d),{},{fill:new pa,stroke:new Zo}))},s=Object(M.computed)(function(){return a(o)}),l=function(){t.value.setText(null),t.value.setText(s.value),e.value.changed()};Object(M.watch)(o,function(){l()}),Object(M.watch)(t,function(){l()}),Object(M.onMounted)(function(){t.value.setText(s.value)}),Object(M.onUnmounted)(function(){t.value.setText(null)}),Object(M.provide)("style",s),Object(M.provide)("styledObj",e)},props:{font:{type:String},maxAngle:{type:Number,default:Math.PI/4},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},overflow:{type:Boolean,default:!1},placement:{type:String,default:"point"},scale:{type:Number},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},text:{type:String},textAlign:{type:String},textBaseline:{type:String,default:"middle"},padding:{type:Array,default:function(){return[0,0,0,0]}}}},T_=Ce()(g6,[["render",v6]]);function y6(n,r,t,e,i,o){return Object(M.openBlock)(),Object(M.createElementBlock)("div",null,[Object(M.renderSlot)(n.$slots,"default")])}var Rd=function(n,r){var t=n[0]-r[0],e=n[1]-r[1];return Math.sqrt(t*t+e*e)},_v=function(n,r){return n[0]==r[0]&&n[1]==r[1]},bS;(function(){function n(t,e){var i;for(let o=t.length-1;o>0;o--)(t[o][0]>e&&t[o-1][0]<e||t[o][0]<e&&t[o-1][0]>e)&&(i=[e,(e-t[o][0])/(t[o-1][0]-t[o][0])*(t[o-1][1]-t[o][1])+t[o][1]],t.splice(o,0,i))}function r(t,e){var i;for(let o=t.length-1;o>0;o--)(t[o][1]>e&&t[o-1][1]<e||t[o][1]<e&&t[o-1][1]>e)&&(i=[(e-t[o][1])/(t[o-1][1]-t[o][1])*(t[o-1][0]-t[o][0])+t[o][0],e],t.splice(o,0,i))}bS=function(t,e){var i=e.getType()==="Polygon";if(!i&&e.getType()!=="MultiPolygon")return null;var o=e.getCoordinates();return i&&(o=[o]),o.forEach(function(a){a.forEach(function(s){n(s,t[0]),n(s,t[2]),r(s,t[1]),r(s,t[3])})}),o.forEach(function(a){a.forEach(function(s){s.forEach(function(l){l[0]<t[0]?l[0]=t[0]:l[0]>t[2]&&(l[0]=t[2]),l[1]<t[1]?l[1]=t[1]:l[1]>t[3]&&(l[1]=t[3])})})}),i?new ai(o[0]):new Pa(o)}})();var CS=function(n,r,t,e){var i=[];e!==!1&&i.push(n);var o=Rd(n,r);if(o){var a=Math.round(o/t);if(a>1)for(var s=(r[0]-n[0])/a,l=(r[1]-n[1])/a,h=1;h<a;h++)i.push([n[0]+s*h,n[1]+l*h])}return i.push(r),i};ai.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){for(var i=[],o=1;o<e.length;o++)i=i.concat(CS(e[o-1],e[o],n,o===1));t.push(i)}),new ai(t)},Pa.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){var i=[];t.push(i),e.forEach(function(o){for(var a=[],s=1;s<o.length;s++)a=a.concat(CS(o[s-1],o[s],n,s===1));i.push(a)})}),new Pa(t)},v_.prototype.intersection=function(n,r){if(n.sampleAt){var t=Ct(this.getCenter().concat(this.getCenter()),this.getRadius());n=bS(t,n),n=n.simplify(r);var e=this.getCenter(),i=this.getRadius(),o=n.sampleAt(r).getCoordinates();switch(n.getType()){case"Polygon":o=[o];case"MultiPolygon":{var a=!1,s=[];return o.forEach(function(l){var h=[];s.push(h),l.forEach(function(d){var y=[];h.push(y),d.forEach(function(w){var C=Rd(e,w);C>i?(a=!0,y.push([e[0]+i/C*(w[0]-e[0]),e[1]+i/C*(w[1]-e[1])])):y.push(w)})})}),a?n.getType()==="Polygon"?new ai(s[0]):new Pa(s):n}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+n.getType());return n},Bi.prototype.splitAt=function(n,r){var t;if(!n)return[this];if(r||(r=1e-10),n.length&&n[0].length){var e=[this];for(t=0;t<n.length;t++){for(var i=[],o=0;o<e.length;o++){var a=e[o].splitAt(n[t],r);i=i.concat(a)}e=i}return e}if(_v(n,this.getFirstCoordinate())||_v(n,this.getLastCoordinate()))return[this];var s=this.getCoordinates(),l=[s[0]],h=[];for(t=0;t<s.length-1;t++)if(!_v(s[t],s[t+1])){if(_v(n,s[t+1]))l.push(s[t+1]),h.push(new Bi(l)),l=[];else if(!_v(n,s[t])){var d,y,w=!1;s[t][0]==s[t+1][0]?(d=(s[t][1]-n[1])/(s[t][1]-s[t+1][1]),w=s[t][0]==n[0]&&0<d&&d<=1):s[t][1]==s[t+1][1]?(d=(s[t][0]-n[0])/(s[t][0]-s[t+1][0]),w=s[t][1]==n[1]&&0<d&&d<=1):(d=(s[t][0]-n[0])/(s[t][0]-s[t+1][0]),y=(s[t][1]-n[1])/(s[t][1]-s[t+1][1]),w=Math.abs(d-y)<=r&&0<d&&d<=1),w&&(l.push(n),h.push(new Bi(l)),l=[n])}l.push(s[t+1])}return l.length>1&&h.push(new Bi(l)),h.length?h:[this]};var zo=function(n){n||(n={}),va.call(this,{renderer:this._render.bind(this),stroke:n.stroke,text:n.text,zIndex:n.zIndex,geometry:n.geometry}),this._visible=n.visible!==!1,typeof n.width=="function"?this._widthFn=n.width:this.setWidth(n.width),this.setWidth2(n.width2),typeof n.color=="function"?this._colorFn=n.color:this.setColor(n.color),this.setColor2(n.color2),this.setLineCap(n.lineCap),this.setArrow(n.arrow),this.setArrowSize(n.arrowSize),this.setArrowColor(n.arrowColor),this._offset=[0,0],this.setOffset(n.offset0,0),this.setOffset(n.offset1,1),this._noOverlap=n.noOverlap};xi(zo,va),zo.prototype.setWidth=function(n){this._width=n||0},zo.prototype.setWidth2=function(n){this._width2=n},zo.prototype.getOffset=function(n){return this._offset[n]},zo.prototype.setOffset=function(n,r){switch(n=Math.max(0,parseFloat(n)),r){case 0:{this._offset[0]=n;break}case 1:{this._offset[1]=n;break}}},zo.prototype.setLineCap=function(n){this._lineCap=n==="round"?"round":"butt"},zo.prototype.getWidth=function(n,r){if(this._widthFn)return this._widthFn(n,r);var t=typeof this._width2=="number"?this._width2:this._width;return this._width+(t-this._width)*r},zo.prototype.setColor=function(n){try{this._color=fa(n)}catch{this._color=[0,0,0,1]}},zo.prototype.setColor2=function(n){try{this._color2=fa(n)}catch{this._color2=null}},zo.prototype.setArrowColor=function(n){try{this._acolor=Mo(n)}catch{this._acolor=null}},zo.prototype.getColor=function(n,r){if(this._colorFn)return Mo(this._colorFn(n,r));var t=this._color,e=this._color2||this._color;return"rgba("+ +Math.round(t[0]+(e[0]-t[0])*r)+","+Math.round(t[1]+(e[1]-t[1])*r)+","+Math.round(t[2]+(e[2]-t[2])*r)+","+(t[3]+(e[3]-t[3])*r)+")"},zo.prototype.getArrow=function(){return this._arrow},zo.prototype.setArrow=function(n){this._arrow=parseInt(n),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)},zo.prototype.getArrowSize=function(){return this._arrowSize||[16,16]},zo.prototype.setArrowSize=function(n){Array.isArray(n)?this._arrowSize=n:typeof n=="number"&&(this._arrowSize=[n,n])},zo.prototype.drawArrow=function(n,r,t,e,i){var o=this.getArrowSize()[0]*i,a=Rd(r,t),s=(r[0]-t[0])/a,l=(r[1]-t[1])/a;e=Math.max(this.getArrowSize()[1]/2,e/2)*i,n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[0]-o*s+e*l,r[1]-o*l-e*s),n.lineTo(r[0]-o*s-e*l,r[1]-o*l+e*s),n.lineTo(r[0],r[1]),n.fill()},zo.prototype._render=function(n,r){if(r.geometry.getType()==="LineString"){var t,e,i,o=r.context;if(!this._visible){var a=r.pixelRatio/r.resolution,s=Math.cos(r.rotation),l=Math.sin(r.rotation);e=r.geometry.getCoordinates();var h=n[0][0]-e[0][0]*a*s-e[0][1]*a*l,d=n[0][1]-e[0][0]*a*l+e[0][1]*a*s;for(n=[],t=0;i=e[t];t++)n[t]=[h+i[0]*a*s+i[1]*a*l,d+i[0]*a*l-i[1]*a*s,i[2]]}var y=this.getArrowSize()[0]*r.pixelRatio;o.save(),this.getOffset(0)&&this._splitAsize(n,this.getOffset(0)*r.pixelRatio),this.getOffset(1)&&this._splitAsize(n,this.getOffset(1)*r.pixelRatio,!0),n.length>1&&(this.getArrow()===-1||this.getArrow()===2)&&(i=this._splitAsize(n,y),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,0),this.drawArrow(o,i[0],i[1],this.getWidth(r.feature,0),r.pixelRatio)),n.length>1&&this.getArrow()>0&&(i=this._splitAsize(n,y,!0),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,1),this.drawArrow(o,i[0],i[1],this.getWidth(r.feature,1),r.pixelRatio));var w=this._splitInto(n,255,2),C=0,I=w.length;if(o.lineJoin="round",o.lineCap=this._lineCap||"butt",w.length>1)for(C=0;C<w.length;C++){var G=C/I;for(e=w[C],o.lineWidth=this.getWidth(r.feature,G)*r.pixelRatio,o.strokeStyle=this.getColor(r.feature,G),o.beginPath(),o.moveTo(e[0][0],e[0][1]),t=1;i=e[t];t++)o.lineTo(i[0],i[1]);o.stroke()}o.restore()}},zo.prototype._splitAsize=function(n,r,t){var e,i,o,a,s=0;for(t?o=n.pop():o=n.shift(),e=o;n.length;){if(t?i=n.pop():i=n.shift(),a=Rd(e,i),s+a>r){e=[e[0]+(i[0]-e[0])*(r-s)/a,e[1]+(i[1]-e[1])*(r-s)/a],a=Rd(e,o),t?(n.push(i),n.push(e),n.push([e[0]+(o[0]-e[0])/a,e[1]+(o[1]-e[1])/a])):(n.unshift(i),n.unshift(e),n.unshift([e[0]+(o[0]-e[0])/a,e[1]+(o[1]-e[1])/a]));break}s+=a,e=i}return[o,e]},zo.prototype._splitInto=function(n,r,t){var e,i,o=this._noOverlap?1:.9,a=[],s,l=0;for(e=1;i=n[e];e++)l+=Rd(n[e-1],i);var h=Math.max(t||2,l/(r||255)),d=n[0];l=0;var y=[d];for(e=1,i=n[1];e<n.length;){var w=i[0]-d[0],C=i[1]-d[1];if(s=Math.sqrt(w*w+C*C),l+s>h){var I=(h-l)/s;y.push([d[0]+w*I,d[1]+C*I]),a.push(y),d=[d[0]+w*I*o,d[1]+C*I*o],y=[d],l=0}else l+=s,d=i,y.push(d),e++,i=n[e]}return a.push(y),a};var m6=zo,_6={name:"ol-style-flowline",setup:function(r){var t=Object(M.inject)("stylable",null),e=or(r),i=e.properties,o=Object(M.computed)(function(){return new m6(i)}),a=function(h){if(t instanceof g_||t instanceof __){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},s=Object(M.computed)(function(){return function(l){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(l,o.value),o.value}});return Object(M.watch)(i,function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(M.onMounted)(function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(M.onUnmounted)(function(){a(null)}),{style:o}},props:{color:{type:[String,Function]},color2:{type:String},width:{type:[Number,Function]},width2:{type:Number},arrow:{type:Number},arrowColor:{type:String}}},b_=Ce()(_6,[["render",y6]]);function zy(n){zy.installed||(zy.installed=!0,n.component(E_.name,E_),n.component(x_.name,x_),n.component(S_.name,S_),n.component(w_.name,w_),n.component(O_.name,O_),n.component(T_.name,T_),n.component(b_.name,b_))}var E6=zy;function x6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var LS=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S6={SELECT:"select"},w6=function(n){LS(r,n);function r(t,e,i,o){var a=n.call(this,t)||this;return a.selected=e,a.deselected=i,a.mapBrowserEvent=o,a}return r}(Be.a),Vy={},O6=function(n){LS(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};e.boundAddFeature_=e.addFeature_.bind(e),e.boundRemoveFeature_=e.removeFeature_.bind(e),e.condition_=i.condition?i.condition:Ms,e.addCondition_=i.addCondition?i.addCondition:Gp,e.removeCondition_=i.removeCondition?i.removeCondition:Gp,e.toggleCondition_=i.toggleCondition?i.toggleCondition:Ic,e.multi_=i.multi?i.multi:!1,e.filter_=i.filter?i.filter:Nt.b,e.hitTolerance_=i.hitTolerance?i.hitTolerance:0,e.style_=i.style!==void 0?i.style:T6(),e.features_=i.features||new fn;var o;if(i.layers)if(typeof i.layers=="function")o=i.layers;else{var a=i.layers;o=function(s){return Object(Sr.f)(a,s)}}else o=Nt.b;return e.layerFilter_=o,e.featureLayerAssociation_={},e}return r.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(ct.c)(t)]=e},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(ct.c)(t)]},r.prototype.setHitTolerance=function(t){this.hitTolerance_=t},r.prototype.setMap=function(t){var e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),n.prototype.setMap.call(this,t),t?(this.features_.addEventListener(mn.ADD,this.boundAddFeature_),this.features_.addEventListener(mn.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(mn.ADD,this.boundAddFeature_),this.features_.removeEventListener(mn.REMOVE,this.boundRemoveFeature_))},r.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var i=this.getMap().getAllLayers().find(function(o){if(o instanceof xu&&o.getSource()&&o.getSource().hasFeature(e))return o});i&&this.addFeatureLayerAssociation_(e,i)}},r.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(t){var e=Object(ct.c)(t);e in Vy||(Vy[e]=t.getStyle()),t.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(t){for(var e=this.getMap().getInteractions().getArray(),i=e.length-1;i>=0;--i){var o=e[i];if(o!==this&&o instanceof r&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(t)!==-1){t.setStyle(o.getStyle());return}}var a=Object(ct.c)(t);t.setStyle(Vy[a]),delete Vy[a]},r.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(ct.c)(t)]},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),o=this.toggleCondition_(t),a=!e&&!i&&!o,s=t.map,l=this.getFeatures(),h=[],d=[];if(a){Object(Pr.b)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(t.pixel,function(G,Z){if(this.filter_(G,Z))return this.addFeatureLayerAssociation_(G,Z),d.push(G),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var y=l.getLength()-1;y>=0;--y){var w=l.item(y),C=d.indexOf(w);C>-1?d.splice(C,1):(l.remove(w),h.push(w))}d.length!==0&&l.extend(d)}else{s.forEachFeatureAtPixel(t.pixel,function(G,Z){if(this.filter_(G,Z))return(e||o)&&!Object(Sr.f)(l.getArray(),G)?(this.addFeatureLayerAssociation_(G,Z),d.push(G)):(i||o)&&Object(Sr.f)(l.getArray(),G)&&(h.push(G),this.removeFeatureLayerAssociation_(G)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var I=h.length-1;I>=0;--I)l.remove(h[I]);l.extend(d)}return(d.length>0||h.length>0)&&this.dispatchEvent(new w6(S6.SELECT,d,h,t)),!0},r}(du);function T6(){var n=h1();return Object(Sr.c)(n[Zt.POLYGON],n[Zt.LINE_STRING]),Object(Sr.c)(n[Zt.GEOMETRY_COLLECTION],n[Zt.LINE_STRING]),function(r){return r.getGeometry()?n[r.getGeometry().getType()]:null}}var Wy=O6,b6={name:"ol-interaction-select",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(M.inject)("map"),o=or(r),a=o.properties,s=Object(M.computed)(function(){var l=new Wy(be(be({},a),{},{style:new va}));return l.on("select",function(h){e("select",h)}),l});return Object(M.watch)(s,function(l,h){i.removeInteraction(h),i.addInteraction(l),i.changed()}),Object(M.onMounted)(function(){i.addInteraction(s.value)}),Object(M.onUnmounted)(function(){i.removeInteraction(s.value)}),Object(M.provide)("stylable",s),{select:s}},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},features:{type:[fn,Object]}}},C_=Ce()(b6,[["render",x6]]);function C6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var qc=function(n){n=n||{},this.pointRadius=n.pointRadius||12,this.circleMaxObjects=n.circleMaxObjects||10,this.maxObjects=n.maxObjects||60,this.spiral=n.spiral!==!1,this.animate=n.animate,this.animationDuration=n.animationDuration||500,this.selectCluster_=n.selectCluster!==!1,this._autoClose=n.autoClose!==!1;var r=this.overlayLayer_=new xu({source:new Hu({features:new fn,wrapX:n.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:n.featureStyle});if(n.layers)if(typeof n.layers=="function"){var t=n.layers;n.layers=function(i){return i===r||t(i)}}else n.layers.push&&n.layers.push(this.overlayLayer_);if(n.filter){var e=n.filter;n.filter=function(i,o){return!o&&i.get("selectclusterlink")?!1:e(i,o)}}else n.filter=function(i,o){return!(!o&&i.get("selectclusterlink"))};this.filter_=n.filter,!this._autoClose&&!n.toggleCondition&&(n.toggleCondition=Ms),Wy.call(this,n),this.on("select",this.selectCluster.bind(this))};xi(qc,Wy),qc.prototype.setMap=function(n){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Object(js.b)(this._listener),this._listener=null,Wy.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n&&n.getView()&&(this._listener=n.getView().on("change:resolution",this.clear.bind(this)))},qc.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},qc.prototype.getLayer=function(){return this.overlayLayer_},qc.prototype.selectCluster=function(n){if(n instanceof Hr&&(n={selected:[n]}),!n.selected.length){this._autoClose?this.clear():n.deselected.forEach(pt=>{pt.get("selectcluserfeatures").forEach(ht=>{this.overlayLayer_.getSource().removeFeature(ht)})});return}var r=n.selected[0];if(!r.get("selectclusterfeature")){var t=this.overlayLayer_.getSource();this._autoClose&&t.clear();var e=r.get("features");if(!(!e||e.length==1)){this.selectCluster_||this.getFeatures().clear();var i=r.getGeometry().getCoordinates(),o=this.getMap().getView().getResolution(),a,s,l,h,d,y,w,C=[];if(!this.spiral||e.length<=this.circleMaxObjects)for(h=Math.min(e.length,this.circleMaxObjects),a=o*this.pointRadius*(.5+h/4),l=0;l<h;l++)s=2*Math.PI*l/h,(h==2||h==4)&&(s+=Math.PI/4),d=[i[0]+a*Math.sin(s),i[1]+a*Math.cos(s)],y=new Hr({selectclusterfeature:!0,features:[e[l]],geometry:new Gn(d)}),y.setStyle(e[l].getStyle()),C.push(y),w=new Hr({selectclusterlink:!0,geometry:new Bi([i,d])}),C.push(w);else{s=0;var I=2*this.pointRadius;for(h=Math.min(this.maxObjects,e.length),l=0;l<h;l++){a=I/2+I*s/(2*Math.PI),s=s+(I+.1)/a;var G=o*a*Math.sin(s),Z=o*a*Math.cos(s);d=[i[0]+G,i[1]+Z],y=new Hr({selectclusterfeature:!0,features:[e[l]],geometry:new Gn(d)}),y.setStyle(e[l].getStyle()),C.push(y),w=new Hr({selectclusterlink:!0,geometry:new Bi([i,d])}),C.push(w)}}r.set("selectcluserfeatures",C),this.animate?this.animateCluster_(i,C):t.addFeatures(C)}}},qc.prototype.animateCluster_=function(n,r){if(this.listenerKey_&&Object(js.b)(this.listenerKey_),!r.length)return;var t=this.overlayLayer_.getStyle(),e=typeof t=="function"?t:t.length?function(){return t}:function(){return[t]},i=this.animationDuration||500,o=new Date().getTime();function a(l){for(var h=l.vectorContext||Sy(l),d=l.frameState.pixelRatio,y=this.getMap().getView().getResolution(),w=wa((l.frameState.time-o)/i),C=0,I;I=r[C];C++)if(I.get("features")){var G=I.getGeometry().getCoordinates();G[0]=n[0]+w*(G[0]-n[0]),G[1]=n[1]+w*(G[1]-n[1]);for(var Z=new Gn(G),lt=e(I,y),pt=0;pt<lt.length;pt++){var Et,ht=le.prototype.getFeaturesAtPixel?!1:lt[pt].getImage();ht&&(Et=ht.getScale(),ht.setScale(d)),h.setStyle?(h.setStyle(lt[pt]),h.drawGeometry(Z)):(h.setImageStyle(ht),h.drawPointGeometry(Z)),ht&&ht.setScale(Et)}}if(w>1){Object(js.b)(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(r),this.overlayLayer_.changed();return}l.frameState.animate=!0}this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],a.bind(this));var s=new Hr(new Gn(this.getMap().getView().getCenter()));s.setStyle(new va({image:new hv({})})),this.overlayLayer_.getSource().addFeature(s)},qc.prototype.getClusterExtent=function(n){if(!n.get("features"))return null;var r=tt();return n.get("features").forEach(function(t){r=br(r,t.getGeometry().getExtent())}),r[0]===r[2]&&r[1]===r[3]?null:r};var L6=qc,A6={name:"ol-interaction-clusterselect",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(M.inject)("map"),o=or(r),a=o.properties,s=Object(M.computed)(function(){var l=new L6(be(be({},a),{},{style:new va}));return l.on("select",function(h){e("select",h)}),l});Object(M.watch)(s,function(l,h){i.removeInteraction(h),i.addInteraction(l),i.changed()}),Object(M.onMounted)(function(){i.addInteraction(s.value)}),Object(M.onUnmounted)(function(){i.removeInteraction(s.value)}),Object(M.provide)("stylable",s)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},pointRadius:{type:Number,default:7},animate:{type:Boolean,default:!0},featureStyle:{type:Function},style:{type:Function}}},L_=Ce()(A6,[["render",C6]]);function R6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var P6={name:"ol-interaction-draw",emits:["drawstart","drawend"],setup:function(r,t){var e=t.emit,i=Object(M.inject)("map"),o=Object(M.inject)("vectorSource"),a=Object(M.toRefs)(r),s=a.type,l=a.clickTolerance,h=a.dragVertexDelay,d=a.snapTolerance,y=a.stopClick,w=a.maxPoints,C=a.minPoints,I=a.finishCondition,G=a.geometryFunction,Z=a.geometryName,lt=a.condition,pt=a.freehand,Et=a.freehandCondition,ht=a.wrapX,zt=function(){var Xt=new g_({source:o.value,type:s.value,clickTolerance:l.value,dragVertexDelay:h.value,snapTolerance:d.value,stopClick:y.value,maxPoints:w.value,minPoints:C.value,finishCondition:I.value,geometryFunction:G.value,geometryName:Z.value,condition:lt.value,freehand:pt.value,freehandCondition:Et.value,wrapX:ht.value});return Xt.on("drawstart",function(ce){e("drawstart",ce)}),Xt.on("drawend",function(ce){e("drawend",ce)}),Xt},Gt=zt();Object(M.watch)([s,l,h,d,y,w,C,I,G,Z,lt,pt,Et,ht],function(){i.removeInteraction(Gt),Gt=zt(),i.addInteraction(Gt),Gt.changed(),i.changed()}),Object(M.onMounted)(function(){i.addInteraction(Gt)}),Object(M.onUnmounted)(function(){i.removeInteraction(Gt)}),Object(M.provide)("stylable",Gt)},props:{type:{type:String,required:!0},clickTolerance:{type:Number,default:6},dragVertexDelay:{type:Number,default:500},snapTolerance:{type:Number,default:12},stopClick:{type:Boolean,default:!1},maxPoints:{type:Number},minPoints:{type:Number},finishCondition:{type:Function},geometryFunction:{type:Function},geometryName:{type:String},condition:{type:Function},freehand:{type:Boolean,default:!1},freehandCondition:{type:Function},wrapX:{type:Boolean,default:!1}}},A_=Ce()(P6,[["render",R6]]);function M6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var I6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function AS(n){if(n.feature)return n.feature;if(n.element)return n.element}var Pd=[],N6=function(n){I6(r,n);function r(t){var e=this,i=t||{},o=i;return o.handleDownEvent||(o.handleDownEvent=Nt.b),o.stopDown||(o.stopDown=Nt.a),e=n.call(this,o)||this,e.source_=i.source?i.source:null,e.vertex_=i.vertex!==void 0?i.vertex:!0,e.edge_=i.edge!==void 0?i.edge:!0,e.features_=i.features?i.features:null,e.featuresListenerKeys_=[],e.featureChangeListenerKeys_={},e.indexedFeaturesExtents_={},e.pendingFeatures_={},e.pixelTolerance_=i.pixelTolerance!==void 0?i.pixelTolerance:10,e.rBush_=new Ey,e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e)},e}return r.prototype.addFeature=function(t,e){var i=e!==void 0?e:!0,o=Object(ct.c)(t),a=t.getGeometry();if(a){var s=this.SEGMENT_WRITERS_[a.getType()];s&&(this.indexedFeaturesExtents_[o]=a.getExtent(tt()),s(t,a))}i&&(this.featureChangeListenerKeys_[o]=Object(Or.a)(t,qr.a.CHANGE,this.handleFeatureChange_,this))},r.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},r.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},r.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},r.prototype.handleEvent=function(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),n.prototype.handleEvent.call(this,t)},r.prototype.handleFeatureAdd_=function(t){var e=AS(t);this.addFeature(e)},r.prototype.handleFeatureRemove_=function(t){var e=AS(t);this.removeFeature(e)},r.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(ct.c)(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},r.prototype.handleUpEvent=function(t){var e=Object(Pr.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},r.prototype.removeFeature=function(t,e){var i=e!==void 0?e:!0,o=Object(ct.c)(t),a=this.indexedFeaturesExtents_[o];if(a){var s=this.rBush_,l=[];s.forEachInExtent(a,function(d){t===d.feature&&l.push(d)});for(var h=l.length-1;h>=0;--h)s.remove(l[h])}i&&(Object(Or.c)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},r.prototype.setMap=function(t){var e=this.getMap(),i=this.featuresListenerKeys_,o=this.getFeatures_();e&&(i.forEach(Or.c),i.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),n.prototype.setMap.call(this,t),t&&(this.features_?i.push(Object(Or.a)(this.features_,mn.ADD,this.handleFeatureAdd_,this),Object(Or.a)(this.features_,mn.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object(Or.a)(this.source_,la.ADDFEATURE,this.handleFeatureAdd_,this),Object(Or.a)(this.source_,la.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},r.prototype.snapTo=function(t,e,i){var o=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),a=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),s=Rt([o,a]),l=this.rBush_.getInExtent(s);this.vertex_&&!this.edge_&&(l=l.filter(function(Ee){return Ee.feature.getGeometry().getType()!==Zt.CIRCLE}));var h=!1,d=null,y=null;if(l.length===0)return{snapped:h,vertex:d,vertexPixel:y};for(var w=i.getView().getProjection(),C=Li(e),I,G=1/0,Z=0;Z<l.length;++Z){var lt=l[Z];Pd[0]=Li(lt.segment[0]),Pd[1]=Li(lt.segment[1]);var pt=Ot(C,Pd);pt<G&&(I=lt,G=pt)}var Et=I.segment;if(this.vertex_&&!this.edge_){var ht=i.getPixelFromCoordinate(Et[0]),zt=i.getPixelFromCoordinate(Et[1]),Gt=vt(t,ht),$t=vt(t,zt),Xt=Math.sqrt(Math.min(Gt,$t));Xt<=this.pixelTolerance_&&(h=!0,d=Gt>$t?Et[1]:Et[0],y=i.getPixelFromCoordinate(d))}else if(this.edge_){var ce=I.feature.getGeometry().getType()===Zt.CIRCLE;if(ce){var Ge=I.feature.getGeometry(),Me=ia();Me&&(Ge=Ge.clone().transform(Me,w)),d=el(b(C,Ge))}else Pd[0]=Li(Et[0]),Pd[1]=Li(Et[1]),d=el(D(C,Pd));if(y=i.getPixelFromCoordinate(d),yt(t,y)<=this.pixelTolerance_&&(h=!0,this.vertex_&&!ce)){var ht=i.getPixelFromCoordinate(Et[0]),zt=i.getPixelFromCoordinate(Et[1]),Gt=vt(y,ht),$t=vt(y,zt),Xt=Math.sqrt(Math.min(Gt,$t));Xt<=this.pixelTolerance_&&(d=Gt>$t?Et[1]:Et[0],y=i.getPixelFromCoordinate(d))}}return h&&(y=[Math.round(y[0]),Math.round(y[1])]),{snapped:h,vertex:d,vertexPixel:y}},r.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},r.prototype.writeCircleGeometry_=function(t,e){this.getMap().getView().getProjection();for(var i=e,o=Nl(i),a=o.getCoordinates()[0],s=0,l=a.length-1;s<l;++s){var h=a.slice(s,s+2),d={feature:t,segment:h};this.rBush_.insert(Rt(h),d)}},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),o=0;o<i.length;++o){var a=this.SEGMENT_WRITERS_[i[o].getType()];a&&a(t,i[o])}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length-1;o<a;++o){var s=i.slice(o,o+2),l={feature:t,segment:s};this.rBush_.insert(Rt(s),l)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],l=0,h=s.length-1;l<h;++l){var d=s.slice(l,l+2),y={feature:t,segment:d};this.rBush_.insert(Rt(d),y)}},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o){var s=i[o],l={feature:t,segment:[s,s]};this.rBush_.insert(e.getExtent(),l)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],l=0,h=s.length;l<h;++l)for(var d=s[l],y=0,w=d.length-1;y<w;++y){var C=d.slice(y,y+2),I={feature:t,segment:C};this.rBush_.insert(Rt(C),I)}},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),o={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],l=0,h=s.length-1;l<h;++l){var d=s.slice(l,l+2),y={feature:t,segment:d};this.rBush_.insert(Rt(d),y)}},r}(za),F6=N6,j6={name:"ol-interaction-snap",setup:function(r){var t=Object(M.inject)("map"),e=Object(M.inject)("vectorSource"),i=or(r),o=i.properties,a=function(){var h=new F6(be(be({},o),{},{source:e.value}));return h},s=a();Object(M.watch)(o,function(){t.removeInteraction(s),s=a(),t.addInteraction(s),t.changed()}),Object(M.onMounted)(function(){t.addInteraction(s)}),Object(M.onUnmounted)(function(){t.removeInteraction(s)})},props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{type:Number,default:10}}},R_=Ce()(j6,[["render",M6]]);function D6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var B6={name:"ol-interaction-modify",emits:["modifystart","modifyend"],setup:function(r,t){var e=t.emit,i=Object(M.inject)("map"),o=Object(M.inject)("vectorSource"),a=Object(M.toRefs)(r),s=a.features,l=a.condition,h=a.deleteCondition,d=a.insertVertexCondition,y=a.pixelTolerance,w=a.wrapX,C=a.hitDetection,I=function(){var lt=new __({source:o.value,features:s.value,condition:l.value,deleteCondition:h.value,insertVertexCondition:d.value,pixelTolerance:y.value,wrapX:w.value,hitDetection:C.value});return lt.on("modifystart",function(pt){e("modifystart",pt)}),lt.on("modifyend",function(pt){e("modifyend",pt)}),lt},G=I();Object(M.watch)([l,h,d,y,w,C],function(){i.removeInteraction(G),G=I(),i.addInteraction(G),G.changed(),i.changed()}),Object(M.onMounted)(function(){i.addInteraction(G)}),Object(M.onUnmounted)(function(){i.removeInteraction(G)}),Object(M.provide)("stylable",G)},props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{type:Number,default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{type:[fn,Object]}}},P_=Ce()(B6,[["render",D6]]);function G6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var wo=function(n){n||(n={});var r=this;this.selection_=new fn,this.handles_=new fn,this.overlayLayer_=new xu({source:new Hu({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return r.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),za.call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=n.features,typeof n.filter=="function"&&(this._filter=n.filter),this.layers_=n.layers?n.layers instanceof Array?n.layers:[n.layers]:null,this._handleEvent=n.condition||function(){return!0},this.addFn_=n.addCondition||function(){return!1},this.set("translateFeature",n.translateFeature!==!1),this.set("translate",n.translate!==!1),this.set("translateBBox",n.translateBBox===!0),this.set("stretch",n.stretch!==!1),this.set("scale",n.scale!==!1),this.set("rotate",n.rotate!==!1),this.set("keepAspectRatio",n.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",n.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",n.noFlip||!1),this.set("selection",n.selection!==!1),this.set("hitTolerance",n.hitTolerance||0),this.set("enableRotatedTransform",n.enableRotatedTransform||!1),this.set("keepRectangle",n.keepRectangle||!1),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()};xi(wo,za),wo.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},wo.prototype.setMap=function(n){var r=this.getMap();if(r){var t=r.getTargetElement();r.removeLayer(this.overlayLayer_),this.previousCursor_&&t&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}za.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n===null&&this.select(null),n!==null&&(this.isTouch=/touch/.test(n.getViewport().className),this.setDefaultStyle())},wo.prototype.setActive=function(n){this.select(null),this.overlayLayer_.setVisible(n),za.prototype.setActive.call(this,n)},wo.prototype.setDefaultStyle=function(n){n=n||{};var r=n.pointStroke||new Zo({color:[255,0,0,1],width:1}),t=n.stroke||new Zo({color:[255,0,0,1],width:1,lineDash:[4,4]}),e=n.fill||new pa({color:[255,0,0,.01]}),i=n.pointFill||new pa({color:[255,255,255,.8]}),o=new hy({fill:i,stroke:r,radius:this.isTouch?12:6,points:15});o.getAnchor()[0]=this.isTouch?-10:-5;var a=new hy({fill:i,stroke:r,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),s=new hy({fill:i,stroke:r,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function l(h,d,y){return[new va({image:h,stroke:d,fill:y})]}this.style={default:l(a,t,e),translate:l(a,r,i),rotate:l(o,r,i),rotate0:l(a,r,i),scale:l(a,r,i),scale1:l(a,r,i),scale2:l(a,r,i),scale3:l(a,r,i),scalev:l(s,r,i),scaleh1:l(s,r,i),scalev2:l(s,r,i),scaleh3:l(s,r,i)},this.drawSketch_()},wo.prototype.setStyle=function(n,r){if(!!r){r instanceof Array?this.style[n]=r:this.style[n]=[r];for(var t=0;t<this.style[n].length;t++){var e=this.style[n][t].getImage();e&&(n=="rotate"&&(e.getAnchor()[0]=-5),this.isTouch&&e.setScale(1.8));var i=this.style[n][t].getText();i&&(n=="rotate"&&i.setOffsetX(this.isTouch?14:7),this.isTouch&&i.setScale(1.8))}this.drawSketch_()}},wo.prototype.getFeatureAtPixel_=function(n){var r=this;return this.getMap().forEachFeatureAtPixel(n,function(t,e){var i=!1;if(!e){if(t===r.bbox_)return r.get("translateBBox")?{feature:t,handle:"translate",constraint:"",option:""}:!1;if(r.handles_.forEach(function(a){a===t&&(i=!0)}),i)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!r.get("selection"))return r.selection_.getArray().some(function(a){return t===a})?{feature:t}:null;if(r._filter)return r._filter(t,e)?{feature:t}:null;if(r.layers_){for(var o=0;o<r.layers_.length;o++)if(r.layers_[o]===e)return{feature:t};return null}else return r.features_?(r.features_.forEach(function(a){a===t&&(i=!0)}),i?{feature:t}:null):{feature:t}},{hitTolerance:this.get("hitTolerance")})||{}},wo.prototype.getGeometryRotateToZero_=function(n,r){var t=n.getGeometry(),e=this.getMap().getView().getRotation();if(e===0||!this.get("enableRotatedTransform"))return r?t.clone():t;var i=t.clone();return i.rotate(e*-1,this.getMap().getView().getCenter()),i},wo.prototype._isRectangle=function(n){if(this.get("keepRectangle")&&n.getType()==="Polygon"){var r=n.getCoordinates()[0];return r.length===5}return!1},wo.prototype.drawSketch_=function(n){var r,t,e,i=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var o=this.getMap().getView().getRotation(),a=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),s;if(i&&(s=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),s.unshift(s[3])),a=Ct(a,0),this.selection_.forEach(function(y){var w=this.getGeometryRotateToZero_(y).getExtent();br(a,w)}.bind(this)),n===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new Hr({geometry:new Gn(this.center_),handle:"rotate0"})),e=rs(a),this.get("enableRotatedTransform")&&o!==0&&e.rotate(o,this.getMap().getView().getCenter()),t=this.bbox_=new Hr(e),this.overlayLayer_.getSource().addFeature(t));else{if(this.ispt_){var l=this.getMap().getPixelFromCoordinate([a[0],a[1]]);l&&(a=Rt([this.getMap().getCoordinateFromPixel([l[0]-10,l[1]-10]),this.getMap().getCoordinateFromPixel([l[0]+10,l[1]+10])]))}e=i?new ai([s]):rs(a),this.get("enableRotatedTransform")&&o!==0&&e.rotate(o,this.getMap().getView().getCenter()),t=this.bbox_=new Hr(e);var h=[],d=e.getCoordinates()[0];if(!this.ispt_){if(h.push(t),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(r=0;r<d.length-1;r++)t=new Hr({geometry:new Gn([(d[r][0]+d[r+1][0])/2,(d[r][1]+d[r+1][1])/2]),handle:"scale",constraint:r%2?"h":"v",option:r}),h.push(t);if(this.get("scale"))for(r=0;r<d.length-1;r++)t=new Hr({geometry:new Gn(d[r]),handle:"scale",option:r}),h.push(t);this.get("translate")&&!this.get("translateFeature")&&(t=new Hr({geometry:new Gn([(d[0][0]+d[2][0])/2,(d[0][1]+d[2][1])/2]),handle:"translate"}),h.push(t))}!this.iscircle_&&this.get("rotate")&&(t=new Hr({geometry:new Gn(d[3]),handle:"rotate"}),h.push(t)),this.overlayLayer_.getSource().addFeatures(h)}}},wo.prototype.select=function(n,r){if(!n){this.selection_.clear(),this.drawSketch_();return}if(!(!n.getGeometry||!n.getGeometry())){if(r)this.selection_.push(n);else{var t=this.selection_.getArray().indexOf(n);this.selection_.removeAt(t)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:n,features:this.selection_})}},wo.prototype.setSelection=function(n){this.selection_.clear(),n.forEach(function(r){this.selection_.push(r)}.bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},wo.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach(function(n){Object(js.b)(n)}),this._featureListeners=[],this.selection_.forEach(function(n){this._featureListeners.push(n.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},wo.prototype.handleDownEvent_=function(n){if(!!this._handleEvent(n,this.selection_)){var r=this.getFeatureAtPixel_(n.pixel),t=r.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(t)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(r.handle="translate"),r.handle){this.mode_=r.handle,this.opt_=r.option,this.constraint_=r.constraint;var e=this.getMap().getView().getRotation();this.coordinate_=n.coordinate,this.pixel_=n.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var i=tt(),o=tt(),a=0,s;s=this.selection_.item(a);a++)if(this.geoms_.push(s.getGeometry().clone()),i=br(i,s.getGeometry().getExtent()),this.get("enableRotatedTransform")&&e!==0){var l=this.getGeometryRotateToZero_(s,!0);this.rotatedGeoms_.push(l),o=br(o,l.getExtent())}if(this.extent_=rs(i).getCoordinates()[0],this.get("enableRotatedTransform")&&e!==0&&(this.rotatedExtent_=rs(o).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||Xn(i);var h=n.map.getTargetElement();h.style.cursor=this.Cursors.rotate0,this.previousCursor_=h.style.cursor}else this.center_=Xn(i);return this.angle_=Math.atan2(this.center_[1]-n.coordinate[1],this.center_[0]-n.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!0}else if(this.get("selection")){if(t){this.addFn_(n)||this.selection_.clear();var d=this.selection_.getArray().indexOf(t);d<0?this.selection_.push(t):this.selection_.removeAt(d)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!1}}},wo.prototype.getFeatures=function(){return this.selection_},wo.prototype.getCenter=function(){return this.get("center")},wo.prototype.setCenter=function(n){return this.set("center",n)};function Xu(n,r){var t=(n[0]*r[0]+n[1]*r[1])/(r[0]*r[0]+r[1]*r[1]);return[r[0]*t,r[1]*t]}function hs(n,r){return[r[0]-n[0],r[1]-n[1]]}function Ka(n,r){return[n[0]+r[0],n[1]+r[1]]}wo.prototype.handleDragEvent_=function(n){if(!!this._handleEvent(n,this.features_)){var r=this.getMap().getView().getRotation(),t,e,i,o,a=[this.coordinate_[0],this.coordinate_[1]],s=[n.coordinate[0],n.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var l=Math.atan2(this.center_[1]-s[1],this.center_[0]-s[0]);if(!this.ispt)for(t=0,i;i=this.selection_.item(t);t++)o=this.geoms_[t].clone(),o.rotate(l-this.angle_,this.center_),o.getType()=="Circle"&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),i.setGeometry(o);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:l-this.angle_,pixel:n.pixel,coordinate:n.coordinate});break}case"translate":{var h=s[0]-a[0],d=s[1]-a[1];for(t=0,i;i=this.selection_.item(t);t++)i.getGeometry().translate(h,d);this.handles_.forEach(function(Xt){Xt.getGeometry().translate(h,d)}),this.coordinate_=n.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[h,d],pixel:n.pixel,coordinate:n.coordinate});break}case"scale":{var y=this.center_;if(this.get("modifyCenter")(n)){var w=this.extent_;this.get("enableRotatedTransform")&&r!==0&&(w=this.rotatedExtent_),y=w[(Number(this.opt_)+2)%4]}var C=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),I=this.constraint_,G=this.opt_,Z=this.coordinate_,lt=n.coordinate;if(this.get("enableRotatedTransform")&&r!==0){var pt=new Gn(this.coordinate_);pt.rotate(r*-1,y),Z=pt.getCoordinates();var Et=new Gn(n.coordinate);Et.rotate(r*-1,y),lt=Et.getCoordinates()}var ht=(lt[0]-y[0])/(Z[0]-y[0]),zt=(lt[1]-y[1])/(Z[1]-y[1]),Gt=[lt[0]-Z[0],lt[1]-Z[1]];if(this.get("enableRotatedTransform")&&r!==0){var $t=new Gn(y);$t.rotate(r*-1,this.getMap().getView().getCenter()),y=$t.getCoordinates()}for(this.get("noFlip")&&(ht<0&&(ht=-ht),zt<0&&(zt=-zt)),this.constraint_?this.constraint_=="h"?ht=1:zt=1:this.get("keepAspectRatio")(n)&&(ht=zt=Math.min(ht,zt)),t=0,i;i=this.selection_.item(t);t++)o=r===0||!this.get("enableRotatedTransform")?this.geoms_[t].clone():this.rotatedGeoms_[t].clone(),o.applyTransform(function(Xt,ce,Ge){if(Ge<2)return ce;if(C){var Me=[[6],[0,8],[2],[4]],Ee=[Xt[0],Xt[1]],er=[Xt[2],Xt[3]],Lr=[Xt[4],Xt[5]],Br=[Xt[6],Xt[7]],Yr=[Xt[8],Xt[9]];if(I){var $r=G%2==0?hs(Ee,er):hs(Br,Ee),On=Xu(Gt,$r),Tn=G+1<Me.length?G+1:0,Fn=[...Me[G],...Me[Tn]];for(e=0;e<Xt.length;e+=Ge)ce[e]=Fn.includes(e)?Xt[e]+On[0]:Xt[e],ce[e+1]=Fn.includes(e)?Xt[e+1]+On[1]:Xt[e+1]}else{var jn,lr;switch(G){case 0:Gt=hs(Br,lt),jn=Xu(Gt,hs(Lr,Br)),lr=Xu(Gt,hs(Ee,Br)),[ce[0],ce[1]]=Ka(Ee,jn),[ce[4],ce[5]]=Ka(Lr,lr),[ce[6],ce[7]]=Ka(Br,Gt),[ce[8],ce[9]]=Ka(Yr,jn);break;case 1:Gt=hs(Ee,lt),jn=Xu(Gt,hs(Br,Ee)),lr=Xu(Gt,hs(er,Ee)),[ce[0],ce[1]]=Ka(Ee,Gt),[ce[2],ce[3]]=Ka(er,jn),[ce[6],ce[7]]=Ka(Br,lr),[ce[8],ce[9]]=Ka(Yr,Gt);break;case 2:Gt=hs(er,lt),jn=Xu(Gt,hs(Ee,er)),lr=Xu(Gt,hs(Lr,er)),[ce[0],ce[1]]=Ka(Ee,lr),[ce[2],ce[3]]=Ka(er,Gt),[ce[4],ce[5]]=Ka(Lr,jn),[ce[8],ce[9]]=Ka(Yr,lr);break;case 3:Gt=hs(Lr,lt),jn=Xu(Gt,hs(er,Lr)),lr=Xu(Gt,hs(Br,Lr)),[ce[2],ce[3]]=Ka(er,lr),[ce[4],ce[5]]=Ka(Lr,Gt),[ce[6],ce[7]]=Ka(Br,jn);break}}}else for(e=0;e<Xt.length;e+=Ge)ht!=1&&(ce[e]=y[0]+(Xt[e]-y[0])*ht),zt!=1&&(ce[e+1]=y[1]+(Xt[e+1]-y[1])*zt);return o.getType()=="Circle"&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),ce}),this.get("enableRotatedTransform")&&r!==0&&o.rotate(r,this.getMap().getView().getCenter()),i.setGeometry(o);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[ht,zt],pixel:n.pixel,coordinate:n.coordinate});break}}this.isUpdating_=!1}},wo.prototype.handleMoveEvent_=function(n){if(!!this._handleEvent(n,this.features_)&&!this.mode_){var r=this.getFeatureAtPixel_(n.pixel),t=n.map.getTargetElement();if(r.feature){var e=r.handle?this.Cursors[(r.handle||"default")+(r.constraint||"")+(r.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=t.style.cursor),t.style.cursor=e}else this.previousCursor_!==void 0&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},wo.prototype.handleUpEvent_=function(n){if(this.mode_==="rotate"){var r=n.map.getTargetElement();r.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},wo.prototype.getFeatures=function(){return this.selection_};var U6=wo,k6={name:"ol-interaction-transform",setup:function(r){var t=Object(M.inject)("map"),e=or(r),i=e.properties,o=Object(M.computed)(function(){var a=new U6(be({},i));return a});Object(M.watch)(o,function(a,s){t.removeInteraction(s),t.addInteraction(a),t.changed()}),Object(M.onMounted)(function(){t.addInteraction(o.value)}),Object(M.onUnmounted)(function(){t.removeInteraction(o.value)}),Object(M.provide)("stylable",o)},props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{type:Function},addCondition:{type:Function},filter:{type:Function},layers:{type:Array},hitTolerance:{type:Number,default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Boolean,default:!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}}},M_=Ce()(k6,[["render",G6]]);function z6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var V6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W6=function(n){V6(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.condition_=i.condition?i.condition:Ic,e.lastAngle_=void 0,e.lastMagnitude_=void 0,e.lastScaleDelta_=0,e.duration_=i.duration!==void 0?i.duration:400,e}return r.prototype.handleDragEvent=function(t){if(!!Uo(t)){var e=t.map,i=e.getSize(),o=t.pixel,a=o[0]-i[0]/2,s=i[1]/2-o[1],l=Math.atan2(s,a),h=Math.sqrt(a*a+s*s),d=e.getView();if(this.lastAngle_!==void 0){var y=this.lastAngle_-l;d.adjustRotationInternal(y)}this.lastAngle_=l,this.lastMagnitude_!==void 0&&d.adjustResolutionInternal(this.lastMagnitude_/h),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},r.prototype.handleUpEvent=function(t){if(!Uo(t))return!0;var e=t.map,i=e.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),this.lastScaleDelta_=0,!1},r.prototype.handleDownEvent=function(t){return Uo(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},r}(za),Y6=W6,H6={name:"ol-interaction-dragrotatezoom",setup:function(r){var t=Object(M.inject)("map"),e=or(r),i=e.properties,o=Object(M.computed)(function(){var a=new Y6(be({},i));return a});Object(M.watch)(o,function(a,s){t.removeInteraction(s),t.addInteraction(a),t.changed()}),Object(M.onMounted)(function(){t.addInteraction(o.value)}),Object(M.onUnmounted)(function(){t.removeInteraction(o.value)})},props:{condition:{type:Function},duration:{type:Number,default:400}}},I_=Ce()(H6,[["render",z6]]);function Yy(n){Yy.installed||(Yy.installed=!0,n.component(C_.name,C_),n.component(L_.name,L_),n.component(A_.name,A_),n.component(R_.name,R_),n.component(P_.name,P_),n.component(M_.name,M_),n.component(I_.name,I_))}var X6=Yy;function K6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var Z6={setup:function(){var r=Object(M.inject)("map"),t=Object(M.inject)("vectorLayer");return{map:r,vectorLayer:t}},props:{duration:{type:Number,default:1e3},revers:{type:Boolean,default:!1},repeat:{type:Number,default:0},fade:{type:Function},easing:{type:Function,default:wa}}},Zl=Ce()(Z6,[["render",K6]]);function $6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}u("d81d");var Md=function(n){n=n||{},this.duration_=typeof n.duration=="number"?n.duration>=0?n.duration:0:1e3,this.fade_=typeof n.fade=="function"?n.fade:null,this.repeat_=Number(n.repeat);var r=typeof n.easing=="function"?n.easing:Ba;n.revers?this.easing_=function(t){return 1-r(t)}:this.easing_=r,this.hiddenStyle=n.hiddenStyle,vo.a.call(this)};xi(Md,vo.a),Md.hiddenStyle=new va({image:new hv({}),stroke:new Zo({color:"transparent"})}),Md.prototype.drawGeom_=function(n,r,t){this.fade_&&(n.context.globalAlpha=this.fade_(1-n.elapsed));for(var e=n.style,i=0;i<e.length;i++)try{var o=n.vectorContext||Sy(n);o.setStyle(e[i]),e[i].getZIndex()<0?o.drawGeometry(t||r):o.drawGeometry(r)}catch{}},Md.prototype.animate=function(){return!1},le.prototype.animateFeature=function(n,r){var t=this._featureAnimationLayer;t||(t=this._featureAnimationLayer=new xu({source:new Hu}),t.setMap(this)),t.getSource().addFeature(n);var e=r.on("animationend",function(i){i.feature===n&&(t.getSource().removeFeature(n),Object(js.b)(e))});t.animateFeature(n,r)},_p.prototype.animateFeature=function(n,r,t){var e=this,i,o=n.getStyle(),a=o||(this.getStyleFunction?this.getStyleFunction()(n):null);a||(a=[]),a instanceof Array||(a=[a]);var s={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:n,geom:n.getGeometry(),typeGeom:n.getGeometry().getType(),bbox:n.getGeometry().getExtent(),coord:Xn(n.getGeometry().getExtent()),style:a};r instanceof Array||(r=[r]);for(var l=r.length-1;l>=0;l--)r[l].duration_===0&&r.splice(l,1);var h=0,d=0,y=t&&this.getFilters?this.getFilters():[];function w(G){s.type=G.type;try{s.vectorContext=G.vectorContext||Sy(G)}catch{}if(s.frameState=G.frameState,s.inversePixelTransform=G.inversePixelTransform,s.extent||(s.extent=G.frameState.extent,s.start=G.frameState.time,s.context=G.context),s.time=G.frameState.time-s.start,s.elapsed=s.time/r[d].duration_,s.elapsed>1&&(s.elapsed=1),G.context.save(),y.forEach(function(lt){lt.get("active")&&lt.precompose(G)}),this.getOpacity&&(G.context.globalAlpha=this.getOpacity()),!r[d].animate(s))h++,h<r[d].repeat_?s.extent=!1:d<r.length-1?(r[d].dispatchEvent({type:"animationend",feature:n}),d++,h=0,s.extent=!1):C();else{var Z={type:"animating",step:d,start:s.start,time:s.time,elapsed:s.elapsed,rotation:s.rotation||0,geom:s.geom,coordinate:s.coord,feature:n};r[d].dispatchEvent(Z),e.dispatchEvent(Z)}y.forEach(function(lt){lt.get("active")&&lt.postcompose(G)}),G.context.restore(),G.frameState.animate=!0}function C(G){Object(js.b)(i),i=null,n.setStyle(o);var Z={type:"animationend",feature:n};if(G)for(var lt in G)G.hasOwnProperty(lt)&&(Z[lt]=G[lt]);r[d].dispatchEvent(Z),e.dispatchEvent(Z)}function I(G){if(r.length&&!i){if(i=e.on(["postcompose","postrender"],w.bind(e)),e.renderSync)try{e.renderSync()}catch{}else e.changed();n.setStyle(r[d].hiddenStyle||Md.hiddenStyle);var Z={type:"animationstart",feature:n};if(G)for(var lt in G)G.hasOwnProperty(lt)&&(Z[lt]=G[lt]);r[d].dispatchEvent(Z),e.dispatchEvent(Z)}}return I(),{start:I,stop:C,isPlaying:function(){return!!i}}};var ds=Md,N_=function(n){n=n||{},this.speed_=n.speed||0,ds.call(this,n),this.side_=n.side||"top"};xi(N_,ds),N_.prototype.animate=function(n){if(!n.time){var r=n.frameState.viewState.rotation,t=n.frameState.size[1]*n.frameState.viewState.resolution;this.side_!="top"&&(t*=-1),this.dx=-Math.sin(r)*t,this.dy=Math.cos(r)*t,this.speed_&&(this.duration_=t/this.speed_/n.frameState.viewState.resolution)}var e=n.geom.clone();return e.translate(this.dx*(1-this.easing_(n.elapsed)),this.dy*(1-this.easing_(n.elapsed))),this.drawGeom_(n,e,n.geom),n.time<=this.duration_};var J6=N_;function ih(n,r){var t=Zl.setup(),e=t.map,i=t.vectorLayer,o=or(r),a=o.properties,s=Object(M.computed)(function(){var l=new n(be({},a));return l});return Object(M.provide)("animation",s),{map:e,vectorLayer:i,animation:s,properties:a}}var q6={name:"ol-animation-drop",extends:Zl,setup:function(r){var t=ih(J6,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{side:{type:Number,default:0},speed:{type:Number,default:0}}},F_=Ce()(q6,[["render",$6]]);function Q6(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var j_=function(n){n=n||{},ds.call(this,n),this.amplitude_=n.amplitude||40,this.bounce_=-Math.PI*(n.bounce||6),this.horizontal_=n.horizontal};xi(j_,ds),j_.prototype.animate=function(n){var r=n.geom.clone(),t=n.geom.clone(),e=this.easing_(n.elapsed);return e=Math.sin(this.bounce_*e)*this.amplitude_*(1-e)*n.frameState.viewState.resolution,this.horizontal_?(r.translate(e,0),t.translate(e,0)):r.translate(0,e),this.drawGeom_(n,r,t),n.time<=this.duration_};var t8=j_,e8={name:"ol-animation-shake",extends:Zl,setup:function(r){var t=ih(t8,r),e=t.map,i=t.vectorLayer,o=t.properties,a=t.animation;return{map:e,vectorLayer:i,properties:o,animation:a}},props:{bounce:{type:Number,default:6},amplitude:{type:Number,default:40},horizontal:{type:Boolean,default:!1}}},D_=Ce()(e8,[["render",Q6]]);function r8(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var Ev=function(n){n=n||{},ds.call(this,n),this.set("zoomout",n.zoomOut)};xi(Ev,ds);var n8=function(n){n=n||{},n.zoomOut=!0,Ev.call(this,n)};xi(n8,Ev),Ev.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){this.get("zoomout")&&(r=1/r);var t=n.style,e,i,o=[];for(e=0;e<t.length;e++)i=t[e].getImage(),i&&(o[e]=i.getScale(),n.type==="postrender"?i.setScale(o[e]*r/n.frameState.pixelRatio):i.setScale(o[e]*r));for(this.drawGeom_(n,n.geom),e=0;e<t.length;e++)i=t[e].getImage(),i&&i.setScale(o[e])}return n.time<=this.duration_};var i8=Ev,o8={name:"ol-animation-zoom",extends:Zl,setup:function(r){var t=ih(i8,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{zoomOut:{type:Boolean,default:!1}}},B_=Ce()(o8,[["render",r8]]);function a8(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var G_=function(n){ds.call(this,n)};xi(G_,ds),G_.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){n.context.save();var t=n.frameState.pixelRatio;n.context.globalAlpha=r,n.context.scale(r,1/r);var e=n.frameState.coordinateToPixelTransform,i=(1/r-1)*t*(e[0]*n.coord[0]+e[1]*n.coord[1]+e[4]),o=(r-1)*t*(e[2]*n.coord[0]+e[3]*n.coord[1]+e[5]);n.context.translate(i,o),this.drawGeom_(n,n.geom),n.context.restore()}return n.time<=this.duration_};var s8=G_,l8={name:"ol-animation-teleport",extends:Zl,setup:function(r){var t=ih(s8,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{}},U_=Ce()(l8,[["render",a8]]);function u8(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var k_=function(n){n=n||{},this.speed_=n.speed||0,ds.call(this,n)};xi(k_,ds),k_.prototype.animate=function(n){return n.context.globalAlpha=this.easing_(n.elapsed),this.drawGeom_(n,n.geom),n.time<=this.duration_};var c8=k_,f8={name:"ol-animation-fade",extends:Zl,setup:function(r){var t=ih(c8,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}}},z_=Ce()(f8,[["render",u8]]);function h8(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var V_=function(n){n=n||{},this.speed_=n.speed||0,ds.call(this,n),this.side_=n.side||"left"};xi(V_,ds),V_.prototype.animate=function(n){n.time||(this.side_=="left"?this.dx=n.extent[0]-n.bbox[2]:this.dx=n.extent[2]-n.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/n.frameState.viewState.resolution));var r=n.geom.clone();return r.translate(this.dx*(1-this.easing_(n.elapsed)),0),this.drawGeom_(n,r),n.time<=this.duration_};var d8=V_,p8={name:"ol-animation-slide",extends:Zl,setup:function(r){var t=ih(d8,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{speed:{type:Number,default:0}}},W_=Ce()(p8,[["render",h8]]);function v8(n,r,t,e,i,o){return Object(M.renderSlot)(n.$slots,"default")}var Y_=function(n){switch(n=n||{},ds.call(this,n),this.speed_=n.speed||0,this.path_=n.path,n.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=n.rotate||!1;break}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)};xi(Y_,ds),Y_.prototype.animate=function(n){if(!n.time&&!this.dist_)return!1;var r=this.dist_*this.easing_(n.elapsed),t,e,i,o,a,s,l=0;e=this.path_[0];for(var h=1;h<this.path_.length;h++){if(t=e,e=this.path_[h],o=e[0]-t[0],a=e[1]-t[1],s=Math.sqrt(o*o+a*a),s&&l+s>=r){i=(r-l)/s,e=[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i];break}l+=s}var d=n.style;if(n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]),this.rotate_!==!1){var y=[],w=this.rotate_-n.rotation+n.frameState.viewState.rotation;n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]);for(var C=0;i=n.style[C];C++)i.getImage()&&i.getImage().setRotation(w),y.push(i);n.style=y}return n.geom.setCoordinates(e),this.drawGeom_(n,n.geom),n.style=d,n.time<=this.duration_};var g8=Y_,y8={name:"ol-animation-path",extends:Zl,setup:function(r){var t=ih(g8,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{rotate:{type:Boolean,default:!1},speed:{type:Number,default:0},path:{type:Object}}},H_=Ce()(y8,[["render",v8]]);function Hy(n){Hy.installed||(Hy.installed=!0,n.component(Zl.name,Zl),n.component(F_.name,F_),n.component(D_.name,D_),n.component(B_.name,B_),n.component(U_.name,U_),n.component(z_.name,z_),n.component(W_.name,W_),n.component(H_.name,H_))}var m8=Hy;u("5bc0"),u("dbd0"),u("872d"),u("7d05");var _8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),E8=function(n){_8(r,n);function r(t){var e=n.call(this)||this;return e.geometries_=t||null,e.changeEventsKeys_=[],e.listenGeometriesChange_(),e}return r.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Or.c),this.changeEventsKeys_.length=0},r.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(Or.a)(this.geometries_[t],qr.a.CHANGE,this.changed,this))},r.prototype.clone=function(){var t=new r(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){if(o<jt(this.getExtent(),t,e))return o;for(var a=this.geometries_,s=0,l=a.length;s<l;++s)o=a[s].closestPointXY(t,e,i,o);return o},r.prototype.containsXY=function(t,e){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)if(i[o].containsXY(t,e))return!0;return!1},r.prototype.computeExtent=function(t){V(t);for(var e=this.geometries_,i=0,o=e.length;i<o;++i)br(t,e[i].getExtent());return t},r.prototype.getGeometries=function(){return RS(this.geometries_)},r.prototype.getGeometriesArray=function(){return this.geometries_},r.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,i=0,o=e.length;i<o;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],i=this.geometries_,o=!1,a=0,s=i.length;a<s;++a){var l=i[a],h=l.getSimplifiedGeometry(t);e.push(h),h!==l&&(o=!0)}if(o){var d=new r(null);return d.setGeometriesArray(e),d}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},r.prototype.getType=function(){return Zt.GEOMETRY_COLLECTION},r.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,o=e.length;i<o;++i)if(e[i].intersectsExtent(t))return!0;return!1},r.prototype.isEmpty=function(){return this.geometries_.length===0},r.prototype.rotate=function(t,e){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].rotate(t,e);this.changed()},r.prototype.scale=function(t,e,i){var o=i;o||(o=Xn(this.getExtent()));for(var a=this.geometries_,s=0,l=a.length;s<l;++s)a[s].scale(t,e,o);this.changed()},r.prototype.setGeometries=function(t){this.setGeometriesArray(RS(t))},r.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},r.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,o=e.length;i<o;++i)e[i].applyTransform(t);this.changed()},r.prototype.translate=function(t,e){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].translate(t,e);this.changed()},r.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},r}(Gu);function RS(n){for(var r=[],t=0,e=n.length;t<e;++t)r.push(n[t].clone());return r}var Ma=E8,x8=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(r,t){var e;if(t){var i=t.dataProjection?en(t.dataProjection):this.readProjection(r);t.extent&&i&&i.getUnits()===ki.TILE_PIXELS&&(i=en(i),i.setWorldExtent(t.extent)),e={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(e)},n.prototype.adaptOptions=function(r){return Object(Pr.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},n.prototype.getType=function(){return Object(ct.b)()},n.prototype.readFeature=function(r,t){return Object(ct.b)()},n.prototype.readFeatures=function(r,t){return Object(ct.b)()},n.prototype.readGeometry=function(r,t){return Object(ct.b)()},n.prototype.readProjection=function(r){return Object(ct.b)()},n.prototype.writeFeature=function(r,t){return Object(ct.b)()},n.prototype.writeFeatures=function(r,t){return Object(ct.b)()},n.prototype.writeGeometry=function(r,t){return Object(ct.b)()},n}(),xv=x8;function so(n,r,t){var e=t?en(t.featureProjection):null,i=t?en(t.dataProjection):null,o;if(e&&i&&!Vi(e,i)?o=(r?n.clone():n).transform(r?e:i,r?i:e):o=n,r&&t&&t.decimals!==void 0){var a=Math.pow(10,t.decimals),s=function(l){for(var h=0,d=l.length;h<d;++h)l[h]=Math.round(l[h]*a)/a;return l};o===n&&(o=n.clone()),o.applyTransform(s)}return o}function X_(n,r){var t=r?en(r.featureProjection):null,e=r?en(r.dataProjection):null;return t&&e&&!Vi(t,e)?Sn(n,e,t):n}var S8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w8=function(n){S8(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return Hl.JSON},r.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Xy(t),this.getReadOptions(t,e))},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Xy(t),this.getReadOptions(t,e))},r.prototype.readFeatureFromObject=function(t,e){return Object(ct.b)()},r.prototype.readFeaturesFromObject=function(t,e){return Object(ct.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Xy(t),this.getReadOptions(t,e))},r.prototype.readGeometryFromObject=function(t,e){return Object(ct.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromObject(Xy(t))},r.prototype.readProjectionFromObject=function(t){return Object(ct.b)()},r.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},r.prototype.writeFeatureObject=function(t,e){return Object(ct.b)()},r.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},r.prototype.writeFeaturesObject=function(t,e){return Object(ct.b)()},r.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},r.prototype.writeGeometryObject=function(t,e){return Object(ct.b)()},r}(xv);function Xy(n){if(typeof n=="string"){var r=JSON.parse(n);return r||null}else return n!==null?n:null}var K_=w8,O8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oh={};oh[Zt.POINT]=C8,oh[Zt.LINE_STRING]=L8,oh[Zt.POLYGON]=M8,oh[Zt.MULTI_POINT]=R8,oh[Zt.MULTI_LINE_STRING]=A8,oh[Zt.MULTI_POLYGON]=P8;var ah={};ah[Zt.POINT]=I8,ah[Zt.LINE_STRING]=N8,ah[Zt.POLYGON]=F8,ah[Zt.MULTI_POINT]=D8,ah[Zt.MULTI_LINE_STRING]=j8,ah[Zt.MULTI_POLYGON]=B8;var T8=function(n){O8(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.geometryName_=i.geometryName,e}return r.prototype.readFeatureFromObject=function(t,e,i){var o=t,a=PS(o.geometry,e),s=new Hr;if(this.geometryName_&&s.setGeometryName(this.geometryName_),s.setGeometry(a),o.attributes){s.setProperties(o.attributes,!0);var l=o.attributes[i];l!==void 0&&s.setId(l)}return s},r.prototype.readFeaturesFromObject=function(t,e){var i=e||{};if(t.features){for(var o=t,a=[],s=o.features,l=0,h=s.length;l<h;++l)a.push(this.readFeatureFromObject(s[l],i,t.objectIdFieldName));return a}else return[this.readFeatureFromObject(t,i)]},r.prototype.readGeometryFromObject=function(t,e){return PS(t,e)},r.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&t.spatialReference.wkid!==void 0){var e=t.spatialReference,i=e.wkid;return en("EPSG:"+i)}else return null},r.prototype.writeGeometryObject=function(t,e){return MS(t,this.adaptOptions(e))},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={};if(!t.hasProperties())return i.attributes={},i;var o=t.getProperties(),a=t.getGeometry();if(a){i.geometry=MS(a,e);var s=e&&(e.dataProjection||e.featureProjection);s&&(i.geometry.spatialReference={wkid:Number(en(s).getCode().split(":").pop())}),delete o[t.getGeometryName()]}return Object(Pr.d)(o)?i.attributes={}:i.attributes=o,i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,a=t.length;o<a;++o)i.push(this.writeFeatureObject(t[o],e));return{features:i}},r}(K_);function PS(n,r){var t,e;if(!n)return null;var i;if(typeof n.x=="number"&&typeof n.y=="number")i=Zt.POINT;else if(n.points)i=Zt.MULTI_POINT;else if(n.paths){var o=n;o.paths.length===1?i=Zt.LINE_STRING:i=Zt.MULTI_LINE_STRING}else if(n.rings){var a=n,s=Id(a),l=b8(a.rings,s);l.length===1?(i=Zt.POLYGON,n=Object(Pr.a)({},n,(t={},t.rings=l[0],t))):(i=Zt.MULTI_POLYGON,n=Object(Pr.a)({},n,(e={},e.rings=l,e)))}var h=oh[i];return so(h(n),!1,r)}function b8(n,r){var t=[],e=[],i=[],o,a;for(o=0,a=n.length;o<a;++o){t.length=0,nr(t,0,n[o],r.length);var s=Ls(t,0,t.length,r.length);s?e.push([n[o]]):i.push(n[o])}for(;i.length;){var l=i.shift(),h=!1;for(o=e.length-1;o>=0;o--){var d=e[o][0],y=he(new bs(d).getExtent(),new bs(l).getExtent());if(y){e[o].push(l),h=!0;break}}h||e.push([l.reverse()])}return e}function C8(n){var r;return n.m!==void 0&&n.z!==void 0?r=new Gn([n.x,n.y,n.z,n.m],pr.XYZM):n.z!==void 0?r=new Gn([n.x,n.y,n.z],pr.XYZ):n.m!==void 0?r=new Gn([n.x,n.y,n.m],pr.XYM):r=new Gn([n.x,n.y]),r}function L8(n){var r=Id(n);return new Bi(n.paths[0],r)}function A8(n){var r=Id(n);return new fs(n.paths,r)}function Id(n){var r=pr.XY;return n.hasZ===!0&&n.hasM===!0?r=pr.XYZM:n.hasZ===!0?r=pr.XYZ:n.hasM===!0&&(r=pr.XYM),r}function R8(n){var r=Id(n);return new ml(n.points,r)}function P8(n){var r=Id(n);return new Pa(n.rings,r)}function M8(n){var r=Id(n);return new ai(n.rings,r)}function I8(n,r){var t=n.getCoordinates(),e,i=n.getLayout();return i===pr.XYZ?e={x:t[0],y:t[1],z:t[2]}:i===pr.XYM?e={x:t[0],y:t[1],m:t[2]}:i===pr.XYZM?e={x:t[0],y:t[1],z:t[2],m:t[3]}:i===pr.XY?e={x:t[0],y:t[1]}:qt(!1,34),e}function Sv(n){var r=n.getLayout();return{hasZ:r===pr.XYZ||r===pr.XYZM,hasM:r===pr.XYM||r===pr.XYZM}}function N8(n,r){var t=Sv(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:[n.getCoordinates()]}}function F8(n,r){var t=Sv(n);return{hasZ:t.hasZ,hasM:t.hasM,rings:n.getCoordinates(!1)}}function j8(n,r){var t=Sv(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:n.getCoordinates()}}function D8(n,r){var t=Sv(n);return{hasZ:t.hasZ,hasM:t.hasM,points:n.getCoordinates()}}function B8(n,r){for(var t=Sv(n),e=n.getCoordinates(!1),i=[],o=0;o<e.length;o++)for(var a=e[o].length-1;a>=0;a--)i.push(e[o][a]);return{hasZ:t.hasZ,hasM:t.hasM,rings:i}}function MS(n,r){var t=ah[n.getType()];return t(so(n,!0,r),r)}var G8=T8,U8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),k8=function(n){U8(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.dataProjection=en(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(e.defaultFeatureProjection=en(i.featureProjection)),e.geometryName_=i.geometryName,e.extractGeometryName_=i.extractGeometryName,e.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],e}return r.prototype.readFeatureFromObject=function(t,e){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=Z_(i.geometry,e),a=new Hr;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(o),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a},r.prototype.readFeaturesFromObject=function(t,e){var i=t,o=null;if(i.type==="FeatureCollection"){var a=t;o=[];for(var s=a.features,l=0,h=s.length;l<h;++l)o.push(this.readFeatureFromObject(s[l],e))}else o=[this.readFeatureFromObject(t,e)];return o},r.prototype.readGeometryFromObject=function(t,e){return Z_(t,e)},r.prototype.readProjectionFromObject=function(t){var e=t.crs,i;return e?e.type=="name"?i=en(e.properties.name):e.type==="EPSG"?i=en("EPSG:"+e.properties.code):qt(!1,36):i=this.dataProjection,i},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var a=t.getProperties(),s=t.getGeometry();return s&&(i.geometry=$_(s,e),delete a[t.getGeometryName()]),Object(Pr.d)(a)||(i.properties=a),i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,a=t.length;o<a;++o)i.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:i}},r.prototype.writeGeometryObject=function(t,e){return $_(t,this.adaptOptions(e))},r}(K_);function Z_(n,r){if(!n)return null;var t;switch(n.type){case Zt.POINT:{t=V8(n);break}case Zt.LINE_STRING:{t=W8(n);break}case Zt.POLYGON:{t=K8(n);break}case Zt.MULTI_POINT:{t=H8(n);break}case Zt.MULTI_LINE_STRING:{t=Y8(n);break}case Zt.MULTI_POLYGON:{t=X8(n);break}case Zt.GEOMETRY_COLLECTION:{t=z8(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return so(t,!1,r)}function z8(n,r){var t=n.geometries.map(function(e){return Z_(e,r)});return new Ma(t)}function V8(n){return new Gn(n.coordinates)}function W8(n){return new Bi(n.coordinates)}function Y8(n){return new fs(n.coordinates)}function H8(n){return new ml(n.coordinates)}function X8(n){return new Pa(n.coordinates)}function K8(n){return new ai(n.coordinates)}function $_(n,r){n=so(n,!0,r);var t=n.getType(),e;switch(t){case Zt.POINT:{e=tj(n);break}case Zt.LINE_STRING:{e=$8(n);break}case Zt.POLYGON:{e=ej(n,r);break}case Zt.MULTI_POINT:{e=q8(n);break}case Zt.MULTI_LINE_STRING:{e=J8(n);break}case Zt.MULTI_POLYGON:{e=Q8(n,r);break}case Zt.GEOMETRY_COLLECTION:{e=Z8(n,r);break}case Zt.CIRCLE:{e={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return e}function Z8(n,r){var t=n.getGeometriesArray().map(function(e){var i=Object(Pr.a)({},r);return delete i.featureProjection,$_(e,i)});return{type:"GeometryCollection",geometries:t}}function $8(n,r){return{type:"LineString",coordinates:n.getCoordinates()}}function J8(n,r){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function q8(n,r){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function Q8(n,r){var t;return r&&(t=r.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function tj(n,r){return{type:"Point",coordinates:n.getCoordinates()}}function ej(n,r){var t;return r&&(t=r.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var rj=k8,sh="http://www.w3.org/2001/XMLSchema-instance";function An(n,r){return Nd().createElementNS(n,r)}function Za(n,r){return IS(n,r,[]).join("")}function IS(n,r,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)r?t.push(String(n.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(n.nodeValue);else{var e=void 0;for(e=n.firstChild;e;e=e.nextSibling)IS(e,r,t)}return t}function wu(n){return"documentElement"in n}function nj(n,r,t){return n.getAttributeNS(r,t)||""}function Ou(n){return new DOMParser().parseFromString(n,"application/xml")}function NS(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var o=e[e.length-1];Object(Sr.c)(o,i)}}}function tn(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var o=e[e.length-1];o.push(i)}}}function pn(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);i!==void 0&&(e[e.length-1]=i)}}function $i(n,r,t){return function(e,i){var o=n.call(t!==void 0?t:this,e,i);if(o!==void 0){var a=i[i.length-1],s=r!==void 0?r:e.localName,l=void 0;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}}}function te(n,r,t){return function(e,i){var o=n.call(t!==void 0?t:this,e,i);if(o!==void 0){var a=i[i.length-1],s=r!==void 0?r:e.localName;a[s]=o}}}function ie(n,r){return function(t,e,i){n.call(r!==void 0?r:this,t,e,i);var o=i[i.length-1],a=o.node;a.appendChild(t)}}function FS(n,r){var t,e;return function(i,o,a){if(t===void 0){t={};var s={};s[i.localName]=n,t[i.namespaceURI]=s,e=ho(i.localName)}jS(t,e,o,a)}}function ho(n,r){var t=n;return function(e,i,o){var a=i[i.length-1],s=a.node,l=t;l===void 0&&(l=o);var h=r!==void 0?r:s.namespaceURI;return An(h,l)}}var ua=ho();function ps(n,r){for(var t=r.length,e=new Array(t),i=0;i<t;++i)e[i]=n[r[i]];return e}function Ye(n,r,t){var e=t!==void 0?t:{},i,o;for(i=0,o=n.length;i<o;++i)e[n[i]]=r;return e}function vs(n,r,t,e){var i;for(i=r.firstElementChild;i;i=i.nextElementSibling){var o=n[i.namespaceURI];if(o!==void 0){var a=o[i.localName];a!==void 0&&a.call(e,i,t)}}}function ar(n,r,t,e,i){return e.push(n),vs(r,t,e,i),e.pop()}function jS(n,r,t,e,i,o){for(var a=(i!==void 0?i:t).length,s,l,h=0;h<a;++h)s=t[h],s!==void 0&&(l=r.call(o!==void 0?o:this,s,e,i!==void 0?i[h]:void 0),l!==void 0&&n[l.namespaceURI][l.localName].call(o,l,s,e))}function Cn(n,r,t,e,i,o,a){return i.push(n),jS(r,t,e,i,o,a),i.pop()}var J_=void 0;function ij(){return J_===void 0&&typeof XMLSerializer!="undefined"&&(J_=new XMLSerializer),J_}var q_=void 0;function Nd(){return q_===void 0&&typeof document!="undefined"&&(q_=document.implementation.createDocument("","",null)),q_}var oj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aj=function(n){oj(r,n);function r(){var t=n.call(this)||this;return t.xmlSerializer_=ij(),t}return r.prototype.getType=function(){return Hl.XML},r.prototype.readFeature=function(t,e){if(t)if(typeof t=="string"){var i=Ou(t);return this.readFeatureFromDocument(i,e)}else return wu(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e);else return null},r.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},r.prototype.readFeatureFromNode=function(t,e){return null},r.prototype.readFeatures=function(t,e){if(t)if(typeof t=="string"){var i=Ou(t);return this.readFeaturesFromDocument(i,e)}else return wu(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e);else return[]},r.prototype.readFeaturesFromDocument=function(t,e){for(var i=[],o=t.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(Sr.c)(i,this.readFeaturesFromNode(o,e));return i},r.prototype.readFeaturesFromNode=function(t,e){return Object(ct.b)()},r.prototype.readGeometry=function(t,e){if(t)if(typeof t=="string"){var i=Ou(t);return this.readGeometryFromDocument(i,e)}else return wu(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e);else return null},r.prototype.readGeometryFromDocument=function(t,e){return null},r.prototype.readGeometryFromNode=function(t,e){return null},r.prototype.readProjection=function(t){if(t)if(typeof t=="string"){var e=Ou(t);return this.readProjectionFromDocument(e)}else return wu(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t);else return null},r.prototype.readProjectionFromDocument=function(t){return this.dataProjection},r.prototype.readProjectionFromNode=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeatureNode=function(t,e){return null},r.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeaturesNode=function(t,e){return null},r.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeGeometryNode=function(t,e){return null},r}(xv),wv=aj,sj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ku="http://www.opengis.net/gml",lj=/^[\s\xa0]*$/,Oo=function(n){sj(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureType=i.featureType,e.featureNS=i.featureNS,e.srsName=i.srsName,e.schemaLocation="",e.FEATURE_COLLECTION_PARSERS={},e.FEATURE_COLLECTION_PARSERS[e.namespace]={featureMember:tn(e.readFeaturesInternal),featureMembers:pn(e.readFeaturesInternal)},e.supportedMediaTypes=["application/gml+xml"],e}return r.prototype.readFeaturesInternal=function(t,e){var i=t.localName,o=null;if(i=="FeatureCollection")o=ar([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if(i=="featureMembers"||i=="featureMember"||i=="member"){var a=e[0],s=a.featureType,l=a.featureNS,h="p",d="p0";if(!s&&t.childNodes){s=[],l={};for(var y=0,w=t.childNodes.length;y<w;++y){var C=t.childNodes[y];if(C.nodeType===1){var I=C.nodeName.split(":").pop();if(s.indexOf(I)===-1){var G="",Z=0,lt=C.namespaceURI;for(var pt in l){if(l[pt]===lt){G=pt;break}++Z}G||(G=h+Z,l[G]=lt),s.push(G+":"+I)}}}i!="featureMember"&&(a.featureType=s,a.featureNS=l)}if(typeof l=="string"){var Et=l;l={},l[d]=Et}var ht={},zt=Array.isArray(s)?s:[s];for(var Gt in l){for(var $t={},y=0,w=zt.length;y<w;++y){var Xt=zt[y].indexOf(":")===-1?d:zt[y].split(":")[0];Xt===Gt&&($t[zt[y].split(":").pop()]=i=="featureMembers"?tn(this.readFeatureElement,this):pn(this.readFeatureElement,this))}ht[l[Gt]]=$t}i=="featureMember"||i=="member"?o=ar(void 0,ht,t,e):o=ar([],ht,t,e)}return o===null&&(o=[]),o},r.prototype.readGeometryElement=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension");var o=ar(null,this.GEOMETRY_PARSERS,t,e,this);if(o)return Array.isArray(o)?X_(o,i):so(o,!1,i)},r.prototype.readFeatureElementInternal=function(t,e,i){for(var o,a={},s=t.firstElementChild;s;s=s.nextElementSibling){var l=void 0,h=s.localName;s.childNodes.length===0||s.childNodes.length===1&&(s.firstChild.nodeType===3||s.firstChild.nodeType===4)?(l=Za(s,!1),lj.test(l)&&(l=void 0)):(i&&(l=this.readGeometryElement(s,e)),l?h!=="boundedBy"&&(o=h):l=this.readFeatureElementInternal(s,e,!1)),a[h]?(a[h]instanceof Array||(a[h]=[a[h]]),a[h].push(l)):a[h]=l;var d=s.attributes.length;if(d>0){a[h]={_content_:a[h]};for(var y=0;y<d;y++){var w=s.attributes[y].name;a[h][w]=s.attributes[y].value}}}if(i){var C=new Hr(a);o&&C.setGeometryName(o);var I=t.getAttribute("fid")||nj(t,this.namespace,"id");return I&&C.setId(I),C}else return a},r.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},r.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new Gn(i,pr.XYZ)},r.prototype.readMultiPoint=function(t,e){var i=ar([],this.MULTIPOINT_PARSERS,t,e,this);if(i)return new ml(i)},r.prototype.readMultiLineString=function(t,e){var i=ar([],this.MULTILINESTRING_PARSERS,t,e,this);if(i)return new fs(i)},r.prototype.readMultiPolygon=function(t,e){var i=ar([],this.MULTIPOLYGON_PARSERS,t,e,this);if(i)return new Pa(i)},r.prototype.pointMemberParser=function(t,e){vs(this.POINTMEMBER_PARSERS,t,e,this)},r.prototype.lineStringMemberParser=function(t,e){vs(this.LINESTRINGMEMBER_PARSERS,t,e,this)},r.prototype.polygonMemberParser=function(t,e){vs(this.POLYGONMEMBER_PARSERS,t,e,this)},r.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i){var o=new Bi(i,pr.XYZ);return o}else return},r.prototype.readFlatLinearRing=function(t,e){var i=ar(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(i)return i},r.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new bs(i,pr.XYZ)},r.prototype.readPolygon=function(t,e){var i=ar([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(i&&i[0]){var o=i[0],a=[o.length],s=void 0,l=void 0;for(s=1,l=i.length;s<l;++s)Object(Sr.c)(o,i[s]),a.push(o.length);return new ai(o,pr.XYZ,a)}else return},r.prototype.readFlatCoordinatesFromNode=function(t,e){return ar(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.readGeometryFromNode=function(t,e){var i=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};e&&Object(Pr.a)(i,this.getReadOptions(t,e));var o=this.readFeaturesInternal(t,[i]);return o||[]},r.prototype.readProjectionFromNode=function(t){return en(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r}(wv);Oo.prototype.namespace=Ku,Oo.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Oo.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Oo.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Oo.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:tn(Oo.prototype.pointMemberParser),pointMembers:tn(Oo.prototype.pointMemberParser)}},Oo.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:tn(Oo.prototype.lineStringMemberParser),lineStringMembers:tn(Oo.prototype.lineStringMemberParser)}},Oo.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:tn(Oo.prototype.polygonMemberParser),polygonMembers:tn(Oo.prototype.polygonMemberParser)}},Oo.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:tn(Oo.prototype.readFlatCoordinatesFromNode)}},Oo.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:tn(Oo.prototype.readLineString)}},Oo.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:tn(Oo.prototype.readPolygon)}},Oo.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:pn(Oo.prototype.readFlatLinearRing)}};var ei=Oo;function Qc(n){var r=Za(n,!1);return lh(r)}function lh(n){var r=/^\s*(true|1)|(false|0)\s*$/.exec(n);if(r)return r[1]!==void 0||!1}function Q_(n){var r=Za(n,!1),t=Date.parse(r);return isNaN(t)?void 0:t/1e3}function wi(n){var r=Za(n,!1);return Zu(r)}function Zu(n){var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n);if(r)return parseFloat(r[1])}function Fo(n){var r=Za(n,!1);return $u(r)}function $u(n){var r=/^\s*(\d+)\s*$/.exec(n);if(r)return parseInt(r[1],10)}function ur(n){return Za(n,!1).trim()}function Fd(n,r){wn(n,r?"1":"0")}function uj(n,r){n.appendChild(Nd().createCDATASection(r))}function cj(n,r){var t=new Date(r*1e3),e=t.getUTCFullYear()+"-"+E(t.getUTCMonth()+1,2)+"-"+E(t.getUTCDate(),2)+"T"+E(t.getUTCHours(),2)+":"+E(t.getUTCMinutes(),2)+":"+E(t.getUTCSeconds(),2)+"Z";n.appendChild(Nd().createTextNode(e))}function gs(n,r){var t=r.toPrecision();n.appendChild(Nd().createTextNode(t))}function Ky(n,r){var t=r.toString();n.appendChild(Nd().createTextNode(t))}function wn(n,r){n.appendChild(Nd().createTextNode(r))}var fj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hj=Ku+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",dj={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},vi=function(n){fj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.FEATURE_COLLECTION_PARSERS[Ku].featureMember=tn(e.readFeaturesInternal),e.schemaLocation=i.schemaLocation?i.schemaLocation:hj,e}return r.prototype.readFlatCoordinates=function(t,e){var i=Za(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],a=o.srsName,s="enu";if(a){var l=en(a);l&&(s=l.getAxisOrientation())}for(var h=i.trim().split(/\s+/),d=[],y=0,w=h.length;y<w;y++){var C=h[y].split(/,+/),I=parseFloat(C[0]),G=parseFloat(C[1]),Z=C.length===3?parseFloat(C[2]):0;s.substr(0,2)==="en"?d.push(I,G,Z):d.push(G,I,Z)}return d},r.prototype.readBox=function(t,e){var i=ar([null],this.BOX_PARSERS_,t,e,this);return z(i[1][0],i[1][1],i[1][3],i[1][4])},r.prototype.innerBoundaryIsParser=function(t,e){var i=ar(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o.push(i)}},r.prototype.outerBoundaryIsParser=function(t,e){var i=ar(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o[0]=i}},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.multiSurface,s=o.surface,l=o.multiCurve,h;return Array.isArray(t)?h="Envelope":(h=t.getType(),h==="MultiPolygon"&&a===!0?h="MultiSurface":h==="Polygon"&&s===!0?h="Surface":h==="MultiLineString"&&l===!0&&(h="MultiCurve")),An("http://www.opengis.net/gml",h)},r.prototype.writeFeatureElement=function(t,e,i){var o=e.getId();o&&t.setAttribute("fid",o);var a=i[i.length-1],s=a.featureNS,l=e.getGeometryName();a.serializers||(a.serializers={},a.serializers[s]={});var h=[],d=[];if(e.hasProperties()){var y=e.getProperties();for(var w in y){var C=y[w];C!==null&&(h.push(w),d.push(C),w==l||typeof C.getSimplifiedGeometry=="function"?w in a.serializers[s]||(a.serializers[s][w]=ie(this.writeGeometryElement,this)):w in a.serializers[s]||(a.serializers[s][w]=ie(wn)))}}var I=Object(Pr.a)({},a);I.node=t,Cn(I,a.serializers,ho(void 0,s),d,i,h)},r.prototype.writeCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.srsName;if(t.nodeName!=="LineStringSegment"&&a&&t.setAttribute("srsName",a),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,e,i)}else if(t.nodeName==="Curve"){var l=An(t.namespaceURI,"segments");t.appendChild(l),this.writeCurveSegments_(l,e,i)}},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,i))},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,l=o.curve;s&&t.setAttribute("srsName",s);var h=e.getLineStrings();Cn({node:t,hasZ:a,srsName:s,curve:l},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeGeometryElement=function(t,e,i){var o=i[i.length-1],a=Object(Pr.a)({},o);a.node=t;var s;Array.isArray(e)?s=X_(e,o):s=so(e,!0,o),Cn(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],i,void 0,this)},r.prototype.createCoordinatesNode_=function(t){var e=An(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},r.prototype.writeCoordinates_=function(t,e,i){for(var o=i[i.length-1],a=o.hasZ,s=o.srsName,l=e.getCoordinates(),h=l.length,d=new Array(h),y=0;y<h;++y){var w=l[y];d[y]=this.getCoords_(w,s,a)}wn(t,d.join(" "))},r.prototype.writeCurveSegments_=function(t,e,i){var o=An(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,i)},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var l=e.getLinearRings();Cn({node:t,hasZ:a,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,l,i,void 0,this)}else if(t.nodeName==="Surface"){var h=An(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,i)}},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.node,s=o.exteriorWritten;return s===void 0&&(o.exteriorWritten=!0),An(a.namespaceURI,s!==void 0?"innerBoundaryIs":"outerBoundaryIs")},r.prototype.writeSurfacePatches_=function(t,e,i){var o=An(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i)},r.prototype.writeRing=function(t,e,i){var o=An(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,i)},r.prototype.getCoords_=function(t,e,i){var o="enu";e&&(o=en(e).getAxisOrientation());var a=o.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(i){var s=t[2]||0;a+=","+s}return a},r.prototype.writePoint=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;s&&t.setAttribute("srsName",s);var l=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(l);var h=e.getCoordinates(),d=this.getCoords_(h,s,a);wn(l,d)},r.prototype.writeMultiPoint=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;s&&t.setAttribute("srsName",s);var l=e.getPoints();Cn({node:t,hasZ:a,srsName:s},this.POINTMEMBER_SERIALIZERS,ho("pointMember"),l,i,void 0,this)},r.prototype.writePointMember=function(t,e,i){var o=An(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,i)},r.prototype.writeLinearRing=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,e,i)},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,l=o.surface;s&&t.setAttribute("srsName",s);var h=e.getPolygons();Cn({node:t,hasZ:a,srsName:s,surface:l},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i))},r.prototype.writeEnvelope=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=["lowerCorner","upperCorner"],l=[e[0]+" "+e[1],e[2]+" "+e[3]];Cn({node:t},this.ENVELOPE_SERIALIZERS,ua,l,i,s,this)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1].node;return An("http://www.opengis.net/gml",dj[o.nodeName])},r}(ei);vi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:pn(vi.prototype.readFlatCoordinates)}},vi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:vi.prototype.innerBoundaryIsParser,outerBoundaryIs:vi.prototype.outerBoundaryIsParser}},vi.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:tn(vi.prototype.readFlatCoordinates)}},vi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:pn(ei.prototype.readPoint),MultiPoint:pn(ei.prototype.readMultiPoint),LineString:pn(ei.prototype.readLineString),MultiLineString:pn(ei.prototype.readMultiLineString),LinearRing:pn(ei.prototype.readLinearRing),Polygon:pn(ei.prototype.readPolygon),MultiPolygon:pn(ei.prototype.readMultiPolygon),Box:pn(vi.prototype.readBox)}},vi.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:ie(vi.prototype.writeCurveOrLineString),MultiCurve:ie(vi.prototype.writeMultiCurveOrLineString),Point:ie(vi.prototype.writePoint),MultiPoint:ie(vi.prototype.writeMultiPoint),LineString:ie(vi.prototype.writeCurveOrLineString),MultiLineString:ie(vi.prototype.writeMultiCurveOrLineString),LinearRing:ie(vi.prototype.writeLinearRing),Polygon:ie(vi.prototype.writeSurfaceOrPolygon),MultiPolygon:ie(vi.prototype.writeMultiSurfaceOrPolygon),Surface:ie(vi.prototype.writeSurfaceOrPolygon),MultiSurface:ie(vi.prototype.writeMultiSurfaceOrPolygon),Envelope:ie(vi.prototype.writeEnvelope)}},vi.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:ie(vi.prototype.writeLineStringOrCurveMember),curveMember:ie(vi.prototype.writeLineStringOrCurveMember)}},vi.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:ie(vi.prototype.writeRing),innerBoundaryIs:ie(vi.prototype.writeRing)}},vi.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:ie(vi.prototype.writePointMember)}},vi.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:ie(vi.prototype.writeSurfaceOrPolygonMember),polygonMember:ie(vi.prototype.writeSurfaceOrPolygonMember)}},vi.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:ie(wn),upperCorner:ie(wn)}};var jd=vi,pj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vj=Ku+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",gj={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},rn=function(n){pj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.surface_=i.surface!==void 0?i.surface:!1,e.curve_=i.curve!==void 0?i.curve:!1,e.multiCurve_=i.multiCurve!==void 0?i.multiCurve:!0,e.multiSurface_=i.multiSurface!==void 0?i.multiSurface:!0,e.schemaLocation=i.schemaLocation?i.schemaLocation:vj,e.hasZ=i.hasZ!==void 0?i.hasZ:!1,e}return r.prototype.readMultiCurve=function(t,e){var i=ar([],this.MULTICURVE_PARSERS,t,e,this);if(i){var o=new fs(i);return o}else return},r.prototype.readMultiSurface=function(t,e){var i=ar([],this.MULTISURFACE_PARSERS,t,e,this);if(i)return new Pa(i)},r.prototype.curveMemberParser=function(t,e){vs(this.CURVEMEMBER_PARSERS,t,e,this)},r.prototype.surfaceMemberParser=function(t,e){vs(this.SURFACEMEMBER_PARSERS,t,e,this)},r.prototype.readPatch=function(t,e){return ar([null],this.PATCHES_PARSERS,t,e,this)},r.prototype.readSegment=function(t,e){return ar([null],this.SEGMENTS_PARSERS,t,e,this)},r.prototype.readPolygonPatch=function(t,e){return ar([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},r.prototype.readLineStringSegment=function(t,e){return ar([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.interiorParser=function(t,e){var i=ar(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o.push(i)}},r.prototype.exteriorParser=function(t,e){var i=ar(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o[0]=i}},r.prototype.readSurface=function(t,e){var i=ar([null],this.SURFACE_PARSERS,t,e,this);if(i&&i[0]){var o=i[0],a=[o.length],s=void 0,l=void 0;for(s=1,l=i.length;s<l;++s)Object(Sr.c)(o,i[s]),a.push(o.length);return new ai(o,pr.XYZ,a)}else return},r.prototype.readCurve=function(t,e){var i=ar([null],this.CURVE_PARSERS,t,e,this);if(i){var o=new Bi(i,pr.XYZ);return o}else return},r.prototype.readEnvelope=function(t,e){var i=ar([null],this.ENVELOPE_PARSERS,t,e,this);return z(i[1][0],i[1][1],i[2][0],i[2][1])},r.prototype.readFlatPos=function(t,e){for(var i=Za(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,a=[],s;s=o.exec(i);)a.push(parseFloat(s[1])),i=i.substr(s[0].length);if(i===""){var l=e[0],h=l.srsName,d="enu";if(h){var y=en(h);d=y.getAxisOrientation()}if(d==="neu"){var w=void 0,C=void 0;for(w=0,C=a.length;w<C;w+=3){var I=a[w],G=a[w+1];a[w]=G,a[w+1]=I}}var Z=a.length;if(Z==2&&a.push(0),Z!==0)return a}},r.prototype.readFlatPosList=function(t,e){var i=Za(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],a=o.srsName,s=o.srsDimension,l="enu";if(a){var h=en(a);l=h.getAxisOrientation()}var d=i.split(/\s+/),y=2;t.getAttribute("srsDimension")?y=$u(t.getAttribute("srsDimension")):t.getAttribute("dimension")?y=$u(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?y=$u(t.parentNode.getAttribute("srsDimension")):s&&(y=$u(s));for(var w,C,I,G=[],Z=0,lt=d.length;Z<lt;Z+=y)w=parseFloat(d[Z]),C=parseFloat(d[Z+1]),I=y===3?parseFloat(d[Z+2]):0,l.substr(0,2)==="en"?G.push(w,C,I):G.push(C,w,I);return G},r.prototype.writePos_=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=a?"3":"2";t.setAttribute("srsDimension",s);var l=o.srsName,h="enu";l&&(h=en(l).getAxisOrientation());var d=e.getCoordinates(),y;if(h.substr(0,2)==="en"?y=d[0]+" "+d[1]:y=d[1]+" "+d[0],a){var w=d[2]||0;y+=" "+w}wn(t,y)},r.prototype.getCoords_=function(t,e,i){var o="enu";e&&(o=en(e).getAxisOrientation());var a=o.substr(0,2)==="en"?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){var s=t[2]||0;a+=" "+s}return a},r.prototype.writePosList_=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=a?"3":"2";t.setAttribute("srsDimension",s);for(var l=o.srsName,h=e.getCoordinates(),d=h.length,y=new Array(d),w,C=0;C<d;++C)w=h[C],y[C]=this.getCoords_(w,l,a);wn(t,y.join(" "))},r.prototype.writePoint=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=An(t.namespaceURI,"pos");t.appendChild(s),this.writePos_(s,e,i)},r.prototype.writeEnvelope=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=["lowerCorner","upperCorner"],l=[e[0]+" "+e[1],e[2]+" "+e[3]];Cn({node:t},this.ENVELOPE_SERIALIZERS,ua,l,i,s,this)},r.prototype.writeLinearRing=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=An(t.namespaceURI,"posList");t.appendChild(s),this.writePosList_(s,e,i)},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.node,s=o.exteriorWritten;return s===void 0&&(o.exteriorWritten=!0),An(a.namespaceURI,s!==void 0?"interior":"exterior")},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var l=e.getLinearRings();Cn({node:t,hasZ:a,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,l,i,void 0,this)}else if(t.nodeName==="Surface"){var h=An(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,i)}},r.prototype.writeCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.srsName;if(t.nodeName!=="LineStringSegment"&&a&&t.setAttribute("srsName",a),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=An(t.namespaceURI,"posList");t.appendChild(s),this.writePosList_(s,e,i)}else if(t.nodeName==="Curve"){var l=An(t.namespaceURI,"segments");t.appendChild(l),this.writeCurveSegments_(l,e,i)}},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,l=o.surface;s&&t.setAttribute("srsName",s);var h=e.getPolygons();Cn({node:t,hasZ:a,srsName:s,surface:l},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeMultiPoint=function(t,e,i){var o=i[i.length-1],a=o.srsName,s=o.hasZ;a&&t.setAttribute("srsName",a);var l=e.getPoints();Cn({node:t,hasZ:s,srsName:a},this.POINTMEMBER_SERIALIZERS,ho("pointMember"),l,i,void 0,this)},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,l=o.curve;s&&t.setAttribute("srsName",s);var h=e.getLineStrings();Cn({node:t,hasZ:a,srsName:s,curve:l},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeRing=function(t,e,i){var o=An(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,i)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i))},r.prototype.writePointMember=function(t,e,i){var o=An(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,i)},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,i))},r.prototype.writeSurfacePatches_=function(t,e,i){var o=An(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i)},r.prototype.writeCurveSegments_=function(t,e,i){var o=An(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,i)},r.prototype.writeGeometryElement=function(t,e,i){var o=i[i.length-1],a=Object(Pr.a)({},o);a.node=t;var s;Array.isArray(e)?s=X_(e,o):s=so(e,!0,o),Cn(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],i,void 0,this)},r.prototype.writeFeatureElement=function(t,e,i){var o=e.getId();o&&t.setAttribute("fid",o);var a=i[i.length-1],s=a.featureNS,l=e.getGeometryName();a.serializers||(a.serializers={},a.serializers[s]={});var h=[],d=[];if(e.hasProperties()){var y=e.getProperties();for(var w in y){var C=y[w];C!==null&&(h.push(w),d.push(C),w==l||typeof C.getSimplifiedGeometry=="function"?w in a.serializers[s]||(a.serializers[s][w]=ie(this.writeGeometryElement,this)):w in a.serializers[s]||(a.serializers[s][w]=ie(wn)))}}var I=Object(Pr.a)({},a);I.node=t,Cn(I,a.serializers,ho(void 0,s),d,i,h)},r.prototype.writeFeatureMembers_=function(t,e,i){var o=i[i.length-1],a=o.featureType,s=o.featureNS,l={};l[s]={},l[s][a]=ie(this.writeFeatureElement,this);var h=Object(Pr.a)({},o);h.node=t,Cn(h,l,ho(a,s),e,i)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1].node;return An(this.namespace,gj[o.nodeName])},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.multiSurface,s=o.surface,l=o.curve,h=o.multiCurve,d;return Array.isArray(t)?d="Envelope":(d=t.getType(),d==="MultiPolygon"&&a===!0?d="MultiSurface":d==="Polygon"&&s===!0?d="Surface":d==="LineString"&&l===!0?d="Curve":d==="MultiLineString"&&h===!0&&(d="MultiCurve")),An(this.namespace,d)},r.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=An(this.namespace,"geom"),o={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(Pr.a)(o,e),this.writeGeometryElement(i,t,[o]),i},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=An(this.namespace,"featureMembers");i.setAttributeNS(sh,"xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(Pr.a)(o,e),this.writeFeatureMembers_(i,t,[o]),i},r}(ei);rn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:pn(rn.prototype.readFlatPos),posList:pn(rn.prototype.readFlatPosList),coordinates:pn(jd.prototype.readFlatCoordinates)}},rn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:rn.prototype.interiorParser,exterior:rn.prototype.exteriorParser}},rn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:pn(ei.prototype.readPoint),MultiPoint:pn(ei.prototype.readMultiPoint),LineString:pn(ei.prototype.readLineString),MultiLineString:pn(ei.prototype.readMultiLineString),LinearRing:pn(ei.prototype.readLinearRing),Polygon:pn(ei.prototype.readPolygon),MultiPolygon:pn(ei.prototype.readMultiPolygon),Surface:pn(rn.prototype.readSurface),MultiSurface:pn(rn.prototype.readMultiSurface),Curve:pn(rn.prototype.readCurve),MultiCurve:pn(rn.prototype.readMultiCurve),Envelope:pn(rn.prototype.readEnvelope)}},rn.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:tn(rn.prototype.curveMemberParser),curveMembers:tn(rn.prototype.curveMemberParser)}},rn.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:tn(rn.prototype.surfaceMemberParser),surfaceMembers:tn(rn.prototype.surfaceMemberParser)}},rn.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:tn(ei.prototype.readLineString),Curve:tn(rn.prototype.readCurve)}},rn.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:tn(ei.prototype.readPolygon),Surface:tn(rn.prototype.readSurface)}},rn.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:pn(rn.prototype.readPatch)}},rn.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:pn(rn.prototype.readSegment)}},rn.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:tn(rn.prototype.readFlatPosList),upperCorner:tn(rn.prototype.readFlatPosList)}},rn.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:pn(rn.prototype.readPolygonPatch)}},rn.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:pn(rn.prototype.readLineStringSegment)}},rn.prototype.writeFeatures,rn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:ie(rn.prototype.writeRing),interior:ie(rn.prototype.writeRing)}},rn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:ie(wn),upperCorner:ie(wn)}},rn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:ie(rn.prototype.writeSurfaceOrPolygonMember),polygonMember:ie(rn.prototype.writeSurfaceOrPolygonMember)}},rn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:ie(rn.prototype.writePointMember)}},rn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:ie(rn.prototype.writeLineStringOrCurveMember),curveMember:ie(rn.prototype.writeLineStringOrCurveMember)}},rn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:ie(rn.prototype.writeCurveOrLineString),MultiCurve:ie(rn.prototype.writeMultiCurveOrLineString),Point:ie(rn.prototype.writePoint),MultiPoint:ie(rn.prototype.writeMultiPoint),LineString:ie(rn.prototype.writeCurveOrLineString),MultiLineString:ie(rn.prototype.writeMultiCurveOrLineString),LinearRing:ie(rn.prototype.writeLinearRing),Polygon:ie(rn.prototype.writeSurfaceOrPolygon),MultiPolygon:ie(rn.prototype.writeMultiSurfaceOrPolygon),Surface:ie(rn.prototype.writeSurfaceOrPolygon),MultiSurface:ie(rn.prototype.writeMultiSurfaceOrPolygon),Envelope:ie(rn.prototype.writeEnvelope)}};var Zn=rn,t2=Zn;t2.prototype.writeFeatures,t2.prototype.writeFeaturesNode;var yj=t2,mj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vo=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],_j="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Ej={rte:DS,trk:BS,wpt:GS},xj=Ye(Vo,{rte:tn(DS),trk:tn(BS),wpt:tn(GS)}),Sj=Ye(Vo,{text:te(ur,"linkText"),type:te(ur,"linkType")}),wj=Ye(Vo,{rte:ie(Xj),trk:ie(Kj),wpt:ie($j)}),Oj=function(n){mj(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=en("EPSG:4326"),e.readExtensions_=i.readExtensions,e}return r.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,i=t.length;e<i;++e){var o=t[e];if(this.readExtensions_){var a=o.get("extensionsNode_")||null;this.readExtensions_(o,a)}o.set("extensionsNode_",void 0)}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(Sr.f)(Vo,t.namespaceURI))return null;var i=Ej[t.localName];if(!i)return null;var o=i(t,[this.getReadOptions(t,e)]);return o?(this.handleReadExtensions_([o]),o):null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(Sr.f)(Vo,t.namespaceURI))return[];if(t.localName=="gpx"){var i=ar([],xj,t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_(i),i):[]}return[]},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=An("http://www.topografix.com/GPX/1/1","gpx"),o="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(o,"xmlns:xsi",sh),i.setAttributeNS(sh,"xsi:schemaLocation",_j),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Cn({node:i},wj,Vj,t,[e]),i},r}(wv),Tj=Ye(Vo,{name:te(ur),cmt:te(ur),desc:te(ur),src:te(ur),link:n2,number:te(Fo),extensions:i2,type:te(ur),rtept:Wj}),bj=Ye(Vo,{ele:te(wi),time:te(Q_)}),Cj=Ye(Vo,{name:te(ur),cmt:te(ur),desc:te(ur),src:te(ur),link:n2,number:te(Fo),type:te(ur),extensions:i2,trkseg:Hj}),Lj=Ye(Vo,{trkpt:Yj}),Aj=Ye(Vo,{ele:te(wi),time:te(Q_)}),Rj=Ye(Vo,{ele:te(wi),time:te(Q_),magvar:te(wi),geoidheight:te(wi),name:te(ur),cmt:te(ur),desc:te(ur),src:te(ur),link:n2,sym:te(ur),type:te(ur),fix:te(ur),sat:te(Fo),hdop:te(wi),vdop:te(wi),pdop:te(wi),ageofdgpsdata:te(wi),dgpsid:te(Fo),extensions:i2}),Pj=["text","type"],Mj=Ye(Vo,{text:ie(wn),type:ie(wn)}),Ij=Ye(Vo,["name","cmt","desc","src","link","number","type","rtept"]),Nj=Ye(Vo,{name:ie(wn),cmt:ie(wn),desc:ie(wn),src:ie(wn),link:ie(o2),number:ie(Ky),type:ie(wn),rtept:FS(ie(a2))}),Fj=Ye(Vo,["ele","time"]),jj=Ye(Vo,["name","cmt","desc","src","link","number","type","trkseg"]),Dj=Ye(Vo,{name:ie(wn),cmt:ie(wn),desc:ie(wn),src:ie(wn),link:ie(o2),number:ie(Ky),type:ie(wn),trkseg:FS(ie(Zj))}),Bj=ho("trkpt"),Gj=Ye(Vo,{trkpt:ie(a2)}),Uj=Ye(Vo,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),kj=Ye(Vo,{ele:ie(gs),time:ie(cj),magvar:ie(gs),geoidheight:ie(gs),name:ie(wn),cmt:ie(wn),desc:ie(wn),src:ie(wn),link:ie(o2),sym:ie(wn),type:ie(wn),fix:ie(wn),sat:ie(Ky),hdop:ie(gs),vdop:ie(gs),pdop:ie(gs),ageofdgpsdata:ie(gs),dgpsid:ie(Ky)}),zj={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Vj(n,r,t){var e=n.getGeometry();if(e){var i=zj[e.getType()];if(i){var o=r[r.length-1].node;return An(o.namespaceURI,i)}}}function e2(n,r,t,e){return n.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in e?(n.push(e.ele),delete e.ele,r.hasZ=!0):n.push(0),"time"in e?(n.push(e.time),delete e.time,r.hasM=!0):n.push(0),n}function r2(n,r,t){var e=pr.XY,i=2;if(n.hasZ&&n.hasM?(e=pr.XYZM,i=4):n.hasZ?(e=pr.XYZ,i=3):n.hasM&&(e=pr.XYM,i=3),i!==4){for(var o=0,a=r.length/4;o<a;o++)r[o*i]=r[o*4],r[o*i+1]=r[o*4+1],n.hasZ&&(r[o*i+2]=r[o*4+2]),n.hasM&&(r[o*i+2]=r[o*4+3]);if(r.length=r.length/4*i,t)for(var o=0,a=t.length;o<a;o++)t[o]=t[o]/4*i}return e}function n2(n,r){var t=r[r.length-1],e=n.getAttribute("href");e!==null&&(t.link=e),vs(Sj,n,r)}function i2(n,r){var t=r[r.length-1];t.extensionsNode_=n}function Wj(n,r){var t=ar({},bj,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,o=e.layoutOptions;e2(i,o,n,t)}}function Yj(n,r){var t=ar({},Aj,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,o=e.layoutOptions;e2(i,o,n,t)}}function Hj(n,r){var t=r[r.length-1];vs(Lj,n,r);var e=t.flatCoordinates,i=t.ends;i.push(e.length)}function DS(n,r){var t=r[0],e=ar({flatCoordinates:[],layoutOptions:{}},Tj,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var o=e.layoutOptions;delete e.layoutOptions;var a=r2(o,i),s=new Bi(i,a);so(s,!1,t);var l=new Hr(s);return l.setProperties(e,!0),l}}function BS(n,r){var t=r[0],e=ar({flatCoordinates:[],ends:[],layoutOptions:{}},Cj,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var o=e.ends;delete e.ends;var a=e.layoutOptions;delete e.layoutOptions;var s=r2(a,i,o),l=new fs(i,s,o);so(l,!1,t);var h=new Hr(l);return h.setProperties(e,!0),h}}function GS(n,r){var t=r[0],e=ar({},Rj,n,r);if(!!e){var i={},o=e2([],i,n,e),a=r2(i,o),s=new Gn(o,a);so(s,!1,t);var l=new Hr(s);return l.setProperties(e,!0),l}}function o2(n,r,t){n.setAttribute("href",r);var e=t[t.length-1],i=e.properties,o=[i.linkText,i.linkType];Cn({node:n},Mj,ua,o,t,Pj)}function a2(n,r,t){var e=t[t.length-1],i=e.node,o=i.namespaceURI,a=e.properties;n.setAttributeNS(null,"lat",String(r[1])),n.setAttributeNS(null,"lon",String(r[0]));var s=e.geometryLayout;switch(s){case pr.XYZM:r[3]!==0&&(a.time=r[3]);case pr.XYZ:r[2]!==0&&(a.ele=r[2]);break;case pr.XYM:r[2]!==0&&(a.time=r[2]);break}var l=n.nodeName=="rtept"?Fj[o]:Uj[o],h=ps(a,l);Cn({node:n,properties:a},kj,ua,h,t,l)}function Xj(n,r,t){var e=t[0],i=r.getProperties(),o={node:n};o.properties=i;var a=r.getGeometry();if(a.getType()==Zt.LINE_STRING){var s=so(a,!0,e);o.geometryLayout=s.getLayout(),i.rtept=s.getCoordinates()}var l=t[t.length-1].node,h=Ij[l.namespaceURI],d=ps(i,h);Cn(o,Nj,ua,d,t,h)}function Kj(n,r,t){var e=t[0],i=r.getProperties(),o={node:n};o.properties=i;var a=r.getGeometry();if(a.getType()==Zt.MULTI_LINE_STRING){var s=so(a,!0,e);i.trkseg=s.getLineStrings()}var l=t[t.length-1].node,h=jj[l.namespaceURI],d=ps(i,h);Cn(o,Dj,ua,d,t,h)}function Zj(n,r,t){var e={node:n};e.geometryLayout=r.getLayout(),e.properties={},Cn(e,Gj,Bj,r.getCoordinates(),t)}function $j(n,r,t){var e=t[0],i=t[t.length-1];i.properties=r.getProperties();var o=r.getGeometry();if(o.getType()==Zt.POINT){var a=so(o,!0,e);i.geometryLayout=a.getLayout(),a2(n,a.getCoordinates(),t)}}var Jj=Oj,qj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qj=function(n){qj(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return Hl.TEXT},r.prototype.readFeature=function(t,e){return this.readFeatureFromText(Zy(t),this.adaptOptions(e))},r.prototype.readFeatureFromText=function(t,e){return Object(ct.b)()},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(Zy(t),this.adaptOptions(e))},r.prototype.readFeaturesFromText=function(t,e){return Object(ct.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromText(Zy(t),this.adaptOptions(e))},r.prototype.readGeometryFromText=function(t,e){return Object(ct.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromText(Zy(t))},r.prototype.readProjectionFromText=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){return Object(ct.b)()},r.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},r.prototype.writeFeaturesText=function(t,e){return Object(ct.b)()},r.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},r.prototype.writeGeometryText=function(t,e){return Object(ct.b)()},r}(xv);function Zy(n){return typeof n=="string"?n:""}var s2=Qj,t7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ov={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},e7=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,r7=/^H.([A-Z]{3}).*?:(.*)/,n7=/^HFDTE(\d{2})(\d{2})(\d{2})/,i7=/\r\n|\r|\n/,o7=function(n){t7(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=en("EPSG:4326"),e.altitudeMode_=i.altitudeMode?i.altitudeMode:Ov.NONE,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.altitudeMode_,o=t.split(i7),a={},s=[],l=2e3,h=0,d=1,y=-1,w,C;for(w=0,C=o.length;w<C;++w){var I=o[w],G=void 0;if(I.charAt(0)=="B"){if(G=e7.exec(I),G){var Z=parseInt(G[1],10),lt=parseInt(G[2],10),pt=parseInt(G[3],10),Et=parseInt(G[4],10)+parseInt(G[5],10)/6e4;G[6]=="S"&&(Et=-Et);var ht=parseInt(G[7],10)+parseInt(G[8],10)/6e4;if(G[9]=="W"&&(ht=-ht),s.push(ht,Et),i!=Ov.NONE){var zt=void 0;i==Ov.GPS?zt=parseInt(G[11],10):i==Ov.BAROMETRIC?zt=parseInt(G[12],10):zt=0,s.push(zt)}var Gt=Date.UTC(l,h,d,Z,lt,pt);Gt<y&&(Gt=Date.UTC(l,h,d+1,Z,lt,pt)),s.push(Gt/1e3),y=Gt}}else I.charAt(0)=="H"&&(G=n7.exec(I),G?(d=parseInt(G[1],10),h=parseInt(G[2],10)-1,l=2e3+parseInt(G[3],10)):(G=r7.exec(I),G&&(a[G[1]]=G[2].trim())))}if(s.length===0)return null;var $t=i==Ov.NONE?pr.XYM:pr.XYZM,Xt=new Bi(s,$t),ce=new Hr(so(Xt,!1,e));return ce.setProperties(a,!0),ce},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return i?[i]:[]},r}(s2),a7=o7,Ia=function(n,r){for(var t=0,e=r.length,i=n.length;t<e;t++,i++)n[i]=r[t];return n},$a={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},uh={};uh[$a.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},uh[$a.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},uh[$a.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},uh.none={none:{supports:[],formats:[],qualities:[]}};var s7=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,US=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,l7=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function u7(n){var r=n.getComplianceLevelSupportedFeatures();return r===void 0&&(r=uh[$a.VERSION1].level0),{url:n.imageInfo["@id"]===void 0?void 0:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:r.supports,formats:Ia(Ia([],r.formats),[n.imageInfo.formats===void 0?[]:n.imageInfo.formats]),qualities:Ia(Ia([],r.qualities),[n.imageInfo.qualities===void 0?[]:n.imageInfo.qualities]),resolutions:n.imageInfo.scale_factors,tileSize:n.imageInfo.tile_width!==void 0?n.imageInfo.tile_height!==void 0?[n.imageInfo.tile_width,n.imageInfo.tile_height]:[n.imageInfo.tile_width,n.imageInfo.tile_width]:n.imageInfo.tile_height!=null?[n.imageInfo.tile_height,n.imageInfo.tile_height]:void 0}}function c7(n){var r=n.getComplianceLevelSupportedFeatures(),t=Array.isArray(n.imageInfo.profile)&&n.imageInfo.profile.length>1,e=t&&n.imageInfo.profile[1].supports?n.imageInfo.profile[1].supports:[],i=t&&n.imageInfo.profile[1].formats?n.imageInfo.profile[1].formats:[],o=t&&n.imageInfo.profile[1].qualities?n.imageInfo.profile[1].qualities:[];return{url:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(a){return a.width})[0],n.imageInfo.tiles.map(function(a){return a.height===void 0?a.width:a.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:Ia(Ia([],r.supports),e),formats:Ia(Ia([],r.formats),i),qualities:Ia(Ia([],r.qualities),o)}}function f7(n){var r=n.getComplianceLevelSupportedFeatures(),t=n.imageInfo.extraFormats===void 0?r.formats:Ia(Ia([],r.formats),n.imageInfo.extraFormats),e=n.imageInfo.preferredFormats!==void 0&&Array.isArray(n.imageInfo.preferredFormats)&&n.imageInfo.preferredFormats.length>0?n.imageInfo.preferredFormats.filter(function(i){return Object(Sr.f)(["jpg","png","gif"],i)}).reduce(function(i,o){return i===void 0&&Object(Sr.f)(t,o)?o:i},void 0):void 0;return{url:n.imageInfo.id,sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(i){return[i.width,i.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(i){return i.width})[0],n.imageInfo.tiles.map(function(i){return i.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(i){return i.scaleFactors})[0],supports:n.imageInfo.extraFeatures===void 0?r.supports:Ia(Ia([],r.supports),n.imageInfo.extraFeatures),formats:t,qualities:n.imageInfo.extraQualities===void 0?r.qualities:Ia(Ia([],r.qualities),n.imageInfo.extraQualities),preferredFormat:e}}var $y={};$y[$a.VERSION1]=u7,$y[$a.VERSION2]=c7,$y[$a.VERSION3]=f7;var h7=function(){function n(r){this.setImageInfo(r)}return n.prototype.setImageInfo=function(r){typeof r=="string"?this.imageInfo=JSON.parse(r):this.imageInfo=r},n.prototype.getImageApiVersion=function(){if(this.imageInfo!==void 0){var r=this.imageInfo["@context"]||"ol-no-context";typeof r=="string"&&(r=[r]);for(var t=0;t<r.length;t++)switch(r[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return $a.VERSION1;case"http://iiif.io/api/image/2/context.json":return $a.VERSION2;case"http://iiif.io/api/image/3/context.json":return $a.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile($a.VERSION1)&&this.imageInfo.identifier)return $a.VERSION1;break}qt(!1,61)}},n.prototype.getComplianceLevelEntryFromProfile=function(r){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(r===void 0&&(r=this.getImageApiVersion()),r){case $a.VERSION1:if(s7.test(this.imageInfo.profile))return this.imageInfo.profile;break;case $a.VERSION3:if(l7.test(this.imageInfo.profile))return this.imageInfo.profile;break;case $a.VERSION2:if(typeof this.imageInfo.profile=="string"&&US.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&US.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}},n.prototype.getComplianceLevelFromProfile=function(r){var t=this.getComplianceLevelEntryFromProfile(r);if(t!==void 0){var e=t.match(/level[0-2](?:\.json)?$/g);return Array.isArray(e)?e[0].replace(".json",""):void 0}},n.prototype.getComplianceLevelSupportedFeatures=function(){if(this.imageInfo!==void 0){var r=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(r);return t===void 0?uh.none.none:uh[r][t]}},n.prototype.getTileSourceOptions=function(r){var t=r||{},e=this.getImageApiVersion();if(e!==void 0){var i=e===void 0?void 0:$y[e](this);if(i!==void 0)return{url:i.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:i.sizes,format:t.format!==void 0&&Object(Sr.f)(i.formats,t.format)?t.format:i.preferredFormat!==void 0?i.preferredFormat:"jpg",supports:i.supports,quality:t.quality&&Object(Sr.f)(i.qualities,t.quality)?t.quality:Object(Sr.f)(i.qualities,"native")?"native":"default",resolutions:Array.isArray(i.resolutions)?i.resolutions.sort(function(o,a){return a-o}):void 0,tileSize:i.tileSize}}},n}(),d7=h7,p7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ju=["http://www.google.com/kml/ext/2.2"],an=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],v7="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",kS={fraction:Xa.FRACTION,pixels:Xa.PIXELS,insetPixels:Xa.PIXELS},g7=Ye(an,{ExtendedData:nw,Region:iw,MultiGeometry:te(tw,"geometry"),LineString:te(qS,"geometry"),LinearRing:te(QS,"geometry"),Point:te(ew,"geometry"),Polygon:te(rw,"geometry"),Style:te(v2),StyleMap:q7,address:te(ur),description:te(ur),name:te(ur),open:te(Qc),phoneNumber:te(ur),styleUrl:te(XS),visibility:te(Qc)},Ye(Ju,{MultiTrack:te(G7,"geometry"),Track:te(JS,"geometry")})),y7=Ye(an,{ExtendedData:nw,Region:iw,Link:cD,address:te(ur),description:te(ur),name:te(ur),open:te(Qc),phoneNumber:te(ur),visibility:te(Qc)}),m7=Ye(an,{href:te(HS)}),zS=Ye(an,{LatLonAltBox:nD,Lod:oD}),_7=Ye(an,["Document","Placemark"]),E7=Ye(an,{Document:ie(mD),Placemark:ie(cw)}),Dd,Jy=null,l2,Tv,bv,Cv,qy,u2=null,c2,f2=null,h2,ch=null,VS=null,d2=null;function Qy(n){return 32/Math.min(n[0],n[1])}function x7(){Dd=[255,255,255,1],Jy=new pa({color:Dd}),l2=[20,2],Tv=Xa.PIXELS,bv=Xa.PIXELS,Cv=[64,64],qy="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",u2=new my({anchor:l2,anchorOrigin:$o.BOTTOM_LEFT,anchorXUnits:Tv,anchorYUnits:bv,crossOrigin:"anonymous",rotation:0,scale:Qy(Cv),size:Cv,src:qy}),c2="NO_IMAGE",f2=new Zo({color:Dd,width:1}),h2=new Zo({color:[51,51,51,1],width:2}),ch=new th({font:"bold 16px Helvetica",fill:Jy,stroke:h2,scale:.8}),VS=new va({fill:Jy,image:u2,text:ch,stroke:f2,zIndex:0}),d2=[VS]}var t0;function S7(n){return n}var w7=function(n){p7(r,n);function r(t){var e=n.call(this)||this,i=t||{};return d2||x7(),e.dataProjection=en("EPSG:4326"),e.defaultStyle_=i.defaultStyle?i.defaultStyle:d2,e.extractStyles_=i.extractStyles!==void 0?i.extractStyles:!0,e.writeStyles_=i.writeStyles!==void 0?i.writeStyles:!0,e.sharedStyles_={},e.showPointNames_=i.showPointNames!==void 0?i.showPointNames:!0,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",e.iconUrlFunction_=i.iconUrlFunction?i.iconUrlFunction:S7,e.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],e}return r.prototype.readDocumentOrFolder_=function(t,e){var i=Ye(an,{Document:NS(this.readDocumentOrFolder_,this),Folder:NS(this.readDocumentOrFolder_,this),Placemark:tn(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),o=ar([],i,t,e,this);if(o)return o},r.prototype.readPlacemark_=function(t,e){var i=ar({geometry:null},g7,t,e,this);if(!!i){var o=new Hr,a=t.getAttribute("id");a!==null&&o.setId(a);var s=e[0],l=i.geometry;if(l&&so(l,!1,s),o.setGeometry(l),delete i.geometry,this.extractStyles_){var h=i.Style,d=i.styleUrl,y=T7(h,d,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(y)}return delete i.Style,o.setProperties(i,!0),o}},r.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(i!==null){var o=v2.call(this,t,e);if(o){var a=void 0,s=t.baseURI;if((!s||s=="about:blank")&&(s=window.location.href),s){var l=new URL("#"+i,s);a=l.href}else a="#"+i;this.sharedStyles_[a]=o}}},r.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(i!==null){var o=ZS.call(this,t,e);if(!!o){var a,s=t.baseURI;if((!s||s=="about:blank")&&(s=window.location.href),s){var l=new URL("#"+i,s);a=l.href}else a="#"+i;this.sharedStyles_[a]=o}}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(Sr.f)(an,t.namespaceURI))return null;var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(Sr.f)(an,t.namespaceURI))return[];var i,o=t.localName;if(o=="Document"||o=="Folder")return i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),i||[];if(o=="Placemark"){var a=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return a?[a]:[]}else if(o=="kml"){i=[];for(var s=t.firstElementChild;s;s=s.nextElementSibling){var l=this.readFeaturesFromNode(s,e);l&&Object(Sr.c)(i,l)}return i}else return[]},r.prototype.readName=function(t){if(t)if(typeof t=="string"){var e=Ou(t);return this.readNameFromDocument(e)}else return wu(t)?this.readNameFromDocument(t):this.readNameFromNode(t);else return},r.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i)return i}},r.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(Sr.f)(an,e.namespaceURI)&&e.localName=="name")return ur(e);for(var e=t.firstElementChild;e;e=e.nextElementSibling){var i=e.localName;if(Object(Sr.f)(an,e.namespaceURI)&&(i=="Document"||i=="Folder"||i=="Placemark"||i=="kml")){var o=this.readNameFromNode(e);if(o)return o}}},r.prototype.readNetworkLinks=function(t){var e=[];if(typeof t=="string"){var i=Ou(t);Object(Sr.c)(e,this.readNetworkLinksFromDocument(i))}else wu(t)?Object(Sr.c)(e,this.readNetworkLinksFromDocument(t)):Object(Sr.c)(e,this.readNetworkLinksFromNode(t));return e},r.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(Sr.c)(e,this.readNetworkLinksFromNode(i));return e},r.prototype.readNetworkLinksFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(Sr.f)(an,i.namespaceURI)&&i.localName=="NetworkLink"){var o=ar({},y7,i,[]);e.push(o)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var a=i.localName;Object(Sr.f)(an,i.namespaceURI)&&(a=="Document"||a=="Folder"||a=="kml")&&Object(Sr.c)(e,this.readNetworkLinksFromNode(i))}return e},r.prototype.readRegion=function(t){var e=[];if(typeof t=="string"){var i=Ou(t);Object(Sr.c)(e,this.readRegionFromDocument(i))}else wu(t)?Object(Sr.c)(e,this.readRegionFromDocument(t)):Object(Sr.c)(e,this.readRegionFromNode(t));return e},r.prototype.readRegionFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(Sr.c)(e,this.readRegionFromNode(i));return e},r.prototype.readRegionFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(Sr.f)(an,i.namespaceURI)&&i.localName=="Region"){var o=ar({},zS,i,[]);e.push(o)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var a=i.localName;Object(Sr.f)(an,i.namespaceURI)&&(a=="Document"||a=="Folder"||a=="kml")&&Object(Sr.c)(e,this.readRegionFromNode(i))}return e},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=An(an[4],"kml"),o="http://www.w3.org/2000/xmlns/";i.setAttributeNS(o,"xmlns:gx",Ju[0]),i.setAttributeNS(o,"xmlns:xsi",sh),i.setAttributeNS(sh,"xsi:schemaLocation",v7);var a={node:i},s={};t.length>1?s.Document=t:t.length==1&&(s.Placemark=t[0]);var l=_7[i.namespaceURI],h=ps(s,l);return Cn(a,E7,ua,h,[e],l,this),i},r}(wv);function O7(n,r){var t=[0,0],e="start",i=n.getImage();if(i){var o=i.getSize();if(o&&o.length==2){var a=i.getScaleArray(),s=i.getAnchor();t[0]=a[0]*(o[0]-s[0]),t[1]=a[1]*(o[1]/2-s[1]),e="left"}}var l=n.getText();l?(l=l.clone(),l.setFont(l.getFont()||ch.getFont()),l.setScale(l.getScale()||ch.getScale()),l.setFill(l.getFill()||ch.getFill()),l.setStroke(l.getStroke()||h2)):l=ch.clone(),l.setText(r),l.setOffsetX(t[0]),l.setOffsetY(t[1]),l.setTextAlign(e);var h=new va({image:i,text:l});return h}function T7(n,r,t,e,i){return function(o,a){var s=i,l="",h=[];if(s){var d=o.getGeometry();if(d){var y=d.getType();y===Zt.GEOMETRY_COLLECTION?(h=d.getGeometriesArrayRecursive().filter(function(G){var Z=G.getType();return Z===Zt.POINT||Z===Zt.MULTI_POINT}),s=h.length>0):s=y===Zt.POINT||y===Zt.MULTI_POINT}}s&&(l=o.get("name"),s=s&&!!l,s&&l.search(/&[^&]+;/)>-1&&(t0||(t0=document.createElement("textarea")),t0.innerHTML=l,l=t0.value));var w=t;if(n?w=n:r&&(w=WS(r,t,e)),s){var C=O7(w[0],l);if(h.length>0){C.setGeometry(new Ma(h));var I=new va({geometry:w[0].getGeometry(),image:null,fill:w[0].getFill(),stroke:w[0].getStroke(),text:null});return[C,I].concat(w.slice(1))}return C}return w}}function WS(n,r,t){return Array.isArray(n)?n:typeof n=="string"?WS(t[n],r,t):r}function e0(n){var r=Za(n,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(r);if(t){var e=t[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}else return}function YS(n){var r=Za(n,!1),t=[];r=r.replace(/\s*,\s*/g,",");for(var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,i;i=e.exec(r);){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=i[3]?parseFloat(i[3]):0;t.push(o,a,s),r=r.substr(i[0].length)}if(r==="")return t}function HS(n){var r=Za(n,!1).trim(),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function XS(n){var r=Za(n,!1).trim().replace(/^(?!.*#)/,"#"),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function b7(n){var r=n.getAttribute("xunits"),t=n.getAttribute("yunits"),e;return r!=="insetPixels"?t!=="insetPixels"?e=$o.BOTTOM_LEFT:e=$o.TOP_LEFT:t!=="insetPixels"?e=$o.BOTTOM_RIGHT:e=$o.TOP_RIGHT,{x:parseFloat(n.getAttribute("x")),xunits:kS[r],y:parseFloat(n.getAttribute("y")),yunits:kS[t],origin:e}}function KS(n){return wi(n)}var C7=Ye(an,{Pair:J7});function ZS(n,r){return ar(void 0,C7,n,r,this)}var L7=Ye(an,{Icon:te(z7),color:te(e0),heading:te(wi),hotSpot:te(b7),scale:te(KS)});function A7(n,r){var t=ar({},L7,n,r);if(!!t){var e=r[r.length-1],i="Icon"in t?t.Icon:{},o=!("Icon"in t)||Object.keys(i).length>0,a,s=i.href;s?a=s:o&&(a=qy);var l,h,d,y=$o.BOTTOM_LEFT,w=t.hotSpot;w?(l=[w.x,w.y],h=w.xunits,d=w.yunits,y=w.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(/pushpin/.test(a)?(l=l2,h=Tv,d=bv):/arrow-reverse/.test(a)?(l=[54,42],h=Tv,d=bv):/paddle/.test(a)&&(l=[32,1],h=Tv,d=bv));var C,I=i.x,G=i.y;I!==void 0&&G!==void 0&&(C=[I,G]);var Z,lt=i.w,pt=i.h;lt!==void 0&&pt!==void 0&&(Z=[lt,pt]);var Et,ht=t.heading;ht!==void 0&&(Et=Na(ht));var zt=t.scale,Gt=t.color;if(o){a==qy&&(Z=Cv);var $t=new my({anchor:l,anchorOrigin:y,anchorXUnits:h,anchorYUnits:d,crossOrigin:this.crossOrigin_,offset:C,offsetOrigin:$o.BOTTOM_LEFT,rotation:Et,scale:zt,size:Z,src:this.iconUrlFunction_(a),color:Gt}),Xt=$t.getScaleArray()[0],ce=$t.getSize();if(ce===null){var Ge=$t.getImageState();if(Ge===Un.IDLE||Ge===Un.LOADING){var Me=function(){var er=$t.getImageState();if(!(er===Un.IDLE||er===Un.LOADING)){var Lr=$t.getSize();if(Lr&&Lr.length==2){var Br=Qy(Lr);$t.setScale(Xt*Br)}$t.unlistenImageChange(Me)}};$t.listenImageChange(Me),Ge===Un.IDLE&&$t.load()}}else if(ce.length==2){var Ee=Qy(ce);$t.setScale(Xt*Ee)}e.imageStyle=$t}else e.imageStyle=c2}}var R7=Ye(an,{color:te(e0),scale:te(KS)});function P7(n,r){var t=ar({},R7,n,r);if(!!t){var e=r[r.length-1],i=new th({fill:new pa({color:"color"in t?t.color:Dd}),scale:t.scale});e.textStyle=i}}var M7=Ye(an,{color:te(e0),width:te(wi)});function I7(n,r){var t=ar({},M7,n,r);if(!!t){var e=r[r.length-1],i=new Zo({color:"color"in t?t.color:Dd,width:"width"in t?t.width:1});e.strokeStyle=i}}var N7=Ye(an,{color:te(e0),fill:te(Qc),outline:te(Qc)});function F7(n,r){var t=ar({},N7,n,r);if(!!t){var e=r[r.length-1],i=new pa({color:"color"in t?t.color:Dd});e.fillStyle=i;var o=t.fill;o!==void 0&&(e.fill=o);var a=t.outline;a!==void 0&&(e.outline=a)}}var j7=Ye(an,{coordinates:pn(YS)});function $S(n,r){return ar(null,j7,n,r)}function D7(n,r){var t=r[r.length-1],e=t.coordinates,i=Za(n,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=o.exec(i);if(a){var s=parseFloat(a[1]),l=parseFloat(a[2]),h=parseFloat(a[3]);e.push([s,l,h])}else e.push([])}var B7=Ye(Ju,{Track:tn(JS)});function G7(n,r){var t=ar([],B7,n,r);if(!!t)return new fs(t)}var U7=Ye(an,{when:fD},Ye(Ju,{coord:D7}));function JS(n,r){var t=ar({coordinates:[],whens:[]},U7,n,r);if(!!t){for(var e=[],i=t.coordinates,o=t.whens,a=0,s=Math.min(i.length,o.length);a<s;++a)i[a].length==3&&e.push(i[a][0],i[a][1],i[a][2],o[a]);return new Bi(e,pr.XYZM)}}var k7=Ye(an,{href:te(HS)},Ye(Ju,{x:te(wi),y:te(wi),w:te(wi),h:te(wi)}));function z7(n,r){var t=ar({},k7,n,r);return t||null}var V7=Ye(an,{coordinates:pn(YS)});function p2(n,r){return ar(null,V7,n,r)}var r0=Ye(an,{extrude:te(Qc),tessellate:te(Qc),altitudeMode:te(ur)});function qS(n,r){var t=ar({},r0,n,r),e=p2(n,r);if(e){var i=new Bi(e,pr.XYZ);return i.setProperties(t,!0),i}else return}function QS(n,r){var t=ar({},r0,n,r),e=p2(n,r);if(e){var i=new ai(e,pr.XYZ,[e.length]);return i.setProperties(t,!0),i}else return}var W7=Ye(an,{LineString:tn(qS),LinearRing:tn(QS),MultiGeometry:tn(tw),Point:tn(ew),Polygon:tn(rw)});function tw(n,r){var t=ar([],W7,n,r);if(!t)return null;if(t.length===0)return new Ma(t);for(var e,i=!0,o=t[0].getType(),a,s=1,l=t.length;s<l;++s)if(a=t[s],a.getType()!=o){i=!1;break}if(i){var h=void 0,d=void 0;if(o==Zt.POINT){var y=t[0];h=y.getLayout(),d=y.getFlatCoordinates();for(var s=1,l=t.length;s<l;++s)a=t[s],Object(Sr.c)(d,a.getFlatCoordinates());e=new ml(d,h),g2(e,t)}else o==Zt.LINE_STRING?(e=new fs(t),g2(e,t)):o==Zt.POLYGON?(e=new Pa(t),g2(e,t)):o==Zt.GEOMETRY_COLLECTION?e=new Ma(t):qt(!1,37)}else e=new Ma(t);return e}function ew(n,r){var t=ar({},r0,n,r),e=p2(n,r);if(e){var i=new Gn(e,pr.XYZ);return i.setProperties(t,!0),i}else return}var Y7=Ye(an,{innerBoundaryIs:sD,outerBoundaryIs:uD});function rw(n,r){var t=ar({},r0,n,r),e=ar([null],Y7,n,r);if(e&&e[0]){for(var i=e[0],o=[i.length],a=1,s=e.length;a<s;++a)Object(Sr.c)(i,e[a]),o.push(i.length);var l=new ai(i,pr.XYZ,o);return l.setProperties(t,!0),l}else return}var H7=Ye(an,{IconStyle:A7,LabelStyle:P7,LineStyle:I7,PolyStyle:F7});function v2(n,r){var t=ar({},H7,n,r,this);if(!t)return null;var e="fillStyle"in t?t.fillStyle:Jy,i=t.fill;i!==void 0&&!i&&(e=null);var o;"imageStyle"in t?t.imageStyle!=c2&&(o=t.imageStyle):o=u2;var a="textStyle"in t?t.textStyle:ch,s="strokeStyle"in t?t.strokeStyle:f2,l=t.outline;return l!==void 0&&!l?[new va({geometry:function(h){var d=h.getGeometry(),y=d.getType();if(y===Zt.GEOMETRY_COLLECTION){var w=d;return new Ma(w.getGeometriesArrayRecursive().filter(function(C){var I=C.getType();return I!==Zt.POLYGON&&I!==Zt.MULTI_POLYGON}))}else if(y!==Zt.POLYGON&&y!==Zt.MULTI_POLYGON)return d},fill:e,image:o,stroke:s,text:a,zIndex:void 0}),new va({geometry:function(h){var d=h.getGeometry(),y=d.getType();if(y===Zt.GEOMETRY_COLLECTION){var w=d;return new Ma(w.getGeometriesArrayRecursive().filter(function(C){var I=C.getType();return I===Zt.POLYGON||I===Zt.MULTI_POLYGON}))}else if(y===Zt.POLYGON||y===Zt.MULTI_POLYGON)return d},fill:e,stroke:null,zIndex:void 0})]:[new va({fill:e,image:o,stroke:s,text:a,zIndex:void 0})]}function g2(n,r){var t=r.length,e=new Array(r.length),i=new Array(r.length),o=new Array(r.length),a,s,l;a=!1,s=!1,l=!1;for(var h=0;h<t;++h){var d=r[h];e[h]=d.get("extrude"),i[h]=d.get("tessellate"),o[h]=d.get("altitudeMode"),a=a||e[h]!==void 0,s=s||i[h]!==void 0,l=l||o[h]}a&&n.set("extrude",e),s&&n.set("tessellate",i),l&&n.set("altitudeMode",o)}var X7=Ye(an,{displayName:te(ur),value:te(ur)});function K7(n,r){var t=n.getAttribute("name");vs(X7,n,r);var e=r[r.length-1];t&&e.displayName?e[t]={value:e.value,displayName:e.displayName,toString:function(){return e.value}}:t!==null?e[t]=e.value:e.displayName!==null&&(e[e.displayName]=e.value),delete e.value}var Z7=Ye(an,{Data:K7,SchemaData:tD});function nw(n,r){vs(Z7,n,r)}function iw(n,r){vs(zS,n,r)}var $7=Ye(an,{Style:te(v2),key:te(ur),styleUrl:te(XS)});function J7(n,r){var t=ar({},$7,n,r,this);if(!!t){var e=t.key;if(e&&e=="normal"){var i=t.styleUrl;i&&(r[r.length-1]=i);var o=t.Style;o&&(r[r.length-1]=o)}}}function q7(n,r){var t=ZS.call(this,n,r);if(!!t){var e=r[r.length-1];Array.isArray(t)?e.Style=t:typeof t=="string"?e.styleUrl=t:qt(!1,38)}}var Q7=Ye(an,{SimpleData:eD});function tD(n,r){vs(Q7,n,r)}function eD(n,r){var t=n.getAttribute("name");if(t!==null){var e=ur(n),i=r[r.length-1];i[t]=e}}var rD=Ye(an,{altitudeMode:te(ur),minAltitude:te(wi),maxAltitude:te(wi),north:te(wi),south:te(wi),east:te(wi),west:te(wi)});function nD(n,r){var t=ar({},rD,n,r);if(!!t){var e=r[r.length-1],i=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];e.extent=i,e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude)}}var iD=Ye(an,{minLodPixels:te(wi),maxLodPixels:te(wi),minFadeExtent:te(wi),maxFadeExtent:te(wi)});function oD(n,r){var t=ar({},iD,n,r);if(!!t){var e=r[r.length-1];e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent)}}var aD=Ye(an,{LinearRing:tn($S)});function sD(n,r){var t=ar([],aD,n,r);if(t.length>0){var e=r[r.length-1];e.push.apply(e,t)}}var lD=Ye(an,{LinearRing:pn($S)});function uD(n,r){var t=ar(void 0,lD,n,r);if(t){var e=r[r.length-1];e[0]=t}}function cD(n,r){vs(m7,n,r)}function fD(n,r){var t=r[r.length-1],e=t.whens,i=Za(n,!1),o=Date.parse(i);e.push(isNaN(o)?0:o)}function n0(n,r){for(var t=fa(r),e=t.length==4?t[3]:1,i=[e*255,t[2],t[1],t[0]],o=0;o<4;++o){var a=Math.floor(i[o]).toString(16);i[o]=a.length==1?"0"+a:a}wn(n,i.join(""))}function hD(n,r,t){var e=t[t.length-1],i=e.layout,o=e.stride,a;i==pr.XY||i==pr.XYM?a=2:i==pr.XYZ||i==pr.XYZM?a=3:qt(!1,34);var s=r.length,l="";if(s>0){l+=r[0];for(var h=1;h<a;++h)l+=","+r[h];for(var d=o;d<s;d+=o){l+=" "+r[d];for(var h=1;h<a;++h)l+=","+r[d+h]}}wn(n,l)}var i0=Ye(an,{Data:ie(dD),value:ie(vD),displayName:ie(pD)});function dD(n,r,t){n.setAttribute("name",r.name);var e={node:n},i=r.value;typeof i=="object"?(i!==null&&i.displayName&&Cn(e,i0,ua,[i.displayName],t,["displayName"]),i!==null&&i.value&&Cn(e,i0,ua,[i.value],t,["value"])):Cn(e,i0,ua,[i],t,["value"])}function pD(n,r){uj(n,r)}function vD(n,r){wn(n,r)}var gD=Ye(an,{Placemark:ie(cw)}),yD=function(n,r,t){var e=r[r.length-1].node;return An(e.namespaceURI,"Placemark")};function mD(n,r,t){var e={node:n};Cn(e,gD,yD,r,t,void 0,this)}var _D=ho("Data");function ED(n,r,t){for(var e={node:n},i=r.names,o=r.values,a=i.length,s=0;s<a;s++)Cn(e,i0,_D,[{name:i[s],value:o[s]}],t)}var ow=Ye(an,["href"],Ye(Ju,["x","y","w","h"])),aw=Ye(an,{href:ie(wn)},Ye(Ju,{x:ie(gs),y:ie(gs),w:ie(gs),h:ie(gs)})),xD=function(n,r,t){return An(Ju[0],"gx:"+t)};function SD(n,r,t){var e={node:n},i=t[t.length-1].node,o=ow[i.namespaceURI],a=ps(r,o);Cn(e,aw,ua,a,t,o),o=ow[Ju[0]],a=ps(r,o),Cn(e,aw,xD,a,t,o)}var wD=Ye(an,["scale","heading","Icon","color","hotSpot"]),OD=Ye(an,{Icon:ie(SD),color:ie(n0),heading:ie(gs),hotSpot:ie(JD),scale:ie(dw)});function TD(n,r,t){var e={node:n},i={},o=r.getSrc(),a=r.getSize(),s=r.getImageSize(),l={href:o};if(a){l.w=a[0],l.h=a[1];var h=r.getAnchor(),d=r.getOrigin();if(d&&s&&d[0]!==0&&d[1]!==a[1]&&(l.x=d[0],l.y=s[1]-(d[1]+a[1])),h&&(h[0]!==a[0]/2||h[1]!==a[1]/2)){var y={x:h[0],xunits:Xa.PIXELS,y:a[1]-h[1],yunits:Xa.PIXELS};i.hotSpot=y}}i.Icon=l;var w=r.getScaleArray()[0],C=a;if(C===null&&(C=Cv),C.length==2){var I=Qy(C);w=w/I}w!==1&&(i.scale=w);var G=r.getRotation();G!==0&&(i.heading=G);var Z=r.getColor();Z&&(i.color=Z);var lt=t[t.length-1].node,pt=wD[lt.namespaceURI],Et=ps(i,pt);Cn(e,OD,ua,Et,t,pt)}var bD=Ye(an,["color","scale"]),CD=Ye(an,{color:ie(n0),scale:ie(dw)});function LD(n,r,t){var e={node:n},i={},o=r.getFill();o&&(i.color=o.getColor());var a=r.getScale();a&&a!==1&&(i.scale=a);var s=t[t.length-1].node,l=bD[s.namespaceURI],h=ps(i,l);Cn(e,CD,ua,h,t,l)}var AD=Ye(an,["color","width"]),RD=Ye(an,{color:ie(n0),width:ie(gs)});function PD(n,r,t){var e={node:n},i={color:r.getColor(),width:Number(r.getWidth())||1},o=t[t.length-1].node,a=AD[o.namespaceURI],s=ps(i,a);Cn(e,RD,ua,s,t,a)}var MD={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},sw=function(n,r,t){if(n){var e=r[r.length-1].node;return An(e.namespaceURI,MD[n.getType()])}},ID=ho("Point"),ND=ho("LineString"),FD=ho("LinearRing"),jD=ho("Polygon"),DD=Ye(an,{LineString:ie(Bd),Point:ie(Bd),Polygon:ie(hw),GeometryCollection:ie(lw)});function lw(n,r,t){var e={node:n},i=r.getType(),o=[],a;i===Zt.GEOMETRY_COLLECTION?(r.getGeometriesArrayRecursive().forEach(function(s){var l=s.getType();l===Zt.MULTI_POINT?o=o.concat(s.getPoints()):l===Zt.MULTI_LINE_STRING?o=o.concat(s.getLineStrings()):l===Zt.MULTI_POLYGON?o=o.concat(s.getPolygons()):l===Zt.POINT||l===Zt.LINE_STRING||l===Zt.POLYGON?o.push(s):qt(!1,39)}),a=sw):i===Zt.MULTI_POINT?(o=r.getPoints(),a=ID):i===Zt.MULTI_LINE_STRING?(o=r.getLineStrings(),a=ND):i===Zt.MULTI_POLYGON?(o=r.getPolygons(),a=jD):qt(!1,39),Cn(e,DD,a,o,t)}var BD=Ye(an,{LinearRing:ie(Bd)});function uw(n,r,t){var e={node:n};Cn(e,BD,FD,[r],t)}var y2=Ye(an,{ExtendedData:ie(ED),MultiGeometry:ie(lw),LineString:ie(Bd),LinearRing:ie(Bd),Point:ie(Bd),Polygon:ie(hw),Style:ie($D),address:ie(wn),description:ie(wn),name:ie(wn),open:ie(Fd),phoneNumber:ie(wn),styleUrl:ie(wn),visibility:ie(Fd)}),GD=Ye(an,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),UD=ho("ExtendedData");function cw(n,r,t){var e={node:n};r.getId()&&n.setAttribute("id",r.getId());var i=r.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[r.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter(function(zt){return!o[zt]}),s=r.getStyleFunction();if(s){var l=s(r,0);if(l){var h=Array.isArray(l)?l:[l],d=h;if(r.getGeometry()&&(d=h.filter(function(zt){var Gt=zt.getGeometryFunction()(r);if(Gt){var $t=Gt.getType();return $t===Zt.GEOMETRY_COLLECTION?Gt.getGeometriesArrayRecursive().filter(function(Xt){var ce=Xt.getType();return ce===Zt.POINT||ce===Zt.MULTI_POINT}).length:$t===Zt.POINT||$t===Zt.MULTI_POINT}})),this.writeStyles_){var y=h,w=h;r.getGeometry()&&(y=h.filter(function(zt){var Gt=zt.getGeometryFunction()(r);if(Gt){var $t=Gt.getType();return $t===Zt.GEOMETRY_COLLECTION?Gt.getGeometriesArrayRecursive().filter(function(Xt){var ce=Xt.getType();return ce===Zt.LINE_STRING||ce===Zt.MULTI_LINE_STRING}).length:$t===Zt.LINE_STRING||$t===Zt.MULTI_LINE_STRING}}),w=h.filter(function(zt){var Gt=zt.getGeometryFunction()(r);if(Gt){var $t=Gt.getType();return $t===Zt.GEOMETRY_COLLECTION?Gt.getGeometriesArrayRecursive().filter(function(Xt){var ce=Xt.getType();return ce===Zt.POLYGON||ce===Zt.MULTI_POLYGON}).length:$t===Zt.POLYGON||$t===Zt.MULTI_POLYGON}})),i.Style={pointStyles:d,lineStyles:y,polyStyles:w}}if(d.length&&i.name===void 0){var C=d[0].getText();C&&(i.name=C.getText())}}}var I=t[t.length-1].node,G=GD[I.namespaceURI],Z=ps(i,G);if(Cn(e,y2,ua,Z,t,G),a.length>0){var lt=ps(i,a),pt={names:a,values:lt};Cn(e,y2,UD,[pt],t)}var Et=t[0],ht=r.getGeometry();ht&&(ht=so(ht,!0,Et)),Cn(e,y2,sw,[ht],t)}var kD=Ye(an,["extrude","tessellate","altitudeMode","coordinates"]),zD=Ye(an,{extrude:ie(Fd),tessellate:ie(Fd),altitudeMode:ie(wn),coordinates:ie(hD)});function Bd(n,r,t){var e=r.getFlatCoordinates(),i={node:n};i.layout=r.getLayout(),i.stride=r.getStride();var o=r.getProperties();o.coordinates=e;var a=t[t.length-1].node,s=kD[a.namespaceURI],l=ps(o,s);Cn(i,zD,ua,l,t,s)}var VD=Ye(an,["color","fill","outline"]),fw=Ye(an,{outerBoundaryIs:ie(uw),innerBoundaryIs:ie(uw)}),WD=ho("innerBoundaryIs"),YD=ho("outerBoundaryIs");function hw(n,r,t){var e=r.getLinearRings(),i=e.shift(),o={node:n};Cn(o,fw,WD,e,t),Cn(o,fw,YD,[i],t)}var HD=Ye(an,{color:ie(n0),fill:ie(Fd),outline:ie(Fd)});function XD(n,r,t){var e={node:n},i=r.getFill(),o=r.getStroke(),a={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:o?void 0:!1},s=t[t.length-1].node,l=VD[s.namespaceURI],h=ps(a,l);Cn(e,HD,ua,h,t,l)}function dw(n,r){gs(n,Math.round(r*1e6)/1e6)}var KD=Ye(an,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ZD=Ye(an,{IconStyle:ie(TD),LabelStyle:ie(LD),LineStyle:ie(PD),PolyStyle:ie(XD)});function $D(n,r,t){var e={node:n},i={};if(r.pointStyles.length){var o=r.pointStyles[0].getText();o&&(i.LabelStyle=o);var a=r.pointStyles[0].getImage();a&&typeof a.getSrc=="function"&&(i.IconStyle=a)}if(r.lineStyles.length){var s=r.lineStyles[0].getStroke();s&&(i.LineStyle=s)}if(r.polyStyles.length){var s=r.polyStyles[0].getStroke();s&&!i.LineStyle&&(i.LineStyle=s),i.PolyStyle=r.polyStyles[0]}var l=t[t.length-1].node,h=KD[l.namespaceURI],d=ps(i,h);Cn(e,ZD,ua,d,t,h)}function JD(n,r){n.setAttribute("x",String(r.x)),n.setAttribute("y",String(r.y)),n.setAttribute("xunits",r.xunits),n.setAttribute("yunits",r.yunits)}var qD=w7,QD=u("7915"),tB=u.n(QD),pw=q(),Lv=function(){function n(r,t,e,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=r,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=e,this.properties_=i}return n.prototype.get=function(r){return this.properties_[r]},n.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===Zt.POINT?at(this.flatCoordinates_):ye(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},n.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var r=Xn(this.getExtent());this.flatInteriorPoints_=zu(this.flatCoordinates_,0,this.ends_,2,r,0)}return this.flatInteriorPoints_},n.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var r=mS(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=ha(this.flatCoordinates_,0,this.ends_,2,r)}return this.flatInteriorPoints_},n.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Iy(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},n.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var r=this.flatCoordinates_,t=0,e=this.ends_,i=0,o=e.length;i<o;++i){var a=e[i],s=Iy(r,t,a,2,.5);Object(Sr.c)(this.flatMidpoints_,s),t=a}}return this.flatMidpoints_},n.prototype.getId=function(){return this.id_},n.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},n.prototype.getGeometry=function(){return this},n.prototype.getSimplifiedGeometry=function(r){return this},n.prototype.simplifyTransformed=function(r,t){return this},n.prototype.getProperties=function(){return this.properties_},n.prototype.getStride=function(){return 2},n.prototype.getStyleFunction=function(){return this.styleFunction},n.prototype.getType=function(){return this.type_},n.prototype.transform=function(r){r=en(r);var t=r.getExtent(),e=r.getWorldExtent();if(t&&e){var i=Gr(e)/Gr(t);Ie(pw,e[0],e[3],i,-i,0,0,0),nl(this.flatCoordinates_,0,this.flatCoordinates_.length,2,pw,this.flatCoordinates_)}},n.prototype.getEnds=function(){return this.ends_},n}();Lv.prototype.getEndss=Lv.prototype.getEnds,Lv.prototype.getFlatCoordinates=Lv.prototype.getOrientedFlatCoordinates;var vw=Lv,eB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rB=function(n){eB(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=new Sa({code:"",units:ki.TILE_PIXELS}),e.featureClass_=i.featureClass?i.featureClass:vw,e.geometryName_=i.geometryName,e.layerName_=i.layerName?i.layerName:"layer",e.layers_=i.layers?i.layers:null,e.idProperty_=i.idProperty,e.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],e}return r.prototype.readRawGeometry_=function(t,e,i,o){t.pos=e.geometry;for(var a=t.readVarint()+t.pos,s=1,l=0,h=0,d=0,y=0,w=0;t.pos<a;){if(!l){var C=t.readVarint();s=C&7,l=C>>3}l--,s===1||s===2?(h+=t.readSVarint(),d+=t.readSVarint(),s===1&&y>w&&(o.push(y),w=y),i.push(h,d),y+=2):s===7?y>w&&(i.push(i[w],i[w+1]),y+=2):qt(!1,59)}y>w&&(o.push(y),w=y)},r.prototype.createFeature_=function(t,e,i){var o=e.type;if(o===0)return null;var a,s=e.properties,l;this.idProperty_?(l=s[this.idProperty_],delete s[this.idProperty_]):l=e.id,s[this.layerName_]=e.layer.name;var h=[],d=[];this.readRawGeometry_(t,e,h,d);var y=sB(o,d.length);if(this.featureClass_===vw)a=new this.featureClass_(y,h,d,s,l),a.transform(i.dataProjection);else{var w=void 0;if(y==Zt.POLYGON){for(var C=[],I=0,G=0,Z=0,lt=d.length;Z<lt;++Z){var pt=d[Z];if(!Ls(h,I,pt,2))C.push(d.slice(G,Z+1));else{if(C.length===0)continue;C[C.length-1].push(d[G])}G=Z+1,I=pt}C.length>1?w=new Pa(h,pr.XY,C):w=new ai(h,pr.XY,d)}else w=y===Zt.POINT?new Gn(h,pr.XY):y===Zt.LINE_STRING?new Bi(h,pr.XY):y===Zt.POLYGON?new ai(h,pr.XY,d):y===Zt.MULTI_POINT?new ml(h,pr.XY):y===Zt.MULTI_LINE_STRING?new fs(h,pr.XY,d):null;var Et=this.featureClass_;a=new Et,this.geometryName_&&a.setGeometryName(this.geometryName_);var ht=so(w,!1,i);a.setGeometry(ht),a.setId(l),a.setProperties(s,!0)}return a},r.prototype.getType=function(){return Hl.ARRAY_BUFFER},r.prototype.readFeatures=function(t,e){var i=this.layers_,o=this.adaptOptions(e),a=en(o.dataProjection);a.setWorldExtent(o.extent),o.dataProjection=a;var s=new tB.a(t),l=s.readFields(nB,{}),h=[];for(var d in l)if(!(i&&i.indexOf(d)==-1)){var y=l[d],w=y?[0,0,y.extent,y.extent]:null;a.setExtent(w);for(var C=0,I=y.length;C<I;++C){var G=aB(s,y,C),Z=this.createFeature_(s,G,o);Z!==null&&h.push(Z)}}return h},r.prototype.readProjection=function(t){return this.dataProjection},r.prototype.setLayers=function(t){this.layers_=t},r}(xv);function nB(n,r,t){if(n===3){var e={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(iB,e,i),e.length=e.features.length,e.length&&(r[e.name]=e)}}function iB(n,r,t){if(n===15)r.version=t.readVarint();else if(n===1)r.name=t.readString();else if(n===5)r.extent=t.readVarint();else if(n===2)r.features.push(t.pos);else if(n===3)r.keys.push(t.readString());else if(n===4){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;)n=t.readVarint()>>3,e=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;r.values.push(e)}}function oB(n,r,t){if(n==1)r.id=t.readVarint();else if(n==2)for(var e=t.readVarint()+t.pos;t.pos<e;){var i=r.layer.keys[t.readVarint()],o=r.layer.values[t.readVarint()];r.properties[i]=o}else n==3?r.type=t.readVarint():n==4&&(r.geometry=t.pos)}function aB(n,r,t){n.pos=r.features[t];var e=n.readVarint()+n.pos,i={layer:r,type:0,properties:{}};return n.readFields(oB,i,e),i}function sB(n,r){var t;return n===1?t=r===1?Zt.POINT:Zt.MULTI_POINT:n===2?t=r===1?Zt.LINE_STRING:Zt.MULTI_LINE_STRING:n===3&&(t=Zt.POLYGON),t}var lB=rB,uB=function(){function n(){}return n.prototype.read=function(r){if(r)if(typeof r=="string"){var t=Ou(r);return this.readFromDocument(t)}else return wu(r)?this.readFromDocument(r):this.readFromNode(r);else return null},n.prototype.readFromDocument=function(r){for(var t=r.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},n.prototype.readFromNode=function(r){},n}(),m2=uB,cB="http://www.w3.org/1999/xlink";function Gd(n){return n.getAttributeNS(cB,"href")}var fB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ys=[null,"http://www.opengis.net/ows/1.1"],hB=Ye(ys,{ServiceIdentification:te(DB),ServiceProvider:te(GB),OperationsMetadata:te(FB)}),dB=function(n){fB(r,n);function r(){return n.call(this)||this}return r.prototype.readFromNode=function(t){var e=ar({},hB,t,[]);return e||null},r}(m2),pB=Ye(ys,{DeliveryPoint:te(ur),City:te(ur),AdministrativeArea:te(ur),PostalCode:te(ur),Country:te(ur),ElectronicMailAddress:te(ur)}),vB=Ye(ys,{Value:$i(UB)}),gB=Ye(ys,{AllowedValues:te(LB)}),yB=Ye(ys,{Phone:te(jB),Address:te(CB)}),mB=Ye(ys,{HTTP:te(IB)}),_B=Ye(ys,{Get:$i(MB),Post:void 0}),EB=Ye(ys,{DCP:te(PB)}),xB=Ye(ys,{Operation:NB}),SB=Ye(ys,{Voice:te(ur),Facsimile:te(ur)}),wB=Ye(ys,{Constraint:$i(AB)}),OB=Ye(ys,{IndividualName:te(ur),PositionName:te(ur),ContactInfo:te(RB)}),TB=Ye(ys,{Abstract:te(ur),AccessConstraints:te(ur),Fees:te(ur),Title:te(ur),ServiceTypeVersion:te(ur),ServiceType:te(ur)}),bB=Ye(ys,{ProviderName:te(ur),ProviderSite:te(Gd),ServiceContact:te(BB)});function CB(n,r){return ar({},pB,n,r)}function LB(n,r){return ar({},vB,n,r)}function AB(n,r){var t=n.getAttribute("name");if(!!t)return ar({name:t},gB,n,r)}function RB(n,r){return ar({},yB,n,r)}function PB(n,r){return ar({},mB,n,r)}function MB(n,r){var t=Gd(n);if(!!t)return ar({href:t},wB,n,r)}function IB(n,r){return ar({},_B,n,r)}function NB(n,r){var t=n.getAttribute("name"),e=ar({},EB,n,r);if(!!e){var i=r[r.length-1];i[t]=e}}function FB(n,r){return ar({},xB,n,r)}function jB(n,r){return ar({},SB,n,r)}function DB(n,r){return ar({},TB,n,r)}function BB(n,r){return ar({},OB,n,r)}function GB(n,r){return ar({},bB,n,r)}function UB(n,r){return ur(n)}var gw=dB;function yw(n,r,t,e,i,o){var a,s;i!==void 0?(a=i,s=o!==void 0?o:0):(a=[],s=0);for(var l=r;l<t;){var h=n[l++];a[s++]=n[l++],a[s++]=h;for(var d=2;d<e;++d)a[s++]=n[l++]}return a.length=s,a}var kB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zB=function(n){kB(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=en("EPSG:4326"),e.factor_=i.factor?i.factor:1e5,e.geometryLayout_=i.geometryLayout?i.geometryLayout:pr.XY,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);return new Hr(i)},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return[i]},r.prototype.readGeometryFromText=function(t,e){var i=uu(this.geometryLayout_),o=WB(t,i,this.factor_);yw(o,0,o.length,i,o);var a=Ki(o,0,o.length,i),s=new Bi(a,this.geometryLayout_);return so(s,!1,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):(qt(!1,40),"")},r.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},r.prototype.writeGeometryText=function(t,e){t=so(t,!0,this.adaptOptions(e));var i=t.getFlatCoordinates(),o=t.getStride();return yw(i,0,i.length,o,i),VB(i,o,this.factor_)},r}(s2);function VB(n,r,t){var e=t||1e5,i,o=new Array(r);for(i=0;i<r;++i)o[i]=0;for(var a=0,s=n.length;a<s;)for(i=0;i<r;++i,++a){var l=n[a],h=l-o[i];o[i]=l,n[a]=h}return YB(n,e)}function WB(n,r,t){var e=t||1e5,i,o=new Array(r);for(i=0;i<r;++i)o[i]=0;for(var a=HB(n,e),s=0,l=a.length;s<l;)for(i=0;i<r;++i,++s)o[i]+=a[s],a[s]=o[i];return a}function YB(n,r){for(var t=r||1e5,e=0,i=n.length;e<i;++e)n[e]=Math.round(n[e]*t);return XB(n)}function HB(n,r){for(var t=r||1e5,e=KB(n),i=0,o=e.length;i<o;++i)e[i]/=t;return e}function XB(n){for(var r=0,t=n.length;r<t;++r){var e=n[r];n[r]=e<0?~(e<<1):e<<1}return ZB(n)}function KB(n){for(var r=$B(n),t=0,e=r.length;t<e;++t){var i=r[t];r[t]=i&1?~(i>>1):i>>1}return r}function ZB(n){for(var r="",t=0,e=n.length;t<e;++t)r+=JB(n[t]);return r}function $B(n){for(var r=[],t=0,e=0,i=0,o=n.length;i<o;++i){var a=n.charCodeAt(i)-63;t|=(a&31)<<e,a<32?(r.push(t),t=0,e=0):e+=5}return r}function JB(n){for(var r,t="";n>=32;)r=(32|n&31)+63,t+=String.fromCharCode(r),n>>=5;return r=n+63,t+=String.fromCharCode(r),t}var qB=zB,QB=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tG=function(n){QB(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.layerName_=i.layerName,e.layers_=i.layers?i.layers:null,e.dataProjection=en(i.dataProjection?i.dataProjection:"EPSG:4326"),e}return r.prototype.readFeaturesFromObject=function(t,e){if(t.type=="Topology"){var i=t,o=void 0,a=null,s=null;i.transform&&(o=i.transform,a=o.scale,s=o.translate);var l=i.arcs;o&&uG(l,a,s);var h=[],d=i.objects,y=this.layerName_,w=void 0;for(var C in d)this.layers_&&this.layers_.indexOf(C)==-1||(d[C].type==="GeometryCollection"?(w=d[C],h.push.apply(h,lG(w,l,a,s,y,C,e))):(w=d[C],h.push(mw(w,l,a,s,y,C,e))));return h}else return[]},r.prototype.readProjectionFromObject=function(t){return this.dataProjection},r}(K_),eG={Point:rG,LineString:iG,Polygon:aG,MultiPoint:nG,MultiLineString:oG,MultiPolygon:sG};function o0(n,r){for(var t=[],e,i=0,o=n.length;i<o;++i)if(e=n[i],i>0&&t.pop(),e>=0)for(var a=r[e],s=0,l=a.length;s<l;++s)t.push(a[s].slice(0));else for(var a=r[~e],s=a.length-1;s>=0;--s)t.push(a[s].slice(0));return t}function rG(n,r,t){var e=n.coordinates;return r&&t&&_2(e,r,t),new Gn(e)}function nG(n,r,t){var e=n.coordinates;if(r&&t)for(var i=0,o=e.length;i<o;++i)_2(e[i],r,t);return new ml(e)}function iG(n,r){var t=o0(n.arcs,r);return new Bi(t)}function oG(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=o0(n.arcs[e],r);return new fs(t)}function aG(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=o0(n.arcs[e],r);return new ai(t)}function sG(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e){for(var o=n.arcs[e],a=[],s=0,l=o.length;s<l;++s)a[s]=o0(o[s],r);t[e]=a}return new Pa(t)}function lG(n,r,t,e,i,o,a){for(var s=n.geometries,l=[],h=0,d=s.length;h<d;++h)l[h]=mw(s[h],r,t,e,i,o,a);return l}function mw(n,r,t,e,i,o,a){var s=null,l=n.type;if(l){var h=eG[l];l==="Point"||l==="MultiPoint"?s=h(n,t,e):s=h(n,r),s=so(s,!1,a)}var d=new Hr({geometry:s});n.id!==void 0&&d.setId(n.id);var y=n.properties;return i&&(y||(y={}),y[i]=o),y&&d.setProperties(y,!0),d}function uG(n,r,t){for(var e=0,i=n.length;e<i;++e)cG(n[e],r,t)}function cG(n,r,t){for(var e=0,i=0,o=0,a=n.length;o<a;++o){var s=n[o];e+=s[0],i+=s[1],s[0]=e,s[1]=i,_2(s,r,t)}}function _2(n,r,t){n[0]=n[0]*r[0]+t[0],n[1]=n[1]*r[1]+t[1]}var fG=tG,hG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ai=function(n){hG(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.schemaLocation=i.schemaLocation?i.schemaLocation:e.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",e}return r}(Zn);Ai.prototype.namespace="http://www.opengis.net/gml/3.2",Ai.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:pn(Zn.prototype.readFlatPos),posList:pn(Zn.prototype.readFlatPosList),coordinates:pn(jd.prototype.readFlatCoordinates)}},Ai.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Zn.prototype.interiorParser,exterior:Zn.prototype.exteriorParser}},Ai.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:pn(ei.prototype.readPoint),MultiPoint:pn(ei.prototype.readMultiPoint),LineString:pn(ei.prototype.readLineString),MultiLineString:pn(ei.prototype.readMultiLineString),LinearRing:pn(ei.prototype.readLinearRing),Polygon:pn(ei.prototype.readPolygon),MultiPolygon:pn(ei.prototype.readMultiPolygon),Surface:pn(Ai.prototype.readSurface),MultiSurface:pn(Zn.prototype.readMultiSurface),Curve:pn(Ai.prototype.readCurve),MultiCurve:pn(Zn.prototype.readMultiCurve),Envelope:pn(Ai.prototype.readEnvelope)}},Ai.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:tn(Zn.prototype.curveMemberParser),curveMembers:tn(Zn.prototype.curveMemberParser)}},Ai.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:tn(Zn.prototype.surfaceMemberParser),surfaceMembers:tn(Zn.prototype.surfaceMemberParser)}},Ai.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:tn(ei.prototype.readLineString),Curve:tn(Zn.prototype.readCurve)}},Ai.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:tn(ei.prototype.readPolygon),Surface:tn(Zn.prototype.readSurface)}},Ai.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:pn(Zn.prototype.readPatch)}},Ai.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:pn(Zn.prototype.readSegment)}},Ai.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:tn(Zn.prototype.readFlatPosList),upperCorner:tn(Zn.prototype.readFlatPosList)}},Ai.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:pn(Zn.prototype.readPolygonPatch)}},Ai.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:pn(Zn.prototype.readLineStringSegment)}},Ai.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:tn(ei.prototype.pointMemberParser),pointMembers:tn(ei.prototype.pointMemberParser)}},Ai.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:tn(ei.prototype.lineStringMemberParser),lineStringMembers:tn(ei.prototype.lineStringMemberParser)}},Ai.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:tn(ei.prototype.polygonMemberParser),polygonMembers:tn(ei.prototype.polygonMemberParser)}},Ai.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:tn(ei.prototype.readFlatCoordinatesFromNode)}},Ai.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:tn(ei.prototype.readLineString)}},Ai.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:tn(ei.prototype.readPolygon)}},Ai.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:pn(ei.prototype.readFlatLinearRing)}},Ai.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:ie(Zn.prototype.writeRing),interior:ie(Zn.prototype.writeRing)}},Ai.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:ie(wn),upperCorner:ie(wn)}},Ai.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:ie(Zn.prototype.writeSurfaceOrPolygonMember),polygonMember:ie(Zn.prototype.writeSurfaceOrPolygonMember)}},Ai.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:ie(Zn.prototype.writePointMember)}},Ai.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:ie(Zn.prototype.writeLineStringOrCurveMember),curveMember:ie(Zn.prototype.writeLineStringOrCurveMember)}},Ai.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:ie(Zn.prototype.writeCurveOrLineString),MultiCurve:ie(Zn.prototype.writeMultiCurveOrLineString),Point:ie(Ai.prototype.writePoint),MultiPoint:ie(Zn.prototype.writeMultiPoint),LineString:ie(Zn.prototype.writeCurveOrLineString),MultiLineString:ie(Zn.prototype.writeMultiCurveOrLineString),LinearRing:ie(Zn.prototype.writeLinearRing),Polygon:ie(Zn.prototype.writeSurfaceOrPolygon),MultiPolygon:ie(Zn.prototype.writeMultiSurfaceOrPolygon),Surface:ie(Zn.prototype.writeSurfaceOrPolygon),MultiSurface:ie(Zn.prototype.writeMultiSurfaceOrPolygon),Envelope:ie(Zn.prototype.writeEnvelope)}};var E2=Ai,dG=function(){function n(r){this.tagName_=r}return n.prototype.getTagName=function(){return this.tagName_},n}(),Ud=dG,pG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vG=function(n){pG(r,n);function r(t,e){var i=n.call(this,t)||this;return i.conditions=e,qt(i.conditions.length>=2,57),i}return r}(Ud),_w=vG,gG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yG=function(n){gG(r,n);function r(t){return n.call(this,"And",Array.prototype.slice.call(arguments))||this}return r}(_w),mG=yG,_G=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EG=function(n){_G(r,n);function r(t,e,i){var o=n.call(this,"BBOX")||this;if(o.geometryName=t,o.extent=e,e.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=i,o}return r}(Ud),xG=EG,SG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wG=function(n){SG(r,n);function r(t,e,i,o){var a=n.call(this,t)||this;return a.geometryName=e||"the_geom",a.geometry=i,a.srsName=o,a}return r}(Ud),Av=wG,OG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){OG(r,n);function r(t,e,i){return n.call(this,"Contains",t,e,i)||this}return r})(Av);var TG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){TG(r,n);function r(t,e,i,o,a){var s=n.call(this,"DWithin",t,e,a)||this;return s.distance=i,s.unit=o,s}return r})(Av);var bG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){bG(r,n);function r(t,e,i){return n.call(this,"Disjoint",t,e,i)||this}return r})(Av);var CG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LG=function(n){CG(r,n);function r(t,e){var i=n.call(this,t)||this;return i.propertyName=e,i}return r}(Ud),Rv=LG,AG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){AG(r,n);function r(t,e,i){var o=n.call(this,"During",t)||this;return o.begin=e,o.end=i,o}return r})(Rv);var RG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PG=function(n){RG(r,n);function r(t,e,i,o){var a=n.call(this,t,e)||this;return a.expression=i,a.matchCase=o,a}return r}(Rv),kd=PG,MG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){MG(r,n);function r(t,e,i){return n.call(this,"PropertyIsEqualTo",t,e,i)||this}return r})(kd);var IG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){IG(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThan",t,e)||this}return r})(kd);var NG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){NG(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)||this}return r})(kd);var FG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){FG(r,n);function r(t,e,i){return n.call(this,"Intersects",t,e,i)||this}return r})(Av);var jG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){jG(r,n);function r(t,e,i){var o=n.call(this,"PropertyIsBetween",t)||this;return o.lowerBoundary=e,o.upperBoundary=i,o}return r})(Rv);var DG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){DG(r,n);function r(t,e,i,o,a,s){var l=n.call(this,"PropertyIsLike",t)||this;return l.pattern=e,l.wildCard=i!==void 0?i:"*",l.singleChar=o!==void 0?o:".",l.escapeChar=a!==void 0?a:"!",l.matchCase=s,l}return r})(Rv);var BG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){BG(r,n);function r(t){return n.call(this,"PropertyIsNull",t)||this}return r})(Rv);var GG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){GG(r,n);function r(t,e){return n.call(this,"PropertyIsLessThan",t,e)||this}return r})(kd);var UG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){UG(r,n);function r(t,e){return n.call(this,"PropertyIsLessThanOrEqualTo",t,e)||this}return r})(kd);var kG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){kG(r,n);function r(t){var e=n.call(this,"Not")||this;return e.condition=t,e}return r})(Ud);var zG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){zG(r,n);function r(t,e,i){return n.call(this,"PropertyIsNotEqualTo",t,e,i)||this}return r})(kd);var VG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){VG(r,n);function r(t){return n.call(this,"Or",Array.prototype.slice.call(arguments))||this}return r})(_w);var WG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){WG(r,n);function r(t){var e=n.call(this,"ResourceId")||this;return e.rid=t,e}return r})(Ud);var YG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){YG(r,n);function r(t,e,i){return n.call(this,"Within",t,e,i)||this}return r})(Av);function HG(n){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(mG,r))}function XG(n,r,t){return new xG(n,r,t)}var KG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ew={"http://www.opengis.net/gml":{boundedBy:te(ei.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:tn(ei.prototype.readFeaturesInternal)}},ZG={"http://www.opengis.net/wfs":{totalInserted:te(Fo),totalUpdated:te(Fo),totalDeleted:te(Fo)},"http://www.opengis.net/wfs/2.0":{totalInserted:te(Fo),totalUpdated:te(Fo),totalDeleted:te(Fo)}},$G={"http://www.opengis.net/wfs":{TransactionSummary:te(Ow,"transactionSummary"),InsertResults:te(bw,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:te(Ow,"transactionSummary"),InsertResults:te(bw,"insertIds")}},JG={"http://www.opengis.net/wfs":{PropertyName:ie(wn)},"http://www.opengis.net/wfs/2.0":{PropertyName:ie(wn)}},xw={"http://www.opengis.net/wfs":{Insert:ie(Cw),Update:ie(Rw),Delete:ie(Aw),Property:ie(Pw),Native:ie(Mw)},"http://www.opengis.net/wfs/2.0":{Insert:ie(Cw),Update:ie(Rw),Delete:ie(Aw),Property:ie(Pw),Native:ie(Mw)}},Sw="feature",x2="http://www.w3.org/2000/xmlns/",S2={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},w2={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},O2={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},ww={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},T2={"2.0.0":E2,"1.1.0":Zn,"1.0.0":jd},qG="1.1.0",QG=function(n){KG(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.version_=i.version?i.version:qG,e.featureType_=i.featureType,e.featureNS_=i.featureNS,e.gmlFormat_=i.gmlFormat?i.gmlFormat:new T2[e.version_],e.schemaLocation_=i.schemaLocation?i.schemaLocation:ww[e.version_],e}return r.prototype.getFeatureType=function(){return this.featureType_},r.prototype.setFeatureType=function(t){this.featureType_=t},r.prototype.readFeaturesFromNode=function(t,e){var i={node:t};Object(Pr.a)(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(Pr.a)(i,this.getReadOptions(t,e||{}));var o=[i],a;this.version_==="2.0.0"?a=Ew:a=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var s=ar([],a,t,o,this.gmlFormat_);return s||(s=[]),s},r.prototype.readTransactionResponse=function(t){if(t)if(typeof t=="string"){var e=Ou(t);return this.readTransactionResponseFromDocument(e)}else return wu(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t);else return},r.prototype.readFeatureCollectionMetadata=function(t){if(t)if(typeof t=="string"){var e=Ou(t);return this.readFeatureCollectionMetadataFromDocument(e)}else return wu(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t);else return},r.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},r.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},i=$u(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=i,ar(e,Ew,t,[],this.gmlFormat_)},r.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},r.prototype.readTransactionResponseFromNode=function(t){return ar({},$G,t,[])},r.prototype.writeGetFeature=function(t){var e=this,i=An(w2[this.version_],"GetFeature");i.setAttribute("service","WFS"),i.setAttribute("version",this.version_),t.handle&&i.setAttribute("handle",t.handle),t.outputFormat&&i.setAttribute("outputFormat",t.outputFormat),t.maxFeatures!==void 0&&i.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&i.setAttribute("resultType",t.resultType),t.startIndex!==void 0&&i.setAttribute("startIndex",String(t.startIndex)),t.count!==void 0&&i.setAttribute("count",String(t.count)),t.viewParams!==void 0&&i.setAttribute("viewParams",t.viewParams),i.setAttributeNS(sh,"xsi:schemaLocation",this.schemaLocation_);var o={node:i};if(Object(Pr.a)(o,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),qt(Array.isArray(t.featureTypes),11),typeof t.featureTypes[0]=="string"){var a=t.filter;t.bbox&&(qt(t.geometryName,12),a=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,a)),Object(Pr.a)(o,{geometryName:t.geometryName,filter:a}),zw(i,t.featureTypes,[o])}else t.featureTypes.forEach(function(s){var l=e.combineBboxAndFilter(s.geometryName,s.bbox,t.srsName,t.filter);Object(Pr.a)(o,{geometryName:s.geometryName,filter:l}),zw(i,[s.name],[o])});return i},r.prototype.combineBboxAndFilter=function(t,e,i,o){var a=XG(t,e,i);return o?HG(o,a):a},r.prototype.writeTransaction=function(t,e,i,o){var a=[],s=o.version?o.version:this.version_,l=An(w2[s],"Transaction");l.setAttribute("service","WFS"),l.setAttribute("version",s);var h;o&&(h=o.gmlOptions?o.gmlOptions:{},o.handle&&l.setAttribute("handle",o.handle)),l.setAttributeNS(sh,"xsi:schemaLocation",ww[s]);var d=t9(l,h,s,o);return t&&a0("Insert",t,a,d),e&&a0("Update",e,a,d),i&&a0("Delete",i,a,d),o.nativeElements&&a0("Native",o.nativeElements,a,d),l},r.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},r.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(!(e.childNodes.length===0||e.childNodes.length===1&&e.firstChild.nodeType===3)){var i=[{}];return this.gmlFormat_.readGeometryElement(e,i),en(i.pop().srsName)}}return null},r}(wv);function t9(n,r,t,e){var i=e.featurePrefix?e.featurePrefix:Sw,o;t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2);var a=Object(Pr.a)({node:n},{version:t,featureNS:e.featureNS,featureType:e.featureType,featurePrefix:i,gmlVersion:o,hasZ:e.hasZ,srsName:e.srsName},r);return a}function a0(n,r,t,e){Cn(e,xw,ho(n),r,t)}function Ow(n,r){return ar({},ZG,n,r)}var e9={"http://www.opengis.net/ogc":{FeatureId:tn(function(n,r){return n.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:tn(function(n,r){return n.getAttribute("fid")})}};function Tw(n,r){vs(e9,n,r)}var r9={"http://www.opengis.net/wfs":{Feature:Tw},"http://www.opengis.net/wfs/2.0":{Feature:Tw}};function bw(n,r){return ar([],r9,n,r)}function Cw(n,r,t){var e=t[t.length-1],i=e.featureType,o=e.featureNS,a=e.gmlVersion,s=An(o,i);n.appendChild(s),a===2?jd.prototype.writeFeatureElement(s,r,t):a===3?Zn.prototype.writeFeatureElement(s,r,t):E2.prototype.writeFeatureElement(s,r,t)}function Lw(n,r,t){var e=t[t.length-1],i=e.version,o=S2[i],a=An(o,"Filter"),s=An(o,"FeatureId");a.appendChild(s),s.setAttribute("fid",r),n.appendChild(a)}function b2(n,r){n=n||Sw;var t=n+":";return r.indexOf(t)===0?r:t+r}function Aw(n,r,t){var e=t[t.length-1];qt(r.getId()!==void 0,26);var i=e.featureType,o=e.featurePrefix,a=e.featureNS,s=b2(o,i);n.setAttribute("typeName",s),n.setAttributeNS(x2,"xmlns:"+o,a);var l=r.getId();l!==void 0&&Lw(n,l,t)}function Rw(n,r,t){var e=t[t.length-1];qt(r.getId()!==void 0,27);var i=e.version,o=e.featureType,a=e.featurePrefix,s=e.featureNS,l=b2(a,o),h=r.getGeometryName();n.setAttribute("typeName",l),n.setAttributeNS(x2,"xmlns:"+a,s);var d=r.getId();if(d!==void 0){for(var y=r.getKeys(),w=[],C=0,I=y.length;C<I;C++){var G=r.get(y[C]);if(G!==void 0){var Z=y[C];G&&typeof G.getSimplifiedGeometry=="function"&&(Z=h),w.push({name:Z,value:G})}}Cn({version:i,gmlVersion:e.gmlVersion,node:n,hasZ:e.hasZ,srsName:e.srsName},xw,ho("Property"),w,t),Lw(n,d,t)}}function Pw(n,r,t){var e=t[t.length-1],i=e.version,o=w2[i],a=An(o,"Name"),s=e.gmlVersion;if(n.appendChild(a),wn(a,r.name),r.value!==void 0&&r.value!==null){var l=An(o,"Value");n.appendChild(l),r.value&&typeof r.value.getSimplifiedGeometry=="function"?s===2?jd.prototype.writeGeometryElement(l,r.value,t):s===3?Zn.prototype.writeGeometryElement(l,r.value,t):E2.prototype.writeGeometryElement(l,r.value,t):wn(l,r.value)}}function Mw(n,r,t){r.vendorId&&n.setAttribute("vendorId",r.vendorId),r.safeToIgnore!==void 0&&n.setAttribute("safeToIgnore",String(r.safeToIgnore)),r.value!==void 0&&wn(n,r.value)}var s0={"http://www.opengis.net/wfs":{Query:ie(Iw)},"http://www.opengis.net/wfs/2.0":{Query:ie(Iw)},"http://www.opengis.net/ogc":{During:ie(jw),And:ie(l0),Or:ie(l0),Not:ie(Dw),BBOX:ie(Nw),Contains:ie(tf),Intersects:ie(tf),Within:ie(tf),DWithin:ie(Fw),PropertyIsEqualTo:ie(_l),PropertyIsNotEqualTo:ie(_l),PropertyIsLessThan:ie(_l),PropertyIsLessThanOrEqualTo:ie(_l),PropertyIsGreaterThan:ie(_l),PropertyIsGreaterThanOrEqualTo:ie(_l),PropertyIsNull:ie(Bw),PropertyIsBetween:ie(Gw),PropertyIsLike:ie(Uw)},"http://www.opengis.net/fes/2.0":{During:ie(jw),And:ie(l0),Or:ie(l0),Not:ie(Dw),BBOX:ie(Nw),Contains:ie(tf),Disjoint:ie(tf),Intersects:ie(tf),ResourceId:ie(i9),Within:ie(tf),DWithin:ie(Fw),PropertyIsEqualTo:ie(_l),PropertyIsNotEqualTo:ie(_l),PropertyIsLessThan:ie(_l),PropertyIsLessThanOrEqualTo:ie(_l),PropertyIsGreaterThan:ie(_l),PropertyIsGreaterThanOrEqualTo:ie(_l),PropertyIsNull:ie(Bw),PropertyIsBetween:ie(Gw),PropertyIsLike:ie(Uw)}};function Iw(n,r,t){var e=t[t.length-1],i=e.version,o=e.featurePrefix,a=e.featureNS,s=e.propertyNames,l=e.srsName,h;o?h=b2(o,r):h=r;var d;i==="2.0.0"?d="typeNames":d="typeName",n.setAttribute(d,h),l&&n.setAttribute("srsName",l),a&&n.setAttributeNS(x2,"xmlns:"+o,a);var y=Object(Pr.a)({},e);y.node=n,Cn(y,JG,ho("PropertyName"),s,t);var w=e.filter;if(w){var C=An(f0(i),"Filter");n.appendChild(C),n9(C,w,t)}}function n9(n,r,t){var e=t[t.length-1],i={node:n};Object(Pr.a)(i,{context:e}),Cn(i,s0,ho(r.getTagName()),[r],t)}function Nw(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;e.srsName=r.srsName;var a=T2[o];zd(o,n,r.geometryName),a.prototype.writeGeometryElement(n,r.extent,t)}function i9(n,r,t){n.setAttribute("rid",r.rid)}function tf(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;e.srsName=r.srsName;var a=T2[o];zd(o,n,r.geometryName),a.prototype.writeGeometryElement(n,r.geometry,t)}function Fw(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;tf(n,r,t);var a=An(f0(o),"Distance");wn(a,r.distance.toString()),o==="2.0.0"?a.setAttribute("uom",r.unit):a.setAttribute("units",r.unit),n.appendChild(a)}function jw(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;u0(O2[o],"ValueReference",n,r.propertyName);var a=An(Ku,"TimePeriod");n.appendChild(a);var s=An(Ku,"begin");a.appendChild(s),kw(s,r.begin);var l=An(Ku,"end");a.appendChild(l),kw(l,r.end)}function l0(n,r,t){var e=t[t.length-1],i=e.context,o={node:n};Object(Pr.a)(o,{context:i});for(var a=r.conditions,s=0,l=a.length;s<l;++s){var h=a[s];Cn(o,s0,ho(h.getTagName()),[h],t)}}function Dw(n,r,t){var e=t[t.length-1],i=e.context,o={node:n};Object(Pr.a)(o,{context:i});var a=r.condition;Cn(o,s0,ho(a.getTagName()),[a],t)}function _l(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),zd(o,n,r.propertyName),c0(o,n,""+r.expression)}function Bw(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;zd(o,n,r.propertyName)}function Gw(n,r,t){var e=t[t.length-1],i=e.context,o=i.version,a=f0(o);zd(o,n,r.propertyName);var s=An(a,"LowerBoundary");n.appendChild(s),c0(o,s,""+r.lowerBoundary);var l=An(a,"UpperBoundary");n.appendChild(l),c0(o,l,""+r.upperBoundary)}function Uw(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;n.setAttribute("wildCard",r.wildCard),n.setAttribute("singleChar",r.singleChar),n.setAttribute("escapeChar",r.escapeChar),r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),zd(o,n,r.propertyName),c0(o,n,""+r.pattern)}function u0(n,r,t,e){var i=An(n,r);wn(i,e),t.appendChild(i)}function c0(n,r,t){u0(f0(n),"Literal",r,t)}function zd(n,r,t){n==="2.0.0"?u0(O2[n],"ValueReference",r,t):u0(S2[n],"PropertyName",r,t)}function kw(n,r){var t=An(Ku,"TimeInstant");n.appendChild(t);var e=An(Ku,"timePosition");t.appendChild(e),wn(e,r)}function zw(n,r,t){var e=t[t.length-1],i=Object(Pr.a)({},e);i.node=n,Cn(i,s0,ho("Query"),r,t)}function f0(n){var r;return n==="2.0.0"?r=O2[n]:r=S2[n],r}var o9=QG,a9=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ni={POINT:1,LINE_STRING:2,POLYGON:3,MULTI_POINT:4,MULTI_LINE_STRING:5,MULTI_POLYGON:6,GEOMETRY_COLLECTION:7,POLYHEDRAL_SURFACE:15,TIN:16,TRIANGLE:17},Vw=function(){function n(r){this.view_=r,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=pr.XY}return n.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},n.prototype.readUint32=function(r){return this.view_.getUint32((this.pos_+=4)-4,r!==void 0?r:this.isLittleEndian_)},n.prototype.readDouble=function(r){return this.view_.getFloat64((this.pos_+=8)-8,r!==void 0?r:this.isLittleEndian_)},n.prototype.readPoint=function(){var r=[];return r.push(this.readDouble()),r.push(this.readDouble()),this.hasZ_&&r.push(this.readDouble()),this.hasM_&&r.push(this.readDouble()),r},n.prototype.readLineString=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readPoint());return t},n.prototype.readPolygon=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readLineString());return t},n.prototype.readWkbHeader=function(r){var t=this.readUint8(),e=t>0,i=this.readUint32(e),o=Math.floor((i&268435455)/1e3),a=Boolean(i&2147483648)||o===1||o===3,s=Boolean(i&1073741824)||o===2||o===3,l=Boolean(i&536870912),h=(i&268435455)%1e3,d=["XY",a?"Z":"",s?"M":""].join(""),y=l?this.readUint32(e):null;if(r!==void 0&&r!==h)throw new Error("Unexpected WKB geometry type "+h);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==d)throw new Error("Inconsistent geometry layout");if(y&&this.srid_!==y)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=a,this.hasM_=s,this.layout_=d,this.srid_=y,this.initialized_=!0;return h},n.prototype.readWkbPayload=function(r){switch(r){case Ni.POINT:return this.readPoint();case Ni.LINE_STRING:return this.readLineString();case Ni.POLYGON:case Ni.TRIANGLE:return this.readPolygon();case Ni.MULTI_POINT:return this.readMultiPoint();case Ni.MULTI_LINE_STRING:return this.readMultiLineString();case Ni.MULTI_POLYGON:case Ni.POLYHEDRAL_SURFACE:case Ni.TIN:return this.readMultiPolygon();case Ni.GEOMETRY_COLLECTION:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+r+" is found")}},n.prototype.readWkbBlock=function(r){return this.readWkbPayload(this.readWkbHeader(r))},n.prototype.readWkbCollection=function(r,t){for(var e=this.readUint32(),i=[],o=0;o<e;o++){var a=r.call(this,t);a&&i.push(a)}return i},n.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,Ni.POINT)},n.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,Ni.LINE_STRING)},n.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,Ni.POLYGON)},n.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},n.prototype.readGeometry=function(){var r=this.readWkbHeader(),t=this.readWkbPayload(r);switch(r){case Ni.POINT:return new Gn(t,this.layout_);case Ni.LINE_STRING:return new Bi(t,this.layout_);case Ni.POLYGON:case Ni.TRIANGLE:return new ai(t,this.layout_);case Ni.MULTI_POINT:return new ml(t,this.layout_);case Ni.MULTI_LINE_STRING:return new fs(t,this.layout_);case Ni.MULTI_POLYGON:case Ni.POLYHEDRAL_SURFACE:case Ni.TIN:return new Pa(t,this.layout_);case Ni.GEOMETRY_COLLECTION:return new Ma(t);default:return null}},n.prototype.getSrid=function(){return this.srid_},n}(),s9=function(){function n(r){r=r||{},this.layout_=r.layout,this.isLittleEndian_=r.littleEndian!==!1,this.isEWKB_=r.ewkb!==!1,this.writeQueue_=[],this.nodata_=Object(Pr.a)({X:0,Y:0,Z:0,M:0},r.nodata)}return n.prototype.writeUint8=function(r){this.writeQueue_.push([1,r])},n.prototype.writeUint32=function(r){this.writeQueue_.push([4,r])},n.prototype.writeDouble=function(r){this.writeQueue_.push([8,r])},n.prototype.writePoint=function(r,t){for(var e=Pr.a.apply(null,t.split("").map(function(s,l){var h;return h={},h[s]=r[l],h})),i=0,o=this.layout_;i<o.length;i++){var a=o[i];this.writeDouble(a in e?e[a]:this.nodata_[a])}},n.prototype.writeLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writePoint(r[e],t)},n.prototype.writePolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeLineString(r[e],t)},n.prototype.writeWkbHeader=function(r,t){r%=1e3,this.layout_.indexOf("Z")>=0&&(r+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(r+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(t)&&(r|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(r),this.isEWKB_&&Number.isInteger(t)&&this.writeUint32(t)},n.prototype.writeMultiPoint=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(1),this.writePoint(r[e],t)},n.prototype.writeMultiLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(2),this.writeLineString(r[e],t)},n.prototype.writeMultiPolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(3),this.writePolygon(r[e],t)},n.prototype.writeGeometryCollection=function(r){this.writeUint32(r.length);for(var t=0;t<r.length;t++)this.writeGeometry(r[t])},n.prototype.findMinimumLayout=function(r,t){t===void 0&&(t=pr.XYZM);var e=function(a,s){return a===s?a:a===pr.XYZM?s:s===pr.XYZM?a:pr.XY};if(r instanceof Xo)return e(r.getLayout(),t);if(r instanceof Ma)for(var i=r.getGeometriesArray(),o=0;o<i.length&&t!==pr.XY;o++)t=this.findMinimumLayout(i[o],t);return t},n.prototype.writeGeometry=function(r,t){var e,i,o=(e={},e[Zt.POINT]=Ni.POINT,e[Zt.LINE_STRING]=Ni.LINE_STRING,e[Zt.POLYGON]=Ni.POLYGON,e[Zt.MULTI_POINT]=Ni.MULTI_POINT,e[Zt.MULTI_LINE_STRING]=Ni.MULTI_LINE_STRING,e[Zt.MULTI_POLYGON]=Ni.MULTI_POLYGON,e[Zt.GEOMETRY_COLLECTION]=Ni.GEOMETRY_COLLECTION,e),a=r.getType(),s=o[a];if(!s)throw new Error("GeometryType "+a+" is not supported");if(this.layout_||(this.layout_=this.findMinimumLayout(r)),this.writeWkbHeader(s,t),r instanceof Xo){var l=(i={},i[Zt.POINT]=this.writePoint,i[Zt.LINE_STRING]=this.writeLineString,i[Zt.POLYGON]=this.writePolygon,i[Zt.MULTI_POINT]=this.writeMultiPoint,i[Zt.MULTI_LINE_STRING]=this.writeMultiLineString,i[Zt.MULTI_POLYGON]=this.writeMultiPolygon,i);l[a].call(this,r.getCoordinates(),r.getLayout())}else r instanceof Ma&&this.writeGeometryCollection(r.getGeometriesArray())},n.prototype.getBuffer=function(){var r=this,t=this.writeQueue_.reduce(function(a,s){return a+s[0]},0),e=new ArrayBuffer(t),i=new DataView(e),o=0;return this.writeQueue_.forEach(function(a){switch(a[0]){case 1:i.setUint8(o,a[1]);break;case 4:i.setUint32(o,a[1],r.isLittleEndian_);break;case 8:i.setFloat64(o,a[1],r.isLittleEndian_);break}o+=a[0]}),e},n}(),l9=function(n){a9(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection=Boolean(i.splitCollection),e.viewCache_=null,e.hex_=i.hex!==!1,e.littleEndian_=i.littleEndian!==!1,e.ewkb_=i.ewkb!==!1,e.layout_=i.geometryLayout,e.nodataZ_=i.nodataZ||0,e.nodataM_=i.nodataM||0,e.srid_=i.srid,e}return r.prototype.getType=function(){return this.hex_?Hl.TEXT:Hl.ARRAY_BUFFER},r.prototype.readFeature=function(t,e){return new Hr({geometry:this.readGeometry(t,e)})},r.prototype.readFeatures=function(t,e){var i=[],o=this.readGeometry(t,e);return this.splitCollection&&o instanceof Ma?i=o.getGeometriesArray():i=[o],i.map(function(a){return new Hr({geometry:a})})},r.prototype.readGeometry=function(t,e){var i=Ww(t);if(!i)return null;var o=new Vw(i),a=o.readGeometry();this.viewCache_=i;var s=this.getReadOptions(t,e);return this.viewCache_=null,so(a,!1,s)},r.prototype.readProjection=function(t){var e=this.viewCache_||Ww(t);if(!!e){var i=new Vw(e);return i.readWkbHeader(),i.getSrid()&&en("EPSG:"+i.getSrid())||void 0}},r.prototype.writeFeature=function(t,e){return this.writeGeometry(t.getGeometry(),e)},r.prototype.writeFeatures=function(t,e){return this.writeGeometry(new Ma(t.map(function(i){return i.getGeometry()})),e)},r.prototype.writeGeometry=function(t,e){var i=this.adaptOptions(e),o=new s9({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),a=Number.isInteger(this.srid_)?Number(this.srid_):null;if(this.srid_!==!1&&!Number.isInteger(this.srid_)){var s=i.dataProjection&&en(i.dataProjection);if(s){var l=s.getCode();l.indexOf("EPSG:")===0&&(a=Number(l.substring(5)))}}o.writeGeometry(so(t,!0,i),a);var h=o.getBuffer();return this.hex_?u9(h):h},r}(xv);function u9(n){var r=new Uint8Array(n);return Array.from(r.values()).map(function(t){return(t<16?"0":"")+Number(t).toString(16).toUpperCase()}).join("")}function c9(n){for(var r=new Uint8Array(n.length/2),t=0;t<n.length/2;t++)r[t]=parseInt(n.substr(t*2,2),16);return new DataView(r.buffer)}function Ww(n){return typeof n=="string"?c9(n):ArrayBuffer.isView(n)?n instanceof DataView?n:new DataView(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new DataView(n):null}var f9=l9,h9=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d9={POINT:Gn,LINESTRING:Bi,POLYGON:ai,MULTIPOINT:ml,MULTILINESTRING:fs,MULTIPOLYGON:Pa},Yw="EMPTY",Hw="Z",Xw="M",p9="ZM",Ri={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},v9={};for(var Kw in Zt)v9[Kw]=Zt[Kw].toUpperCase();var g9=function(){function n(r){this.wkt=r,this.index_=-1}return n.prototype.isAlpha_=function(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"},n.prototype.isNumeric_=function(r,t){var e=t!==void 0?t:!1;return r>="0"&&r<="9"||r=="."&&!e},n.prototype.isWhiteSpace_=function(r){return r==" "||r=="	"||r=="\r"||r==`
`},n.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},n.prototype.nextToken=function(){var r=this.nextChar_(),t=this.index_,e=r,i;if(r=="(")i=Ri.LEFT_PAREN;else if(r==",")i=Ri.COMMA;else if(r==")")i=Ri.RIGHT_PAREN;else if(this.isNumeric_(r)||r=="-")i=Ri.NUMBER,e=this.readNumber_();else if(this.isAlpha_(r))i=Ri.TEXT,e=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(r==="")i=Ri.EOF;else throw new Error("Unexpected character: "+r)}return{position:t,value:e,type:i}},n.prototype.readNumber_=function(){var r,t=this.index_,e=!1,i=!1;do r=="."?e=!0:(r=="e"||r=="E")&&(i=!0),r=this.nextChar_();while(this.isNumeric_(r,e)||!i&&(r=="e"||r=="E")||i&&(r=="-"||r=="+"));return parseFloat(this.wkt.substring(t,this.index_--))},n.prototype.readText_=function(){var r,t=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(t,this.index_--).toUpperCase()},n}(),y9=function(){function n(r){this.lexer_=r,this.token_={position:0,type:Ri.START},this.layout_=pr.XY}return n.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},n.prototype.isTokenType=function(r){return this.token_.type==r},n.prototype.match=function(r){var t=this.isTokenType(r);return t&&this.consume_(),t},n.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},n.prototype.parseGeometryLayout_=function(){var r=pr.XY,t=this.token_;if(this.isTokenType(Ri.TEXT)){var e=t.value;e===Hw?r=pr.XYZ:e===Xw?r=pr.XYM:e===p9&&(r=pr.XYZM),r!==pr.XY&&this.consume_()}return r},n.prototype.parseGeometryCollectionText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=[];do r.push(this.parseGeometry_());while(this.match(Ri.COMMA));if(this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePointText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=this.parsePoint_();if(this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseLineStringText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=this.parsePointList_();if(this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePolygonText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPointText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=void 0;if(this.token_.type==Ri.LEFT_PAREN?r=this.parsePointTextList_():r=this.parsePointList_(),this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiLineStringText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPolygonText_=function(){if(this.match(Ri.LEFT_PAREN)){var r=this.parsePolygonTextList_();if(this.match(Ri.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePoint_=function(){for(var r=[],t=this.layout_.length,e=0;e<t;++e){var i=this.token_;if(this.match(Ri.NUMBER))r.push(i.value);else break}if(r.length==t)return r;throw new Error(this.formatErrorMessage_())},n.prototype.parsePointList_=function(){for(var r=[this.parsePoint_()];this.match(Ri.COMMA);)r.push(this.parsePoint_());return r},n.prototype.parsePointTextList_=function(){for(var r=[this.parsePointText_()];this.match(Ri.COMMA);)r.push(this.parsePointText_());return r},n.prototype.parseLineStringTextList_=function(){for(var r=[this.parseLineStringText_()];this.match(Ri.COMMA);)r.push(this.parseLineStringText_());return r},n.prototype.parsePolygonTextList_=function(){for(var r=[this.parsePolygonText_()];this.match(Ri.COMMA);)r.push(this.parsePolygonText_());return r},n.prototype.isEmptyGeometry_=function(){var r=this.isTokenType(Ri.TEXT)&&this.token_.value==Yw;return r&&this.consume_(),r},n.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},n.prototype.parseGeometry_=function(){var r=this.token_;if(this.match(Ri.TEXT)){var t=r.value;this.layout_=this.parseGeometryLayout_();var e=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(e)return new Ma([]);var i=this.parseGeometryCollectionText_();return new Ma(i)}else{var o=d9[t];if(!o)throw new Error("Invalid geometry type: "+t);var a=void 0;if(e)t=="POINT"?a=[NaN,NaN]:a=[];else switch(t){case"POINT":{a=this.parsePointText_();break}case"LINESTRING":{a=this.parseLineStringText_();break}case"POLYGON":{a=this.parsePolygonText_();break}case"MULTIPOINT":{a=this.parseMultiPointText_();break}case"MULTILINESTRING":{a=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{a=this.parseMultiPolygonText_();break}}return new o(a,this.layout_)}}throw new Error(this.formatErrorMessage_())},n}(),m9=function(n){h9(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection_=i.splitCollection!==void 0?i.splitCollection:!1,e}return r.prototype.parse_=function(t){var e=new g9(t),i=new y9(e);return i.parse()},r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e),o=new Hr;return o.setGeometry(i),o},r.prototype.readFeaturesFromText=function(t,e){var i=[],o=this.readGeometryFromText(t,e);this.splitCollection_&&o.getType()==Zt.GEOMETRY_COLLECTION?i=o.getGeometriesArray():i=[o];for(var a=[],s=0,l=i.length;s<l;++s){var h=new Hr;h.setGeometry(i[s]),a.push(h)}return a},r.prototype.readGeometryFromText=function(t,e){var i=this.parse_(t);return so(i,!1,e)},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):""},r.prototype.writeFeaturesText=function(t,e){if(t.length==1)return this.writeFeatureText(t[0],e);for(var i=[],o=0,a=t.length;o<a;++o)i.push(t[o].getGeometry());var s=new Ma(i);return this.writeGeometryText(s,e)},r.prototype.writeGeometryText=function(t,e){return Jw(so(t,!0,e))},r}(s2);function Zw(n){var r=n.getCoordinates();return r.length===0?"":r.join(" ")}function _9(n){for(var r=[],t=n.getPoints(),e=0,i=t.length;e<i;++e)r.push("("+Zw(t[e])+")");return r.join(",")}function E9(n){for(var r=[],t=n.getGeometries(),e=0,i=t.length;e<i;++e)r.push(Jw(t[e]));return r.join(",")}function C2(n){for(var r=n.getCoordinates(),t=[],e=0,i=r.length;e<i;++e)t.push(r[e].join(" "));return t.join(",")}function x9(n){for(var r=[],t=n.getLineStrings(),e=0,i=t.length;e<i;++e)r.push("("+C2(t[e])+")");return r.join(",")}function $w(n){for(var r=[],t=n.getLinearRings(),e=0,i=t.length;e<i;++e)r.push("("+C2(t[e])+")");return r.join(",")}function S9(n){for(var r=[],t=n.getPolygons(),e=0,i=t.length;e<i;++e)r.push("("+$w(t[e])+")");return r.join(",")}function w9(n){var r=n.getLayout(),t="";return(r===pr.XYZ||r===pr.XYZM)&&(t+=Hw),(r===pr.XYM||r===pr.XYZM)&&(t+=Xw),t}var O9={Point:Zw,LineString:C2,Polygon:$w,MultiPoint:_9,MultiLineString:x9,MultiPolygon:S9,GeometryCollection:E9};function Jw(n){var r=n.getType(),t=O9[r],e=t(n);if(r=r.toUpperCase(),typeof n.getFlatCoordinates=="function"){var i=w9(n);i.length>0&&(r+=" "+i)}return e.length===0?r+" "+Yw:r+"("+e+")"}var T9=m9,b9=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ya=[null,"http://www.opengis.net/wms"],C9=Ye(ya,{Service:te(K9),Capability:te(X9)}),L9=Ye(ya,{Request:te(eU),Exception:te(q9),Layer:te(Q9)}),A9=function(n){b9(r,n);function r(){var t=n.call(this)||this;return t.version=void 0,t}return r.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=ar({version:this.version},C9,t,[]);return e||null},r}(m2),R9=Ye(ya,{Name:te(ur),Title:te(ur),Abstract:te(ur),KeywordList:te(eO),OnlineResource:te(Gd),ContactInformation:te(Z9),Fees:te(ur),AccessConstraints:te(ur),LayerLimit:te(Fo),MaxWidth:te(Fo),MaxHeight:te(Fo)}),P9=Ye(ya,{ContactPersonPrimary:te($9),ContactPosition:te(ur),ContactAddress:te(J9),ContactVoiceTelephone:te(ur),ContactFacsimileTelephone:te(ur),ContactElectronicMailAddress:te(ur)}),M9=Ye(ya,{ContactPerson:te(ur),ContactOrganization:te(ur)}),I9=Ye(ya,{AddressType:te(ur),Address:te(ur),City:te(ur),StateOrProvince:te(ur),PostCode:te(ur),Country:te(ur)}),N9=Ye(ya,{Format:tn(ur)}),qw=Ye(ya,{Name:te(ur),Title:te(ur),Abstract:te(ur),KeywordList:te(eO),CRS:$i(ur),EX_GeographicBoundingBox:te(H9),BoundingBox:$i(Y9),Dimension:$i(tU),Attribution:te(W9),AuthorityURL:$i(iU),Identifier:$i(ur),MetadataURL:$i(oU),DataURL:$i(qu),FeatureListURL:$i(qu),Style:$i(aU),MinScaleDenominator:te(wi),MaxScaleDenominator:te(wi),Layer:$i(Qw)}),F9=Ye(ya,{Title:te(ur),OnlineResource:te(Gd),LogoURL:te(tO)}),j9=Ye(ya,{westBoundLongitude:te(wi),eastBoundLongitude:te(wi),southBoundLatitude:te(wi),northBoundLatitude:te(wi)}),D9=Ye(ya,{GetCapabilities:te(L2),GetMap:te(L2),GetFeatureInfo:te(L2)}),B9=Ye(ya,{Format:$i(ur),DCPType:$i(rU)}),G9=Ye(ya,{HTTP:te(nU)}),U9=Ye(ya,{Get:te(qu),Post:te(qu)}),k9=Ye(ya,{Name:te(ur),Title:te(ur),Abstract:te(ur),LegendURL:$i(tO),StyleSheetURL:te(qu),StyleURL:te(qu)}),z9=Ye(ya,{Format:te(ur),OnlineResource:te(Gd)}),V9=Ye(ya,{Keyword:tn(ur)});function W9(n,r){return ar({},F9,n,r)}function Y9(n,r){var t=[Zu(n.getAttribute("minx")),Zu(n.getAttribute("miny")),Zu(n.getAttribute("maxx")),Zu(n.getAttribute("maxy"))],e=[Zu(n.getAttribute("resx")),Zu(n.getAttribute("resy"))];return{crs:n.getAttribute("CRS"),extent:t,res:e}}function H9(n,r){var t=ar({},j9,n,r);if(!!t){var e=t.westBoundLongitude,i=t.southBoundLatitude,o=t.eastBoundLongitude,a=t.northBoundLatitude;if(!(e===void 0||i===void 0||o===void 0||a===void 0))return[e,i,o,a]}}function X9(n,r){return ar({},L9,n,r)}function K9(n,r){return ar({},R9,n,r)}function Z9(n,r){return ar({},P9,n,r)}function $9(n,r){return ar({},M9,n,r)}function J9(n,r){return ar({},I9,n,r)}function q9(n,r){return ar([],N9,n,r)}function Q9(n,r){var t=ar({},qw,n,r);return t.Layer===void 0?Object.assign(t,Qw(n,r)):t}function Qw(n,r){var t=r[r.length-1],e=ar({},qw,n,r);if(!!e){var i=lh(n.getAttribute("queryable"));i===void 0&&(i=t.queryable),e.queryable=i!==void 0?i:!1;var o=$u(n.getAttribute("cascaded"));o===void 0&&(o=t.cascaded),e.cascaded=o;var a=lh(n.getAttribute("opaque"));a===void 0&&(a=t.opaque),e.opaque=a!==void 0?a:!1;var s=lh(n.getAttribute("noSubsets"));s===void 0&&(s=t.noSubsets),e.noSubsets=s!==void 0?s:!1;var l=Zu(n.getAttribute("fixedWidth"));l||(l=t.fixedWidth),e.fixedWidth=l;var h=Zu(n.getAttribute("fixedHeight"));h||(h=t.fixedHeight),e.fixedHeight=h;var d=["Style","CRS","AuthorityURL"];d.forEach(function(w){if(w in t){var C=e[w]||[];e[w]=C.concat(t[w])}});var y=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return y.forEach(function(w){if(!(w in e)){var C=t[w];e[w]=C}}),e}}function tU(n,r){var t={name:n.getAttribute("name"),units:n.getAttribute("units"),unitSymbol:n.getAttribute("unitSymbol"),default:n.getAttribute("default"),multipleValues:lh(n.getAttribute("multipleValues")),nearestValue:lh(n.getAttribute("nearestValue")),current:lh(n.getAttribute("current")),values:ur(n)};return t}function qu(n,r){return ar({},z9,n,r)}function eU(n,r){return ar({},D9,n,r)}function rU(n,r){return ar({},G9,n,r)}function nU(n,r){return ar({},U9,n,r)}function L2(n,r){return ar({},B9,n,r)}function tO(n,r){var t=qu(n,r);if(t){var e=[$u(n.getAttribute("width")),$u(n.getAttribute("height"))];return t.size=e,t}}function iU(n,r){var t=qu(n,r);if(t)return t.name=n.getAttribute("name"),t}function oU(n,r){var t=qu(n,r);if(t)return t.type=n.getAttribute("type"),t}function aU(n,r){return ar({},k9,n,r)}function eO(n,r){return ar([],V9,n,r)}var sU=A9,lU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uU="_feature",cU="_layer",fU=function(n){lU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureNS_="http://mapserver.gis.umn.edu/mapserver",e.gmlFormat_=new jd,e.layers_=i.layers?i.layers:null,e}return r.prototype.getLayers=function(){return this.layers_},r.prototype.setLayers=function(t){this.layers_=t},r.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var i=t.localName,o=[];if(t.childNodes.length===0)return o;if(i=="msGMLOutput")for(var a=0,s=t.childNodes.length;a<s;a++){var l=t.childNodes[a];if(l.nodeType===Node.ELEMENT_NODE){var h=l,d=e[0],y=cU,w=h.localName.replace(y,"");if(!(this.layers_&&!Object(Sr.f)(this.layers_,w))){var C=w+uU;d.featureType=C,d.featureNS=this.featureNS_;var I={};I[C]=tn(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var G=Ye([d.featureNS,null],I);h.setAttribute("namespaceURI",this.featureNS_);var Z=ar([],G,h,e,this.gmlFormat_);Z&&Object(Sr.c)(o,Z)}}}if(i=="FeatureCollection"){var lt=ar([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);lt&&(o=lt)}return o},r.prototype.readFeaturesFromNode=function(t,e){var i={};return e&&Object(Pr.a)(i,this.getReadOptions(t,e)),this.readFeatures_(t,[i])},r}(wv),hU=fU,dU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tu=[null,"http://www.opengis.net/wmts/1.0"],Vd=[null,"http://www.opengis.net/ows/1.1"],pU=Ye(Tu,{Contents:te(bU)}),vU=function(n){dU(r,n);function r(){var t=n.call(this)||this;return t.owsParser_=new gw,t}return r.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var i=this.owsParser_.readFromNode(t);return i?(i.version=e,i=ar(i,pU,t,[]),i||null):null},r}(m2),gU=Ye(Tu,{Layer:$i(CU),TileMatrixSet:$i(LU)}),yU=Ye(Tu,{Style:$i(AU),Format:$i(ur),TileMatrixSetLink:$i(RU),Dimension:$i(PU),ResourceURL:$i(MU)},Ye(Vd,{Title:te(ur),Abstract:te(ur),WGS84BoundingBox:te(rO),Identifier:te(ur)})),mU=Ye(Tu,{LegendURL:$i(IU)},Ye(Vd,{Title:te(ur),Identifier:te(ur)})),_U=Ye(Tu,{TileMatrixSet:te(ur),TileMatrixSetLimits:te(FU)}),EU=Ye(Tu,{TileMatrixLimits:tn(jU)}),xU=Ye(Tu,{TileMatrix:te(ur),MinTileRow:te(Fo),MaxTileRow:te(Fo),MinTileCol:te(Fo),MaxTileCol:te(Fo)}),SU=Ye(Tu,{Default:te(ur),Value:$i(ur)},Ye(Vd,{Identifier:te(ur)})),wU=Ye(Vd,{LowerCorner:tn(A2),UpperCorner:tn(A2)}),OU=Ye(Tu,{WellKnownScaleSet:te(ur),TileMatrix:$i(NU)},Ye(Vd,{SupportedCRS:te(ur),Identifier:te(ur),BoundingBox:te(rO)})),TU=Ye(Tu,{TopLeftCorner:te(A2),ScaleDenominator:te(wi),TileWidth:te(Fo),TileHeight:te(Fo),MatrixWidth:te(Fo),MatrixHeight:te(Fo)},Ye(Vd,{Identifier:te(ur)}));function bU(n,r){return ar({},gU,n,r)}function CU(n,r){return ar({},yU,n,r)}function LU(n,r){return ar({},OU,n,r)}function AU(n,r){var t=ar({},mU,n,r);if(!!t){var e=n.getAttribute("isDefault")==="true";return t.isDefault=e,t}}function RU(n,r){return ar({},_U,n,r)}function PU(n,r){return ar({},SU,n,r)}function MU(n,r){var t=n.getAttribute("format"),e=n.getAttribute("template"),i=n.getAttribute("resourceType"),o={};return t&&(o.format=t),e&&(o.template=e),i&&(o.resourceType=i),o}function rO(n,r){var t=ar([],wU,n,r);if(t.length==2)return Rt(t)}function IU(n,r){var t={};return t.format=n.getAttribute("format"),t.href=Gd(n),t}function A2(n,r){var t=ur(n).split(/\s+/);if(!(!t||t.length!=2)){var e=+t[0],i=+t[1];if(!(isNaN(e)||isNaN(i)))return[e,i]}}function NU(n,r){return ar({},TU,n,r)}function FU(n,r){return ar([],EU,n,r)}function jU(n,r){return ar({},xU,n,r)}var DU=vU;function h0(n){if(h0.installed){console.error("OPENLAYERS MAP ALREADY INSTALLED");return}h0.installed=!0,n.use(A),n.use(j),n.use(U),n.use(P),n.use(B),n.use(X),n.use(W),n.use($),n.provide("ol-feature",Hr),n.provide("ol-geom",J),n.provide("ol-animations",m),n.provide("ol-format",nt),n.provide("ol-loadingstrategy",R),n.provide("ol-selectconditions",S),n.provide("ol-extent",g)}p.default=h0},fb6a:function(f,p,u){var g=u("23e7"),m=u("da84"),S=u("e8b5"),A=u("68ee"),R=u("861d"),j=u("23cb"),U=u("07fa"),P=u("fc6a"),B=u("8418"),X=u("b622"),W=u("1dde"),$=u("f36a"),J=W("slice"),nt=X("species"),Q=m.Array,St=Math.max;g({target:"Array",proto:!0,forced:!J},{slice:function(M,_t){var Lt=P(this),Nt=U(Lt),ct=j(M,Nt),Ut=j(_t===void 0?Nt:_t,Nt),mt,xt,Bt;if(S(Lt)&&(mt=Lt.constructor,A(mt)&&(mt===Q||S(mt.prototype))?mt=void 0:R(mt)&&(mt=mt[nt],mt===null&&(mt=void 0)),mt===Q||mt===void 0))return $(Lt,ct,Ut);for(xt=new(mt===void 0?Q:mt)(St(Ut-ct,0)),Bt=0;ct<Ut;ct++,Bt++)ct in Lt&&B(xt,Bt,Lt[ct]);return xt.length=Bt,xt}})},fc6a:function(f,p,u){var g=u("44ad"),m=u("1d80");f.exports=function(S){return g(m(S))}},fce3:function(f,p,u){var g=u("d039"),m=u("da84"),S=m.RegExp;f.exports=g(function(){var A=S(".","s");return!(A.dotAll&&A.exec(`
`)&&A.flags==="s")})},fdbc:function(f,p){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(f,p,u){var g=u("4930");f.exports=g&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})($b);var kH=SY($b.exports);export{TT as $,ig as A,k0 as B,tm as C,JO as D,tu as E,_a as F,Gv as G,Vz as H,wY as I,Uz as J,vb as K,UH as L,tg as M,xl as N,kH as O,gV as P,Qd as Q,cW as R,qd as S,GE as T,bT as U,ca as V,zz as W,z0 as X,GO as Y,Pz as Z,$U as _,jH as a,Nz as a0,sk as a1,lk as a2,EE as b,DH as c,pW as d,$v as e,Fz as f,xE as g,wz as h,eo as i,SE as j,BH as k,jz as l,kz as m,hW as n,X0 as o,Uv as p,Gz as q,Iz as r,rm as s,qU as t,GH as u,om as v,eE as w,U0 as x,Qv as y,sp as z};
