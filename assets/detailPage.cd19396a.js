import{_ as M,a as H,b as J}from"./NewTitle.3cfd487f.js";import{c as Q,_ as X}from"./cityData.92e1c3eb.js";import{s as Y,v as Z,r as m,o as $,g as u,l as tt,b as l,d as n,h,w as f,F as L,n as e,m as G,N as k,p as et,t as o,x as K,q as d}from"./vendor.8c8fa26e.js";import{_ as at,n as A,c as ot,d as st,e as lt,f as nt}from"./index.80d52bad.js";var ct="/vue3-TaiWalk/assets/pin.9036c2c7.svg";const it={setup(){const F=Y(),V=Z(),w=m([{path:"/",text:"\u9996\u9801"}]),t=m("\u4ECB\u7D39"),j=m(""),a=m({}),C=m({}),s=m(""),P=m([]);let D=[120.2816791,22.624677];const I=m("EPSG:4326"),O=m(15),W=m(0),E=m(D),U=m(D),T=async c=>{var i,x,y;w.value=[{path:"/",text:"\u9996\u9801"}];try{const g=await ot(c,s.value);a.value=g.data[0];let v=a.value.City;const p=Q.filter(R=>R.cityTW===v),N=[];v!==void 0&&(v=p[0].cityEN,s.value==="ScenicSpot"?(await st(v,4)).data.forEach(r=>{var b;const S={id:r.ScenicSpotID,title:r.ScenicSpotName,imageUrl:((b=r.Picture)==null?void 0:b.PictureUrl1)||A,address:r.Address};N.push(S)}):s.value==="Activity"?(await lt(v,4)).data.forEach(r=>{var b;const S={id:r.ActivityID,title:r.ActivityName,imageUrl:((b=r.Picture)==null?void 0:b.PictureUrl1)||A,address:r.Address};N.push(S)}):s.value==="Restaurant"&&(await nt(v,4)).data.forEach(r=>{var b;const S={id:r.RestaurantID,title:r.RestaurantName,imageUrl:((b=r.Picture)==null?void 0:b.PictureUrl1)||A,address:r.Address};N.push(S)})),P.value=N,j.value=a.value[s.value+"Name"],D=[Number(a.value.Position.PositionLon.toFixed(7)),Number(a.value.Position.PositionLat.toFixed(6))],E.value=D,U.value=D;const _={Name:a.value[s.value+"Name"],Picture:((i=a.value.Picture)==null?void 0:i.PictureUrl1)||A,Description:a.value.Description||"\u5C1A\u7121\u63CF\u8FF0",Phone:a.value.Phone||"\u5C1A\u7121\u96FB\u8A71\u8CC7\u8A0A",WebsiteUrl:a.value.WebsiteUrl||"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9",Class:B()};s.value==="Activity"?(_.StartTime=((x=a.value.StartTime)==null?void 0:x.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u958B\u59CB\u6642\u9593\u8CC7\u8A0A",_.EndTime=((y=a.value.EndTime)==null?void 0:y.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u7D50\u675F\u6642\u9593\u8CC7\u8A0A",_.Organizer=a.value.Organizer||"\u5C1A\u7121\u4E3B\u8FA6\u55AE\u4F4D\u8CC7\u8A0A",_.Address=a.value.Address||"\u5C1A\u7121\u6D3B\u52D5\u5730\u9EDE\u8CC7\u8A0A",_.Charge=a.value.Charge||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="ScenicSpot"?(_.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u958B\u653E\u6642\u9593\u8CC7\u8A0A",_.Address=a.value.Address||"\u5C1A\u7121\u666F\u9EDE\u5730\u5740\u8CC7\u8A0A",_.TicketInfo=a.value.TicketInfo||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="Restaurant"&&(_.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u71DF\u696D\u6642\u9593\u8CC7\u8A0A",_.Address=a.value.Address||"\u5C1A\u7121\u9910\u5EF3\u5730\u5740\u8CC7\u8A0A"),C.value=_,z(c)}catch(g){console.dir(g),console.dir("\u7121\u6B64\u9801\u9762\uFF0C\u5373\u5C07\u8DF3\u8F49\u56DE\u9996\u9801"),V.push("/")}},B=()=>{let c=[];return a.value.hasOwnProperty("Class")&&c.push(a.value.Class),a.value.hasOwnProperty("Class1")&&c.push(a.value.Class1),a.value.hasOwnProperty("Class2")&&c.push(a.value.Class2),a.value.hasOwnProperty("Class3")&&c.push(a.value.Class3),c=[...new Set(c)],c},z=c=>{const i={};s.value==="ScenicSpot"?(i.path="/scenicSpotSearch",i.text="\u63A2\u7D22\u666F\u9EDE"):s.value==="Activity"?(i.path="/activitySearch",i.text="\u7BC0\u6176\u6D3B\u52D5"):s.value==="Restaurant"&&(i.path="/restaurantSearch",i.text="\u54C1\u5690\u7F8E\u98DF"),w.value.push(i);const x=s.value+"Name",y=a.value[x];w.value.push({text:y,path:`/DetailPage/${c}`})};return $(()=>{let c=F.params.id,i=c.slice(0,2);i==="C1"?s.value="ScenicSpot":i==="C2"?s.value="Activity":i==="C3"&&(s.value="Restaurant"),T(c,s.value)}),{title:t,callDetailByIDApi:T,breadcrumbItem:w,showDetailData:C,categoryStr:s,breadcrumbLastStr:j,center:U,rotation:W,zoom:O,projection:I,coordinate:E,popCardData:P,noImg:A,icon:ct}}},rt={class:"mx-auto mt-[60px] mb-[120px] min-h-[80vh] max-w-[1110px] px-[15px]"},dt={class:"mb-[30px]"},_t={class:"h-[185px] overflow-hidden rounded-3xl md:h-[400px]"},ht=["src","alt","title"],mt={class:"mb-[60px]"},ut={class:"mb-4 text-4xl font-thin text-[#1E1E1E]"},pt={key:0,class:"mb-8 flex"},vt={class:"mb-[10px] text-xl font-bold"},bt={class:"text-lg font-thin"},Dt={class:"mb-[100px] grid grid-cols-1 gap-x-[30px] break-words md:grid-cols-2"},ft={class:"mb-4 rounded-xl bg-[#f9f9f9] p-[30px] text-[#2f2f2f] md:mb-0"},xt={key:0},yt={class:"mb-[14px]"},gt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u6642\u9593\uFF1A",-1),wt={class:"mb-[14px]"},St=e("span",{class:"font-bold"},"\u806F\u7D61\u96FB\u8A71\uFF1A",-1),kt={class:"mb-[14px]"},At=e("span",{class:"font-bold"},"\u4E3B\u8FA6\u55AE\u4F4D\uFF1A",-1),Ct={class:"mb-[14px]"},Pt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u5730\u9EDE\uFF1A",-1),Et={class:"mb-[14px]"},Ut=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Tt=["href"],Nt={key:1},Rt={class:"mb-[14px]"},jt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u8CBB\u7528\uFF1A",-1),It={class:"mb-[14px]"},Ot=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),Wt={key:1},Bt={class:"mb-[14px]"},zt=e("span",{class:"font-bold"},"\u71DF\u696D\u6642\u9593\uFF1A",-1),Lt={class:"mb-[14px]"},Ft=e("span",{class:"font-bold"},"\u9910\u5EF3\u96FB\u8A71\uFF1A",-1),Vt={class:"mb-[14px]"},qt=e("span",{class:"font-bold"},"\u9910\u5EF3\u5730\u5740\uFF1A",-1),Gt={class:"mb-[14px]"},Kt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Mt=["href"],Ht={key:1},Jt={key:2},Qt={class:"mb-[14px]"},Xt=e("span",{class:"font-bold"},"\u958B\u653E\u6642\u9593\uFF1A",-1),Yt={class:"mb-[14px]"},Zt=e("span",{class:"font-bold"},"\u670D\u52D9\u96FB\u8A71\uFF1A",-1),$t={class:"mb-[14px]"},te=e("span",{class:"font-bold"},"\u666F\u9EDE\u5730\u5740\uFF1A",-1),ee={class:"mb-[14px]"},ae=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),oe=["href"],se={key:1},le={class:"mb-[14px]"},ne=e("span",{class:"font-bold"},"\u7968\u50F9\u8CC7\u8A0A\uFF1A",-1),ce={class:"mb-[14px]"},ie=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),re={class:"overflow-hidden rounded-xl"},de={key:1},_e={key:0,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},he={key:1,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},me={key:2,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},ue={class:"grid grid-cols-2 gap-x-[30px] md:grid-cols-4"};function pe(F,V,w,t,j,a){const C=M,s=X,P=u("ol-view"),D=u("ol-zoom-control"),I=u("ol-source-osm"),O=u("ol-tile-layer"),W=u("ol-geom-point"),E=u("ol-style-icon"),U=u("ol-style"),T=u("ol-feature"),B=u("ol-source-vector"),z=u("ol-vector-layer"),c=u("ol-map"),i=J,x=H,y=tt("real-img");return l(),n(L,null,[h(C,{titleContent:t.title},null,8,["titleContent"]),h(x,null,{default:f(()=>{var g,v;return[e("main",rt,[t.breadcrumbItem.length>0?(l(),G(s,{key:0,class:"mb-[30px]","breadcrumb-li":t.breadcrumbItem,"last-item":t.breadcrumbLastStr},null,8,["breadcrumb-li","last-item"])):k("",!0),e("section",dt,[e("div",_t,[et(e("img",{class:"h-full w-full object-cover",src:t.showDetailData.Picture,alt:t.showDetailData.Picture,title:t.showDetailData.Name},null,8,ht),[[y,t.showDetailData.Picture]])])]),e("section",mt,[e("h2",ut,o(t.showDetailData.Name),1),((g=t.showDetailData.Class)==null?void 0:g.length)!==0?(l(),n("ul",pt,[(l(!0),n(L,null,K(t.showDetailData.Class,p=>(l(),n("li",{key:p,class:"mr-2 rounded-full border py-1 pl-2 pr-[10px] text-[#BEA363]"},o(p),1))),128))])):k("",!0),e("h3",vt,o(t.categoryStr==="Activity"?"\u6D3B\u52D5\u4ECB\u7D39\uFF1A":t.categoryStr==="Restaurant"?"\u9910\u5EF3\u4ECB\u7D39":t.categoryStr==="ScenicSpot"?"\u666F\u9EDE\u4ECB\u7D39":"\u4ECB\u7D39"),1),e("article",bt,o(t.showDetailData.Description),1)]),e("section",Dt,[e("div",ft,[t.categoryStr==="Activity"?(l(),n("div",xt,[e("p",yt,[gt,d(o(`${t.showDetailData.StartTime} - ${t.showDetailData.EndTime}`),1)]),e("p",wt,[St,d(o(t.showDetailData.Phone),1)]),e("p",kt,[At,d(o(t.showDetailData.Organizer),1)]),e("p",Ct,[Pt,d(o(t.showDetailData.Address),1)]),e("p",Et,[Ut,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,Tt)):(l(),n("span",Nt,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",Rt,[jt,d(o(t.showDetailData.Charge),1)]),e("p",It,[Ot,d(o(t.showDetailData.Remarks),1)])])):t.categoryStr==="Restaurant"?(l(),n("div",Wt,[e("p",Bt,[zt,d(o(`${t.showDetailData.OpenTime}`),1)]),e("p",Lt,[Ft,d(o(t.showDetailData.Phone),1)]),e("p",Vt,[qt,d(o(t.showDetailData.Address),1)]),e("p",Gt,[Kt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,Mt)):(l(),n("span",Ht,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))])])):t.categoryStr==="ScenicSpot"?(l(),n("div",Jt,[e("p",Qt,[Xt,d(o(`${t.showDetailData.OpenTime}`),1)]),e("p",Yt,[Zt,d(o(t.showDetailData.Phone),1)]),e("p",$t,[te,d(o(t.showDetailData.Address),1)]),e("p",ee,[ae,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,oe)):(l(),n("span",se,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",le,[ne,d(o(t.showDetailData.TicketInfo),1)]),e("p",ce,[ie,d(o(t.showDetailData.Remarks),1)])])):k("",!0)]),e("div",null,[e("div",re,[h(c,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"250px",width:"540px"}},{default:f(()=>[h(P,{ref:"view",center:t.center,rotation:t.rotation,zoom:t.zoom,projection:t.projection,coordinate:t.coordinate},null,8,["center","rotation","zoom","projection","coordinate"]),h(D),h(O,null,{default:f(()=>[h(I)]),_:1}),e("template",null,[h(z,null,{default:f(()=>[h(B,null,{default:f(()=>[h(T,null,{default:f(()=>[h(W,{coordinates:t.coordinate},null,8,["coordinates"]),h(U,null,{default:f(()=>[h(E,{src:t.icon,scale:1},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),((v=t.popCardData)==null?void 0:v.length)!==0?(l(),n("section",de,[t.categoryStr==="ScenicSpot"?(l(),n("h2",_e," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u666F\u9EDE ")):t.categoryStr==="Activity"?(l(),n("h2",he," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u6D3B\u52D5 ")):t.categoryStr==="Restaurant"?(l(),n("h2",me," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u7F8E\u98DF ")):k("",!0),e("ul",ue,[(l(!0),n(L,null,K(t.popCardData,p=>(l(),G(i,{key:p.id,id:p.id,title:p.title,imageUrl:p.imageUrl,address:p.address,onEmitUpdateDetailPage:t.callDetailByIDApi},null,8,["id","title","imageUrl","address","onEmitUpdateDetailPage"]))),128))])])):k("",!0)])]}),_:1})],64)}var xe=at(it,[["render",pe]]);export{xe as default};
