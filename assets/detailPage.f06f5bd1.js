import{e as J,g as K,f as M,i as q,_ as H,c as Q}from"./axios.5fb00f92.js";import{c as X,_ as Y}from"./cityData.96be0640.js";import{u as Z,e as h,A as $,r as m,f as tt,o,b as z,w as f,g as e,J as S,h as et,t as a,l as n,F as V,m as G,j as r,i as u}from"./vendor.50d0806d.js";import{_ as at,n as A}from"./index.79fe2d1e.js";var ot="/vue3-TaiWalk/assets/pin.9036c2c7.svg";const st={setup(){const L=Z(),y=h([{path:"/",text:"\u9996\u9801"}]),N=h(""),t=h({}),j=h({}),s=h(""),k=h([]);let b=[120.2816791,22.624677];const R=h("EPSG:4326"),I=h(15),O=h(0),P=h(b),C=h(b),E=async l=>{var c,D,x;y.value=[{path:"/",text:"\u9996\u9801"}];try{const g=await J(l,s.value);t.value=g.data[0];let p=t.value.City;const U=X.filter(T=>T.cityTW===p),d=[];p!==void 0&&(p=U[0].cityEN,s.value==="ScenicSpot"?(await K(p,4)).data.forEach(i=>{var v;const w={id:i.ScenicSpotID,title:i.ScenicSpotName,imageUrl:((v=i.Picture)==null?void 0:v.PictureUrl1)||A,address:i.Address};d.push(w)}):s.value==="Activity"?(await M(p,4)).data.forEach(i=>{var v;const w={id:i.ActivityID,title:i.ActivityName,imageUrl:((v=i.Picture)==null?void 0:v.PictureUrl1)||A,address:i.Address};d.push(w)}):s.value==="Restaurant"&&(await q(p,4)).data.forEach(i=>{var v;const w={id:i.RestaurantID,title:i.RestaurantName,imageUrl:((v=i.Picture)==null?void 0:v.PictureUrl1)||A,address:i.Address};d.push(w)})),k.value=d,N.value=t.value[s.value+"Name"],b=[Number(t.value.Position.PositionLon.toFixed(7)),Number(t.value.Position.PositionLat.toFixed(6))],P.value=b,C.value=b;const _={Name:t.value[s.value+"Name"],Picture:((c=t.value.Picture)==null?void 0:c.PictureUrl1)||A,Description:t.value.Description||"\u5C1A\u7121\u63CF\u8FF0",Phone:t.value.Phone||"\u5C1A\u7121\u96FB\u8A71\u8CC7\u8A0A",WebsiteUrl:t.value.WebsiteUrl||"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9",Class:W()};s.value==="Activity"?(_.StartTime=((D=t.value.StartTime)==null?void 0:D.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u958B\u59CB\u6642\u9593\u8CC7\u8A0A",_.EndTime=((x=t.value.EndTime)==null?void 0:x.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u7D50\u675F\u6642\u9593\u8CC7\u8A0A",_.Organizer=t.value.Organizer||"\u5C1A\u7121\u4E3B\u8FA6\u55AE\u4F4D\u8CC7\u8A0A",_.Address=t.value.Address||"\u5C1A\u7121\u6D3B\u52D5\u5730\u9EDE\u8CC7\u8A0A",_.Charge=t.value.Charge||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=t.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="ScenicSpot"?(_.OpenTime=t.value.OpenTime||"\u5C1A\u7121\u958B\u653E\u6642\u9593\u8CC7\u8A0A",_.Address=t.value.Address||"\u5C1A\u7121\u666F\u9EDE\u5730\u5740\u8CC7\u8A0A",_.TicketInfo=t.value.TicketInfo||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",_.Remarks=t.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="Restaurant"&&(_.OpenTime=t.value.OpenTime||"\u5C1A\u7121\u71DF\u696D\u6642\u9593\u8CC7\u8A0A",_.Address=t.value.Address||"\u5C1A\u7121\u9910\u5EF3\u5730\u5740\u8CC7\u8A0A"),j.value=_,B(l)}catch(g){console.dir(g)}},W=()=>{let l=[];return t.value.hasOwnProperty("Class")&&l.push(t.value.Class),t.value.hasOwnProperty("Class1")&&l.push(t.value.Class1),t.value.hasOwnProperty("Class2")&&l.push(t.value.Class2),t.value.hasOwnProperty("Class3")&&l.push(t.value.Class3),l=[...new Set(l)],l},B=l=>{const c={};s.value==="ScenicSpot"?(c.path="/scenicSpotSearch",c.text="\u63A2\u7D22\u666F\u9EDE"):s.value==="Activity"?(c.path="/activitySearch",c.text="\u7BC0\u6176\u6D3B\u52D5"):s.value==="Restaurant"&&(c.path="/restaurantSearch",c.text="\u54C1\u5690\u7F8E\u98DF"),y.value.push(c);const D=s.value+"Name",x=t.value[D];y.value.push({text:x,path:`/DetailPage/${l}`})};return $(()=>{let l=L.params.id,c=l.slice(0,2);c==="C1"?s.value="ScenicSpot":c==="C2"?s.value="Activity":c==="C3"&&(s.value="Restaurant"),E(l,s.value)}),{callDetailByIDApi:E,breadcrumbItem:y,showDetailData:j,categoryStr:s,breadcrumbLastStr:N,center:C,rotation:O,zoom:I,projection:R,coordinate:P,popCardData:k,noImg:A,icon:ot}}},lt={class:"mx-auto mt-[60px] mb-[120px] min-h-[80vh] max-w-[1110px] px-[15px]"},nt={class:"mb-[30px]"},ct={class:"h-[185px] overflow-hidden rounded-3xl md:h-[400px]"},it=["src","alt","title"],rt={class:"mb-[60px]"},dt={class:"mb-4 text-4xl font-thin text-[#1E1E1E]"},_t={key:0,class:"mb-8 flex"},ht={class:"mb-[10px] text-xl font-bold"},mt={class:"text-lg font-thin"},ut={class:"mb-[100px] grid grid-cols-1 gap-x-[30px] break-words md:grid-cols-2"},pt={class:"mb-4 rounded-xl bg-[#f9f9f9] p-[30px] text-[#2f2f2f] md:mb-0"},vt={key:0},bt={class:"mb-[14px]"},ft=e("span",{class:"font-bold"},"\u6D3B\u52D5\u6642\u9593\uFF1A",-1),Dt={class:"mb-[14px]"},xt=e("span",{class:"font-bold"},"\u806F\u7D61\u96FB\u8A71\uFF1A",-1),yt={class:"mb-[14px]"},gt=e("span",{class:"font-bold"},"\u4E3B\u8FA6\u55AE\u4F4D\uFF1A",-1),wt={class:"mb-[14px]"},St=e("span",{class:"font-bold"},"\u6D3B\u52D5\u5730\u9EDE\uFF1A",-1),At={class:"mb-[14px]"},kt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Pt=["href"],Ct={key:1},Et={class:"mb-[14px]"},Ut=e("span",{class:"font-bold"},"\u6D3B\u52D5\u8CBB\u7528\uFF1A",-1),Tt={class:"mb-[14px]"},Nt=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),jt={key:1},Rt={class:"mb-[14px]"},It=e("span",{class:"font-bold"},"\u71DF\u696D\u6642\u9593\uFF1A",-1),Ot={class:"mb-[14px]"},Wt=e("span",{class:"font-bold"},"\u9910\u5EF3\u96FB\u8A71\uFF1A",-1),Bt={class:"mb-[14px]"},zt=e("span",{class:"font-bold"},"\u9910\u5EF3\u5730\u5740\uFF1A",-1),Lt={class:"mb-[14px]"},Ft=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Vt=["href"],Gt={key:1},Jt={key:2},Kt={class:"mb-[14px]"},Mt=e("span",{class:"font-bold"},"\u958B\u653E\u6642\u9593\uFF1A",-1),qt={class:"mb-[14px]"},Ht=e("span",{class:"font-bold"},"\u670D\u52D9\u96FB\u8A71\uFF1A",-1),Qt={class:"mb-[14px]"},Xt=e("span",{class:"font-bold"},"\u666F\u9EDE\u5730\u5740\uFF1A",-1),Yt={class:"mb-[14px]"},Zt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),$t=["href"],te={key:1},ee={class:"mb-[14px]"},ae=e("span",{class:"font-bold"},"\u7968\u50F9\u8CC7\u8A0A\uFF1A",-1),oe={class:"mb-[14px]"},se=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),le={class:"overflow-hidden rounded-xl"},ne={key:1},ce={key:0,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},ie={key:1,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},re={key:2,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},de={class:"grid grid-cols-2 gap-x-[30px] md:grid-cols-4"};function _e(L,y,N,t,j,s){const k=Y,b=m("ol-view"),R=m("ol-zoom-control"),I=m("ol-source-osm"),O=m("ol-tile-layer"),P=m("ol-geom-point"),C=m("ol-style-icon"),E=m("ol-style"),W=m("ol-feature"),B=m("ol-source-vector"),l=m("ol-vector-layer"),c=m("ol-map"),D=Q,x=H,g=tt("real-img");return o(),z(x,null,{default:f(()=>{var p,U;return[e("main",lt,[t.breadcrumbItem.length>0?(o(),z(k,{key:0,class:"mb-[30px]","breadcrumb-li":t.breadcrumbItem,"last-item":t.breadcrumbLastStr},null,8,["breadcrumb-li","last-item"])):S("",!0),e("section",nt,[e("div",ct,[et(e("img",{class:"h-full w-full object-cover",src:t.showDetailData.Picture,alt:t.showDetailData.Picture,title:t.showDetailData.Name},null,8,it),[[g,t.showDetailData.Picture]])])]),e("section",rt,[e("h2",dt,a(t.showDetailData.Name),1),((p=t.showDetailData.Class)==null?void 0:p.length)!==0?(o(),n("ul",_t,[(o(!0),n(V,null,G(t.showDetailData.Class,d=>(o(),n("li",{key:d,class:"mr-2 rounded-full border py-1 pl-2 pr-[10px] text-[#BEA363]"},a(d),1))),128))])):S("",!0),e("h3",ht,a(t.categoryStr==="Activity"?"\u6D3B\u52D5\u4ECB\u7D39\uFF1A":t.categoryStr==="Restaurant"?"\u9910\u5EF3\u4ECB\u7D39":t.categoryStr==="ScenicSpot"?"\u666F\u9EDE\u4ECB\u7D39":"\u4ECB\u7D39"),1),e("article",mt,a(t.showDetailData.Description),1)]),e("section",ut,[e("div",pt,[t.categoryStr==="Activity"?(o(),n("div",vt,[e("p",bt,[ft,r(a(`${t.showDetailData.StartTime} - ${t.showDetailData.EndTime}`),1)]),e("p",Dt,[xt,r(a(t.showDetailData.Phone),1)]),e("p",yt,[gt,r(a(t.showDetailData.Organizer),1)]),e("p",wt,[St,r(a(t.showDetailData.Address),1)]),e("p",At,[kt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(o(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},a(t.showDetailData.WebsiteUrl),9,Pt)):(o(),n("span",Ct,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",Et,[Ut,r(a(t.showDetailData.Charge),1)]),e("p",Tt,[Nt,r(a(t.showDetailData.Remarks),1)])])):t.categoryStr==="Restaurant"?(o(),n("div",jt,[e("p",Rt,[It,r(a(`${t.showDetailData.OpenTime}`),1)]),e("p",Ot,[Wt,r(a(t.showDetailData.Phone),1)]),e("p",Bt,[zt,r(a(t.showDetailData.Address),1)]),e("p",Lt,[Ft,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(o(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},a(t.showDetailData.WebsiteUrl),9,Vt)):(o(),n("span",Gt,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))])])):t.categoryStr==="ScenicSpot"?(o(),n("div",Jt,[e("p",Kt,[Mt,r(a(`${t.showDetailData.OpenTime}`),1)]),e("p",qt,[Ht,r(a(t.showDetailData.Phone),1)]),e("p",Qt,[Xt,r(a(t.showDetailData.Address),1)]),e("p",Yt,[Zt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(o(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},a(t.showDetailData.WebsiteUrl),9,$t)):(o(),n("span",te,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",ee,[ae,r(a(t.showDetailData.TicketInfo),1)]),e("p",oe,[se,r(a(t.showDetailData.Remarks),1)])])):S("",!0)]),e("div",null,[e("div",le,[u(c,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"250px",width:"540px"}},{default:f(()=>[u(b,{ref:"view",center:t.center,rotation:t.rotation,zoom:t.zoom,projection:t.projection,coordinate:t.coordinate},null,8,["center","rotation","zoom","projection","coordinate"]),u(R),u(O,null,{default:f(()=>[u(I)]),_:1}),e("template",null,[u(l,null,{default:f(()=>[u(B,null,{default:f(()=>[u(W,null,{default:f(()=>[u(P,{coordinates:t.coordinate},null,8,["coordinates"]),u(E,null,{default:f(()=>[u(C,{src:t.icon,scale:1},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),((U=t.popCardData)==null?void 0:U.length)!==0?(o(),n("section",ne,[t.categoryStr==="ScenicSpot"?(o(),n("h2",ce," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u666F\u9EDE ")):t.categoryStr==="Activity"?(o(),n("h2",ie," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u6D3B\u52D5 ")):t.categoryStr==="Restaurant"?(o(),n("h2",re," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u7F8E\u98DF ")):S("",!0),e("ul",de,[(o(!0),n(V,null,G(t.popCardData,d=>(o(),z(D,{key:d.id,id:d.id,title:d.title,imageUrl:d.imageUrl,address:d.address,onEmitUpdateDetailPage:t.callDetailByIDApi},null,8,["id","title","imageUrl","address","onEmitUpdateDetailPage"]))),128))])])):S("",!0)])]}),_:1})}var ve=at(st,[["render",_e]]);export{ve as default};
