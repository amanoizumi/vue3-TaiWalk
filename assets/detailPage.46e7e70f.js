import{_ as J,a as M,b as H}from"./NewTitle.fcd5e624.js";import{c as Q,_ as X}from"./cityData.3272318f.js";import{J as Y,s as Z,k as u,o as $,r as p,l as tt,b as l,d as n,g as m,w as b,F as L,n as e,m as q,N as C,p as et,K as at,t as o,v as G,q as d}from"./vendor.ef0c7431.js";import{_ as ot,n as k,c as st,d as lt,e as nt,f as ct}from"./index.7822290f.js";var it="/vue3-TaiWalk/assets/pin.9036c2c7.svg";const rt={setup(){const F=Y(),V=Z(),w=u([{path:"/",text:"\u9996\u9801"}]),t=u("\u4ECB\u7D39"),j=u(""),a=u({}),A=u({}),s=u(""),P=u([]);let f=[120.2816791,22.624677];const I=u("EPSG:4326"),O=u(15),W=u(0),E=u(f),U=u(f),T=async c=>{var i,x,y;w.value=[{path:"/",text:"\u9996\u9801"}];try{const g=await st(c,s.value);a.value=g.data[0];let v=a.value.City;const N=Q.filter(R=>R.cityTW===v),_=[];v!==void 0&&(v=N[0].cityEN,s.value==="ScenicSpot"?(await lt(v,4)).data.forEach(r=>{var D;const S={id:r.ScenicSpotID,title:r.ScenicSpotName,imageUrl:((D=r.Picture)==null?void 0:D.PictureUrl1)||k,address:r.Address};_.push(S)}):s.value==="Activity"?(await nt(v,4)).data.forEach(r=>{var D;const S={id:r.ActivityID,title:r.ActivityName,imageUrl:((D=r.Picture)==null?void 0:D.PictureUrl1)||k,address:r.Address};_.push(S)}):s.value==="Restaurant"&&(await ct(v,4)).data.forEach(r=>{var D;const S={id:r.RestaurantID,title:r.RestaurantName,imageUrl:((D=r.Picture)==null?void 0:D.PictureUrl1)||k,address:r.Address};_.push(S)})),P.value=_,j.value=a.value[s.value+"Name"],f=[Number(a.value.Position.PositionLon.toFixed(7)),Number(a.value.Position.PositionLat.toFixed(6))],E.value=f,U.value=f;const h={Name:a.value[s.value+"Name"],Picture:((i=a.value.Picture)==null?void 0:i.PictureUrl1)||k,Description:a.value.Description||"\u5C1A\u7121\u63CF\u8FF0",Phone:a.value.Phone||"\u5C1A\u7121\u96FB\u8A71\u8CC7\u8A0A",WebsiteUrl:a.value.WebsiteUrl||"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9",Class:B()};s.value==="Activity"?(h.StartTime=((x=a.value.StartTime)==null?void 0:x.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u958B\u59CB\u6642\u9593\u8CC7\u8A0A",h.EndTime=((y=a.value.EndTime)==null?void 0:y.slice(0,10))||"\u5C1A\u7121\u6D3B\u52D5\u7D50\u675F\u6642\u9593\u8CC7\u8A0A",h.Organizer=a.value.Organizer||"\u5C1A\u7121\u4E3B\u8FA6\u55AE\u4F4D\u8CC7\u8A0A",h.Address=a.value.Address||"\u5C1A\u7121\u6D3B\u52D5\u5730\u9EDE\u8CC7\u8A0A",h.Charge=a.value.Charge||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",h.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="ScenicSpot"?(h.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u958B\u653E\u6642\u9593\u8CC7\u8A0A",h.Address=a.value.Address||"\u5C1A\u7121\u666F\u9EDE\u5730\u5740\u8CC7\u8A0A",h.TicketInfo=a.value.TicketInfo||"\u5C1A\u7121\u7968\u50F9\u8CC7\u8A0A",h.Remarks=a.value.Remarks||"\u7121\u6CE8\u610F\u4E8B\u9805"):s.value==="Restaurant"&&(h.OpenTime=a.value.OpenTime||"\u5C1A\u7121\u71DF\u696D\u6642\u9593\u8CC7\u8A0A",h.Address=a.value.Address||"\u5C1A\u7121\u9910\u5EF3\u5730\u5740\u8CC7\u8A0A"),A.value=h,z(c)}catch(g){console.dir(g),console.dir("\u7121\u6B64\u9801\u9762\uFF0C\u5373\u5C07\u8DF3\u8F49\u56DE\u9996\u9801"),V.push("/")}},B=()=>{let c=[];return a.value.hasOwnProperty("Class")&&c.push(a.value.Class),a.value.hasOwnProperty("Class1")&&c.push(a.value.Class1),a.value.hasOwnProperty("Class2")&&c.push(a.value.Class2),a.value.hasOwnProperty("Class3")&&c.push(a.value.Class3),c=[...new Set(c)],c},z=c=>{const i={};s.value==="ScenicSpot"?(i.path="/scenicSpotSearch",i.text="\u63A2\u7D22\u666F\u9EDE"):s.value==="Activity"?(i.path="/activitySearch",i.text="\u7BC0\u6176\u6D3B\u52D5"):s.value==="Restaurant"&&(i.path="/restaurantSearch",i.text="\u54C1\u5690\u7F8E\u98DF"),w.value.push(i);const x=s.value+"Name",y=a.value[x];w.value.push({text:y,path:`/DetailPage/${c}`})};return $(()=>{let c=F.params.id,i=c.slice(0,2);i==="C1"?s.value="ScenicSpot":i==="C2"?s.value="Activity":i==="C3"&&(s.value="Restaurant"),T(c,s.value)}),{title:t,callDetailByIDApi:T,breadcrumbItem:w,showDetailData:A,categoryStr:s,breadcrumbLastStr:j,center:U,rotation:W,zoom:O,projection:I,coordinate:E,popCardData:P,noImg:k,icon:it}}},dt={class:"mx-auto mt-[60px] mb-[120px] min-h-[80vh] max-w-[1110px] px-[15px]"},_t={class:"mb-[30px]"},ht={class:"h-[250px] overflow-hidden rounded-3xl bg-[#CCD5CA] md:h-[400px] flex justify-center"},mt=["src","alt","title"],ut={class:"mb-[60px]"},pt={class:"mb-4 text-4xl font-thin text-[#1E1E1E]"},vt={key:0,class:"mb-8 flex"},Dt={class:"mb-[10px] text-xl font-bold"},ft={class:"text-lg font-thin"},bt={class:"mb-[100px] grid grid-cols-1 gap-x-[30px] break-words md:grid-cols-2"},xt={class:"mb-4 rounded-xl bg-[#f9f9f9] p-[30px] text-[#2f2f2f] md:mb-0"},yt={key:0},gt={class:"mb-[14px]"},wt=e("span",{class:"font-bold"},"\u6D3B\u52D5\u6642\u9593\uFF1A",-1),St={class:"mb-[14px]"},Ct=e("span",{class:"font-bold"},"\u806F\u7D61\u96FB\u8A71\uFF1A",-1),kt={class:"mb-[14px]"},At=e("span",{class:"font-bold"},"\u4E3B\u8FA6\u55AE\u4F4D\uFF1A",-1),Pt={class:"mb-[14px]"},Et=e("span",{class:"font-bold"},"\u6D3B\u52D5\u5730\u9EDE\uFF1A",-1),Ut={class:"mb-[14px]"},Tt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Nt=["href"],Rt={key:1},jt={class:"mb-[14px]"},It=e("span",{class:"font-bold"},"\u6D3B\u52D5\u8CBB\u7528\uFF1A",-1),Ot={class:"mb-[14px]"},Wt=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),Bt={key:1},zt={class:"mb-[14px]"},Lt=e("span",{class:"font-bold"},"\u71DF\u696D\u6642\u9593\uFF1A",-1),Ft={class:"mb-[14px]"},Vt=e("span",{class:"font-bold"},"\u9910\u5EF3\u96FB\u8A71\uFF1A",-1),Kt={class:"mb-[14px]"},qt=e("span",{class:"font-bold"},"\u9910\u5EF3\u5730\u5740\uFF1A",-1),Gt={class:"mb-[14px]"},Jt=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),Mt=["href"],Ht={key:1},Qt={key:2},Xt={class:"mb-[14px]"},Yt=e("span",{class:"font-bold"},"\u958B\u653E\u6642\u9593\uFF1A",-1),Zt={class:"mb-[14px]"},$t=e("span",{class:"font-bold"},"\u670D\u52D9\u96FB\u8A71\uFF1A",-1),te={class:"mb-[14px]"},ee=e("span",{class:"font-bold"},"\u666F\u9EDE\u5730\u5740\uFF1A",-1),ae={class:"mb-[14px]"},oe=e("span",{class:"font-bold"},"\u5B98\u65B9\u7DB2\u7AD9\uFF1A",-1),se=["href"],le={key:1},ne={class:"mb-[14px]"},ce=e("span",{class:"font-bold"},"\u7968\u50F9\u8CC7\u8A0A\uFF1A",-1),ie={class:"mb-[14px]"},re=e("span",{class:"font-bold"},"\u6CE8\u610F\u4E8B\u9805\uFF1A",-1),de={class:"overflow-hidden rounded-xl"},_e={key:1},he={key:0,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},me={key:1,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},ue={key:2,class:"mb-4 text-2xl font-thin text-[#1E1E1E] md:text-4xl"},pe={class:"grid grid-cols-2 gap-x-[30px] md:grid-cols-4"};function ve(F,V,w,t,j,a){const A=J,s=X,P=p("ol-view"),f=p("ol-zoom-control"),I=p("ol-source-osm"),O=p("ol-tile-layer"),W=p("ol-geom-point"),E=p("ol-style-icon"),U=p("ol-style"),T=p("ol-feature"),B=p("ol-source-vector"),z=p("ol-vector-layer"),c=p("ol-map"),i=H,x=M,y=tt("real-img");return l(),n(L,null,[m(A,{titleContent:t.title},null,8,["titleContent"]),m(x,null,{default:b(()=>{var g,v,N;return[e("main",dt,[t.breadcrumbItem.length>0?(l(),q(s,{key:0,class:"mb-[30px]","breadcrumb-li":t.breadcrumbItem,"last-item":t.breadcrumbLastStr},null,8,["breadcrumb-li","last-item"])):C("",!0),e("section",_t,[e("div",ht,[et(e("img",{class:at(["w-30 object-cover",{"w-full":((g=t.showDetailData.Picture)==null?void 0:g.split("/").pop())!=="no_image.png"}]),src:t.showDetailData.Picture,alt:t.showDetailData.Picture,title:t.showDetailData.Name},null,10,mt),[[y,t.showDetailData.Picture]])])]),e("section",ut,[e("h2",pt,o(t.showDetailData.Name),1),((v=t.showDetailData.Class)==null?void 0:v.length)!==0?(l(),n("ul",vt,[(l(!0),n(L,null,G(t.showDetailData.Class,_=>(l(),n("li",{key:_,class:"mr-2 rounded-full border py-1 pl-2 pr-[10px] text-[#BEA363]"},o(_),1))),128))])):C("",!0),e("h3",Dt,o(t.categoryStr==="Activity"?"\u6D3B\u52D5\u4ECB\u7D39\uFF1A":t.categoryStr==="Restaurant"?"\u9910\u5EF3\u4ECB\u7D39":t.categoryStr==="ScenicSpot"?"\u666F\u9EDE\u4ECB\u7D39":"\u4ECB\u7D39"),1),e("article",ft,o(t.showDetailData.Description),1)]),e("section",bt,[e("div",xt,[t.categoryStr==="Activity"?(l(),n("div",yt,[e("p",gt,[wt,d(o(`${t.showDetailData.StartTime} - ${t.showDetailData.EndTime}`),1)]),e("p",St,[Ct,d(o(t.showDetailData.Phone),1)]),e("p",kt,[At,d(o(t.showDetailData.Organizer),1)]),e("p",Pt,[Et,d(o(t.showDetailData.Address),1)]),e("p",Ut,[Tt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,Nt)):(l(),n("span",Rt,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",jt,[It,d(o(t.showDetailData.Charge),1)]),e("p",Ot,[Wt,d(o(t.showDetailData.Remarks),1)])])):t.categoryStr==="Restaurant"?(l(),n("div",Bt,[e("p",zt,[Lt,d(o(t.showDetailData.OpenTime),1)]),e("p",Ft,[Vt,d(o(t.showDetailData.Phone),1)]),e("p",Kt,[qt,d(o(t.showDetailData.Address),1)]),e("p",Gt,[Jt,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,Mt)):(l(),n("span",Ht,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))])])):t.categoryStr==="ScenicSpot"?(l(),n("div",Qt,[e("p",Xt,[Yt,d(o(`${t.showDetailData.OpenTime}`),1)]),e("p",Zt,[$t,d(o(t.showDetailData.Phone),1)]),e("p",te,[ee,d(o(t.showDetailData.Address),1)]),e("p",ae,[oe,t.showDetailData.WebsiteUrl!=="\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"?(l(),n("a",{key:0,class:"hover:text-orange-600",href:t.showDetailData.WebsiteUrl},o(t.showDetailData.WebsiteUrl),9,se)):(l(),n("span",le,"\u5C1A\u7121\u63D0\u4F9B\u7DB2\u7AD9"))]),e("p",ne,[ce,d(o(t.showDetailData.TicketInfo),1)]),e("p",ie,[re,d(o(t.showDetailData.Remarks),1)])])):C("",!0)]),e("div",null,[e("div",de,[m(c,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"250px",width:"540px"}},{default:b(()=>[m(P,{ref:"view",center:t.center,rotation:t.rotation,zoom:t.zoom,projection:t.projection,coordinate:t.coordinate},null,8,["center","rotation","zoom","projection","coordinate"]),m(f),m(O,null,{default:b(()=>[m(I)]),_:1}),e("template",null,[m(z,null,{default:b(()=>[m(B,null,{default:b(()=>[m(T,null,{default:b(()=>[m(W,{coordinates:t.coordinate},null,8,["coordinates"]),m(U,null,{default:b(()=>[m(E,{src:t.icon,scale:1},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),((N=t.popCardData)==null?void 0:N.length)!==0?(l(),n("section",_e,[t.categoryStr==="ScenicSpot"?(l(),n("h2",he," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u666F\u9EDE ")):t.categoryStr==="Activity"?(l(),n("h2",me," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u6D3B\u52D5 ")):t.categoryStr==="Restaurant"?(l(),n("h2",ue," \u9084\u6709\u9019\u4E9B\u4E0D\u80FD\u932F\u904E\u7684\u7F8E\u98DF ")):C("",!0),e("ul",pe,[(l(!0),n(L,null,G(t.popCardData,_=>(l(),q(i,{key:_.id,id:_.id,title:_.title,imageUrl:_.imageUrl,address:_.address,onEmitUpdateDetailPage:t.callDetailByIDApi},null,8,["id","title","imageUrl","address","onEmitUpdateDetailPage"]))),128))])])):C("",!0)])]}),_:1})],64)}var ye=ot(rt,[["render",ve]]);export{ye as default};
